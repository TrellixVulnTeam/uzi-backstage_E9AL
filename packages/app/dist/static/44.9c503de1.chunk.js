(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{2788:function(e,t,a){"use strict";a.r(t),a.d(t,"SystemDiagramCard",(function(){return k}));var n=a(28),o=a(3),r=a(12),c=a(39),i=a(52),l=a(18),d=a(0),s=a.n(d),m=a(73),b=a(3247),p=a.n(b);const u=Object(c.a)(e=>({domainNode:{fill:e.palette.primary.main,stroke:e.palette.border},systemNode:{fill:"coral",stroke:e.palette.border},componentNode:{fill:"yellowgreen",stroke:e.palette.border},apiNode:{fill:e.palette.gold,stroke:e.palette.border},resourceNode:{fill:"grey",stroke:e.palette.border}}));function f(e){return Object(n.w)(e).toLocaleLowerCase("en-US").replace(`:${n.b}/`,":").split(":")[1]}function h(e){const t=u(),a=Object(o.Db)(r.i),c=e.node.kind||"Component",i=Object(n.t)(e.node.id);let l=t.componentNode;switch(c){case"Domain":l=t.domainNode;break;case"System":l=t.systemNode;break;case"Component":l=t.componentNode;break;case"API":l=t.apiNode;break;case"Resource":l=t.resourceNode;break;default:l=t.componentNode}return s.a.createElement("g",null,s.a.createElement("rect",{width:200,height:100,rx:20,className:l}),s.a.createElement(o.w,{to:a({kind:c,namespace:i.namespace,name:i.name})},s.a.createElement("text",{x:100,y:45,textAnchor:"middle",alignmentBaseline:"baseline",style:{fontWeight:"bold"}},e.node.name)),s.a.createElement("text",{x:100,y:65,textAnchor:"middle",alignmentBaseline:"hanging"},e.node.kind))}function k(){const{entity:e}=Object(r.n)(),t=e.metadata.name,a=Object(n.w)(e),c=new Array,d=new Array,b=Object(o.Ab)(r.e),{loading:u,error:k,value:O}=Object(m.a)(()=>b.getEntities({filter:{kind:["Component","API","Resource","System","Domain"],"spec.system":[t,`${n.b}/${t}`]}}),[b,t]);c.push({id:a,kind:"System",name:f(e)});const w=Object(r.k)(e,n.n,{kind:"Domain"});if(w.forEach(e=>c.push({id:Object(n.w)(e),kind:e.kind,name:f(e)})),w.forEach(e=>d.push({from:a,to:Object(n.w)(e),label:"part of"})),O&&O.items)for(const e of O.items){c.push({id:Object(n.w)(e),kind:e.kind,name:f(e)});Object(r.k)(e,n.n).forEach(t=>d.push({from:Object(n.w)(e),to:Object(n.w)(t),label:"part of"}));Object(r.k)(e,n.o).forEach(t=>d.push({from:Object(n.w)(e),to:Object(n.w)(t),label:"provides"}));Object(r.k)(e,n.i).forEach(t=>d.push({from:Object(n.w)(e),to:Object(n.w)(t),label:"depends on"}))}return u?s.a.createElement(o.C,null):k?s.a.createElement(o.D,{error:k}):s.a.createElement(o.s,{title:"System Diagram"},s.a.createElement(o.i,{nodes:c,edges:d,nodeMargin:10,direction:o.j.Direction.BOTTOM_TOP,renderNode:h}),s.a.createElement(i.a,{m:1}),s.a.createElement(l.a,{variant:"caption",style:{display:"block",textAlign:"right"}},s.a.createElement(p.a,{style:{verticalAlign:"bottom"}})," Use pinch & zoom to move around the diagram."))}},3247:function(e,t,a){"use strict";var n=a(17),o=a(22);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(a(0)),c=(0,n(a(26)).default)(r.createElement("path",{d:"M15 3l2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3h-6zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3v6zm6 12l-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6h6zm12-6l-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6v-6z"}),"ZoomOutMap");t.default=c}}]);
//# sourceMappingURL=44.9c503de1.chunk.js.map