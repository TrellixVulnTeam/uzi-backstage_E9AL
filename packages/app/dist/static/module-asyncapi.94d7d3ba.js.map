{"version":3,"sources":["webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/constants.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/iterators.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/mixins/specification-extensions.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/index.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/openapi-schema-parser/index.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/avro-schema-parser/index.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/mixins/description.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/index.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/helpers/index.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/helpers/parse_link_label.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/helpers/parse_link_destination.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/helpers/parse_link_title.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/renderer.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/parser_core.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/rules_core/normalize.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/rules_core/block.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/rules_core/inline.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/rules_core/linkify.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/rules_core/replacements.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/rules_core/smartquotes.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/rules_core/state_core.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/parser_block.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/rules_block/table.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/rules_block/code.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/rules_block/fence.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/rules_block/blockquote.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/rules_block/hr.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/rules_block/list.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/rules_block/reference.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/rules_block/heading.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/rules_block/lheading.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/rules_block/html_block.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/common/html_blocks.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/rules_block/paragraph.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/rules_block/state_block.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/parser_inline.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/rules_inline/text.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/rules_inline/newline.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/rules_inline/escape.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/rules_inline/backticks.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/rules_inline/link.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/rules_inline/image.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/rules_inline/autolink.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/rules_inline/html_inline.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/rules_inline/entity.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/rules_inline/balance_pairs.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/rules_inline/text_collapse.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/rules_inline/state_inline.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/linkify-it/index.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/linkify-it/lib/re.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/presets/default.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/presets/zero.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/presets/commonmark.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/parser.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/customValidators.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/json-parse.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/models/asyncapi.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/models/info.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/models/license.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/models/contact.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/models/server.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/models/server-variable.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/models/server-security-requirement.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/models/channel.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/models/external-docs.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/models/publish-operation.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/models/tag.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/models/subscribe-operation.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/models/components.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/models/security-scheme.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/models/oauth-flow.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/models/operation-trait.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/models/message-trait.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/anonymousNaming.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/asyncapiSchemaFormatParser.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/avro-schema-parser/to-json-schema.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/errors/parser-error.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/mixins/external-docs.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/index.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/common/utils.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/mixins/bindings.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/models/schema.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/types.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/config/default.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/helpers/renderMarkdown.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/helpers/beautifier.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/constants.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/helpers/toKebabCase.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/helpers/bemClasses.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/helpers/createNestedClassName.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/helpers/extractHashData.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/helpers/removeSpecialChars.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/helpers/scrollIntoViewOfAnchor.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/helpers/searchForNestedObject.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/helpers/inContainer.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/helpers/stateHelpers.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/helpers/bindingsHelpers.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/helpers/parser.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/helpers/getExamplesFromSpec.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/store/useExpandedState.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/react-use/esm/util.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/react-use/esm/useLocation.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/components/Badge.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/store/useChangeHash.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/components/Code.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/components/TableHeader.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/components/TableRow.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/components/Table.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/components/Href.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/components/Markdown.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/containers/AsyncApi/AsyncApi.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/components/Tree.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/components/Toggle.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/components/CollapseButton.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/containers/Error/Error.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/containers/Info/TermsOfService.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/containers/Info/License.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/containers/Info/Contact.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/containers/Info/DefaultContentType.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/containers/Info/Info.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/containers/Schemas/SchemaProperties.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/containers/Schemas/SchemaExample.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/helpers/generateExampleSchema.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/containers/Schemas/Schema.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/containers/Messages/Payload.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/containers/Bindings/BindingField.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/containers/Bindings/Binding.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/containers/Bindings/Bindings.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/containers/Messages/Message.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/containers/Messages/Messages.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/containers/Channels/Operation.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/containers/Channels/Parameter.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/containers/Channels/Parameters.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/containers/Channels/Channel.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/containers/Channels/Channels.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/containers/Servers/Variables.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/containers/Servers/Scopes.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/containers/Servers/Flow.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/containers/Servers/Flows.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/containers/Servers/SecurityItem.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/containers/Servers/Security.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/containers/Servers/Server.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/containers/Servers/Servers.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/containers/Schemas/Schemas.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/lib/index.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/ruler.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/token.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/utils.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/mixins/tags.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/models/utils.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/models/base.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/common/entities.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/common/html_re.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/rules_inline/strikethrough.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/react-component/node_modules/markdown-it/lib/rules_inline/emphasis.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/specs/index.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/models/channel-parameter.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/models/operation.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/models/operation-traitable.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/models/message.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/models/message-traitable.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@asyncapi/parser/lib/models/correlation-id.js"],"names":["module","exports","xParserSpecParsed","xParserMessageName","xParserSchemaId","xParserCircle","xParserCircleProps","SchemaIteratorCallbackType","Object","freeze","NEW_SCHEMA","END_SCHEMA","SchemaTypesToIterate","parameters","payloads","headers","components","objects","arrays","oneOfs","allOfs","anyOfs","traverseSchema","schema","callback","prop","schemaTypesToIterate","includes","type","isCircular","undefined","recursiveSchemaObject","recursiveSchemaArray","checkCombiningSchemas","combineArray","forEach","combineSchema","allOf","anyOf","oneOf","traverseCombinedSchemas","traverseChannel","channel","values","p","hasPublish","publish","messages","m","traverseMessage","hasSubscribe","subscribe","message","payload","additionalProperties","properties","props","propertySchema","entries","circularProps","additionalItems","items","Array","isArray","arraySchema","traverseAsyncApiDocument","doc","hasChannels","channelNames","channelName","hasComponents","schemas","s","MixinSpecificationExtensions","this","extensionKeys","length","result","_json","key","value","test","String","keys","extensions","startsWith","hasExtension","extension","toJsonSchema","iterateSchema","example","examples","push","$schema","aliasProps","patternProperties","not","obj","xml","parse","async","defaultSchemaFormat","transformed","cloneSchema","keepNotSupported","schemaFormat","getMimeTypes","avroToJsonSchema","getMapValueByKey","MixinDescription","description","utils","helpers","Renderer","ParserCore","ParserBlock","ParserInline","LinkifyIt","mdurl","punycode","config","zero","commonmark","BAD_PROTO_RE","GOOD_DATA_RE","validateLink","url","str","trim","toLowerCase","RECODE_HOSTNAME_FOR","normalizeLink","parsed","hostname","protocol","indexOf","toASCII","er","encode","format","normalizeLinkText","toUnicode","decode","MarkdownIt","presetName","options","isString","inline","block","core","renderer","linkify","assign","configure","set","prototype","presets","self","Error","name","rules","ruler","enableOnly","rules2","ruler2","enable","list","ignoreInvalid","chain","concat","missed","filter","disable","use","plugin","args","slice","call","arguments","apply","src","env","state","State","process","tokens","render","parseInline","inlineMode","renderInline","parseLinkLabel","parseLinkDestination","parseLinkTitle","start","disableNested","level","found","marker","prevPos","labelEnd","max","posMax","oldPos","pos","charCodeAt","md","skipToken","unescapeAll","code","ok","lines","escapeHtml","default_rules","code_inline","idx","slf","token","renderAttrs","content","code_block","fence","highlighted","i","tmpAttrs","tmpToken","info","langName","split","highlight","attrIndex","attrs","langPrefix","image","renderInlineAsText","children","renderToken","hardbreak","xhtmlOut","softbreak","breaks","text","html_block","html_inline","l","nextToken","needLf","hidden","nesting","tag","len","Ruler","_rules","Core","getRules","NEWLINES_RE","NULL_RE","replace","Token","map","tok","arrayReplaceAt","isLinkClose","j","currentToken","nodes","ln","lastPos","htmlLinkLevel","fullUrl","urlText","links","blockTokens","pretest","match","index","markup","lastIndex","RARE_RE","SCOPED_ABBR_TEST_RE","SCOPED_ABBR_RE","SCOPED_ABBR","c","r","tm","replaceFn","replace_scoped","inlineTokens","inside_autolink","replace_rare","blkIdx","typographer","isWhiteSpace","isPunctChar","isMdAsciiPunct","QUOTE_TEST_RE","QUOTE_RE","replaceAt","ch","substr","process_inlines","t","thisLevel","item","lastChar","nextChar","isLastPunctChar","isNextPunctChar","isLastWhiteSpace","isNextWhiteSpace","canOpen","canClose","isSingle","stack","openQuote","closeQuote","OUTER","exec","fromCharCode","single","quotes","StateCore","alt","tokenize","startLine","endLine","line","hasEmptyLines","maxNesting","skipEmptyLines","sCount","blkIndent","tight","isEmpty","outTokens","lineMax","isSpace","getLine","bMarks","eMarks","escapedSplit","escapes","backTicked","lastBackTick","substring","silent","lineText","nextLine","columns","columnCount","aligns","tableLines","tbodyLines","tShift","last","getLines","params","mem","haveEndMarker","skipChars","skipSpaces","adjustTab","initial","lastLineEmpty","offset","oldBMarks","oldBSCount","oldIndent","oldParentType","oldSCount","oldTShift","spaceAfterMarker","terminate","terminatorRules","isOutdented","oldLineMax","bsCount","parentType","cnt","join","skipBulletListMarker","skipOrderedListMarker","contentStart","indent","indentAfterMarker","isOrdered","itemLines","listLines","listTokIdx","markerCharCode","markerValue","oldListIndent","oldTight","posAfterMarker","prevEmptyEnd","isTerminatingParagraph","listIndent","Number","Math","min","markTightParagraphs","normalizeReference","_endLine","destEndPos","destEndLineNo","href","label","res","title","references","tmp","skipSpacesBack","skipCharsBack","block_names","HTML_OPEN_CLOSE_TAG_RE","HTML_SEQUENCES","RegExp","source","html","StateBlock","indent_found","ddIndent","from","begin","end","keepLastLF","lineIndent","first","queue","lineStart","_rules2","postProcess","cache","pending","pushPending","isTerminatorChar","pmax","ESCAPED","matchStart","matchEnd","labelStart","ref","parseReference","EMAIL_RE","AUTOLINK_RE","tail","linkMatch","emailMatch","HTML_TAG_RE","lc","isLetter","entities","has","isValidEntityCode","fromCodePoint","DIGITAL_RE","NAMED_RE","parseInt","processDelimiters","delimiters","closerIdx","openerIdx","closer","opener","minOpenerIdx","newMinOpenerIdx","isOddMatch","lastJump","openersBottom","close","hasOwnProperty","jump","open","curr","tokens_meta","StateInline","pendingLevel","_prev_delimiters","token_meta","pop","scanDelims","canSplitWord","count","can_open","can_close","left_flanking","right_flanking","sources","_class","toString","isFunction","escapeRE","defaultOptions","fuzzyLink","fuzzyEmail","fuzzyIP","defaultSchemas","validate","re","http","src_auth","src_host_port_strict","src_path","no_http","src_domain","src_domain_root","src_port","src_host_terminator","mailto","src_email_name","src_host_strict","tlds_default","compile","__opts__","tlds","__tlds__","untpl","tpl","src_tlds","onCompile","__tlds_replaced__","src_xn","email_fuzzy","tpl_email_fuzzy","link_fuzzy","tpl_link_fuzzy","link_no_ip_fuzzy","tpl_link_no_ip_fuzzy","host_fuzzy_test","tpl_host_fuzzy_test","aliases","schemaError","val","__compiled__","__schemas__","compiled","link","isRegExp","createValidator","normalize","alias","slist","schema_test","src_ZPCc","schema_search","__index__","__text_cache__","resetScanCache","Match","shift","__last_index__","__schema__","raw","createMatch","reduce","acc","k","add","definition","ml","me","next","tld_pos","testSchemaAt","search","keepOld","sort","el","arr","reverse","opts","src_Any","src_Cc","src_Z","src_P","src_ZCc","src_pseudo_letter","src_ip4","src_host","tpl_host_fuzzy","tpl_host_no_ip_fuzzy","tpl_host_fuzzy_strict","tpl_host_port_fuzzy_strict","tpl_host_port_no_ip_fuzzy_strict","Ajv","fetch","asyncapi","$RefParser","mergePatch","ParserError","validateChannels","validateServerVariables","validateOperationId","validateServerSecurity","toJS","findRefs","getLocationOf","improveAjvErrors","AsyncAPIDocument","DEFAULT_SCHEMA_FORMAT","OPERATIONS","SPECIAL_SECURITY_TYPES","PARSERS","asyncapiYAMLorJSON","parsedJSON","initialFormat","path","cwd","sep","detail","validationErrors","applyTraits","refParser","dereference","circular","ajv","jsonPointers","allErrors","schemaId","logger","addMetaSchema","errors","channels","promisesArray","messageName","pathToPayload","validateAndConvertMessage","Promise","all","customComponentsMsgOperations","opName","op","customChannelsOperations","customDocumentOperations","$refs","handleCircularRefs","e","continueOnError","resolve","err","refs","msg","originalAsyncAPIDocument","fileFormat","parsedAsyncAPIDocument","js","traits","trait","parseFromUrl","fetchOptions","reject","then","catch","registerSchemaParser","parserModule","parseUrlVariables","getMissingProps","groupValidationErrors","tilde","parseUrlQueryParameters","setNotProvidedParams","srvs","servers","srvsMap","Map","notProvidedVariables","notProvidedExamplesInEnum","srvr","srvrName","variables","variablesObj","notProvidedServerVars","get","missingServerVariables","variable","variableName","enum","wrongExamples","setNotValidExamples","size","operations","chnls","chnlsMap","duplicatedOperations","allOperations","chnlObj","chnlName","operationId","operationPath","isOperationIdDuplicated","v","addDuplicateToMap","specialSecTypes","missingSecSchema","invalidSecurityValues","server","serverName","serverSecInfo","security","secObj","secName","securityName","secSchemes","securitySchemes","secSchemesMap","schemaInfo","schemaName","findSecuritySchema","srvrSecurityPath","schemaType","isSrvrSecProperArray","notProvidedParams","invalidChannelName","notProvidedChannelParams","queryParameters","parameterValidationErrors","nameValidationErrors","allValidationErrors","txt","reviver","context","JSON","errorMessage","TypeError","handleJsonNotString","syntaxErr","errIdxBrokenJson","errIdx","handleErrIdxNotNull","startColumn","createMapOfType","getMapValueOfType","mix","Base","Info","Server","Channel","Components","MixinExternalDocs","MixinTags","assignNameToAnonymousMessages","assignNameToComponentMessages","assignUidToComponentSchemas","assignUidToParameterSchemas","assignIdToAnonymousSchemas","super","ext","seenObj","lastSchema","propName","schemaJson","json","circPropsList","markCircular","markCircularSchemas","id","defaultContentType","allMessages","uid","License","Contact","version","termsOfService","license","contact","email","ServerVariable","ServerSecurityRequirement","MixinBindings","protocolVersion","sec","default","ChannelParameter","PublishOperation","SubscribeOperation","Operation","Message","Schema","SecurityScheme","CorrelationId","OperationTrait","MessageTrait","correlationIds","operationTraits","messageTraits","OAuthFlow","in","scheme","bearerFormat","openIdConnectUrl","flows","authorizationUrl","tokenUrl","refreshUrl","scopes","OperationTraitable","MessageTraitable","addNameToKey","number","parameterKey","parameterSchema","anonymousMessageCounter","anonymousSchemaCounter","cloneDeep","payloadSchema","asyncapiSchema","$ref","definitions","dataPath","INT_MIN","pow","INT_MAX","LONG_MIN","LONG_MAX","typeMappings","null","boolean","int","long","float","double","bytes","string","fixed","array","record","uuid","avroDefinition","jsonSchema","avroDef","def","minimum","maximum","pattern","minLength","maxLength","symbols","propsMap","field","fields","fromEntries","buildError","to","location","ExternalDocs","externalDocs","parser","defaultAsyncAPISchemaParser","_hasOwnProperty","object","surrogate1","surrogate2","UNESCAPE_MD_RE","UNESCAPE_ALL_RE","DIGITAL_ENTITY_TEST_RE","HTML_ESCAPE_TEST_RE","HTML_ESCAPE_REPLACE_RE","HTML_REPLACEMENTS","replaceUnsafeChar","REGEXP_ESCAPE_RE","UNICODE_PUNCT_RE","lib","ucmicro","unescapeMd","escaped","entity","replaceEntityPattern","newElements","toUpperCase","bindings","hasBindings","$id","multipleOf","exclusiveMaximum","exclusiveMinimum","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","ap","ai","const","contains","dependencies","propertyNames","if","else","contentEncoding","contentMediaType","deprecated","discriminator","readOnly","writeOnly","BindingsType","PayloadType","SecuritySchemeType","OAuthFlowsType","isRawMessage","defaultConfig","schemaID","show","expand","root","elements","showErrors","markdownIt","renderMd","createElement","dangerouslySetInnerHTML","__html","sanitize","CONTAINER_LABELS","__assign","n","beautifier","Beautifier","beautify","asyncApi","beautifyServers","beautifyChannels","beautifyMessages","beautifySchemas","resolveAllOf","_this","schemas_1","Boolean","recursive","_i","_a","_b","property","beautifySchema","newProperties","propProperties","newPropProperties","_c","_d","_e","propKey","propValue","newAdditionalProperties","_f","_g","_h","propAdditionalProperties","newPropAdditionalProperties","_j","_k","_l","newSchemas","beautifyMessage","summary","newMessages","copiedServers","stringify","newVariables","beautifyOperation","operation","newChannels","beautifyParameters","newParams","FLOWS_TEXTS","SERVER_COLUMN_NAMES","SERVER_SECURITY_COLUMN_NAMES","ITEM_LABELS","CONTAINER_LABELS_VALUES","ITEM_LABELS_VALUES","toKebabCase","matched","x","bemClasses","BEMCLasses","getSchemaID","setSchemaID","element","CSS_PREFIX","modifier","concatenate","classes","identifier","identifiers","isIdentifier","createNestedClassName","className","nested","CONTAINERS_REGEX","ITEMS_REGEX","PROPERTIES_REGEX","removeHash","extractHashData","hash","hashData","container","itemProperties","removeSpecialChars","target","scrollIntoView","top","offsetTop","offsetParent","window","scrollTo","scrollIntoViewOfAnchor","document","querySelector","setTimeout","parseHashForDataId","error","searchForNestedObject","input","nextInputObject","o","inContainer","CHANNEL","CHANNELS","SERVER","SERVERS","MESSAGE","MESSAGES","SCHEMA","SCHEMAS","stateHelpers","StateHelpers","calculateNumberOfElements","spec","showConfig","showConfigKeys","fn","numberOfElements","isServers","calculateServers","calculateInitialExpandedElements","expandConfig","collapseConfigKeys","bindingsHelper","BindingsHelper","schemaObjectKeys","isSchemaObject","bindingType","isObject","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","rejected","done","__generator","body","f","y","g","_","sent","trys","ops","verb","Symbol","iterator","a","Parser","handleError","data","extractDocument","Function","parseSchema","parseSchemaFromURL","parserOptions","err_1","arg","err_2","requestOptions","getExamplesFromSpec","__rest","getOwnPropertySymbols","propertyIsEnumerable","useExpandedContext","numberOfExpandedElement","initialNumberOfExpandedElement","expanded","setExpanded","numberOfExpanded","setNumberOfExpanded","itemName","scroll","clickedItem","setClickedItem","scrollToView","setScrollToView","rest","isClient","on","addEventListener","off","removeEventListener","patchHistoryMethod","method","original","history","event","Event","dispatchEvent","BadgeType","buildState","trigger","host","origin","pathname","port","setState","onPopstate","onPushstate","onReplacestate","useChangeHashContext","pushStateBehavior","useLocation","CodeComponent","TableHeader","colSpan","column","TableRow","nest","rootKey","accessors","resolveAccessor","accessor","nestedClassName","Table","header","rows","tableClassName","tableBodyClassName","row","Href","rel","Markdown","extendStatics","Badge","DEPRECATED","PUBLISH","SUBSCRIBE","REQUIRED","GENERATED","TreeSpace","TreeLeaf","Toggle","customClassName","initialExpanded","toggleInState","globalExpanded","setInitial","handleSetExpanded","stopPropagation","newState","headerClasses","arrowClasses","bodyClasses","onClick","CollapseButton","formatError","singleError","ErrorComponent","formattedError","TermsOfServiceComponent","LicenseComponent","nameWrapper","ContactComponent","Fragment","DefaultContentTypeComponent","CONTENT_TYPES_SITE","InfoComponent","showInfoList","renderProperties","treeSpace","SchemaPropertiesComponent","renderOf","renderPropertyDescription","enumElements","getEnumHTMLElements","hasDynamicName","alteredProperties","arrayOfChangedObjects","handleNotProperty","space","treeSpaces","style","height","fontSize","padding","renderAdditionalProperties","renderItems","SchemaExampleComponent","schemaExample","generateExampleSchema","exampleString","SchemaComponent","exampleTitle","hideTitle","toggle","toggleExpand","hasNotField","hasExamples","renderSchemaProps","schemaDataID","PayloadComponent","dataIdentifier","payloadsID","isOneOfPayload","elem","isAnyOfPayload","inferredId","payloadID","payloadDataID","BindingFieldComponent","BindingComponent","binding","BindingsComponent","MessageComponent","hideTags","inChannel","messageID","messageDataID","headersID","isBody","tags","MessagesComponent","messagesLength","wrapper","inferredName","OperationComponent","payloadType","otherOneOf","isPublish","isSubscribe","0","operationTitle","Parameter","param","Parameters","ChannelComponent","oneOfPublish","oneOfSubscribe","ChannelsComponent","serverVariablesAccessors","ServerVariablesComponent","dataId","ServerSecurityFlowScopes","ServerSecurityFlow","flow","ServerSecurityFlows","sortedFlows","accumulator","currentValue","flowName","nestedTableCellClassName","flowsTableCellClassName","securitySchemeAccessors","ServerSecurityItemComponent","securityScheme","ServerSecurityComponent","requirements","schemes","requirement","ServerComponent","stage","ServersComponent","SchemasComponent","__extends","d","b","setPrototypeOf","__proto__","__","constructor","create","defaultAsyncApi","AsyncApi","_super","AsyncApiComponent","validatedSchema","componentDidMount","componentDidUpdate","prevProps","concatenatedConfig","numberOfElement","initialExpandedElements","Provider","parsedFromUrl","isFetchingSchemaInterface","__rules__","__cache__","__find__","__compile__","chains","rule","enabled","altName","at","opt","before","beforeName","ruleName","splice","after","afterName","chainName","meta","attrPush","attrData","attrSet","attrGet","attrJoin","YAML","yamlAST","loc","jsonAST","jsonParseBetterErrors","jsonPointerToArray","jsonPointer","getAST","findLocationOf","ast","node","untilde","findNode","childArray","child","find","findNodeInAST","startOffset","endColumn","endOffset","trimLeft","safeLoad","mark","position","pseudoAST","defaultLocation","additionalProperty","errorElements","missingChannelParams","Tag","hasTags","some","tg","getMapValue","Type","model","mixins","duplicatedMethods","mixin","mixinMethod","open_tag","close_tag","startDelim","endDelim","loneMarkers","scanned","isStrong","Buffer","correlationId","contentType"],"mappings":"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","file":"static/module-asyncapi.94d7d3ba.js","sourcesContent":["const xParserSpecParsed = 'x-parser-spec-parsed';\nconst xParserMessageName = 'x-parser-message-name';\nconst xParserSchemaId = 'x-parser-schema-id';\nconst xParserCircle = 'x-parser-circular';\nconst xParserCircleProps = 'x-parser-circular-props';\n\nmodule.exports = {\n  xParserSpecParsed,\n  xParserMessageName,\n  xParserSchemaId,\n  xParserCircle,\n  xParserCircleProps\n};","/**\n * @readonly\n * @enum {SchemaIteratorCallbackType}\n */\n\n/**\n * The different kind of stages when crawling a schema.  \n * \n * @typedef SchemaIteratorCallbackType\n * @property {string} NEW_SCHEMA The crawler just started crawling a schema.\n * @property {string} END_SCHEMA The crawler just finished crawling a schema.\n */\nconst SchemaIteratorCallbackType = Object.freeze({\n  NEW_SCHEMA: 'NEW_SCHEMA',\n  END_SCHEMA: 'END_SCHEMA'\n});\n\n/**\n *\n * @readonly\n * @enum {SchemaTypesToIterate}\n */\n\n/**\n * The different types of schemas you can iterate \n * \n * @typedef SchemaTypesToIterate\n * @property {string} parameters Crawl all schemas in parameters\n * @property {string} payloads Crawl all schemas in payloads\n * @property {string} headers Crawl all schemas in headers\n * @property {string} components Crawl all schemas in components\n * @property {string} objects Crawl all schemas of type object\n * @property {string} arrays Crawl all schemas of type array\n * @property {string} oneOfs Crawl all schemas in oneOf's\n * @property {string} allOfs Crawl all schemas in allOf's\n * @property {string} anyOfs Crawl all schemas in anyOf's\n */\nconst SchemaTypesToIterate = Object.freeze({\n  parameters: 'parameters',\n  payloads: 'payloads',\n  headers: 'headers',\n  components: 'components',\n  objects: 'objects',\n  arrays: 'arrays',\n  oneOfs: 'oneOfs',\n  allOfs: 'allOfs',\n  anyOfs: 'anyOfs'\n});\n\n/**\n * Traverse current schema and all nested schemas.\n * \n * @private\n * @param {Schema} schemaContent schema.\n * @param {TraverseSchemas} callback \n * @param {SchemaTypesToIterate[]} schemaTypesToIterate\n */\nfunction traverseSchema(schema, callback, prop, schemaTypesToIterate) {\n  if (schema === null) return;\n  if (!schemaTypesToIterate.includes(SchemaTypesToIterate.arrays) && schema.type() === 'array') return;\n  if (!schemaTypesToIterate.includes(SchemaTypesToIterate.objects) && schema.type() === 'object') return;\n  if (schema.isCircular()) return;\n  if (callback(schema, prop, SchemaIteratorCallbackType.NEW_SCHEMA) === false) return;\n  \n  if (schema.type() !== undefined) {\n    switch (schema.type()) {\n    case 'object':\n      recursiveSchemaObject(schema, callback, schemaTypesToIterate);\n      break;\n    case 'array':\n      recursiveSchemaArray(schema, callback, schemaTypesToIterate);\n      break;\n    }\n  } else {\n    traverseCombinedSchemas(schema, callback, schemaTypesToIterate);\n  }\n  callback(schema, prop, SchemaIteratorCallbackType.END_SCHEMA);\n}\n  \n/**\n * Traverse combined notions\n * \n * @private\n * @param {Schema} schemaContent schema.\n * @param {TraverseSchemas} callback \n * @param {SchemaTypesToIterate[]} schemaTypesToIterate\n */\nfunction traverseCombinedSchemas(schema, callback, schemaTypesToIterate) {\n  //check for allOf, oneOf, anyOf\n  const checkCombiningSchemas = (combineArray) => {\n    (combineArray || []).forEach(combineSchema => {\n      traverseSchema(combineSchema, callback, null, schemaTypesToIterate);\n    });\n  };\n  if (schemaTypesToIterate.includes(SchemaTypesToIterate.allOfs)) {\n    checkCombiningSchemas(schema.allOf());\n  }\n  if (schemaTypesToIterate.includes(SchemaTypesToIterate.anyOfs)) {\n    checkCombiningSchemas(schema.anyOf());\n  }\n  if (schemaTypesToIterate.includes(SchemaTypesToIterate.oneOfs)) {\n    checkCombiningSchemas(schema.oneOf());\n  }\n}\n  \n/**\n * Go through each channel and for each parameter, and message payload and headers recursively call the callback for each schema.\n * \n * @private\n * @param {AsyncAPIDocument} doc \n * @param {FoundSchemaCallback} callback\n * @param {SchemaTypesToIterate[]} schemaTypesToIterate\n */\nfunction traverseAsyncApiDocument(doc, callback, schemaTypesToIterate) {\n  if (!schemaTypesToIterate) {\n    schemaTypesToIterate = Object.values(SchemaTypesToIterate);\n  }\n  if (doc.hasChannels()) {\n    doc.channelNames().forEach(channelName => {\n      const channel = doc.channel(channelName);\n      traverseChannel(channel, callback, schemaTypesToIterate);\n    });\n  }\n  if (doc.hasComponents() && schemaTypesToIterate.includes(SchemaTypesToIterate.components)) {\n    Object.values(doc.components().schemas()).forEach(s => {\n      traverseSchema(s, callback, null, schemaTypesToIterate);\n    });\n    Object.values(doc.components().messages()).forEach(m => {\n      traverseMessage(m, callback, schemaTypesToIterate);\n    });\n  }\n}\n  \n/**\n * Go through each schema in channel\n * \n * @private\n * @param {Channel} channel \n * @param {FoundSchemaCallback} callback\n * @param {SchemaTypesToIterate[]} schemaTypesToIterate\n */\nfunction traverseChannel(channel, callback, schemaTypesToIterate) {\n  if (schemaTypesToIterate.includes(SchemaTypesToIterate.parameters)) {\n    Object.values(channel.parameters()).forEach(p => {\n      traverseSchema(p.schema(), callback, null, schemaTypesToIterate);\n    });\n  }\n  if (channel.hasPublish()) {\n    channel.publish().messages().forEach(m => {\n      traverseMessage(m, callback, schemaTypesToIterate);\n    });\n  }\n  if (channel.hasSubscribe()) {\n    channel.subscribe().messages().forEach(m => {\n      traverseMessage(m, callback, schemaTypesToIterate);\n    });\n  }\n}\n/**\n * Go through each schema in a message\n * \n * @private\n * @param {Message} message \n * @param {FoundSchemaCallback} callback\n * @param {SchemaTypesToIterate[]} schemaTypesToIterate\n */\nfunction traverseMessage(message, callback, schemaTypesToIterate) {\n  if (message === null) return;\n  if (schemaTypesToIterate.includes(SchemaTypesToIterate.headers)) {\n    traverseSchema(message.headers(), callback, null, schemaTypesToIterate);\n  }\n  if (schemaTypesToIterate.includes(SchemaTypesToIterate.payloads)) {\n    traverseSchema(message.payload(), callback, null, schemaTypesToIterate);\n  }\n}\n  \n/**\n * Recursively go through schema of object type and execute callback.\n * \n * @private\n * @param {Schema} schema Object type.\n * @param {TraverseSchemas} callback \n * @param {SchemaTypesToIterate[]} schemaTypesToIterate\n */\nfunction recursiveSchemaObject(schema, callback, schemaTypesToIterate) {\n  if (schema.additionalProperties() !== undefined && typeof schema.additionalProperties() !== 'boolean') {\n    const additionalSchema = schema.additionalProperties();\n    traverseSchema(additionalSchema, callback, null, schemaTypesToIterate);\n  }\n  if (schema.properties() !== null) {\n    const props = schema.properties();\n    for (const [prop, propertySchema] of Object.entries(props)) {\n      const circularProps = schema.circularProps();\n      if (circularProps !== undefined && circularProps.includes(prop)) continue;\n      traverseSchema(propertySchema, callback, prop, schemaTypesToIterate);\n    }\n  }\n}\n  \n/**\n * Recursively go through schema of array type and execute callback.\n * \n * @private\n * @param {Schema} schema Array type.\n * @param {TraverseSchemas} callback \n * @param {SchemaTypesToIterate[]} schemaTypesToIterate\n */\nfunction recursiveSchemaArray(schema, callback, schemaTypesToIterate) {\n  if (schema.additionalItems() !== undefined) {\n    const additionalArrayItems = schema.additionalItems();\n    traverseSchema(additionalArrayItems, callback, null, schemaTypesToIterate);\n  }\n  \n  if (schema.items() !== null) {\n    if (Array.isArray(schema.items())) {\n      schema.items().forEach(arraySchema => {\n        traverseSchema(arraySchema, callback, null, schemaTypesToIterate);\n      });\n    } else {\n      traverseSchema(schema.items(), callback, null, schemaTypesToIterate);\n    }\n  }\n}\n\nmodule.exports = {\n  SchemaIteratorCallbackType,\n  SchemaTypesToIterate,\n  traverseSchema,\n  traverseAsyncApiDocument,\n  traverseChannel,\n  traverseMessage, \n  recursiveSchemaObject,\n  recursiveSchemaArray\n};\n","/**\n * Implements functions to deal with the SpecificationExtensions object.\n * @mixin\n */\nconst MixinSpecificationExtensions = {\n  /**\n   * @returns {boolean}\n   */\n  hasExtensions() {\n    return !!this.extensionKeys().length;\n  },\n\n  /**\n   * @returns {Object<string, any>}\n   */\n  extensions() {\n    const result = {};\n    Object.entries(this._json).forEach(([key, value]) => {\n      if ((/^x-[\\w\\d\\.\\-\\_]+$/).test(key)) {\n        result[String(key)] = value;\n      }\n    });\n    return result;\n  },\n\n  /**\n   * @returns {string[]}\n   */\n  extensionKeys() {\n    return Object.keys(this.extensions());\n  },\n\n  /**\n   * @returns {string[]}\n   */\n  extKeys() {\n    return this.extensionKeys();\n  },\n\n  /**\n   * @param {string} key - Extension key.\n   * @returns {boolean}\n   */\n  hasExtension(key) {\n    if (!key.startsWith('x-')) {\n      return false;\n    }\n    return !!this._json[String(key)];\n  },\n\n  /**\n   * @param {string} key - Extension key.\n   * @returns {any}\n   */\n  extension(key) {\n    if (!key.startsWith('x-')) {\n      return null;\n    }\n    return this._json[String(key)];\n  },\n\n  /**\n   * @param {string} key - Extension key.\n   * @returns {boolean}\n   */ \n  hasExt(key) {\n    return this.hasExtension(key);\n  },\n\n  /**\n   * @param {string} key - Extension key.\n   * @returns {any}\n   */\n  ext(key) {\n    return this.extension(key);\n  },\n};\n\nmodule.exports = MixinSpecificationExtensions;\n","'use strict';\n\n\nmodule.exports = require('./lib/');\n","const toJsonSchema = require('@openapi-contrib/openapi-schema-to-json-schema');\n\nmodule.exports = {\n  parse,\n  getMimeTypes\n};\n\nasync function parse({ message, defaultSchemaFormat }) {\n  const transformed = toJsonSchema(message.payload, {\n    cloneSchema: true,\n    keepNotSupported: [\n      'discriminator',\n      'readOnly',\n      'writeOnly',\n      'deprecated',\n      'xml',\n      'example',\n    ],\n  });\n\n  iterateSchema(transformed);\n\n  message['x-parser-original-schema-format'] = message.schemaFormat || defaultSchemaFormat;\n  message['x-parser-original-payload'] = message.payload;\n  message.payload = transformed;\n  delete message.schemaFormat;\n}\n\nfunction iterateSchema(schema) {\n  if (schema.example !== undefined) {\n    const examples = schema.examples || [];\n    examples.push(schema.example);\n    schema.examples = examples;\n    delete schema.example;\n  }\n\n  if (schema.$schema !== undefined) {\n    delete schema.$schema;\n  }\n\n  aliasProps(schema.properties);\n  aliasProps(schema.patternProperties);\n  aliasProps(schema.additionalProperties);\n  aliasProps(schema.items);\n  aliasProps(schema.additionalItems);\n  aliasProps(schema.oneOf);\n  aliasProps(schema.anyOf);\n  aliasProps(schema.allOf);\n  aliasProps(schema.not);\n}\n\nfunction aliasProps(obj) {\n  for (const key in obj) {\n    const prop = obj[key];\n\n    if (prop.xml !== undefined) {\n      prop['x-xml'] = prop.xml;\n      delete prop.xml;\n    }\n\n    iterateSchema(obj[key]);\n  }\n}\n\nfunction getMimeTypes() {\n  return [\n    'application/vnd.oai.openapi;version=3.0.0',\n    'application/vnd.oai.openapi+json;version=3.0.0',\n    'application/vnd.oai.openapi+yaml;version=3.0.0',\n  ];\n}\n","const { avroToJsonSchema } = require('./to-json-schema.js');\n\nmodule.exports.parse = async ({ message, defaultSchemaFormat }) => {\n  const transformed = await avroToJsonSchema(message.payload);\n\n  message['x-parser-original-schema-format'] = message.schemaFormat || defaultSchemaFormat;\n  message['x-parser-original-payload'] = message.payload;\n  message.payload = transformed;\n  delete message.schemaFormat;\n};\n\nmodule.exports.getMimeTypes = () => {\n  return [\n    'application/vnd.apache.avro;version=1.9.0',\n    'application/vnd.apache.avro+json;version=1.9.0',\n    'application/vnd.apache.avro+yaml;version=1.9.0',\n    'application/vnd.apache.avro;version=1.8.2',\n    'application/vnd.apache.avro+json;version=1.8.2',\n    'application/vnd.apache.avro+yaml;version=1.8.2'\n  ];\n};\n","const { getMapValueByKey } = require('../models/utils');\n\n/**\n * Implements functions to deal with the description field.\n * @mixin\n */\nconst MixinDescription = {\n  /**\n   * @returns {boolean}\n   */\n  hasDescription() {\n    return !!this._json.description;\n  },\n\n  /**\n   * @returns {(string | null)}\n   */\n  description() {\n    return getMapValueByKey(this._json, 'description');\n  },\n};\n\nmodule.exports = MixinDescription;\n","// Main parser class\n\n'use strict';\n\n\nvar utils        = require('./common/utils');\nvar helpers      = require('./helpers');\nvar Renderer     = require('./renderer');\nvar ParserCore   = require('./parser_core');\nvar ParserBlock  = require('./parser_block');\nvar ParserInline = require('./parser_inline');\nvar LinkifyIt    = require('linkify-it');\nvar mdurl        = require('mdurl');\nvar punycode     = require('punycode');\n\n\nvar config = {\n  'default': require('./presets/default'),\n  zero: require('./presets/zero'),\n  commonmark: require('./presets/commonmark')\n};\n\n////////////////////////////////////////////////////////////////////////////////\n//\n// This validator can prohibit more than really needed to prevent XSS. It's a\n// tradeoff to keep code simple and to be secure by default.\n//\n// If you need different setup - override validator method as you wish. Or\n// replace it with dummy function and use external sanitizer.\n//\n\nvar BAD_PROTO_RE = /^(vbscript|javascript|file|data):/;\nvar GOOD_DATA_RE = /^data:image\\/(gif|png|jpeg|webp);/;\n\nfunction validateLink(url) {\n  // url should be normalized at this point, and existing entities are decoded\n  var str = url.trim().toLowerCase();\n\n  return BAD_PROTO_RE.test(str) ? (GOOD_DATA_RE.test(str) ? true : false) : true;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\n\nvar RECODE_HOSTNAME_FOR = [ 'http:', 'https:', 'mailto:' ];\n\nfunction normalizeLink(url) {\n  var parsed = mdurl.parse(url, true);\n\n  if (parsed.hostname) {\n    // Encode hostnames in urls like:\n    // `http://host/`, `https://host/`, `mailto:user@host`, `//host/`\n    //\n    // We don't encode unknown schemas, because it's likely that we encode\n    // something we shouldn't (e.g. `skype:name` treated as `skype:host`)\n    //\n    if (!parsed.protocol || RECODE_HOSTNAME_FOR.indexOf(parsed.protocol) >= 0) {\n      try {\n        parsed.hostname = punycode.toASCII(parsed.hostname);\n      } catch (er) { /**/ }\n    }\n  }\n\n  return mdurl.encode(mdurl.format(parsed));\n}\n\nfunction normalizeLinkText(url) {\n  var parsed = mdurl.parse(url, true);\n\n  if (parsed.hostname) {\n    // Encode hostnames in urls like:\n    // `http://host/`, `https://host/`, `mailto:user@host`, `//host/`\n    //\n    // We don't encode unknown schemas, because it's likely that we encode\n    // something we shouldn't (e.g. `skype:name` treated as `skype:host`)\n    //\n    if (!parsed.protocol || RECODE_HOSTNAME_FOR.indexOf(parsed.protocol) >= 0) {\n      try {\n        parsed.hostname = punycode.toUnicode(parsed.hostname);\n      } catch (er) { /**/ }\n    }\n  }\n\n  return mdurl.decode(mdurl.format(parsed));\n}\n\n\n/**\n * class MarkdownIt\n *\n * Main parser/renderer class.\n *\n * ##### Usage\n *\n * ```javascript\n * // node.js, \"classic\" way:\n * var MarkdownIt = require('markdown-it'),\n *     md = new MarkdownIt();\n * var result = md.render('# markdown-it rulezz!');\n *\n * // node.js, the same, but with sugar:\n * var md = require('markdown-it')();\n * var result = md.render('# markdown-it rulezz!');\n *\n * // browser without AMD, added to \"window\" on script load\n * // Note, there are no dash.\n * var md = window.markdownit();\n * var result = md.render('# markdown-it rulezz!');\n * ```\n *\n * Single line rendering, without paragraph wrap:\n *\n * ```javascript\n * var md = require('markdown-it')();\n * var result = md.renderInline('__markdown-it__ rulezz!');\n * ```\n **/\n\n/**\n * new MarkdownIt([presetName, options])\n * - presetName (String): optional, `commonmark` / `zero`\n * - options (Object)\n *\n * Creates parser instanse with given config. Can be called without `new`.\n *\n * ##### presetName\n *\n * MarkdownIt provides named presets as a convenience to quickly\n * enable/disable active syntax rules and options for common use cases.\n *\n * - [\"commonmark\"](https://github.com/markdown-it/markdown-it/blob/master/lib/presets/commonmark.js) -\n *   configures parser to strict [CommonMark](http://commonmark.org/) mode.\n * - [default](https://github.com/markdown-it/markdown-it/blob/master/lib/presets/default.js) -\n *   similar to GFM, used when no preset name given. Enables all available rules,\n *   but still without html, typographer & autolinker.\n * - [\"zero\"](https://github.com/markdown-it/markdown-it/blob/master/lib/presets/zero.js) -\n *   all rules disabled. Useful to quickly setup your config via `.enable()`.\n *   For example, when you need only `bold` and `italic` markup and nothing else.\n *\n * ##### options:\n *\n * - __html__ - `false`. Set `true` to enable HTML tags in source. Be careful!\n *   That's not safe! You may need external sanitizer to protect output from XSS.\n *   It's better to extend features via plugins, instead of enabling HTML.\n * - __xhtmlOut__ - `false`. Set `true` to add '/' when closing single tags\n *   (`<br />`). This is needed only for full CommonMark compatibility. In real\n *   world you will need HTML output.\n * - __breaks__ - `false`. Set `true` to convert `\\n` in paragraphs into `<br>`.\n * - __langPrefix__ - `language-`. CSS language class prefix for fenced blocks.\n *   Can be useful for external highlighters.\n * - __linkify__ - `false`. Set `true` to autoconvert URL-like text to links.\n * - __typographer__  - `false`. Set `true` to enable [some language-neutral\n *   replacement](https://github.com/markdown-it/markdown-it/blob/master/lib/rules_core/replacements.js) +\n *   quotes beautification (smartquotes).\n * - __quotes__ - `“”‘’`, String or Array. Double + single quotes replacement\n *   pairs, when typographer enabled and smartquotes on. For example, you can\n *   use `'«»„“'` for Russian, `'„“‚‘'` for German, and\n *   `['«\\xA0', '\\xA0»', '‹\\xA0', '\\xA0›']` for French (including nbsp).\n * - __highlight__ - `null`. Highlighter function for fenced code blocks.\n *   Highlighter `function (str, lang)` should return escaped HTML. It can also\n *   return empty string if the source was not changed and should be escaped\n *   externaly. If result starts with <pre... internal wrapper is skipped.\n *\n * ##### Example\n *\n * ```javascript\n * // commonmark mode\n * var md = require('markdown-it')('commonmark');\n *\n * // default mode\n * var md = require('markdown-it')();\n *\n * // enable everything\n * var md = require('markdown-it')({\n *   html: true,\n *   linkify: true,\n *   typographer: true\n * });\n * ```\n *\n * ##### Syntax highlighting\n *\n * ```js\n * var hljs = require('highlight.js') // https://highlightjs.org/\n *\n * var md = require('markdown-it')({\n *   highlight: function (str, lang) {\n *     if (lang && hljs.getLanguage(lang)) {\n *       try {\n *         return hljs.highlight(lang, str, true).value;\n *       } catch (__) {}\n *     }\n *\n *     return ''; // use external default escaping\n *   }\n * });\n * ```\n *\n * Or with full wrapper override (if you need assign class to `<pre>`):\n *\n * ```javascript\n * var hljs = require('highlight.js') // https://highlightjs.org/\n *\n * // Actual default values\n * var md = require('markdown-it')({\n *   highlight: function (str, lang) {\n *     if (lang && hljs.getLanguage(lang)) {\n *       try {\n *         return '<pre class=\"hljs\"><code>' +\n *                hljs.highlight(lang, str, true).value +\n *                '</code></pre>';\n *       } catch (__) {}\n *     }\n *\n *     return '<pre class=\"hljs\"><code>' + md.utils.escapeHtml(str) + '</code></pre>';\n *   }\n * });\n * ```\n *\n **/\nfunction MarkdownIt(presetName, options) {\n  if (!(this instanceof MarkdownIt)) {\n    return new MarkdownIt(presetName, options);\n  }\n\n  if (!options) {\n    if (!utils.isString(presetName)) {\n      options = presetName || {};\n      presetName = 'default';\n    }\n  }\n\n  /**\n   * MarkdownIt#inline -> ParserInline\n   *\n   * Instance of [[ParserInline]]. You may need it to add new rules when\n   * writing plugins. For simple rules control use [[MarkdownIt.disable]] and\n   * [[MarkdownIt.enable]].\n   **/\n  this.inline = new ParserInline();\n\n  /**\n   * MarkdownIt#block -> ParserBlock\n   *\n   * Instance of [[ParserBlock]]. You may need it to add new rules when\n   * writing plugins. For simple rules control use [[MarkdownIt.disable]] and\n   * [[MarkdownIt.enable]].\n   **/\n  this.block = new ParserBlock();\n\n  /**\n   * MarkdownIt#core -> Core\n   *\n   * Instance of [[Core]] chain executor. You may need it to add new rules when\n   * writing plugins. For simple rules control use [[MarkdownIt.disable]] and\n   * [[MarkdownIt.enable]].\n   **/\n  this.core = new ParserCore();\n\n  /**\n   * MarkdownIt#renderer -> Renderer\n   *\n   * Instance of [[Renderer]]. Use it to modify output look. Or to add rendering\n   * rules for new token types, generated by plugins.\n   *\n   * ##### Example\n   *\n   * ```javascript\n   * var md = require('markdown-it')();\n   *\n   * function myToken(tokens, idx, options, env, self) {\n   *   //...\n   *   return result;\n   * };\n   *\n   * md.renderer.rules['my_token'] = myToken\n   * ```\n   *\n   * See [[Renderer]] docs and [source code](https://github.com/markdown-it/markdown-it/blob/master/lib/renderer.js).\n   **/\n  this.renderer = new Renderer();\n\n  /**\n   * MarkdownIt#linkify -> LinkifyIt\n   *\n   * [linkify-it](https://github.com/markdown-it/linkify-it) instance.\n   * Used by [linkify](https://github.com/markdown-it/markdown-it/blob/master/lib/rules_core/linkify.js)\n   * rule.\n   **/\n  this.linkify = new LinkifyIt();\n\n  /**\n   * MarkdownIt#validateLink(url) -> Boolean\n   *\n   * Link validation function. CommonMark allows too much in links. By default\n   * we disable `javascript:`, `vbscript:`, `file:` schemas, and almost all `data:...` schemas\n   * except some embedded image types.\n   *\n   * You can change this behaviour:\n   *\n   * ```javascript\n   * var md = require('markdown-it')();\n   * // enable everything\n   * md.validateLink = function () { return true; }\n   * ```\n   **/\n  this.validateLink = validateLink;\n\n  /**\n   * MarkdownIt#normalizeLink(url) -> String\n   *\n   * Function used to encode link url to a machine-readable format,\n   * which includes url-encoding, punycode, etc.\n   **/\n  this.normalizeLink = normalizeLink;\n\n  /**\n   * MarkdownIt#normalizeLinkText(url) -> String\n   *\n   * Function used to decode link url to a human-readable format`\n   **/\n  this.normalizeLinkText = normalizeLinkText;\n\n\n  // Expose utils & helpers for easy acces from plugins\n\n  /**\n   * MarkdownIt#utils -> utils\n   *\n   * Assorted utility functions, useful to write plugins. See details\n   * [here](https://github.com/markdown-it/markdown-it/blob/master/lib/common/utils.js).\n   **/\n  this.utils = utils;\n\n  /**\n   * MarkdownIt#helpers -> helpers\n   *\n   * Link components parser functions, useful to write plugins. See details\n   * [here](https://github.com/markdown-it/markdown-it/blob/master/lib/helpers).\n   **/\n  this.helpers = utils.assign({}, helpers);\n\n\n  this.options = {};\n  this.configure(presetName);\n\n  if (options) { this.set(options); }\n}\n\n\n/** chainable\n * MarkdownIt.set(options)\n *\n * Set parser options (in the same format as in constructor). Probably, you\n * will never need it, but you can change options after constructor call.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')()\n *             .set({ html: true, breaks: true })\n *             .set({ typographer, true });\n * ```\n *\n * __Note:__ To achieve the best possible performance, don't modify a\n * `markdown-it` instance options on the fly. If you need multiple configurations\n * it's best to create multiple instances and initialize each with separate\n * config.\n **/\nMarkdownIt.prototype.set = function (options) {\n  utils.assign(this.options, options);\n  return this;\n};\n\n\n/** chainable, internal\n * MarkdownIt.configure(presets)\n *\n * Batch load of all options and compenent settings. This is internal method,\n * and you probably will not need it. But if you will - see available presets\n * and data structure [here](https://github.com/markdown-it/markdown-it/tree/master/lib/presets)\n *\n * We strongly recommend to use presets instead of direct config loads. That\n * will give better compatibility with next versions.\n **/\nMarkdownIt.prototype.configure = function (presets) {\n  var self = this, presetName;\n\n  if (utils.isString(presets)) {\n    presetName = presets;\n    presets = config[presetName];\n    if (!presets) { throw new Error('Wrong `markdown-it` preset \"' + presetName + '\", check name'); }\n  }\n\n  if (!presets) { throw new Error('Wrong `markdown-it` preset, can\\'t be empty'); }\n\n  if (presets.options) { self.set(presets.options); }\n\n  if (presets.components) {\n    Object.keys(presets.components).forEach(function (name) {\n      if (presets.components[name].rules) {\n        self[name].ruler.enableOnly(presets.components[name].rules);\n      }\n      if (presets.components[name].rules2) {\n        self[name].ruler2.enableOnly(presets.components[name].rules2);\n      }\n    });\n  }\n  return this;\n};\n\n\n/** chainable\n * MarkdownIt.enable(list, ignoreInvalid)\n * - list (String|Array): rule name or list of rule names to enable\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable list or rules. It will automatically find appropriate components,\n * containing rules with given names. If rule not found, and `ignoreInvalid`\n * not set - throws exception.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')()\n *             .enable(['sub', 'sup'])\n *             .disable('smartquotes');\n * ```\n **/\nMarkdownIt.prototype.enable = function (list, ignoreInvalid) {\n  var result = [];\n\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  [ 'core', 'block', 'inline' ].forEach(function (chain) {\n    result = result.concat(this[chain].ruler.enable(list, true));\n  }, this);\n\n  result = result.concat(this.inline.ruler2.enable(list, true));\n\n  var missed = list.filter(function (name) { return result.indexOf(name) < 0; });\n\n  if (missed.length && !ignoreInvalid) {\n    throw new Error('MarkdownIt. Failed to enable unknown rule(s): ' + missed);\n  }\n\n  return this;\n};\n\n\n/** chainable\n * MarkdownIt.disable(list, ignoreInvalid)\n * - list (String|Array): rule name or list of rule names to disable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * The same as [[MarkdownIt.enable]], but turn specified rules off.\n **/\nMarkdownIt.prototype.disable = function (list, ignoreInvalid) {\n  var result = [];\n\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  [ 'core', 'block', 'inline' ].forEach(function (chain) {\n    result = result.concat(this[chain].ruler.disable(list, true));\n  }, this);\n\n  result = result.concat(this.inline.ruler2.disable(list, true));\n\n  var missed = list.filter(function (name) { return result.indexOf(name) < 0; });\n\n  if (missed.length && !ignoreInvalid) {\n    throw new Error('MarkdownIt. Failed to disable unknown rule(s): ' + missed);\n  }\n  return this;\n};\n\n\n/** chainable\n * MarkdownIt.use(plugin, params)\n *\n * Load specified plugin with given params into current parser instance.\n * It's just a sugar to call `plugin(md, params)` with curring.\n *\n * ##### Example\n *\n * ```javascript\n * var iterator = require('markdown-it-for-inline');\n * var md = require('markdown-it')()\n *             .use(iterator, 'foo_replace', 'text', function (tokens, idx) {\n *               tokens[idx].content = tokens[idx].content.replace(/foo/g, 'bar');\n *             });\n * ```\n **/\nMarkdownIt.prototype.use = function (plugin /*, params, ... */) {\n  var args = [ this ].concat(Array.prototype.slice.call(arguments, 1));\n  plugin.apply(plugin, args);\n  return this;\n};\n\n\n/** internal\n * MarkdownIt.parse(src, env) -> Array\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * Parse input string and return list of block tokens (special token type\n * \"inline\" will contain list of inline tokens). You should not call this\n * method directly, until you write custom renderer (for example, to produce\n * AST).\n *\n * `env` is used to pass data between \"distributed\" rules and return additional\n * metadata like reference info, needed for the renderer. It also can be used to\n * inject data in specific cases. Usually, you will be ok to pass `{}`,\n * and then pass updated object to renderer.\n **/\nMarkdownIt.prototype.parse = function (src, env) {\n  if (typeof src !== 'string') {\n    throw new Error('Input data should be a String');\n  }\n\n  var state = new this.core.State(src, this, env);\n\n  this.core.process(state);\n\n  return state.tokens;\n};\n\n\n/**\n * MarkdownIt.render(src [, env]) -> String\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * Render markdown string into html. It does all magic for you :).\n *\n * `env` can be used to inject additional metadata (`{}` by default).\n * But you will not need it with high probability. See also comment\n * in [[MarkdownIt.parse]].\n **/\nMarkdownIt.prototype.render = function (src, env) {\n  env = env || {};\n\n  return this.renderer.render(this.parse(src, env), this.options, env);\n};\n\n\n/** internal\n * MarkdownIt.parseInline(src, env) -> Array\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * The same as [[MarkdownIt.parse]] but skip all block rules. It returns the\n * block tokens list with the single `inline` element, containing parsed inline\n * tokens in `children` property. Also updates `env` object.\n **/\nMarkdownIt.prototype.parseInline = function (src, env) {\n  var state = new this.core.State(src, this, env);\n\n  state.inlineMode = true;\n  this.core.process(state);\n\n  return state.tokens;\n};\n\n\n/**\n * MarkdownIt.renderInline(src [, env]) -> String\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * Similar to [[MarkdownIt.render]] but for single paragraph content. Result\n * will NOT be wrapped into `<p>` tags.\n **/\nMarkdownIt.prototype.renderInline = function (src, env) {\n  env = env || {};\n\n  return this.renderer.render(this.parseInline(src, env), this.options, env);\n};\n\n\nmodule.exports = MarkdownIt;\n","// Just a shortcut for bulk export\n'use strict';\n\n\nexports.parseLinkLabel       = require('./parse_link_label');\nexports.parseLinkDestination = require('./parse_link_destination');\nexports.parseLinkTitle       = require('./parse_link_title');\n","// Parse link label\n//\n// this function assumes that first character (\"[\") already matches;\n// returns the end of the label\n//\n'use strict';\n\nmodule.exports = function parseLinkLabel(state, start, disableNested) {\n  var level, found, marker, prevPos,\n      labelEnd = -1,\n      max = state.posMax,\n      oldPos = state.pos;\n\n  state.pos = start + 1;\n  level = 1;\n\n  while (state.pos < max) {\n    marker = state.src.charCodeAt(state.pos);\n    if (marker === 0x5D /* ] */) {\n      level--;\n      if (level === 0) {\n        found = true;\n        break;\n      }\n    }\n\n    prevPos = state.pos;\n    state.md.inline.skipToken(state);\n    if (marker === 0x5B /* [ */) {\n      if (prevPos === state.pos - 1) {\n        // increase level if we find text `[`, which is not a part of any token\n        level++;\n      } else if (disableNested) {\n        state.pos = oldPos;\n        return -1;\n      }\n    }\n  }\n\n  if (found) {\n    labelEnd = state.pos;\n  }\n\n  // restore old state\n  state.pos = oldPos;\n\n  return labelEnd;\n};\n","// Parse link destination\n//\n'use strict';\n\n\nvar unescapeAll = require('../common/utils').unescapeAll;\n\n\nmodule.exports = function parseLinkDestination(str, pos, max) {\n  var code, level,\n      lines = 0,\n      start = pos,\n      result = {\n        ok: false,\n        pos: 0,\n        lines: 0,\n        str: ''\n      };\n\n  if (str.charCodeAt(pos) === 0x3C /* < */) {\n    pos++;\n    while (pos < max) {\n      code = str.charCodeAt(pos);\n      if (code === 0x0A /* \\n */) { return result; }\n      if (code === 0x3E /* > */) {\n        result.pos = pos + 1;\n        result.str = unescapeAll(str.slice(start + 1, pos));\n        result.ok = true;\n        return result;\n      }\n      if (code === 0x5C /* \\ */ && pos + 1 < max) {\n        pos += 2;\n        continue;\n      }\n\n      pos++;\n    }\n\n    // no closing '>'\n    return result;\n  }\n\n  // this should be ... } else { ... branch\n\n  level = 0;\n  while (pos < max) {\n    code = str.charCodeAt(pos);\n\n    if (code === 0x20) { break; }\n\n    // ascii control characters\n    if (code < 0x20 || code === 0x7F) { break; }\n\n    if (code === 0x5C /* \\ */ && pos + 1 < max) {\n      pos += 2;\n      continue;\n    }\n\n    if (code === 0x28 /* ( */) {\n      level++;\n    }\n\n    if (code === 0x29 /* ) */) {\n      if (level === 0) { break; }\n      level--;\n    }\n\n    pos++;\n  }\n\n  if (start === pos) { return result; }\n  if (level !== 0) { return result; }\n\n  result.str = unescapeAll(str.slice(start, pos));\n  result.lines = lines;\n  result.pos = pos;\n  result.ok = true;\n  return result;\n};\n","// Parse link title\n//\n'use strict';\n\n\nvar unescapeAll = require('../common/utils').unescapeAll;\n\n\nmodule.exports = function parseLinkTitle(str, pos, max) {\n  var code,\n      marker,\n      lines = 0,\n      start = pos,\n      result = {\n        ok: false,\n        pos: 0,\n        lines: 0,\n        str: ''\n      };\n\n  if (pos >= max) { return result; }\n\n  marker = str.charCodeAt(pos);\n\n  if (marker !== 0x22 /* \" */ && marker !== 0x27 /* ' */ && marker !== 0x28 /* ( */) { return result; }\n\n  pos++;\n\n  // if opening marker is \"(\", switch it to closing marker \")\"\n  if (marker === 0x28) { marker = 0x29; }\n\n  while (pos < max) {\n    code = str.charCodeAt(pos);\n    if (code === marker) {\n      result.pos = pos + 1;\n      result.lines = lines;\n      result.str = unescapeAll(str.slice(start + 1, pos));\n      result.ok = true;\n      return result;\n    } else if (code === 0x0A) {\n      lines++;\n    } else if (code === 0x5C /* \\ */ && pos + 1 < max) {\n      pos++;\n      if (str.charCodeAt(pos) === 0x0A) {\n        lines++;\n      }\n    }\n\n    pos++;\n  }\n\n  return result;\n};\n","/**\n * class Renderer\n *\n * Generates HTML from parsed token stream. Each instance has independent\n * copy of rules. Those can be rewritten with ease. Also, you can add new\n * rules if you create plugin and adds new token types.\n **/\n'use strict';\n\n\nvar assign          = require('./common/utils').assign;\nvar unescapeAll     = require('./common/utils').unescapeAll;\nvar escapeHtml      = require('./common/utils').escapeHtml;\n\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar default_rules = {};\n\n\ndefault_rules.code_inline = function (tokens, idx, options, env, slf) {\n  var token = tokens[idx];\n\n  return  '<code' + slf.renderAttrs(token) + '>' +\n          escapeHtml(tokens[idx].content) +\n          '</code>';\n};\n\n\ndefault_rules.code_block = function (tokens, idx, options, env, slf) {\n  var token = tokens[idx];\n\n  return  '<pre' + slf.renderAttrs(token) + '><code>' +\n          escapeHtml(tokens[idx].content) +\n          '</code></pre>\\n';\n};\n\n\ndefault_rules.fence = function (tokens, idx, options, env, slf) {\n  var token = tokens[idx],\n      info = token.info ? unescapeAll(token.info).trim() : '',\n      langName = '',\n      highlighted, i, tmpAttrs, tmpToken;\n\n  if (info) {\n    langName = info.split(/\\s+/g)[0];\n  }\n\n  if (options.highlight) {\n    highlighted = options.highlight(token.content, langName) || escapeHtml(token.content);\n  } else {\n    highlighted = escapeHtml(token.content);\n  }\n\n  if (highlighted.indexOf('<pre') === 0) {\n    return highlighted + '\\n';\n  }\n\n  // If language exists, inject class gently, without modifying original token.\n  // May be, one day we will add .clone() for token and simplify this part, but\n  // now we prefer to keep things local.\n  if (info) {\n    i        = token.attrIndex('class');\n    tmpAttrs = token.attrs ? token.attrs.slice() : [];\n\n    if (i < 0) {\n      tmpAttrs.push([ 'class', options.langPrefix + langName ]);\n    } else {\n      tmpAttrs[i][1] += ' ' + options.langPrefix + langName;\n    }\n\n    // Fake token just to render attributes\n    tmpToken = {\n      attrs: tmpAttrs\n    };\n\n    return  '<pre><code' + slf.renderAttrs(tmpToken) + '>'\n          + highlighted\n          + '</code></pre>\\n';\n  }\n\n\n  return  '<pre><code' + slf.renderAttrs(token) + '>'\n        + highlighted\n        + '</code></pre>\\n';\n};\n\n\ndefault_rules.image = function (tokens, idx, options, env, slf) {\n  var token = tokens[idx];\n\n  // \"alt\" attr MUST be set, even if empty. Because it's mandatory and\n  // should be placed on proper position for tests.\n  //\n  // Replace content with actual value\n\n  token.attrs[token.attrIndex('alt')][1] =\n    slf.renderInlineAsText(token.children, options, env);\n\n  return slf.renderToken(tokens, idx, options);\n};\n\n\ndefault_rules.hardbreak = function (tokens, idx, options /*, env */) {\n  return options.xhtmlOut ? '<br />\\n' : '<br>\\n';\n};\ndefault_rules.softbreak = function (tokens, idx, options /*, env */) {\n  return options.breaks ? (options.xhtmlOut ? '<br />\\n' : '<br>\\n') : '\\n';\n};\n\n\ndefault_rules.text = function (tokens, idx /*, options, env */) {\n  return escapeHtml(tokens[idx].content);\n};\n\n\ndefault_rules.html_block = function (tokens, idx /*, options, env */) {\n  return tokens[idx].content;\n};\ndefault_rules.html_inline = function (tokens, idx /*, options, env */) {\n  return tokens[idx].content;\n};\n\n\n/**\n * new Renderer()\n *\n * Creates new [[Renderer]] instance and fill [[Renderer#rules]] with defaults.\n **/\nfunction Renderer() {\n\n  /**\n   * Renderer#rules -> Object\n   *\n   * Contains render rules for tokens. Can be updated and extended.\n   *\n   * ##### Example\n   *\n   * ```javascript\n   * var md = require('markdown-it')();\n   *\n   * md.renderer.rules.strong_open  = function () { return '<b>'; };\n   * md.renderer.rules.strong_close = function () { return '</b>'; };\n   *\n   * var result = md.renderInline(...);\n   * ```\n   *\n   * Each rule is called as independent static function with fixed signature:\n   *\n   * ```javascript\n   * function my_token_render(tokens, idx, options, env, renderer) {\n   *   // ...\n   *   return renderedHTML;\n   * }\n   * ```\n   *\n   * See [source code](https://github.com/markdown-it/markdown-it/blob/master/lib/renderer.js)\n   * for more details and examples.\n   **/\n  this.rules = assign({}, default_rules);\n}\n\n\n/**\n * Renderer.renderAttrs(token) -> String\n *\n * Render token attributes to string.\n **/\nRenderer.prototype.renderAttrs = function renderAttrs(token) {\n  var i, l, result;\n\n  if (!token.attrs) { return ''; }\n\n  result = '';\n\n  for (i = 0, l = token.attrs.length; i < l; i++) {\n    result += ' ' + escapeHtml(token.attrs[i][0]) + '=\"' + escapeHtml(token.attrs[i][1]) + '\"';\n  }\n\n  return result;\n};\n\n\n/**\n * Renderer.renderToken(tokens, idx, options) -> String\n * - tokens (Array): list of tokens\n * - idx (Numbed): token index to render\n * - options (Object): params of parser instance\n *\n * Default token renderer. Can be overriden by custom function\n * in [[Renderer#rules]].\n **/\nRenderer.prototype.renderToken = function renderToken(tokens, idx, options) {\n  var nextToken,\n      result = '',\n      needLf = false,\n      token = tokens[idx];\n\n  // Tight list paragraphs\n  if (token.hidden) {\n    return '';\n  }\n\n  // Insert a newline between hidden paragraph and subsequent opening\n  // block-level tag.\n  //\n  // For example, here we should insert a newline before blockquote:\n  //  - a\n  //    >\n  //\n  if (token.block && token.nesting !== -1 && idx && tokens[idx - 1].hidden) {\n    result += '\\n';\n  }\n\n  // Add token name, e.g. `<img`\n  result += (token.nesting === -1 ? '</' : '<') + token.tag;\n\n  // Encode attributes, e.g. `<img src=\"foo\"`\n  result += this.renderAttrs(token);\n\n  // Add a slash for self-closing tags, e.g. `<img src=\"foo\" /`\n  if (token.nesting === 0 && options.xhtmlOut) {\n    result += ' /';\n  }\n\n  // Check if we need to add a newline after this tag\n  if (token.block) {\n    needLf = true;\n\n    if (token.nesting === 1) {\n      if (idx + 1 < tokens.length) {\n        nextToken = tokens[idx + 1];\n\n        if (nextToken.type === 'inline' || nextToken.hidden) {\n          // Block-level tag containing an inline tag.\n          //\n          needLf = false;\n\n        } else if (nextToken.nesting === -1 && nextToken.tag === token.tag) {\n          // Opening tag + closing tag of the same type. E.g. `<li></li>`.\n          //\n          needLf = false;\n        }\n      }\n    }\n  }\n\n  result += needLf ? '>\\n' : '>';\n\n  return result;\n};\n\n\n/**\n * Renderer.renderInline(tokens, options, env) -> String\n * - tokens (Array): list on block tokens to renter\n * - options (Object): params of parser instance\n * - env (Object): additional data from parsed input (references, for example)\n *\n * The same as [[Renderer.render]], but for single token of `inline` type.\n **/\nRenderer.prototype.renderInline = function (tokens, options, env) {\n  var type,\n      result = '',\n      rules = this.rules;\n\n  for (var i = 0, len = tokens.length; i < len; i++) {\n    type = tokens[i].type;\n\n    if (typeof rules[type] !== 'undefined') {\n      result += rules[type](tokens, i, options, env, this);\n    } else {\n      result += this.renderToken(tokens, i, options);\n    }\n  }\n\n  return result;\n};\n\n\n/** internal\n * Renderer.renderInlineAsText(tokens, options, env) -> String\n * - tokens (Array): list on block tokens to renter\n * - options (Object): params of parser instance\n * - env (Object): additional data from parsed input (references, for example)\n *\n * Special kludge for image `alt` attributes to conform CommonMark spec.\n * Don't try to use it! Spec requires to show `alt` content with stripped markup,\n * instead of simple escaping.\n **/\nRenderer.prototype.renderInlineAsText = function (tokens, options, env) {\n  var result = '';\n\n  for (var i = 0, len = tokens.length; i < len; i++) {\n    if (tokens[i].type === 'text') {\n      result += tokens[i].content;\n    } else if (tokens[i].type === 'image') {\n      result += this.renderInlineAsText(tokens[i].children, options, env);\n    }\n  }\n\n  return result;\n};\n\n\n/**\n * Renderer.render(tokens, options, env) -> String\n * - tokens (Array): list on block tokens to renter\n * - options (Object): params of parser instance\n * - env (Object): additional data from parsed input (references, for example)\n *\n * Takes token stream and generates HTML. Probably, you will never need to call\n * this method directly.\n **/\nRenderer.prototype.render = function (tokens, options, env) {\n  var i, len, type,\n      result = '',\n      rules = this.rules;\n\n  for (i = 0, len = tokens.length; i < len; i++) {\n    type = tokens[i].type;\n\n    if (type === 'inline') {\n      result += this.renderInline(tokens[i].children, options, env);\n    } else if (typeof rules[type] !== 'undefined') {\n      result += rules[tokens[i].type](tokens, i, options, env, this);\n    } else {\n      result += this.renderToken(tokens, i, options, env);\n    }\n  }\n\n  return result;\n};\n\nmodule.exports = Renderer;\n","/** internal\n * class Core\n *\n * Top-level rules executor. Glues block/inline parsers and does intermediate\n * transformations.\n **/\n'use strict';\n\n\nvar Ruler  = require('./ruler');\n\n\nvar _rules = [\n  [ 'normalize',      require('./rules_core/normalize')      ],\n  [ 'block',          require('./rules_core/block')          ],\n  [ 'inline',         require('./rules_core/inline')         ],\n  [ 'linkify',        require('./rules_core/linkify')        ],\n  [ 'replacements',   require('./rules_core/replacements')   ],\n  [ 'smartquotes',    require('./rules_core/smartquotes')    ]\n];\n\n\n/**\n * new Core()\n **/\nfunction Core() {\n  /**\n   * Core#ruler -> Ruler\n   *\n   * [[Ruler]] instance. Keep configuration of core rules.\n   **/\n  this.ruler = new Ruler();\n\n  for (var i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1]);\n  }\n}\n\n\n/**\n * Core.process(state)\n *\n * Executes core chain rules.\n **/\nCore.prototype.process = function (state) {\n  var i, l, rules;\n\n  rules = this.ruler.getRules('');\n\n  for (i = 0, l = rules.length; i < l; i++) {\n    rules[i](state);\n  }\n};\n\nCore.prototype.State = require('./rules_core/state_core');\n\n\nmodule.exports = Core;\n","// Normalize input string\n\n'use strict';\n\n\n// https://spec.commonmark.org/0.29/#line-ending\nvar NEWLINES_RE  = /\\r\\n?|\\n/g;\nvar NULL_RE      = /\\0/g;\n\n\nmodule.exports = function normalize(state) {\n  var str;\n\n  // Normalize newlines\n  str = state.src.replace(NEWLINES_RE, '\\n');\n\n  // Replace NULL characters\n  str = str.replace(NULL_RE, '\\uFFFD');\n\n  state.src = str;\n};\n","'use strict';\n\n\nmodule.exports = function block(state) {\n  var token;\n\n  if (state.inlineMode) {\n    token          = new state.Token('inline', '', 0);\n    token.content  = state.src;\n    token.map      = [ 0, 1 ];\n    token.children = [];\n    state.tokens.push(token);\n  } else {\n    state.md.block.parse(state.src, state.md, state.env, state.tokens);\n  }\n};\n","'use strict';\n\nmodule.exports = function inline(state) {\n  var tokens = state.tokens, tok, i, l;\n\n  // Parse inlines\n  for (i = 0, l = tokens.length; i < l; i++) {\n    tok = tokens[i];\n    if (tok.type === 'inline') {\n      state.md.inline.parse(tok.content, state.md, state.env, tok.children);\n    }\n  }\n};\n","// Replace link-like texts with link nodes.\n//\n// Currently restricted by `md.validateLink()` to http/https/ftp\n//\n'use strict';\n\n\nvar arrayReplaceAt = require('../common/utils').arrayReplaceAt;\n\n\nfunction isLinkOpen(str) {\n  return /^<a[>\\s]/i.test(str);\n}\nfunction isLinkClose(str) {\n  return /^<\\/a\\s*>/i.test(str);\n}\n\n\nmodule.exports = function linkify(state) {\n  var i, j, l, tokens, token, currentToken, nodes, ln, text, pos, lastPos,\n      level, htmlLinkLevel, url, fullUrl, urlText,\n      blockTokens = state.tokens,\n      links;\n\n  if (!state.md.options.linkify) { return; }\n\n  for (j = 0, l = blockTokens.length; j < l; j++) {\n    if (blockTokens[j].type !== 'inline' ||\n        !state.md.linkify.pretest(blockTokens[j].content)) {\n      continue;\n    }\n\n    tokens = blockTokens[j].children;\n\n    htmlLinkLevel = 0;\n\n    // We scan from the end, to keep position when new tags added.\n    // Use reversed logic in links start/end match\n    for (i = tokens.length - 1; i >= 0; i--) {\n      currentToken = tokens[i];\n\n      // Skip content of markdown links\n      if (currentToken.type === 'link_close') {\n        i--;\n        while (tokens[i].level !== currentToken.level && tokens[i].type !== 'link_open') {\n          i--;\n        }\n        continue;\n      }\n\n      // Skip content of html tag links\n      if (currentToken.type === 'html_inline') {\n        if (isLinkOpen(currentToken.content) && htmlLinkLevel > 0) {\n          htmlLinkLevel--;\n        }\n        if (isLinkClose(currentToken.content)) {\n          htmlLinkLevel++;\n        }\n      }\n      if (htmlLinkLevel > 0) { continue; }\n\n      if (currentToken.type === 'text' && state.md.linkify.test(currentToken.content)) {\n\n        text = currentToken.content;\n        links = state.md.linkify.match(text);\n\n        // Now split string to nodes\n        nodes = [];\n        level = currentToken.level;\n        lastPos = 0;\n\n        for (ln = 0; ln < links.length; ln++) {\n\n          url = links[ln].url;\n          fullUrl = state.md.normalizeLink(url);\n          if (!state.md.validateLink(fullUrl)) { continue; }\n\n          urlText = links[ln].text;\n\n          // Linkifier might send raw hostnames like \"example.com\", where url\n          // starts with domain name. So we prepend http:// in those cases,\n          // and remove it afterwards.\n          //\n          if (!links[ln].schema) {\n            urlText = state.md.normalizeLinkText('http://' + urlText).replace(/^http:\\/\\//, '');\n          } else if (links[ln].schema === 'mailto:' && !/^mailto:/i.test(urlText)) {\n            urlText = state.md.normalizeLinkText('mailto:' + urlText).replace(/^mailto:/, '');\n          } else {\n            urlText = state.md.normalizeLinkText(urlText);\n          }\n\n          pos = links[ln].index;\n\n          if (pos > lastPos) {\n            token         = new state.Token('text', '', 0);\n            token.content = text.slice(lastPos, pos);\n            token.level   = level;\n            nodes.push(token);\n          }\n\n          token         = new state.Token('link_open', 'a', 1);\n          token.attrs   = [ [ 'href', fullUrl ] ];\n          token.level   = level++;\n          token.markup  = 'linkify';\n          token.info    = 'auto';\n          nodes.push(token);\n\n          token         = new state.Token('text', '', 0);\n          token.content = urlText;\n          token.level   = level;\n          nodes.push(token);\n\n          token         = new state.Token('link_close', 'a', -1);\n          token.level   = --level;\n          token.markup  = 'linkify';\n          token.info    = 'auto';\n          nodes.push(token);\n\n          lastPos = links[ln].lastIndex;\n        }\n        if (lastPos < text.length) {\n          token         = new state.Token('text', '', 0);\n          token.content = text.slice(lastPos);\n          token.level   = level;\n          nodes.push(token);\n        }\n\n        // replace current node\n        blockTokens[j].children = tokens = arrayReplaceAt(tokens, i, nodes);\n      }\n    }\n  }\n};\n","// Simple typographic replacements\n//\n// (c) (C) → ©\n// (tm) (TM) → ™\n// (r) (R) → ®\n// +- → ±\n// (p) (P) -> §\n// ... → … (also ?.... → ?.., !.... → !..)\n// ???????? → ???, !!!!! → !!!, `,,` → `,`\n// -- → &ndash;, --- → &mdash;\n//\n'use strict';\n\n// TODO:\n// - fractionals 1/2, 1/4, 3/4 -> ½, ¼, ¾\n// - miltiplication 2 x 4 -> 2 × 4\n\nvar RARE_RE = /\\+-|\\.\\.|\\?\\?\\?\\?|!!!!|,,|--/;\n\n// Workaround for phantomjs - need regex without /g flag,\n// or root check will fail every second time\nvar SCOPED_ABBR_TEST_RE = /\\((c|tm|r|p)\\)/i;\n\nvar SCOPED_ABBR_RE = /\\((c|tm|r|p)\\)/ig;\nvar SCOPED_ABBR = {\n  c: '©',\n  r: '®',\n  p: '§',\n  tm: '™'\n};\n\nfunction replaceFn(match, name) {\n  return SCOPED_ABBR[name.toLowerCase()];\n}\n\nfunction replace_scoped(inlineTokens) {\n  var i, token, inside_autolink = 0;\n\n  for (i = inlineTokens.length - 1; i >= 0; i--) {\n    token = inlineTokens[i];\n\n    if (token.type === 'text' && !inside_autolink) {\n      token.content = token.content.replace(SCOPED_ABBR_RE, replaceFn);\n    }\n\n    if (token.type === 'link_open' && token.info === 'auto') {\n      inside_autolink--;\n    }\n\n    if (token.type === 'link_close' && token.info === 'auto') {\n      inside_autolink++;\n    }\n  }\n}\n\nfunction replace_rare(inlineTokens) {\n  var i, token, inside_autolink = 0;\n\n  for (i = inlineTokens.length - 1; i >= 0; i--) {\n    token = inlineTokens[i];\n\n    if (token.type === 'text' && !inside_autolink) {\n      if (RARE_RE.test(token.content)) {\n        token.content = token.content\n          .replace(/\\+-/g, '±')\n          // .., ..., ....... -> …\n          // but ?..... & !..... -> ?.. & !..\n          .replace(/\\.{2,}/g, '…').replace(/([?!])…/g, '$1..')\n          .replace(/([?!]){4,}/g, '$1$1$1').replace(/,{2,}/g, ',')\n          // em-dash\n          .replace(/(^|[^-])---(?=[^-]|$)/mg, '$1\\u2014')\n          // en-dash\n          .replace(/(^|\\s)--(?=\\s|$)/mg, '$1\\u2013')\n          .replace(/(^|[^-\\s])--(?=[^-\\s]|$)/mg, '$1\\u2013');\n      }\n    }\n\n    if (token.type === 'link_open' && token.info === 'auto') {\n      inside_autolink--;\n    }\n\n    if (token.type === 'link_close' && token.info === 'auto') {\n      inside_autolink++;\n    }\n  }\n}\n\n\nmodule.exports = function replace(state) {\n  var blkIdx;\n\n  if (!state.md.options.typographer) { return; }\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n\n    if (state.tokens[blkIdx].type !== 'inline') { continue; }\n\n    if (SCOPED_ABBR_TEST_RE.test(state.tokens[blkIdx].content)) {\n      replace_scoped(state.tokens[blkIdx].children);\n    }\n\n    if (RARE_RE.test(state.tokens[blkIdx].content)) {\n      replace_rare(state.tokens[blkIdx].children);\n    }\n\n  }\n};\n","// Convert straight quotation marks to typographic ones\n//\n'use strict';\n\n\nvar isWhiteSpace   = require('../common/utils').isWhiteSpace;\nvar isPunctChar    = require('../common/utils').isPunctChar;\nvar isMdAsciiPunct = require('../common/utils').isMdAsciiPunct;\n\nvar QUOTE_TEST_RE = /['\"]/;\nvar QUOTE_RE = /['\"]/g;\nvar APOSTROPHE = '\\u2019'; /* ’ */\n\n\nfunction replaceAt(str, index, ch) {\n  return str.substr(0, index) + ch + str.substr(index + 1);\n}\n\nfunction process_inlines(tokens, state) {\n  var i, token, text, t, pos, max, thisLevel, item, lastChar, nextChar,\n      isLastPunctChar, isNextPunctChar, isLastWhiteSpace, isNextWhiteSpace,\n      canOpen, canClose, j, isSingle, stack, openQuote, closeQuote;\n\n  stack = [];\n\n  for (i = 0; i < tokens.length; i++) {\n    token = tokens[i];\n\n    thisLevel = tokens[i].level;\n\n    for (j = stack.length - 1; j >= 0; j--) {\n      if (stack[j].level <= thisLevel) { break; }\n    }\n    stack.length = j + 1;\n\n    if (token.type !== 'text') { continue; }\n\n    text = token.content;\n    pos = 0;\n    max = text.length;\n\n    /*eslint no-labels:0,block-scoped-var:0*/\n    OUTER:\n    while (pos < max) {\n      QUOTE_RE.lastIndex = pos;\n      t = QUOTE_RE.exec(text);\n      if (!t) { break; }\n\n      canOpen = canClose = true;\n      pos = t.index + 1;\n      isSingle = (t[0] === \"'\");\n\n      // Find previous character,\n      // default to space if it's the beginning of the line\n      //\n      lastChar = 0x20;\n\n      if (t.index - 1 >= 0) {\n        lastChar = text.charCodeAt(t.index - 1);\n      } else {\n        for (j = i - 1; j >= 0; j--) {\n          if (tokens[j].type === 'softbreak' || tokens[j].type === 'hardbreak') break; // lastChar defaults to 0x20\n          if (!tokens[j].content) continue; // should skip all tokens except 'text', 'html_inline' or 'code_inline'\n\n          lastChar = tokens[j].content.charCodeAt(tokens[j].content.length - 1);\n          break;\n        }\n      }\n\n      // Find next character,\n      // default to space if it's the end of the line\n      //\n      nextChar = 0x20;\n\n      if (pos < max) {\n        nextChar = text.charCodeAt(pos);\n      } else {\n        for (j = i + 1; j < tokens.length; j++) {\n          if (tokens[j].type === 'softbreak' || tokens[j].type === 'hardbreak') break; // nextChar defaults to 0x20\n          if (!tokens[j].content) continue; // should skip all tokens except 'text', 'html_inline' or 'code_inline'\n\n          nextChar = tokens[j].content.charCodeAt(0);\n          break;\n        }\n      }\n\n      isLastPunctChar = isMdAsciiPunct(lastChar) || isPunctChar(String.fromCharCode(lastChar));\n      isNextPunctChar = isMdAsciiPunct(nextChar) || isPunctChar(String.fromCharCode(nextChar));\n\n      isLastWhiteSpace = isWhiteSpace(lastChar);\n      isNextWhiteSpace = isWhiteSpace(nextChar);\n\n      if (isNextWhiteSpace) {\n        canOpen = false;\n      } else if (isNextPunctChar) {\n        if (!(isLastWhiteSpace || isLastPunctChar)) {\n          canOpen = false;\n        }\n      }\n\n      if (isLastWhiteSpace) {\n        canClose = false;\n      } else if (isLastPunctChar) {\n        if (!(isNextWhiteSpace || isNextPunctChar)) {\n          canClose = false;\n        }\n      }\n\n      if (nextChar === 0x22 /* \" */ && t[0] === '\"') {\n        if (lastChar >= 0x30 /* 0 */ && lastChar <= 0x39 /* 9 */) {\n          // special case: 1\"\" - count first quote as an inch\n          canClose = canOpen = false;\n        }\n      }\n\n      if (canOpen && canClose) {\n        // Replace quotes in the middle of punctuation sequence, but not\n        // in the middle of the words, i.e.:\n        //\n        // 1. foo \" bar \" baz - not replaced\n        // 2. foo-\"-bar-\"-baz - replaced\n        // 3. foo\"bar\"baz     - not replaced\n        //\n        canOpen = isLastPunctChar;\n        canClose = isNextPunctChar;\n      }\n\n      if (!canOpen && !canClose) {\n        // middle of word\n        if (isSingle) {\n          token.content = replaceAt(token.content, t.index, APOSTROPHE);\n        }\n        continue;\n      }\n\n      if (canClose) {\n        // this could be a closing quote, rewind the stack to get a match\n        for (j = stack.length - 1; j >= 0; j--) {\n          item = stack[j];\n          if (stack[j].level < thisLevel) { break; }\n          if (item.single === isSingle && stack[j].level === thisLevel) {\n            item = stack[j];\n\n            if (isSingle) {\n              openQuote = state.md.options.quotes[2];\n              closeQuote = state.md.options.quotes[3];\n            } else {\n              openQuote = state.md.options.quotes[0];\n              closeQuote = state.md.options.quotes[1];\n            }\n\n            // replace token.content *before* tokens[item.token].content,\n            // because, if they are pointing at the same token, replaceAt\n            // could mess up indices when quote length != 1\n            token.content = replaceAt(token.content, t.index, closeQuote);\n            tokens[item.token].content = replaceAt(\n              tokens[item.token].content, item.pos, openQuote);\n\n            pos += closeQuote.length - 1;\n            if (item.token === i) { pos += openQuote.length - 1; }\n\n            text = token.content;\n            max = text.length;\n\n            stack.length = j;\n            continue OUTER;\n          }\n        }\n      }\n\n      if (canOpen) {\n        stack.push({\n          token: i,\n          pos: t.index,\n          single: isSingle,\n          level: thisLevel\n        });\n      } else if (canClose && isSingle) {\n        token.content = replaceAt(token.content, t.index, APOSTROPHE);\n      }\n    }\n  }\n}\n\n\nmodule.exports = function smartquotes(state) {\n  /*eslint max-depth:0*/\n  var blkIdx;\n\n  if (!state.md.options.typographer) { return; }\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n\n    if (state.tokens[blkIdx].type !== 'inline' ||\n        !QUOTE_TEST_RE.test(state.tokens[blkIdx].content)) {\n      continue;\n    }\n\n    process_inlines(state.tokens[blkIdx].children, state);\n  }\n};\n","// Core state object\n//\n'use strict';\n\nvar Token = require('../token');\n\n\nfunction StateCore(src, md, env) {\n  this.src = src;\n  this.env = env;\n  this.tokens = [];\n  this.inlineMode = false;\n  this.md = md; // link to parser instance\n}\n\n// re-export Token class to use in core rules\nStateCore.prototype.Token = Token;\n\n\nmodule.exports = StateCore;\n","/** internal\n * class ParserBlock\n *\n * Block-level tokenizer.\n **/\n'use strict';\n\n\nvar Ruler           = require('./ruler');\n\n\nvar _rules = [\n  // First 2 params - rule name & source. Secondary array - list of rules,\n  // which can be terminated by this one.\n  [ 'table',      require('./rules_block/table'),      [ 'paragraph', 'reference' ] ],\n  [ 'code',       require('./rules_block/code') ],\n  [ 'fence',      require('./rules_block/fence'),      [ 'paragraph', 'reference', 'blockquote', 'list' ] ],\n  [ 'blockquote', require('./rules_block/blockquote'), [ 'paragraph', 'reference', 'blockquote', 'list' ] ],\n  [ 'hr',         require('./rules_block/hr'),         [ 'paragraph', 'reference', 'blockquote', 'list' ] ],\n  [ 'list',       require('./rules_block/list'),       [ 'paragraph', 'reference', 'blockquote' ] ],\n  [ 'reference',  require('./rules_block/reference') ],\n  [ 'heading',    require('./rules_block/heading'),    [ 'paragraph', 'reference', 'blockquote' ] ],\n  [ 'lheading',   require('./rules_block/lheading') ],\n  [ 'html_block', require('./rules_block/html_block'), [ 'paragraph', 'reference', 'blockquote' ] ],\n  [ 'paragraph',  require('./rules_block/paragraph') ]\n];\n\n\n/**\n * new ParserBlock()\n **/\nfunction ParserBlock() {\n  /**\n   * ParserBlock#ruler -> Ruler\n   *\n   * [[Ruler]] instance. Keep configuration of block rules.\n   **/\n  this.ruler = new Ruler();\n\n  for (var i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1], { alt: (_rules[i][2] || []).slice() });\n  }\n}\n\n\n// Generate tokens for input range\n//\nParserBlock.prototype.tokenize = function (state, startLine, endLine) {\n  var ok, i,\n      rules = this.ruler.getRules(''),\n      len = rules.length,\n      line = startLine,\n      hasEmptyLines = false,\n      maxNesting = state.md.options.maxNesting;\n\n  while (line < endLine) {\n    state.line = line = state.skipEmptyLines(line);\n    if (line >= endLine) { break; }\n\n    // Termination condition for nested calls.\n    // Nested calls currently used for blockquotes & lists\n    if (state.sCount[line] < state.blkIndent) { break; }\n\n    // If nesting level exceeded - skip tail to the end. That's not ordinary\n    // situation and we should not care about content.\n    if (state.level >= maxNesting) {\n      state.line = endLine;\n      break;\n    }\n\n    // Try all possible rules.\n    // On success, rule should:\n    //\n    // - update `state.line`\n    // - update `state.tokens`\n    // - return true\n\n    for (i = 0; i < len; i++) {\n      ok = rules[i](state, line, endLine, false);\n      if (ok) { break; }\n    }\n\n    // set state.tight if we had an empty line before current tag\n    // i.e. latest empty line should not count\n    state.tight = !hasEmptyLines;\n\n    // paragraph might \"eat\" one newline after it in nested lists\n    if (state.isEmpty(state.line - 1)) {\n      hasEmptyLines = true;\n    }\n\n    line = state.line;\n\n    if (line < endLine && state.isEmpty(line)) {\n      hasEmptyLines = true;\n      line++;\n      state.line = line;\n    }\n  }\n};\n\n\n/**\n * ParserBlock.parse(str, md, env, outTokens)\n *\n * Process input string and push block tokens into `outTokens`\n **/\nParserBlock.prototype.parse = function (src, md, env, outTokens) {\n  var state;\n\n  if (!src) { return; }\n\n  state = new this.State(src, md, env, outTokens);\n\n  this.tokenize(state, state.line, state.lineMax);\n};\n\n\nParserBlock.prototype.State = require('./rules_block/state_block');\n\n\nmodule.exports = ParserBlock;\n","// GFM table, non-standard\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nfunction getLine(state, line) {\n  var pos = state.bMarks[line] + state.blkIndent,\n      max = state.eMarks[line];\n\n  return state.src.substr(pos, max - pos);\n}\n\nfunction escapedSplit(str) {\n  var result = [],\n      pos = 0,\n      max = str.length,\n      ch,\n      escapes = 0,\n      lastPos = 0,\n      backTicked = false,\n      lastBackTick = 0;\n\n  ch  = str.charCodeAt(pos);\n\n  while (pos < max) {\n    if (ch === 0x60/* ` */) {\n      if (backTicked) {\n        // make \\` close code sequence, but not open it;\n        // the reason is: `\\` is correct code block\n        backTicked = false;\n        lastBackTick = pos;\n      } else if (escapes % 2 === 0) {\n        backTicked = true;\n        lastBackTick = pos;\n      }\n    } else if (ch === 0x7c/* | */ && (escapes % 2 === 0) && !backTicked) {\n      result.push(str.substring(lastPos, pos));\n      lastPos = pos + 1;\n    }\n\n    if (ch === 0x5c/* \\ */) {\n      escapes++;\n    } else {\n      escapes = 0;\n    }\n\n    pos++;\n\n    // If there was an un-closed backtick, go back to just after\n    // the last backtick, but as if it was a normal character\n    if (pos === max && backTicked) {\n      backTicked = false;\n      pos = lastBackTick + 1;\n    }\n\n    ch = str.charCodeAt(pos);\n  }\n\n  result.push(str.substring(lastPos));\n\n  return result;\n}\n\n\nmodule.exports = function table(state, startLine, endLine, silent) {\n  var ch, lineText, pos, i, nextLine, columns, columnCount, token,\n      aligns, t, tableLines, tbodyLines;\n\n  // should have at least two lines\n  if (startLine + 2 > endLine) { return false; }\n\n  nextLine = startLine + 1;\n\n  if (state.sCount[nextLine] < state.blkIndent) { return false; }\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[nextLine] - state.blkIndent >= 4) { return false; }\n\n  // first character of the second line should be '|', '-', ':',\n  // and no other characters are allowed but spaces;\n  // basically, this is the equivalent of /^[-:|][-:|\\s]*$/ regexp\n\n  pos = state.bMarks[nextLine] + state.tShift[nextLine];\n  if (pos >= state.eMarks[nextLine]) { return false; }\n\n  ch = state.src.charCodeAt(pos++);\n  if (ch !== 0x7C/* | */ && ch !== 0x2D/* - */ && ch !== 0x3A/* : */) { return false; }\n\n  while (pos < state.eMarks[nextLine]) {\n    ch = state.src.charCodeAt(pos);\n\n    if (ch !== 0x7C/* | */ && ch !== 0x2D/* - */ && ch !== 0x3A/* : */ && !isSpace(ch)) { return false; }\n\n    pos++;\n  }\n\n  lineText = getLine(state, startLine + 1);\n\n  columns = lineText.split('|');\n  aligns = [];\n  for (i = 0; i < columns.length; i++) {\n    t = columns[i].trim();\n    if (!t) {\n      // allow empty columns before and after table, but not in between columns;\n      // e.g. allow ` |---| `, disallow ` ---||--- `\n      if (i === 0 || i === columns.length - 1) {\n        continue;\n      } else {\n        return false;\n      }\n    }\n\n    if (!/^:?-+:?$/.test(t)) { return false; }\n    if (t.charCodeAt(t.length - 1) === 0x3A/* : */) {\n      aligns.push(t.charCodeAt(0) === 0x3A/* : */ ? 'center' : 'right');\n    } else if (t.charCodeAt(0) === 0x3A/* : */) {\n      aligns.push('left');\n    } else {\n      aligns.push('');\n    }\n  }\n\n  lineText = getLine(state, startLine).trim();\n  if (lineText.indexOf('|') === -1) { return false; }\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n  columns = escapedSplit(lineText.replace(/^\\||\\|$/g, ''));\n\n  // header row will define an amount of columns in the entire table,\n  // and align row shouldn't be smaller than that (the rest of the rows can)\n  columnCount = columns.length;\n  if (columnCount > aligns.length) { return false; }\n\n  if (silent) { return true; }\n\n  token     = state.push('table_open', 'table', 1);\n  token.map = tableLines = [ startLine, 0 ];\n\n  token     = state.push('thead_open', 'thead', 1);\n  token.map = [ startLine, startLine + 1 ];\n\n  token     = state.push('tr_open', 'tr', 1);\n  token.map = [ startLine, startLine + 1 ];\n\n  for (i = 0; i < columns.length; i++) {\n    token          = state.push('th_open', 'th', 1);\n    token.map      = [ startLine, startLine + 1 ];\n    if (aligns[i]) {\n      token.attrs  = [ [ 'style', 'text-align:' + aligns[i] ] ];\n    }\n\n    token          = state.push('inline', '', 0);\n    token.content  = columns[i].trim();\n    token.map      = [ startLine, startLine + 1 ];\n    token.children = [];\n\n    token          = state.push('th_close', 'th', -1);\n  }\n\n  token     = state.push('tr_close', 'tr', -1);\n  token     = state.push('thead_close', 'thead', -1);\n\n  token     = state.push('tbody_open', 'tbody', 1);\n  token.map = tbodyLines = [ startLine + 2, 0 ];\n\n  for (nextLine = startLine + 2; nextLine < endLine; nextLine++) {\n    if (state.sCount[nextLine] < state.blkIndent) { break; }\n\n    lineText = getLine(state, nextLine).trim();\n    if (lineText.indexOf('|') === -1) { break; }\n    if (state.sCount[nextLine] - state.blkIndent >= 4) { break; }\n    columns = escapedSplit(lineText.replace(/^\\||\\|$/g, ''));\n\n    token = state.push('tr_open', 'tr', 1);\n    for (i = 0; i < columnCount; i++) {\n      token          = state.push('td_open', 'td', 1);\n      token.map      = [ nextLine, nextLine + 1 ];\n      if (aligns[i]) {\n        token.attrs  = [ [ 'style', 'text-align:' + aligns[i] ] ];\n      }\n\n      token          = state.push('inline', '', 0);\n      token.map      = [ nextLine, nextLine + 1 ];\n      token.content  = columns[i] ? columns[i].trim() : '';\n      token.children = [];\n\n      token          = state.push('td_close', 'td', -1);\n    }\n    token = state.push('tr_close', 'tr', -1);\n  }\n  token = state.push('tbody_close', 'tbody', -1);\n  token = state.push('table_close', 'table', -1);\n\n  tableLines[1] = tbodyLines[1] = nextLine;\n  state.line = nextLine;\n  return true;\n};\n","// Code block (4 spaces padded)\n\n'use strict';\n\n\nmodule.exports = function code(state, startLine, endLine/*, silent*/) {\n  var nextLine, last, token;\n\n  if (state.sCount[startLine] - state.blkIndent < 4) { return false; }\n\n  last = nextLine = startLine + 1;\n\n  while (nextLine < endLine) {\n    if (state.isEmpty(nextLine)) {\n      nextLine++;\n      continue;\n    }\n\n    if (state.sCount[nextLine] - state.blkIndent >= 4) {\n      nextLine++;\n      last = nextLine;\n      continue;\n    }\n    break;\n  }\n\n  state.line = last;\n\n  token         = state.push('code_block', 'code', 0);\n  token.content = state.getLines(startLine, last, 4 + state.blkIndent, true);\n  token.map     = [ startLine, state.line ];\n\n  return true;\n};\n","// fences (``` lang, ~~~ lang)\n\n'use strict';\n\n\nmodule.exports = function fence(state, startLine, endLine, silent) {\n  var marker, len, params, nextLine, mem, token, markup,\n      haveEndMarker = false,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  if (pos + 3 > max) { return false; }\n\n  marker = state.src.charCodeAt(pos);\n\n  if (marker !== 0x7E/* ~ */ && marker !== 0x60 /* ` */) {\n    return false;\n  }\n\n  // scan marker length\n  mem = pos;\n  pos = state.skipChars(pos, marker);\n\n  len = pos - mem;\n\n  if (len < 3) { return false; }\n\n  markup = state.src.slice(mem, pos);\n  params = state.src.slice(pos, max);\n\n  if (marker === 0x60 /* ` */) {\n    if (params.indexOf(String.fromCharCode(marker)) >= 0) {\n      return false;\n    }\n  }\n\n  // Since start is found, we can report success here in validation mode\n  if (silent) { return true; }\n\n  // search end of block\n  nextLine = startLine;\n\n  for (;;) {\n    nextLine++;\n    if (nextLine >= endLine) {\n      // unclosed block should be autoclosed by end of document.\n      // also block seems to be autoclosed by end of parent\n      break;\n    }\n\n    pos = mem = state.bMarks[nextLine] + state.tShift[nextLine];\n    max = state.eMarks[nextLine];\n\n    if (pos < max && state.sCount[nextLine] < state.blkIndent) {\n      // non-empty line with negative indent should stop the list:\n      // - ```\n      //  test\n      break;\n    }\n\n    if (state.src.charCodeAt(pos) !== marker) { continue; }\n\n    if (state.sCount[nextLine] - state.blkIndent >= 4) {\n      // closing fence should be indented less than 4 spaces\n      continue;\n    }\n\n    pos = state.skipChars(pos, marker);\n\n    // closing code fence must be at least as long as the opening one\n    if (pos - mem < len) { continue; }\n\n    // make sure tail has spaces only\n    pos = state.skipSpaces(pos);\n\n    if (pos < max) { continue; }\n\n    haveEndMarker = true;\n    // found!\n    break;\n  }\n\n  // If a fence has heading spaces, they should be removed from its inner block\n  len = state.sCount[startLine];\n\n  state.line = nextLine + (haveEndMarker ? 1 : 0);\n\n  token         = state.push('fence', 'code', 0);\n  token.info    = params;\n  token.content = state.getLines(startLine + 1, nextLine, len, true);\n  token.markup  = markup;\n  token.map     = [ startLine, state.line ];\n\n  return true;\n};\n","// Block quotes\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function blockquote(state, startLine, endLine, silent) {\n  var adjustTab,\n      ch,\n      i,\n      initial,\n      l,\n      lastLineEmpty,\n      lines,\n      nextLine,\n      offset,\n      oldBMarks,\n      oldBSCount,\n      oldIndent,\n      oldParentType,\n      oldSCount,\n      oldTShift,\n      spaceAfterMarker,\n      terminate,\n      terminatorRules,\n      token,\n      isOutdented,\n      oldLineMax = state.lineMax,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  // check the block quote marker\n  if (state.src.charCodeAt(pos++) !== 0x3E/* > */) { return false; }\n\n  // we know that it's going to be a valid blockquote,\n  // so no point trying to find the end of it in silent mode\n  if (silent) { return true; }\n\n  // set offset past spaces and \">\"\n  initial = offset = state.sCount[startLine] + 1;\n\n  // skip one optional space after '>'\n  if (state.src.charCodeAt(pos) === 0x20 /* space */) {\n    // ' >   test '\n    //     ^ -- position start of line here:\n    pos++;\n    initial++;\n    offset++;\n    adjustTab = false;\n    spaceAfterMarker = true;\n  } else if (state.src.charCodeAt(pos) === 0x09 /* tab */) {\n    spaceAfterMarker = true;\n\n    if ((state.bsCount[startLine] + offset) % 4 === 3) {\n      // '  >\\t  test '\n      //       ^ -- position start of line here (tab has width===1)\n      pos++;\n      initial++;\n      offset++;\n      adjustTab = false;\n    } else {\n      // ' >\\t  test '\n      //    ^ -- position start of line here + shift bsCount slightly\n      //         to make extra space appear\n      adjustTab = true;\n    }\n  } else {\n    spaceAfterMarker = false;\n  }\n\n  oldBMarks = [ state.bMarks[startLine] ];\n  state.bMarks[startLine] = pos;\n\n  while (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (isSpace(ch)) {\n      if (ch === 0x09) {\n        offset += 4 - (offset + state.bsCount[startLine] + (adjustTab ? 1 : 0)) % 4;\n      } else {\n        offset++;\n      }\n    } else {\n      break;\n    }\n\n    pos++;\n  }\n\n  oldBSCount = [ state.bsCount[startLine] ];\n  state.bsCount[startLine] = state.sCount[startLine] + 1 + (spaceAfterMarker ? 1 : 0);\n\n  lastLineEmpty = pos >= max;\n\n  oldSCount = [ state.sCount[startLine] ];\n  state.sCount[startLine] = offset - initial;\n\n  oldTShift = [ state.tShift[startLine] ];\n  state.tShift[startLine] = pos - state.bMarks[startLine];\n\n  terminatorRules = state.md.block.ruler.getRules('blockquote');\n\n  oldParentType = state.parentType;\n  state.parentType = 'blockquote';\n\n  // Search the end of the block\n  //\n  // Block ends with either:\n  //  1. an empty line outside:\n  //     ```\n  //     > test\n  //\n  //     ```\n  //  2. an empty line inside:\n  //     ```\n  //     >\n  //     test\n  //     ```\n  //  3. another tag:\n  //     ```\n  //     > test\n  //      - - -\n  //     ```\n  for (nextLine = startLine + 1; nextLine < endLine; nextLine++) {\n    // check if it's outdented, i.e. it's inside list item and indented\n    // less than said list item:\n    //\n    // ```\n    // 1. anything\n    //    > current blockquote\n    // 2. checking this line\n    // ```\n    isOutdented = state.sCount[nextLine] < state.blkIndent;\n\n    pos = state.bMarks[nextLine] + state.tShift[nextLine];\n    max = state.eMarks[nextLine];\n\n    if (pos >= max) {\n      // Case 1: line is not inside the blockquote, and this line is empty.\n      break;\n    }\n\n    if (state.src.charCodeAt(pos++) === 0x3E/* > */ && !isOutdented) {\n      // This line is inside the blockquote.\n\n      // set offset past spaces and \">\"\n      initial = offset = state.sCount[nextLine] + 1;\n\n      // skip one optional space after '>'\n      if (state.src.charCodeAt(pos) === 0x20 /* space */) {\n        // ' >   test '\n        //     ^ -- position start of line here:\n        pos++;\n        initial++;\n        offset++;\n        adjustTab = false;\n        spaceAfterMarker = true;\n      } else if (state.src.charCodeAt(pos) === 0x09 /* tab */) {\n        spaceAfterMarker = true;\n\n        if ((state.bsCount[nextLine] + offset) % 4 === 3) {\n          // '  >\\t  test '\n          //       ^ -- position start of line here (tab has width===1)\n          pos++;\n          initial++;\n          offset++;\n          adjustTab = false;\n        } else {\n          // ' >\\t  test '\n          //    ^ -- position start of line here + shift bsCount slightly\n          //         to make extra space appear\n          adjustTab = true;\n        }\n      } else {\n        spaceAfterMarker = false;\n      }\n\n      oldBMarks.push(state.bMarks[nextLine]);\n      state.bMarks[nextLine] = pos;\n\n      while (pos < max) {\n        ch = state.src.charCodeAt(pos);\n\n        if (isSpace(ch)) {\n          if (ch === 0x09) {\n            offset += 4 - (offset + state.bsCount[nextLine] + (adjustTab ? 1 : 0)) % 4;\n          } else {\n            offset++;\n          }\n        } else {\n          break;\n        }\n\n        pos++;\n      }\n\n      lastLineEmpty = pos >= max;\n\n      oldBSCount.push(state.bsCount[nextLine]);\n      state.bsCount[nextLine] = state.sCount[nextLine] + 1 + (spaceAfterMarker ? 1 : 0);\n\n      oldSCount.push(state.sCount[nextLine]);\n      state.sCount[nextLine] = offset - initial;\n\n      oldTShift.push(state.tShift[nextLine]);\n      state.tShift[nextLine] = pos - state.bMarks[nextLine];\n      continue;\n    }\n\n    // Case 2: line is not inside the blockquote, and the last line was empty.\n    if (lastLineEmpty) { break; }\n\n    // Case 3: another tag found.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n\n    if (terminate) {\n      // Quirk to enforce \"hard termination mode\" for paragraphs;\n      // normally if you call `tokenize(state, startLine, nextLine)`,\n      // paragraphs will look below nextLine for paragraph continuation,\n      // but if blockquote is terminated by another tag, they shouldn't\n      state.lineMax = nextLine;\n\n      if (state.blkIndent !== 0) {\n        // state.blkIndent was non-zero, we now set it to zero,\n        // so we need to re-calculate all offsets to appear as\n        // if indent wasn't changed\n        oldBMarks.push(state.bMarks[nextLine]);\n        oldBSCount.push(state.bsCount[nextLine]);\n        oldTShift.push(state.tShift[nextLine]);\n        oldSCount.push(state.sCount[nextLine]);\n        state.sCount[nextLine] -= state.blkIndent;\n      }\n\n      break;\n    }\n\n    oldBMarks.push(state.bMarks[nextLine]);\n    oldBSCount.push(state.bsCount[nextLine]);\n    oldTShift.push(state.tShift[nextLine]);\n    oldSCount.push(state.sCount[nextLine]);\n\n    // A negative indentation means that this is a paragraph continuation\n    //\n    state.sCount[nextLine] = -1;\n  }\n\n  oldIndent = state.blkIndent;\n  state.blkIndent = 0;\n\n  token        = state.push('blockquote_open', 'blockquote', 1);\n  token.markup = '>';\n  token.map    = lines = [ startLine, 0 ];\n\n  state.md.block.tokenize(state, startLine, nextLine);\n\n  token        = state.push('blockquote_close', 'blockquote', -1);\n  token.markup = '>';\n\n  state.lineMax = oldLineMax;\n  state.parentType = oldParentType;\n  lines[1] = state.line;\n\n  // Restore original tShift; this might not be necessary since the parser\n  // has already been here, but just to make sure we can do that.\n  for (i = 0; i < oldTShift.length; i++) {\n    state.bMarks[i + startLine] = oldBMarks[i];\n    state.tShift[i + startLine] = oldTShift[i];\n    state.sCount[i + startLine] = oldSCount[i];\n    state.bsCount[i + startLine] = oldBSCount[i];\n  }\n  state.blkIndent = oldIndent;\n\n  return true;\n};\n","// Horizontal rule\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function hr(state, startLine, endLine, silent) {\n  var marker, cnt, ch, token,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  marker = state.src.charCodeAt(pos++);\n\n  // Check hr marker\n  if (marker !== 0x2A/* * */ &&\n      marker !== 0x2D/* - */ &&\n      marker !== 0x5F/* _ */) {\n    return false;\n  }\n\n  // markers can be mixed with spaces, but there should be at least 3 of them\n\n  cnt = 1;\n  while (pos < max) {\n    ch = state.src.charCodeAt(pos++);\n    if (ch !== marker && !isSpace(ch)) { return false; }\n    if (ch === marker) { cnt++; }\n  }\n\n  if (cnt < 3) { return false; }\n\n  if (silent) { return true; }\n\n  state.line = startLine + 1;\n\n  token        = state.push('hr', 'hr', 0);\n  token.map    = [ startLine, state.line ];\n  token.markup = Array(cnt + 1).join(String.fromCharCode(marker));\n\n  return true;\n};\n","// Lists\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\n// Search `[-+*][\\n ]`, returns next pos after marker on success\n// or -1 on fail.\nfunction skipBulletListMarker(state, startLine) {\n  var marker, pos, max, ch;\n\n  pos = state.bMarks[startLine] + state.tShift[startLine];\n  max = state.eMarks[startLine];\n\n  marker = state.src.charCodeAt(pos++);\n  // Check bullet\n  if (marker !== 0x2A/* * */ &&\n      marker !== 0x2D/* - */ &&\n      marker !== 0x2B/* + */) {\n    return -1;\n  }\n\n  if (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (!isSpace(ch)) {\n      // \" -test \" - is not a list item\n      return -1;\n    }\n  }\n\n  return pos;\n}\n\n// Search `\\d+[.)][\\n ]`, returns next pos after marker on success\n// or -1 on fail.\nfunction skipOrderedListMarker(state, startLine) {\n  var ch,\n      start = state.bMarks[startLine] + state.tShift[startLine],\n      pos = start,\n      max = state.eMarks[startLine];\n\n  // List marker should have at least 2 chars (digit + dot)\n  if (pos + 1 >= max) { return -1; }\n\n  ch = state.src.charCodeAt(pos++);\n\n  if (ch < 0x30/* 0 */ || ch > 0x39/* 9 */) { return -1; }\n\n  for (;;) {\n    // EOL -> fail\n    if (pos >= max) { return -1; }\n\n    ch = state.src.charCodeAt(pos++);\n\n    if (ch >= 0x30/* 0 */ && ch <= 0x39/* 9 */) {\n\n      // List marker should have no more than 9 digits\n      // (prevents integer overflow in browsers)\n      if (pos - start >= 10) { return -1; }\n\n      continue;\n    }\n\n    // found valid marker\n    if (ch === 0x29/* ) */ || ch === 0x2e/* . */) {\n      break;\n    }\n\n    return -1;\n  }\n\n\n  if (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (!isSpace(ch)) {\n      // \" 1.test \" - is not a list item\n      return -1;\n    }\n  }\n  return pos;\n}\n\nfunction markTightParagraphs(state, idx) {\n  var i, l,\n      level = state.level + 2;\n\n  for (i = idx + 2, l = state.tokens.length - 2; i < l; i++) {\n    if (state.tokens[i].level === level && state.tokens[i].type === 'paragraph_open') {\n      state.tokens[i + 2].hidden = true;\n      state.tokens[i].hidden = true;\n      i += 2;\n    }\n  }\n}\n\n\nmodule.exports = function list(state, startLine, endLine, silent) {\n  var ch,\n      contentStart,\n      i,\n      indent,\n      indentAfterMarker,\n      initial,\n      isOrdered,\n      itemLines,\n      l,\n      listLines,\n      listTokIdx,\n      markerCharCode,\n      markerValue,\n      max,\n      nextLine,\n      offset,\n      oldListIndent,\n      oldParentType,\n      oldSCount,\n      oldTShift,\n      oldTight,\n      pos,\n      posAfterMarker,\n      prevEmptyEnd,\n      start,\n      terminate,\n      terminatorRules,\n      token,\n      isTerminatingParagraph = false,\n      tight = true;\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  // Special case:\n  //  - item 1\n  //   - item 2\n  //    - item 3\n  //     - item 4\n  //      - this one is a paragraph continuation\n  if (state.listIndent >= 0 &&\n      state.sCount[startLine] - state.listIndent >= 4 &&\n      state.sCount[startLine] < state.blkIndent) {\n    return false;\n  }\n\n  // limit conditions when list can interrupt\n  // a paragraph (validation mode only)\n  if (silent && state.parentType === 'paragraph') {\n    // Next list item should still terminate previous list item;\n    //\n    // This code can fail if plugins use blkIndent as well as lists,\n    // but I hope the spec gets fixed long before that happens.\n    //\n    if (state.tShift[startLine] >= state.blkIndent) {\n      isTerminatingParagraph = true;\n    }\n  }\n\n  // Detect list type and position after marker\n  if ((posAfterMarker = skipOrderedListMarker(state, startLine)) >= 0) {\n    isOrdered = true;\n    start = state.bMarks[startLine] + state.tShift[startLine];\n    markerValue = Number(state.src.substr(start, posAfterMarker - start - 1));\n\n    // If we're starting a new ordered list right after\n    // a paragraph, it should start with 1.\n    if (isTerminatingParagraph && markerValue !== 1) return false;\n\n  } else if ((posAfterMarker = skipBulletListMarker(state, startLine)) >= 0) {\n    isOrdered = false;\n\n  } else {\n    return false;\n  }\n\n  // If we're starting a new unordered list right after\n  // a paragraph, first line should not be empty.\n  if (isTerminatingParagraph) {\n    if (state.skipSpaces(posAfterMarker) >= state.eMarks[startLine]) return false;\n  }\n\n  // We should terminate list on style change. Remember first one to compare.\n  markerCharCode = state.src.charCodeAt(posAfterMarker - 1);\n\n  // For validation mode we can terminate immediately\n  if (silent) { return true; }\n\n  // Start list\n  listTokIdx = state.tokens.length;\n\n  if (isOrdered) {\n    token       = state.push('ordered_list_open', 'ol', 1);\n    if (markerValue !== 1) {\n      token.attrs = [ [ 'start', markerValue ] ];\n    }\n\n  } else {\n    token       = state.push('bullet_list_open', 'ul', 1);\n  }\n\n  token.map    = listLines = [ startLine, 0 ];\n  token.markup = String.fromCharCode(markerCharCode);\n\n  //\n  // Iterate list items\n  //\n\n  nextLine = startLine;\n  prevEmptyEnd = false;\n  terminatorRules = state.md.block.ruler.getRules('list');\n\n  oldParentType = state.parentType;\n  state.parentType = 'list';\n\n  while (nextLine < endLine) {\n    pos = posAfterMarker;\n    max = state.eMarks[nextLine];\n\n    initial = offset = state.sCount[nextLine] + posAfterMarker - (state.bMarks[startLine] + state.tShift[startLine]);\n\n    while (pos < max) {\n      ch = state.src.charCodeAt(pos);\n\n      if (ch === 0x09) {\n        offset += 4 - (offset + state.bsCount[nextLine]) % 4;\n      } else if (ch === 0x20) {\n        offset++;\n      } else {\n        break;\n      }\n\n      pos++;\n    }\n\n    contentStart = pos;\n\n    if (contentStart >= max) {\n      // trimming space in \"-    \\n  3\" case, indent is 1 here\n      indentAfterMarker = 1;\n    } else {\n      indentAfterMarker = offset - initial;\n    }\n\n    // If we have more than 4 spaces, the indent is 1\n    // (the rest is just indented code block)\n    if (indentAfterMarker > 4) { indentAfterMarker = 1; }\n\n    // \"  -  test\"\n    //  ^^^^^ - calculating total length of this thing\n    indent = initial + indentAfterMarker;\n\n    // Run subparser & write tokens\n    token        = state.push('list_item_open', 'li', 1);\n    token.markup = String.fromCharCode(markerCharCode);\n    token.map    = itemLines = [ startLine, 0 ];\n\n    // change current state, then restore it after parser subcall\n    oldTight = state.tight;\n    oldTShift = state.tShift[startLine];\n    oldSCount = state.sCount[startLine];\n\n    //  - example list\n    // ^ listIndent position will be here\n    //   ^ blkIndent position will be here\n    //\n    oldListIndent = state.listIndent;\n    state.listIndent = state.blkIndent;\n    state.blkIndent = indent;\n\n    state.tight = true;\n    state.tShift[startLine] = contentStart - state.bMarks[startLine];\n    state.sCount[startLine] = offset;\n\n    if (contentStart >= max && state.isEmpty(startLine + 1)) {\n      // workaround for this case\n      // (list item is empty, list terminates before \"foo\"):\n      // ~~~~~~~~\n      //   -\n      //\n      //     foo\n      // ~~~~~~~~\n      state.line = Math.min(state.line + 2, endLine);\n    } else {\n      state.md.block.tokenize(state, startLine, endLine, true);\n    }\n\n    // If any of list item is tight, mark list as tight\n    if (!state.tight || prevEmptyEnd) {\n      tight = false;\n    }\n    // Item become loose if finish with empty line,\n    // but we should filter last element, because it means list finish\n    prevEmptyEnd = (state.line - startLine) > 1 && state.isEmpty(state.line - 1);\n\n    state.blkIndent = state.listIndent;\n    state.listIndent = oldListIndent;\n    state.tShift[startLine] = oldTShift;\n    state.sCount[startLine] = oldSCount;\n    state.tight = oldTight;\n\n    token        = state.push('list_item_close', 'li', -1);\n    token.markup = String.fromCharCode(markerCharCode);\n\n    nextLine = startLine = state.line;\n    itemLines[1] = nextLine;\n    contentStart = state.bMarks[startLine];\n\n    if (nextLine >= endLine) { break; }\n\n    //\n    // Try to check if list is terminated or continued.\n    //\n    if (state.sCount[nextLine] < state.blkIndent) { break; }\n\n    // if it's indented more than 3 spaces, it should be a code block\n    if (state.sCount[startLine] - state.blkIndent >= 4) { break; }\n\n    // fail if terminating block found\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n\n    // fail if list has another type\n    if (isOrdered) {\n      posAfterMarker = skipOrderedListMarker(state, nextLine);\n      if (posAfterMarker < 0) { break; }\n    } else {\n      posAfterMarker = skipBulletListMarker(state, nextLine);\n      if (posAfterMarker < 0) { break; }\n    }\n\n    if (markerCharCode !== state.src.charCodeAt(posAfterMarker - 1)) { break; }\n  }\n\n  // Finalize list\n  if (isOrdered) {\n    token = state.push('ordered_list_close', 'ol', -1);\n  } else {\n    token = state.push('bullet_list_close', 'ul', -1);\n  }\n  token.markup = String.fromCharCode(markerCharCode);\n\n  listLines[1] = nextLine;\n  state.line = nextLine;\n\n  state.parentType = oldParentType;\n\n  // mark paragraphs tight if needed\n  if (tight) {\n    markTightParagraphs(state, listTokIdx);\n  }\n\n  return true;\n};\n","'use strict';\n\n\nvar normalizeReference   = require('../common/utils').normalizeReference;\nvar isSpace              = require('../common/utils').isSpace;\n\n\nmodule.exports = function reference(state, startLine, _endLine, silent) {\n  var ch,\n      destEndPos,\n      destEndLineNo,\n      endLine,\n      href,\n      i,\n      l,\n      label,\n      labelEnd,\n      oldParentType,\n      res,\n      start,\n      str,\n      terminate,\n      terminatorRules,\n      title,\n      lines = 0,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine],\n      nextLine = startLine + 1;\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  if (state.src.charCodeAt(pos) !== 0x5B/* [ */) { return false; }\n\n  // Simple check to quickly interrupt scan on [link](url) at the start of line.\n  // Can be useful on practice: https://github.com/markdown-it/markdown-it/issues/54\n  while (++pos < max) {\n    if (state.src.charCodeAt(pos) === 0x5D /* ] */ &&\n        state.src.charCodeAt(pos - 1) !== 0x5C/* \\ */) {\n      if (pos + 1 === max) { return false; }\n      if (state.src.charCodeAt(pos + 1) !== 0x3A/* : */) { return false; }\n      break;\n    }\n  }\n\n  endLine = state.lineMax;\n\n  // jump line-by-line until empty one or EOF\n  terminatorRules = state.md.block.ruler.getRules('reference');\n\n  oldParentType = state.parentType;\n  state.parentType = 'reference';\n\n  for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n    // this would be a code block normally, but after paragraph\n    // it's considered a lazy continuation regardless of what's there\n    if (state.sCount[nextLine] - state.blkIndent > 3) { continue; }\n\n    // quirk for blockquotes, this line should already be checked by that rule\n    if (state.sCount[nextLine] < 0) { continue; }\n\n    // Some tags can terminate paragraph without empty line.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n  }\n\n  str = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n  max = str.length;\n\n  for (pos = 1; pos < max; pos++) {\n    ch = str.charCodeAt(pos);\n    if (ch === 0x5B /* [ */) {\n      return false;\n    } else if (ch === 0x5D /* ] */) {\n      labelEnd = pos;\n      break;\n    } else if (ch === 0x0A /* \\n */) {\n      lines++;\n    } else if (ch === 0x5C /* \\ */) {\n      pos++;\n      if (pos < max && str.charCodeAt(pos) === 0x0A) {\n        lines++;\n      }\n    }\n  }\n\n  if (labelEnd < 0 || str.charCodeAt(labelEnd + 1) !== 0x3A/* : */) { return false; }\n\n  // [label]:   destination   'title'\n  //         ^^^ skip optional whitespace here\n  for (pos = labelEnd + 2; pos < max; pos++) {\n    ch = str.charCodeAt(pos);\n    if (ch === 0x0A) {\n      lines++;\n    } else if (isSpace(ch)) {\n      /*eslint no-empty:0*/\n    } else {\n      break;\n    }\n  }\n\n  // [label]:   destination   'title'\n  //            ^^^^^^^^^^^ parse this\n  res = state.md.helpers.parseLinkDestination(str, pos, max);\n  if (!res.ok) { return false; }\n\n  href = state.md.normalizeLink(res.str);\n  if (!state.md.validateLink(href)) { return false; }\n\n  pos = res.pos;\n  lines += res.lines;\n\n  // save cursor state, we could require to rollback later\n  destEndPos = pos;\n  destEndLineNo = lines;\n\n  // [label]:   destination   'title'\n  //                       ^^^ skipping those spaces\n  start = pos;\n  for (; pos < max; pos++) {\n    ch = str.charCodeAt(pos);\n    if (ch === 0x0A) {\n      lines++;\n    } else if (isSpace(ch)) {\n      /*eslint no-empty:0*/\n    } else {\n      break;\n    }\n  }\n\n  // [label]:   destination   'title'\n  //                          ^^^^^^^ parse this\n  res = state.md.helpers.parseLinkTitle(str, pos, max);\n  if (pos < max && start !== pos && res.ok) {\n    title = res.str;\n    pos = res.pos;\n    lines += res.lines;\n  } else {\n    title = '';\n    pos = destEndPos;\n    lines = destEndLineNo;\n  }\n\n  // skip trailing spaces until the rest of the line\n  while (pos < max) {\n    ch = str.charCodeAt(pos);\n    if (!isSpace(ch)) { break; }\n    pos++;\n  }\n\n  if (pos < max && str.charCodeAt(pos) !== 0x0A) {\n    if (title) {\n      // garbage at the end of the line after title,\n      // but it could still be a valid reference if we roll back\n      title = '';\n      pos = destEndPos;\n      lines = destEndLineNo;\n      while (pos < max) {\n        ch = str.charCodeAt(pos);\n        if (!isSpace(ch)) { break; }\n        pos++;\n      }\n    }\n  }\n\n  if (pos < max && str.charCodeAt(pos) !== 0x0A) {\n    // garbage at the end of the line\n    return false;\n  }\n\n  label = normalizeReference(str.slice(1, labelEnd));\n  if (!label) {\n    // CommonMark 0.20 disallows empty labels\n    return false;\n  }\n\n  // Reference can not terminate anything. This check is for safety only.\n  /*istanbul ignore if*/\n  if (silent) { return true; }\n\n  if (typeof state.env.references === 'undefined') {\n    state.env.references = {};\n  }\n  if (typeof state.env.references[label] === 'undefined') {\n    state.env.references[label] = { title: title, href: href };\n  }\n\n  state.parentType = oldParentType;\n\n  state.line = startLine + lines + 1;\n  return true;\n};\n","// heading (#, ##, ...)\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function heading(state, startLine, endLine, silent) {\n  var ch, level, tmp, token,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  ch  = state.src.charCodeAt(pos);\n\n  if (ch !== 0x23/* # */ || pos >= max) { return false; }\n\n  // count heading level\n  level = 1;\n  ch = state.src.charCodeAt(++pos);\n  while (ch === 0x23/* # */ && pos < max && level <= 6) {\n    level++;\n    ch = state.src.charCodeAt(++pos);\n  }\n\n  if (level > 6 || (pos < max && !isSpace(ch))) { return false; }\n\n  if (silent) { return true; }\n\n  // Let's cut tails like '    ###  ' from the end of string\n\n  max = state.skipSpacesBack(max, pos);\n  tmp = state.skipCharsBack(max, 0x23, pos); // #\n  if (tmp > pos && isSpace(state.src.charCodeAt(tmp - 1))) {\n    max = tmp;\n  }\n\n  state.line = startLine + 1;\n\n  token        = state.push('heading_open', 'h' + String(level), 1);\n  token.markup = '########'.slice(0, level);\n  token.map    = [ startLine, state.line ];\n\n  token          = state.push('inline', '', 0);\n  token.content  = state.src.slice(pos, max).trim();\n  token.map      = [ startLine, state.line ];\n  token.children = [];\n\n  token        = state.push('heading_close', 'h' + String(level), -1);\n  token.markup = '########'.slice(0, level);\n\n  return true;\n};\n","// lheading (---, ===)\n\n'use strict';\n\n\nmodule.exports = function lheading(state, startLine, endLine/*, silent*/) {\n  var content, terminate, i, l, token, pos, max, level, marker,\n      nextLine = startLine + 1, oldParentType,\n      terminatorRules = state.md.block.ruler.getRules('paragraph');\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  oldParentType = state.parentType;\n  state.parentType = 'paragraph'; // use paragraph to match terminatorRules\n\n  // jump line-by-line until empty one or EOF\n  for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n    // this would be a code block normally, but after paragraph\n    // it's considered a lazy continuation regardless of what's there\n    if (state.sCount[nextLine] - state.blkIndent > 3) { continue; }\n\n    //\n    // Check for underline in setext header\n    //\n    if (state.sCount[nextLine] >= state.blkIndent) {\n      pos = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n\n      if (pos < max) {\n        marker = state.src.charCodeAt(pos);\n\n        if (marker === 0x2D/* - */ || marker === 0x3D/* = */) {\n          pos = state.skipChars(pos, marker);\n          pos = state.skipSpaces(pos);\n\n          if (pos >= max) {\n            level = (marker === 0x3D/* = */ ? 1 : 2);\n            break;\n          }\n        }\n      }\n    }\n\n    // quirk for blockquotes, this line should already be checked by that rule\n    if (state.sCount[nextLine] < 0) { continue; }\n\n    // Some tags can terminate paragraph without empty line.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n  }\n\n  if (!level) {\n    // Didn't find valid underline\n    return false;\n  }\n\n  content = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n\n  state.line = nextLine + 1;\n\n  token          = state.push('heading_open', 'h' + String(level), 1);\n  token.markup   = String.fromCharCode(marker);\n  token.map      = [ startLine, state.line ];\n\n  token          = state.push('inline', '', 0);\n  token.content  = content;\n  token.map      = [ startLine, state.line - 1 ];\n  token.children = [];\n\n  token          = state.push('heading_close', 'h' + String(level), -1);\n  token.markup   = String.fromCharCode(marker);\n\n  state.parentType = oldParentType;\n\n  return true;\n};\n","// HTML block\n\n'use strict';\n\n\nvar block_names = require('../common/html_blocks');\nvar HTML_OPEN_CLOSE_TAG_RE = require('../common/html_re').HTML_OPEN_CLOSE_TAG_RE;\n\n// An array of opening and corresponding closing sequences for html tags,\n// last argument defines whether it can terminate a paragraph or not\n//\nvar HTML_SEQUENCES = [\n  [ /^<(script|pre|style)(?=(\\s|>|$))/i, /<\\/(script|pre|style)>/i, true ],\n  [ /^<!--/,        /-->/,   true ],\n  [ /^<\\?/,         /\\?>/,   true ],\n  [ /^<![A-Z]/,     />/,     true ],\n  [ /^<!\\[CDATA\\[/, /\\]\\]>/, true ],\n  [ new RegExp('^</?(' + block_names.join('|') + ')(?=(\\\\s|/?>|$))', 'i'), /^$/, true ],\n  [ new RegExp(HTML_OPEN_CLOSE_TAG_RE.source + '\\\\s*$'),  /^$/, false ]\n];\n\n\nmodule.exports = function html_block(state, startLine, endLine, silent) {\n  var i, nextLine, token, lineText,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  if (!state.md.options.html) { return false; }\n\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */) { return false; }\n\n  lineText = state.src.slice(pos, max);\n\n  for (i = 0; i < HTML_SEQUENCES.length; i++) {\n    if (HTML_SEQUENCES[i][0].test(lineText)) { break; }\n  }\n\n  if (i === HTML_SEQUENCES.length) { return false; }\n\n  if (silent) {\n    // true if this sequence can be a terminator, false otherwise\n    return HTML_SEQUENCES[i][2];\n  }\n\n  nextLine = startLine + 1;\n\n  // If we are here - we detected HTML block.\n  // Let's roll down till block end.\n  if (!HTML_SEQUENCES[i][1].test(lineText)) {\n    for (; nextLine < endLine; nextLine++) {\n      if (state.sCount[nextLine] < state.blkIndent) { break; }\n\n      pos = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n      lineText = state.src.slice(pos, max);\n\n      if (HTML_SEQUENCES[i][1].test(lineText)) {\n        if (lineText.length !== 0) { nextLine++; }\n        break;\n      }\n    }\n  }\n\n  state.line = nextLine;\n\n  token         = state.push('html_block', '', 0);\n  token.map     = [ startLine, nextLine ];\n  token.content = state.getLines(startLine, nextLine, state.blkIndent, true);\n\n  return true;\n};\n","// List of valid html blocks names, accorting to commonmark spec\n// http://jgm.github.io/CommonMark/spec.html#html-blocks\n\n'use strict';\n\n\nmodule.exports = [\n  'address',\n  'article',\n  'aside',\n  'base',\n  'basefont',\n  'blockquote',\n  'body',\n  'caption',\n  'center',\n  'col',\n  'colgroup',\n  'dd',\n  'details',\n  'dialog',\n  'dir',\n  'div',\n  'dl',\n  'dt',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'footer',\n  'form',\n  'frame',\n  'frameset',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hr',\n  'html',\n  'iframe',\n  'legend',\n  'li',\n  'link',\n  'main',\n  'menu',\n  'menuitem',\n  'meta',\n  'nav',\n  'noframes',\n  'ol',\n  'optgroup',\n  'option',\n  'p',\n  'param',\n  'section',\n  'source',\n  'summary',\n  'table',\n  'tbody',\n  'td',\n  'tfoot',\n  'th',\n  'thead',\n  'title',\n  'tr',\n  'track',\n  'ul'\n];\n","// Paragraph\n\n'use strict';\n\n\nmodule.exports = function paragraph(state, startLine/*, endLine*/) {\n  var content, terminate, i, l, token, oldParentType,\n      nextLine = startLine + 1,\n      terminatorRules = state.md.block.ruler.getRules('paragraph'),\n      endLine = state.lineMax;\n\n  oldParentType = state.parentType;\n  state.parentType = 'paragraph';\n\n  // jump line-by-line until empty one or EOF\n  for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n    // this would be a code block normally, but after paragraph\n    // it's considered a lazy continuation regardless of what's there\n    if (state.sCount[nextLine] - state.blkIndent > 3) { continue; }\n\n    // quirk for blockquotes, this line should already be checked by that rule\n    if (state.sCount[nextLine] < 0) { continue; }\n\n    // Some tags can terminate paragraph without empty line.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n  }\n\n  content = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n\n  state.line = nextLine;\n\n  token          = state.push('paragraph_open', 'p', 1);\n  token.map      = [ startLine, state.line ];\n\n  token          = state.push('inline', '', 0);\n  token.content  = content;\n  token.map      = [ startLine, state.line ];\n  token.children = [];\n\n  token          = state.push('paragraph_close', 'p', -1);\n\n  state.parentType = oldParentType;\n\n  return true;\n};\n","// Parser state class\n\n'use strict';\n\nvar Token = require('../token');\nvar isSpace = require('../common/utils').isSpace;\n\n\nfunction StateBlock(src, md, env, tokens) {\n  var ch, s, start, pos, len, indent, offset, indent_found;\n\n  this.src = src;\n\n  // link to parser instance\n  this.md     = md;\n\n  this.env = env;\n\n  //\n  // Internal state vartiables\n  //\n\n  this.tokens = tokens;\n\n  this.bMarks = [];  // line begin offsets for fast jumps\n  this.eMarks = [];  // line end offsets for fast jumps\n  this.tShift = [];  // offsets of the first non-space characters (tabs not expanded)\n  this.sCount = [];  // indents for each line (tabs expanded)\n\n  // An amount of virtual spaces (tabs expanded) between beginning\n  // of each line (bMarks) and real beginning of that line.\n  //\n  // It exists only as a hack because blockquotes override bMarks\n  // losing information in the process.\n  //\n  // It's used only when expanding tabs, you can think about it as\n  // an initial tab length, e.g. bsCount=21 applied to string `\\t123`\n  // means first tab should be expanded to 4-21%4 === 3 spaces.\n  //\n  this.bsCount = [];\n\n  // block parser variables\n  this.blkIndent  = 0; // required block content indent (for example, if we are\n                       // inside a list, it would be positioned after list marker)\n  this.line       = 0; // line index in src\n  this.lineMax    = 0; // lines count\n  this.tight      = false;  // loose/tight mode for lists\n  this.ddIndent   = -1; // indent of the current dd block (-1 if there isn't any)\n  this.listIndent = -1; // indent of the current list block (-1 if there isn't any)\n\n  // can be 'blockquote', 'list', 'root', 'paragraph' or 'reference'\n  // used in lists to determine if they interrupt a paragraph\n  this.parentType = 'root';\n\n  this.level = 0;\n\n  // renderer\n  this.result = '';\n\n  // Create caches\n  // Generate markers.\n  s = this.src;\n  indent_found = false;\n\n  for (start = pos = indent = offset = 0, len = s.length; pos < len; pos++) {\n    ch = s.charCodeAt(pos);\n\n    if (!indent_found) {\n      if (isSpace(ch)) {\n        indent++;\n\n        if (ch === 0x09) {\n          offset += 4 - offset % 4;\n        } else {\n          offset++;\n        }\n        continue;\n      } else {\n        indent_found = true;\n      }\n    }\n\n    if (ch === 0x0A || pos === len - 1) {\n      if (ch !== 0x0A) { pos++; }\n      this.bMarks.push(start);\n      this.eMarks.push(pos);\n      this.tShift.push(indent);\n      this.sCount.push(offset);\n      this.bsCount.push(0);\n\n      indent_found = false;\n      indent = 0;\n      offset = 0;\n      start = pos + 1;\n    }\n  }\n\n  // Push fake entry to simplify cache bounds checks\n  this.bMarks.push(s.length);\n  this.eMarks.push(s.length);\n  this.tShift.push(0);\n  this.sCount.push(0);\n  this.bsCount.push(0);\n\n  this.lineMax = this.bMarks.length - 1; // don't count last fake line\n}\n\n// Push new token to \"stream\".\n//\nStateBlock.prototype.push = function (type, tag, nesting) {\n  var token = new Token(type, tag, nesting);\n  token.block = true;\n\n  if (nesting < 0) this.level--; // closing tag\n  token.level = this.level;\n  if (nesting > 0) this.level++; // opening tag\n\n  this.tokens.push(token);\n  return token;\n};\n\nStateBlock.prototype.isEmpty = function isEmpty(line) {\n  return this.bMarks[line] + this.tShift[line] >= this.eMarks[line];\n};\n\nStateBlock.prototype.skipEmptyLines = function skipEmptyLines(from) {\n  for (var max = this.lineMax; from < max; from++) {\n    if (this.bMarks[from] + this.tShift[from] < this.eMarks[from]) {\n      break;\n    }\n  }\n  return from;\n};\n\n// Skip spaces from given position.\nStateBlock.prototype.skipSpaces = function skipSpaces(pos) {\n  var ch;\n\n  for (var max = this.src.length; pos < max; pos++) {\n    ch = this.src.charCodeAt(pos);\n    if (!isSpace(ch)) { break; }\n  }\n  return pos;\n};\n\n// Skip spaces from given position in reverse.\nStateBlock.prototype.skipSpacesBack = function skipSpacesBack(pos, min) {\n  if (pos <= min) { return pos; }\n\n  while (pos > min) {\n    if (!isSpace(this.src.charCodeAt(--pos))) { return pos + 1; }\n  }\n  return pos;\n};\n\n// Skip char codes from given position\nStateBlock.prototype.skipChars = function skipChars(pos, code) {\n  for (var max = this.src.length; pos < max; pos++) {\n    if (this.src.charCodeAt(pos) !== code) { break; }\n  }\n  return pos;\n};\n\n// Skip char codes reverse from given position - 1\nStateBlock.prototype.skipCharsBack = function skipCharsBack(pos, code, min) {\n  if (pos <= min) { return pos; }\n\n  while (pos > min) {\n    if (code !== this.src.charCodeAt(--pos)) { return pos + 1; }\n  }\n  return pos;\n};\n\n// cut lines range from source.\nStateBlock.prototype.getLines = function getLines(begin, end, indent, keepLastLF) {\n  var i, lineIndent, ch, first, last, queue, lineStart,\n      line = begin;\n\n  if (begin >= end) {\n    return '';\n  }\n\n  queue = new Array(end - begin);\n\n  for (i = 0; line < end; line++, i++) {\n    lineIndent = 0;\n    lineStart = first = this.bMarks[line];\n\n    if (line + 1 < end || keepLastLF) {\n      // No need for bounds check because we have fake entry on tail.\n      last = this.eMarks[line] + 1;\n    } else {\n      last = this.eMarks[line];\n    }\n\n    while (first < last && lineIndent < indent) {\n      ch = this.src.charCodeAt(first);\n\n      if (isSpace(ch)) {\n        if (ch === 0x09) {\n          lineIndent += 4 - (lineIndent + this.bsCount[line]) % 4;\n        } else {\n          lineIndent++;\n        }\n      } else if (first - lineStart < this.tShift[line]) {\n        // patched tShift masked characters to look like spaces (blockquotes, list markers)\n        lineIndent++;\n      } else {\n        break;\n      }\n\n      first++;\n    }\n\n    if (lineIndent > indent) {\n      // partially expanding tabs in code blocks, e.g '\\t\\tfoobar'\n      // with indent=2 becomes '  \\tfoobar'\n      queue[i] = new Array(lineIndent - indent + 1).join(' ') + this.src.slice(first, last);\n    } else {\n      queue[i] = this.src.slice(first, last);\n    }\n  }\n\n  return queue.join('');\n};\n\n// re-export Token class to use in block rules\nStateBlock.prototype.Token = Token;\n\n\nmodule.exports = StateBlock;\n","/** internal\n * class ParserInline\n *\n * Tokenizes paragraph content.\n **/\n'use strict';\n\n\nvar Ruler           = require('./ruler');\n\n\n////////////////////////////////////////////////////////////////////////////////\n// Parser rules\n\nvar _rules = [\n  [ 'text',            require('./rules_inline/text') ],\n  [ 'newline',         require('./rules_inline/newline') ],\n  [ 'escape',          require('./rules_inline/escape') ],\n  [ 'backticks',       require('./rules_inline/backticks') ],\n  [ 'strikethrough',   require('./rules_inline/strikethrough').tokenize ],\n  [ 'emphasis',        require('./rules_inline/emphasis').tokenize ],\n  [ 'link',            require('./rules_inline/link') ],\n  [ 'image',           require('./rules_inline/image') ],\n  [ 'autolink',        require('./rules_inline/autolink') ],\n  [ 'html_inline',     require('./rules_inline/html_inline') ],\n  [ 'entity',          require('./rules_inline/entity') ]\n];\n\nvar _rules2 = [\n  [ 'balance_pairs',   require('./rules_inline/balance_pairs') ],\n  [ 'strikethrough',   require('./rules_inline/strikethrough').postProcess ],\n  [ 'emphasis',        require('./rules_inline/emphasis').postProcess ],\n  [ 'text_collapse',   require('./rules_inline/text_collapse') ]\n];\n\n\n/**\n * new ParserInline()\n **/\nfunction ParserInline() {\n  var i;\n\n  /**\n   * ParserInline#ruler -> Ruler\n   *\n   * [[Ruler]] instance. Keep configuration of inline rules.\n   **/\n  this.ruler = new Ruler();\n\n  for (i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1]);\n  }\n\n  /**\n   * ParserInline#ruler2 -> Ruler\n   *\n   * [[Ruler]] instance. Second ruler used for post-processing\n   * (e.g. in emphasis-like rules).\n   **/\n  this.ruler2 = new Ruler();\n\n  for (i = 0; i < _rules2.length; i++) {\n    this.ruler2.push(_rules2[i][0], _rules2[i][1]);\n  }\n}\n\n\n// Skip single token by running all rules in validation mode;\n// returns `true` if any rule reported success\n//\nParserInline.prototype.skipToken = function (state) {\n  var ok, i, pos = state.pos,\n      rules = this.ruler.getRules(''),\n      len = rules.length,\n      maxNesting = state.md.options.maxNesting,\n      cache = state.cache;\n\n\n  if (typeof cache[pos] !== 'undefined') {\n    state.pos = cache[pos];\n    return;\n  }\n\n  if (state.level < maxNesting) {\n    for (i = 0; i < len; i++) {\n      // Increment state.level and decrement it later to limit recursion.\n      // It's harmless to do here, because no tokens are created. But ideally,\n      // we'd need a separate private state variable for this purpose.\n      //\n      state.level++;\n      ok = rules[i](state, true);\n      state.level--;\n\n      if (ok) { break; }\n    }\n  } else {\n    // Too much nesting, just skip until the end of the paragraph.\n    //\n    // NOTE: this will cause links to behave incorrectly in the following case,\n    //       when an amount of `[` is exactly equal to `maxNesting + 1`:\n    //\n    //       [[[[[[[[[[[[[[[[[[[[[foo]()\n    //\n    // TODO: remove this workaround when CM standard will allow nested links\n    //       (we can replace it by preventing links from being parsed in\n    //       validation mode)\n    //\n    state.pos = state.posMax;\n  }\n\n  if (!ok) { state.pos++; }\n  cache[pos] = state.pos;\n};\n\n\n// Generate tokens for input range\n//\nParserInline.prototype.tokenize = function (state) {\n  var ok, i,\n      rules = this.ruler.getRules(''),\n      len = rules.length,\n      end = state.posMax,\n      maxNesting = state.md.options.maxNesting;\n\n  while (state.pos < end) {\n    // Try all possible rules.\n    // On success, rule should:\n    //\n    // - update `state.pos`\n    // - update `state.tokens`\n    // - return true\n\n    if (state.level < maxNesting) {\n      for (i = 0; i < len; i++) {\n        ok = rules[i](state, false);\n        if (ok) { break; }\n      }\n    }\n\n    if (ok) {\n      if (state.pos >= end) { break; }\n      continue;\n    }\n\n    state.pending += state.src[state.pos++];\n  }\n\n  if (state.pending) {\n    state.pushPending();\n  }\n};\n\n\n/**\n * ParserInline.parse(str, md, env, outTokens)\n *\n * Process input string and push inline tokens into `outTokens`\n **/\nParserInline.prototype.parse = function (str, md, env, outTokens) {\n  var i, rules, len;\n  var state = new this.State(str, md, env, outTokens);\n\n  this.tokenize(state);\n\n  rules = this.ruler2.getRules('');\n  len = rules.length;\n\n  for (i = 0; i < len; i++) {\n    rules[i](state);\n  }\n};\n\n\nParserInline.prototype.State = require('./rules_inline/state_inline');\n\n\nmodule.exports = ParserInline;\n","// Skip text characters for text token, place those to pending buffer\n// and increment current pos\n\n'use strict';\n\n\n// Rule to skip pure text\n// '{}$%@~+=:' reserved for extentions\n\n// !, \", #, $, %, &, ', (, ), *, +, ,, -, ., /, :, ;, <, =, >, ?, @, [, \\, ], ^, _, `, {, |, }, or ~\n\n// !!!! Don't confuse with \"Markdown ASCII Punctuation\" chars\n// http://spec.commonmark.org/0.15/#ascii-punctuation-character\nfunction isTerminatorChar(ch) {\n  switch (ch) {\n    case 0x0A/* \\n */:\n    case 0x21/* ! */:\n    case 0x23/* # */:\n    case 0x24/* $ */:\n    case 0x25/* % */:\n    case 0x26/* & */:\n    case 0x2A/* * */:\n    case 0x2B/* + */:\n    case 0x2D/* - */:\n    case 0x3A/* : */:\n    case 0x3C/* < */:\n    case 0x3D/* = */:\n    case 0x3E/* > */:\n    case 0x40/* @ */:\n    case 0x5B/* [ */:\n    case 0x5C/* \\ */:\n    case 0x5D/* ] */:\n    case 0x5E/* ^ */:\n    case 0x5F/* _ */:\n    case 0x60/* ` */:\n    case 0x7B/* { */:\n    case 0x7D/* } */:\n    case 0x7E/* ~ */:\n      return true;\n    default:\n      return false;\n  }\n}\n\nmodule.exports = function text(state, silent) {\n  var pos = state.pos;\n\n  while (pos < state.posMax && !isTerminatorChar(state.src.charCodeAt(pos))) {\n    pos++;\n  }\n\n  if (pos === state.pos) { return false; }\n\n  if (!silent) { state.pending += state.src.slice(state.pos, pos); }\n\n  state.pos = pos;\n\n  return true;\n};\n\n// Alternative implementation, for memory.\n//\n// It costs 10% of performance, but allows extend terminators list, if place it\n// to `ParcerInline` property. Probably, will switch to it sometime, such\n// flexibility required.\n\n/*\nvar TERMINATOR_RE = /[\\n!#$%&*+\\-:<=>@[\\\\\\]^_`{}~]/;\n\nmodule.exports = function text(state, silent) {\n  var pos = state.pos,\n      idx = state.src.slice(pos).search(TERMINATOR_RE);\n\n  // first char is terminator -> empty text\n  if (idx === 0) { return false; }\n\n  // no terminator -> text till end of string\n  if (idx < 0) {\n    if (!silent) { state.pending += state.src.slice(pos); }\n    state.pos = state.src.length;\n    return true;\n  }\n\n  if (!silent) { state.pending += state.src.slice(pos, pos + idx); }\n\n  state.pos += idx;\n\n  return true;\n};*/\n","// Proceess '\\n'\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function newline(state, silent) {\n  var pmax, max, pos = state.pos;\n\n  if (state.src.charCodeAt(pos) !== 0x0A/* \\n */) { return false; }\n\n  pmax = state.pending.length - 1;\n  max = state.posMax;\n\n  // '  \\n' -> hardbreak\n  // Lookup in pending chars is bad practice! Don't copy to other rules!\n  // Pending string is stored in concat mode, indexed lookups will cause\n  // convertion to flat mode.\n  if (!silent) {\n    if (pmax >= 0 && state.pending.charCodeAt(pmax) === 0x20) {\n      if (pmax >= 1 && state.pending.charCodeAt(pmax - 1) === 0x20) {\n        state.pending = state.pending.replace(/ +$/, '');\n        state.push('hardbreak', 'br', 0);\n      } else {\n        state.pending = state.pending.slice(0, -1);\n        state.push('softbreak', 'br', 0);\n      }\n\n    } else {\n      state.push('softbreak', 'br', 0);\n    }\n  }\n\n  pos++;\n\n  // skip heading spaces for next line\n  while (pos < max && isSpace(state.src.charCodeAt(pos))) { pos++; }\n\n  state.pos = pos;\n  return true;\n};\n","// Process escaped chars and hardbreaks\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\nvar ESCAPED = [];\n\nfor (var i = 0; i < 256; i++) { ESCAPED.push(0); }\n\n'\\\\!\"#$%&\\'()*+,./:;<=>?@[]^_`{|}~-'\n  .split('').forEach(function (ch) { ESCAPED[ch.charCodeAt(0)] = 1; });\n\n\nmodule.exports = function escape(state, silent) {\n  var ch, pos = state.pos, max = state.posMax;\n\n  if (state.src.charCodeAt(pos) !== 0x5C/* \\ */) { return false; }\n\n  pos++;\n\n  if (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (ch < 256 && ESCAPED[ch] !== 0) {\n      if (!silent) { state.pending += state.src[pos]; }\n      state.pos += 2;\n      return true;\n    }\n\n    if (ch === 0x0A) {\n      if (!silent) {\n        state.push('hardbreak', 'br', 0);\n      }\n\n      pos++;\n      // skip leading whitespaces from next line\n      while (pos < max) {\n        ch = state.src.charCodeAt(pos);\n        if (!isSpace(ch)) { break; }\n        pos++;\n      }\n\n      state.pos = pos;\n      return true;\n    }\n  }\n\n  if (!silent) { state.pending += '\\\\'; }\n  state.pos++;\n  return true;\n};\n","// Parse backticks\n\n'use strict';\n\nmodule.exports = function backtick(state, silent) {\n  var start, max, marker, matchStart, matchEnd, token,\n      pos = state.pos,\n      ch = state.src.charCodeAt(pos);\n\n  if (ch !== 0x60/* ` */) { return false; }\n\n  start = pos;\n  pos++;\n  max = state.posMax;\n\n  while (pos < max && state.src.charCodeAt(pos) === 0x60/* ` */) { pos++; }\n\n  marker = state.src.slice(start, pos);\n\n  matchStart = matchEnd = pos;\n\n  while ((matchStart = state.src.indexOf('`', matchEnd)) !== -1) {\n    matchEnd = matchStart + 1;\n\n    while (matchEnd < max && state.src.charCodeAt(matchEnd) === 0x60/* ` */) { matchEnd++; }\n\n    if (matchEnd - matchStart === marker.length) {\n      if (!silent) {\n        token         = state.push('code_inline', 'code', 0);\n        token.markup  = marker;\n        token.content = state.src.slice(pos, matchStart)\n          .replace(/\\n/g, ' ')\n          .replace(/^ (.+) $/, '$1');\n      }\n      state.pos = matchEnd;\n      return true;\n    }\n  }\n\n  if (!silent) { state.pending += marker; }\n  state.pos += marker.length;\n  return true;\n};\n","// Process [link](<to> \"stuff\")\n\n'use strict';\n\nvar normalizeReference   = require('../common/utils').normalizeReference;\nvar isSpace              = require('../common/utils').isSpace;\n\n\nmodule.exports = function link(state, silent) {\n  var attrs,\n      code,\n      label,\n      labelEnd,\n      labelStart,\n      pos,\n      res,\n      ref,\n      title,\n      token,\n      href = '',\n      oldPos = state.pos,\n      max = state.posMax,\n      start = state.pos,\n      parseReference = true;\n\n  if (state.src.charCodeAt(state.pos) !== 0x5B/* [ */) { return false; }\n\n  labelStart = state.pos + 1;\n  labelEnd = state.md.helpers.parseLinkLabel(state, state.pos, true);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) { return false; }\n\n  pos = labelEnd + 1;\n  if (pos < max && state.src.charCodeAt(pos) === 0x28/* ( */) {\n    //\n    // Inline link\n    //\n\n    // might have found a valid shortcut link, disable reference parsing\n    parseReference = false;\n\n    // [link](  <href>  \"title\"  )\n    //        ^^ skipping these spaces\n    pos++;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) { break; }\n    }\n    if (pos >= max) { return false; }\n\n    // [link](  <href>  \"title\"  )\n    //          ^^^^^^ parsing link destination\n    start = pos;\n    res = state.md.helpers.parseLinkDestination(state.src, pos, state.posMax);\n    if (res.ok) {\n      href = state.md.normalizeLink(res.str);\n      if (state.md.validateLink(href)) {\n        pos = res.pos;\n      } else {\n        href = '';\n      }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                ^^ skipping these spaces\n    start = pos;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) { break; }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                  ^^^^^^^ parsing link title\n    res = state.md.helpers.parseLinkTitle(state.src, pos, state.posMax);\n    if (pos < max && start !== pos && res.ok) {\n      title = res.str;\n      pos = res.pos;\n\n      // [link](  <href>  \"title\"  )\n      //                         ^^ skipping these spaces\n      for (; pos < max; pos++) {\n        code = state.src.charCodeAt(pos);\n        if (!isSpace(code) && code !== 0x0A) { break; }\n      }\n    } else {\n      title = '';\n    }\n\n    if (pos >= max || state.src.charCodeAt(pos) !== 0x29/* ) */) {\n      // parsing a valid shortcut link failed, fallback to reference\n      parseReference = true;\n    }\n    pos++;\n  }\n\n  if (parseReference) {\n    //\n    // Link reference\n    //\n    if (typeof state.env.references === 'undefined') { return false; }\n\n    if (pos < max && state.src.charCodeAt(pos) === 0x5B/* [ */) {\n      start = pos + 1;\n      pos = state.md.helpers.parseLinkLabel(state, pos);\n      if (pos >= 0) {\n        label = state.src.slice(start, pos++);\n      } else {\n        pos = labelEnd + 1;\n      }\n    } else {\n      pos = labelEnd + 1;\n    }\n\n    // covers label === '' and label === undefined\n    // (collapsed reference link and shortcut reference link respectively)\n    if (!label) { label = state.src.slice(labelStart, labelEnd); }\n\n    ref = state.env.references[normalizeReference(label)];\n    if (!ref) {\n      state.pos = oldPos;\n      return false;\n    }\n    href = ref.href;\n    title = ref.title;\n  }\n\n  //\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    state.pos = labelStart;\n    state.posMax = labelEnd;\n\n    token        = state.push('link_open', 'a', 1);\n    token.attrs  = attrs = [ [ 'href', href ] ];\n    if (title) {\n      attrs.push([ 'title', title ]);\n    }\n\n    state.md.inline.tokenize(state);\n\n    token        = state.push('link_close', 'a', -1);\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n  return true;\n};\n","// Process ![image](<src> \"title\")\n\n'use strict';\n\nvar normalizeReference   = require('../common/utils').normalizeReference;\nvar isSpace              = require('../common/utils').isSpace;\n\n\nmodule.exports = function image(state, silent) {\n  var attrs,\n      code,\n      content,\n      label,\n      labelEnd,\n      labelStart,\n      pos,\n      ref,\n      res,\n      title,\n      token,\n      tokens,\n      start,\n      href = '',\n      oldPos = state.pos,\n      max = state.posMax;\n\n  if (state.src.charCodeAt(state.pos) !== 0x21/* ! */) { return false; }\n  if (state.src.charCodeAt(state.pos + 1) !== 0x5B/* [ */) { return false; }\n\n  labelStart = state.pos + 2;\n  labelEnd = state.md.helpers.parseLinkLabel(state, state.pos + 1, false);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) { return false; }\n\n  pos = labelEnd + 1;\n  if (pos < max && state.src.charCodeAt(pos) === 0x28/* ( */) {\n    //\n    // Inline link\n    //\n\n    // [link](  <href>  \"title\"  )\n    //        ^^ skipping these spaces\n    pos++;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) { break; }\n    }\n    if (pos >= max) { return false; }\n\n    // [link](  <href>  \"title\"  )\n    //          ^^^^^^ parsing link destination\n    start = pos;\n    res = state.md.helpers.parseLinkDestination(state.src, pos, state.posMax);\n    if (res.ok) {\n      href = state.md.normalizeLink(res.str);\n      if (state.md.validateLink(href)) {\n        pos = res.pos;\n      } else {\n        href = '';\n      }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                ^^ skipping these spaces\n    start = pos;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) { break; }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                  ^^^^^^^ parsing link title\n    res = state.md.helpers.parseLinkTitle(state.src, pos, state.posMax);\n    if (pos < max && start !== pos && res.ok) {\n      title = res.str;\n      pos = res.pos;\n\n      // [link](  <href>  \"title\"  )\n      //                         ^^ skipping these spaces\n      for (; pos < max; pos++) {\n        code = state.src.charCodeAt(pos);\n        if (!isSpace(code) && code !== 0x0A) { break; }\n      }\n    } else {\n      title = '';\n    }\n\n    if (pos >= max || state.src.charCodeAt(pos) !== 0x29/* ) */) {\n      state.pos = oldPos;\n      return false;\n    }\n    pos++;\n  } else {\n    //\n    // Link reference\n    //\n    if (typeof state.env.references === 'undefined') { return false; }\n\n    if (pos < max && state.src.charCodeAt(pos) === 0x5B/* [ */) {\n      start = pos + 1;\n      pos = state.md.helpers.parseLinkLabel(state, pos);\n      if (pos >= 0) {\n        label = state.src.slice(start, pos++);\n      } else {\n        pos = labelEnd + 1;\n      }\n    } else {\n      pos = labelEnd + 1;\n    }\n\n    // covers label === '' and label === undefined\n    // (collapsed reference link and shortcut reference link respectively)\n    if (!label) { label = state.src.slice(labelStart, labelEnd); }\n\n    ref = state.env.references[normalizeReference(label)];\n    if (!ref) {\n      state.pos = oldPos;\n      return false;\n    }\n    href = ref.href;\n    title = ref.title;\n  }\n\n  //\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    content = state.src.slice(labelStart, labelEnd);\n\n    state.md.inline.parse(\n      content,\n      state.md,\n      state.env,\n      tokens = []\n    );\n\n    token          = state.push('image', 'img', 0);\n    token.attrs    = attrs = [ [ 'src', href ], [ 'alt', '' ] ];\n    token.children = tokens;\n    token.content  = content;\n\n    if (title) {\n      attrs.push([ 'title', title ]);\n    }\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n  return true;\n};\n","// Process autolinks '<protocol:...>'\n\n'use strict';\n\n\n/*eslint max-len:0*/\nvar EMAIL_RE    = /^<([a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/;\nvar AUTOLINK_RE = /^<([a-zA-Z][a-zA-Z0-9+.\\-]{1,31}):([^<>\\x00-\\x20]*)>/;\n\n\nmodule.exports = function autolink(state, silent) {\n  var tail, linkMatch, emailMatch, url, fullUrl, token,\n      pos = state.pos;\n\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */) { return false; }\n\n  tail = state.src.slice(pos);\n\n  if (tail.indexOf('>') < 0) { return false; }\n\n  if (AUTOLINK_RE.test(tail)) {\n    linkMatch = tail.match(AUTOLINK_RE);\n\n    url = linkMatch[0].slice(1, -1);\n    fullUrl = state.md.normalizeLink(url);\n    if (!state.md.validateLink(fullUrl)) { return false; }\n\n    if (!silent) {\n      token         = state.push('link_open', 'a', 1);\n      token.attrs   = [ [ 'href', fullUrl ] ];\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n\n      token         = state.push('text', '', 0);\n      token.content = state.md.normalizeLinkText(url);\n\n      token         = state.push('link_close', 'a', -1);\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n    }\n\n    state.pos += linkMatch[0].length;\n    return true;\n  }\n\n  if (EMAIL_RE.test(tail)) {\n    emailMatch = tail.match(EMAIL_RE);\n\n    url = emailMatch[0].slice(1, -1);\n    fullUrl = state.md.normalizeLink('mailto:' + url);\n    if (!state.md.validateLink(fullUrl)) { return false; }\n\n    if (!silent) {\n      token         = state.push('link_open', 'a', 1);\n      token.attrs   = [ [ 'href', fullUrl ] ];\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n\n      token         = state.push('text', '', 0);\n      token.content = state.md.normalizeLinkText(url);\n\n      token         = state.push('link_close', 'a', -1);\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n    }\n\n    state.pos += emailMatch[0].length;\n    return true;\n  }\n\n  return false;\n};\n","// Process html tags\n\n'use strict';\n\n\nvar HTML_TAG_RE = require('../common/html_re').HTML_TAG_RE;\n\n\nfunction isLetter(ch) {\n  /*eslint no-bitwise:0*/\n  var lc = ch | 0x20; // to lower case\n  return (lc >= 0x61/* a */) && (lc <= 0x7a/* z */);\n}\n\n\nmodule.exports = function html_inline(state, silent) {\n  var ch, match, max, token,\n      pos = state.pos;\n\n  if (!state.md.options.html) { return false; }\n\n  // Check start\n  max = state.posMax;\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */ ||\n      pos + 2 >= max) {\n    return false;\n  }\n\n  // Quick fail on second char\n  ch = state.src.charCodeAt(pos + 1);\n  if (ch !== 0x21/* ! */ &&\n      ch !== 0x3F/* ? */ &&\n      ch !== 0x2F/* / */ &&\n      !isLetter(ch)) {\n    return false;\n  }\n\n  match = state.src.slice(pos).match(HTML_TAG_RE);\n  if (!match) { return false; }\n\n  if (!silent) {\n    token         = state.push('html_inline', '', 0);\n    token.content = state.src.slice(pos, pos + match[0].length);\n  }\n  state.pos += match[0].length;\n  return true;\n};\n","// Process html entity - &#123;, &#xAF;, &quot;, ...\n\n'use strict';\n\nvar entities          = require('../common/entities');\nvar has               = require('../common/utils').has;\nvar isValidEntityCode = require('../common/utils').isValidEntityCode;\nvar fromCodePoint     = require('../common/utils').fromCodePoint;\n\n\nvar DIGITAL_RE = /^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i;\nvar NAMED_RE   = /^&([a-z][a-z0-9]{1,31});/i;\n\n\nmodule.exports = function entity(state, silent) {\n  var ch, code, match, pos = state.pos, max = state.posMax;\n\n  if (state.src.charCodeAt(pos) !== 0x26/* & */) { return false; }\n\n  if (pos + 1 < max) {\n    ch = state.src.charCodeAt(pos + 1);\n\n    if (ch === 0x23 /* # */) {\n      match = state.src.slice(pos).match(DIGITAL_RE);\n      if (match) {\n        if (!silent) {\n          code = match[1][0].toLowerCase() === 'x' ? parseInt(match[1].slice(1), 16) : parseInt(match[1], 10);\n          state.pending += isValidEntityCode(code) ? fromCodePoint(code) : fromCodePoint(0xFFFD);\n        }\n        state.pos += match[0].length;\n        return true;\n      }\n    } else {\n      match = state.src.slice(pos).match(NAMED_RE);\n      if (match) {\n        if (has(entities, match[1])) {\n          if (!silent) { state.pending += entities[match[1]]; }\n          state.pos += match[0].length;\n          return true;\n        }\n      }\n    }\n  }\n\n  if (!silent) { state.pending += '&'; }\n  state.pos++;\n  return true;\n};\n","// For each opening emphasis-like marker find a matching closing one\n//\n'use strict';\n\n\nfunction processDelimiters(state, delimiters) {\n  var closerIdx, openerIdx, closer, opener, minOpenerIdx, newMinOpenerIdx,\n      isOddMatch, lastJump,\n      openersBottom = {},\n      max = delimiters.length;\n\n  for (closerIdx = 0; closerIdx < max; closerIdx++) {\n    closer = delimiters[closerIdx];\n\n    // Length is only used for emphasis-specific \"rule of 3\",\n    // if it's not defined (in strikethrough or 3rd party plugins),\n    // we can default it to 0 to disable those checks.\n    //\n    closer.length = closer.length || 0;\n\n    if (!closer.close) continue;\n\n    // Previously calculated lower bounds (previous fails)\n    // for each marker and each delimiter length modulo 3.\n    if (!openersBottom.hasOwnProperty(closer.marker)) {\n      openersBottom[closer.marker] = [ -1, -1, -1 ];\n    }\n\n    minOpenerIdx = openersBottom[closer.marker][closer.length % 3];\n    newMinOpenerIdx = -1;\n\n    openerIdx = closerIdx - closer.jump - 1;\n\n    for (; openerIdx > minOpenerIdx; openerIdx -= opener.jump + 1) {\n      opener = delimiters[openerIdx];\n\n      if (opener.marker !== closer.marker) continue;\n\n      if (newMinOpenerIdx === -1) newMinOpenerIdx = openerIdx;\n\n      if (opener.open && opener.end < 0) {\n\n        isOddMatch = false;\n\n        // from spec:\n        //\n        // If one of the delimiters can both open and close emphasis, then the\n        // sum of the lengths of the delimiter runs containing the opening and\n        // closing delimiters must not be a multiple of 3 unless both lengths\n        // are multiples of 3.\n        //\n        if (opener.close || closer.open) {\n          if ((opener.length + closer.length) % 3 === 0) {\n            if (opener.length % 3 !== 0 || closer.length % 3 !== 0) {\n              isOddMatch = true;\n            }\n          }\n        }\n\n        if (!isOddMatch) {\n          // If previous delimiter cannot be an opener, we can safely skip\n          // the entire sequence in future checks. This is required to make\n          // sure algorithm has linear complexity (see *_*_*_*_*_... case).\n          //\n          lastJump = openerIdx > 0 && !delimiters[openerIdx - 1].open ?\n            delimiters[openerIdx - 1].jump + 1 :\n            0;\n\n          closer.jump  = closerIdx - openerIdx + lastJump;\n          closer.open  = false;\n          opener.end   = closerIdx;\n          opener.jump  = lastJump;\n          opener.close = false;\n          newMinOpenerIdx = -1;\n          break;\n        }\n      }\n    }\n\n    if (newMinOpenerIdx !== -1) {\n      // If match for this delimiter run failed, we want to set lower bound for\n      // future lookups. This is required to make sure algorithm has linear\n      // complexity.\n      //\n      // See details here:\n      // https://github.com/commonmark/cmark/issues/178#issuecomment-270417442\n      //\n      openersBottom[closer.marker][(closer.length || 0) % 3] = newMinOpenerIdx;\n    }\n  }\n}\n\n\nmodule.exports = function link_pairs(state) {\n  var curr,\n      tokens_meta = state.tokens_meta,\n      max = state.tokens_meta.length;\n\n  processDelimiters(state, state.delimiters);\n\n  for (curr = 0; curr < max; curr++) {\n    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {\n      processDelimiters(state, tokens_meta[curr].delimiters);\n    }\n  }\n};\n","// Clean up tokens after emphasis and strikethrough postprocessing:\n// merge adjacent text nodes into one and re-calculate all token levels\n//\n// This is necessary because initially emphasis delimiter markers (*, _, ~)\n// are treated as their own separate text tokens. Then emphasis rule either\n// leaves them as text (needed to merge with adjacent text) or turns them\n// into opening/closing tags (which messes up levels inside).\n//\n'use strict';\n\n\nmodule.exports = function text_collapse(state) {\n  var curr, last,\n      level = 0,\n      tokens = state.tokens,\n      max = state.tokens.length;\n\n  for (curr = last = 0; curr < max; curr++) {\n    // re-calculate levels after emphasis/strikethrough turns some text nodes\n    // into opening/closing tags\n    if (tokens[curr].nesting < 0) level--; // closing tag\n    tokens[curr].level = level;\n    if (tokens[curr].nesting > 0) level++; // opening tag\n\n    if (tokens[curr].type === 'text' &&\n        curr + 1 < max &&\n        tokens[curr + 1].type === 'text') {\n\n      // collapse two adjacent text nodes\n      tokens[curr + 1].content = tokens[curr].content + tokens[curr + 1].content;\n    } else {\n      if (curr !== last) { tokens[last] = tokens[curr]; }\n\n      last++;\n    }\n  }\n\n  if (curr !== last) {\n    tokens.length = last;\n  }\n};\n","// Inline parser state\n\n'use strict';\n\n\nvar Token          = require('../token');\nvar isWhiteSpace   = require('../common/utils').isWhiteSpace;\nvar isPunctChar    = require('../common/utils').isPunctChar;\nvar isMdAsciiPunct = require('../common/utils').isMdAsciiPunct;\n\n\nfunction StateInline(src, md, env, outTokens) {\n  this.src = src;\n  this.env = env;\n  this.md = md;\n  this.tokens = outTokens;\n  this.tokens_meta = Array(outTokens.length);\n\n  this.pos = 0;\n  this.posMax = this.src.length;\n  this.level = 0;\n  this.pending = '';\n  this.pendingLevel = 0;\n\n  // Stores { start: end } pairs. Useful for backtrack\n  // optimization of pairs parse (emphasis, strikes).\n  this.cache = {};\n\n  // List of emphasis-like delimiters for current tag\n  this.delimiters = [];\n\n  // Stack of delimiter lists for upper level tags\n  this._prev_delimiters = [];\n}\n\n\n// Flush pending text\n//\nStateInline.prototype.pushPending = function () {\n  var token = new Token('text', '', 0);\n  token.content = this.pending;\n  token.level = this.pendingLevel;\n  this.tokens.push(token);\n  this.pending = '';\n  return token;\n};\n\n\n// Push new token to \"stream\".\n// If pending text exists - flush it as text token\n//\nStateInline.prototype.push = function (type, tag, nesting) {\n  if (this.pending) {\n    this.pushPending();\n  }\n\n  var token = new Token(type, tag, nesting);\n  var token_meta = null;\n\n  if (nesting < 0) {\n    // closing tag\n    this.level--;\n    this.delimiters = this._prev_delimiters.pop();\n  }\n\n  token.level = this.level;\n\n  if (nesting > 0) {\n    // opening tag\n    this.level++;\n    this._prev_delimiters.push(this.delimiters);\n    this.delimiters = [];\n    token_meta = { delimiters: this.delimiters };\n  }\n\n  this.pendingLevel = this.level;\n  this.tokens.push(token);\n  this.tokens_meta.push(token_meta);\n  return token;\n};\n\n\n// Scan a sequence of emphasis-like markers, and determine whether\n// it can start an emphasis sequence or end an emphasis sequence.\n//\n//  - start - position to scan from (it should point at a valid marker);\n//  - canSplitWord - determine if these markers can be found inside a word\n//\nStateInline.prototype.scanDelims = function (start, canSplitWord) {\n  var pos = start, lastChar, nextChar, count, can_open, can_close,\n      isLastWhiteSpace, isLastPunctChar,\n      isNextWhiteSpace, isNextPunctChar,\n      left_flanking = true,\n      right_flanking = true,\n      max = this.posMax,\n      marker = this.src.charCodeAt(start);\n\n  // treat beginning of the line as a whitespace\n  lastChar = start > 0 ? this.src.charCodeAt(start - 1) : 0x20;\n\n  while (pos < max && this.src.charCodeAt(pos) === marker) { pos++; }\n\n  count = pos - start;\n\n  // treat end of the line as a whitespace\n  nextChar = pos < max ? this.src.charCodeAt(pos) : 0x20;\n\n  isLastPunctChar = isMdAsciiPunct(lastChar) || isPunctChar(String.fromCharCode(lastChar));\n  isNextPunctChar = isMdAsciiPunct(nextChar) || isPunctChar(String.fromCharCode(nextChar));\n\n  isLastWhiteSpace = isWhiteSpace(lastChar);\n  isNextWhiteSpace = isWhiteSpace(nextChar);\n\n  if (isNextWhiteSpace) {\n    left_flanking = false;\n  } else if (isNextPunctChar) {\n    if (!(isLastWhiteSpace || isLastPunctChar)) {\n      left_flanking = false;\n    }\n  }\n\n  if (isLastWhiteSpace) {\n    right_flanking = false;\n  } else if (isLastPunctChar) {\n    if (!(isNextWhiteSpace || isNextPunctChar)) {\n      right_flanking = false;\n    }\n  }\n\n  if (!canSplitWord) {\n    can_open  = left_flanking  && (!right_flanking || isLastPunctChar);\n    can_close = right_flanking && (!left_flanking  || isNextPunctChar);\n  } else {\n    can_open  = left_flanking;\n    can_close = right_flanking;\n  }\n\n  return {\n    can_open:  can_open,\n    can_close: can_close,\n    length:    count\n  };\n};\n\n\n// re-export Token class to use in block rules\nStateInline.prototype.Token = Token;\n\n\nmodule.exports = StateInline;\n","'use strict';\n\n\n////////////////////////////////////////////////////////////////////////////////\n// Helpers\n\n// Merge objects\n//\nfunction assign(obj /*from1, from2, from3, ...*/) {\n  var sources = Array.prototype.slice.call(arguments, 1);\n\n  sources.forEach(function (source) {\n    if (!source) { return; }\n\n    Object.keys(source).forEach(function (key) {\n      obj[key] = source[key];\n    });\n  });\n\n  return obj;\n}\n\nfunction _class(obj) { return Object.prototype.toString.call(obj); }\nfunction isString(obj) { return _class(obj) === '[object String]'; }\nfunction isObject(obj) { return _class(obj) === '[object Object]'; }\nfunction isRegExp(obj) { return _class(obj) === '[object RegExp]'; }\nfunction isFunction(obj) { return _class(obj) === '[object Function]'; }\n\n\nfunction escapeRE(str) { return str.replace(/[.?*+^$[\\]\\\\(){}|-]/g, '\\\\$&'); }\n\n////////////////////////////////////////////////////////////////////////////////\n\n\nvar defaultOptions = {\n  fuzzyLink: true,\n  fuzzyEmail: true,\n  fuzzyIP: false\n};\n\n\nfunction isOptionsObj(obj) {\n  return Object.keys(obj || {}).reduce(function (acc, k) {\n    return acc || defaultOptions.hasOwnProperty(k);\n  }, false);\n}\n\n\nvar defaultSchemas = {\n  'http:': {\n    validate: function (text, pos, self) {\n      var tail = text.slice(pos);\n\n      if (!self.re.http) {\n        // compile lazily, because \"host\"-containing variables can change on tlds update.\n        self.re.http =  new RegExp(\n          '^\\\\/\\\\/' + self.re.src_auth + self.re.src_host_port_strict + self.re.src_path, 'i'\n        );\n      }\n      if (self.re.http.test(tail)) {\n        return tail.match(self.re.http)[0].length;\n      }\n      return 0;\n    }\n  },\n  'https:':  'http:',\n  'ftp:':    'http:',\n  '//':      {\n    validate: function (text, pos, self) {\n      var tail = text.slice(pos);\n\n      if (!self.re.no_http) {\n      // compile lazily, because \"host\"-containing variables can change on tlds update.\n        self.re.no_http =  new RegExp(\n          '^' +\n          self.re.src_auth +\n          // Don't allow single-level domains, because of false positives like '//test'\n          // with code comments\n          '(?:localhost|(?:(?:' + self.re.src_domain + ')\\\\.)+' + self.re.src_domain_root + ')' +\n          self.re.src_port +\n          self.re.src_host_terminator +\n          self.re.src_path,\n\n          'i'\n        );\n      }\n\n      if (self.re.no_http.test(tail)) {\n        // should not be `://` & `///`, that protects from errors in protocol name\n        if (pos >= 3 && text[pos - 3] === ':') { return 0; }\n        if (pos >= 3 && text[pos - 3] === '/') { return 0; }\n        return tail.match(self.re.no_http)[0].length;\n      }\n      return 0;\n    }\n  },\n  'mailto:': {\n    validate: function (text, pos, self) {\n      var tail = text.slice(pos);\n\n      if (!self.re.mailto) {\n        self.re.mailto =  new RegExp(\n          '^' + self.re.src_email_name + '@' + self.re.src_host_strict, 'i'\n        );\n      }\n      if (self.re.mailto.test(tail)) {\n        return tail.match(self.re.mailto)[0].length;\n      }\n      return 0;\n    }\n  }\n};\n\n/*eslint-disable max-len*/\n\n// RE pattern for 2-character tlds (autogenerated by ./support/tlds_2char_gen.js)\nvar tlds_2ch_src_re = 'a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]';\n\n// DON'T try to make PRs with changes. Extend TLDs with LinkifyIt.tlds() instead\nvar tlds_default = 'biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф'.split('|');\n\n/*eslint-enable max-len*/\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction resetScanCache(self) {\n  self.__index__ = -1;\n  self.__text_cache__   = '';\n}\n\nfunction createValidator(re) {\n  return function (text, pos) {\n    var tail = text.slice(pos);\n\n    if (re.test(tail)) {\n      return tail.match(re)[0].length;\n    }\n    return 0;\n  };\n}\n\nfunction createNormalizer() {\n  return function (match, self) {\n    self.normalize(match);\n  };\n}\n\n// Schemas compiler. Build regexps.\n//\nfunction compile(self) {\n\n  // Load & clone RE patterns.\n  var re = self.re = require('./lib/re')(self.__opts__);\n\n  // Define dynamic patterns\n  var tlds = self.__tlds__.slice();\n\n  self.onCompile();\n\n  if (!self.__tlds_replaced__) {\n    tlds.push(tlds_2ch_src_re);\n  }\n  tlds.push(re.src_xn);\n\n  re.src_tlds = tlds.join('|');\n\n  function untpl(tpl) { return tpl.replace('%TLDS%', re.src_tlds); }\n\n  re.email_fuzzy      = RegExp(untpl(re.tpl_email_fuzzy), 'i');\n  re.link_fuzzy       = RegExp(untpl(re.tpl_link_fuzzy), 'i');\n  re.link_no_ip_fuzzy = RegExp(untpl(re.tpl_link_no_ip_fuzzy), 'i');\n  re.host_fuzzy_test  = RegExp(untpl(re.tpl_host_fuzzy_test), 'i');\n\n  //\n  // Compile each schema\n  //\n\n  var aliases = [];\n\n  self.__compiled__ = {}; // Reset compiled data\n\n  function schemaError(name, val) {\n    throw new Error('(LinkifyIt) Invalid schema \"' + name + '\": ' + val);\n  }\n\n  Object.keys(self.__schemas__).forEach(function (name) {\n    var val = self.__schemas__[name];\n\n    // skip disabled methods\n    if (val === null) { return; }\n\n    var compiled = { validate: null, link: null };\n\n    self.__compiled__[name] = compiled;\n\n    if (isObject(val)) {\n      if (isRegExp(val.validate)) {\n        compiled.validate = createValidator(val.validate);\n      } else if (isFunction(val.validate)) {\n        compiled.validate = val.validate;\n      } else {\n        schemaError(name, val);\n      }\n\n      if (isFunction(val.normalize)) {\n        compiled.normalize = val.normalize;\n      } else if (!val.normalize) {\n        compiled.normalize = createNormalizer();\n      } else {\n        schemaError(name, val);\n      }\n\n      return;\n    }\n\n    if (isString(val)) {\n      aliases.push(name);\n      return;\n    }\n\n    schemaError(name, val);\n  });\n\n  //\n  // Compile postponed aliases\n  //\n\n  aliases.forEach(function (alias) {\n    if (!self.__compiled__[self.__schemas__[alias]]) {\n      // Silently fail on missed schemas to avoid errons on disable.\n      // schemaError(alias, self.__schemas__[alias]);\n      return;\n    }\n\n    self.__compiled__[alias].validate =\n      self.__compiled__[self.__schemas__[alias]].validate;\n    self.__compiled__[alias].normalize =\n      self.__compiled__[self.__schemas__[alias]].normalize;\n  });\n\n  //\n  // Fake record for guessed links\n  //\n  self.__compiled__[''] = { validate: null, normalize: createNormalizer() };\n\n  //\n  // Build schema condition\n  //\n  var slist = Object.keys(self.__compiled__)\n                      .filter(function (name) {\n                        // Filter disabled & fake schemas\n                        return name.length > 0 && self.__compiled__[name];\n                      })\n                      .map(escapeRE)\n                      .join('|');\n  // (?!_) cause 1.5x slowdown\n  self.re.schema_test   = RegExp('(^|(?!_)(?:[><\\uff5c]|' + re.src_ZPCc + '))(' + slist + ')', 'i');\n  self.re.schema_search = RegExp('(^|(?!_)(?:[><\\uff5c]|' + re.src_ZPCc + '))(' + slist + ')', 'ig');\n\n  self.re.pretest = RegExp(\n    '(' + self.re.schema_test.source + ')|(' + self.re.host_fuzzy_test.source + ')|@',\n    'i'\n  );\n\n  //\n  // Cleanup\n  //\n\n  resetScanCache(self);\n}\n\n/**\n * class Match\n *\n * Match result. Single element of array, returned by [[LinkifyIt#match]]\n **/\nfunction Match(self, shift) {\n  var start = self.__index__,\n      end   = self.__last_index__,\n      text  = self.__text_cache__.slice(start, end);\n\n  /**\n   * Match#schema -> String\n   *\n   * Prefix (protocol) for matched string.\n   **/\n  this.schema    = self.__schema__.toLowerCase();\n  /**\n   * Match#index -> Number\n   *\n   * First position of matched string.\n   **/\n  this.index     = start + shift;\n  /**\n   * Match#lastIndex -> Number\n   *\n   * Next position after matched string.\n   **/\n  this.lastIndex = end + shift;\n  /**\n   * Match#raw -> String\n   *\n   * Matched string.\n   **/\n  this.raw       = text;\n  /**\n   * Match#text -> String\n   *\n   * Notmalized text of matched string.\n   **/\n  this.text      = text;\n  /**\n   * Match#url -> String\n   *\n   * Normalized url of matched string.\n   **/\n  this.url       = text;\n}\n\nfunction createMatch(self, shift) {\n  var match = new Match(self, shift);\n\n  self.__compiled__[match.schema].normalize(match, self);\n\n  return match;\n}\n\n\n/**\n * class LinkifyIt\n **/\n\n/**\n * new LinkifyIt(schemas, options)\n * - schemas (Object): Optional. Additional schemas to validate (prefix/validator)\n * - options (Object): { fuzzyLink|fuzzyEmail|fuzzyIP: true|false }\n *\n * Creates new linkifier instance with optional additional schemas.\n * Can be called without `new` keyword for convenience.\n *\n * By default understands:\n *\n * - `http(s)://...` , `ftp://...`, `mailto:...` & `//...` links\n * - \"fuzzy\" links and emails (example.com, foo@bar.com).\n *\n * `schemas` is an object, where each key/value describes protocol/rule:\n *\n * - __key__ - link prefix (usually, protocol name with `:` at the end, `skype:`\n *   for example). `linkify-it` makes shure that prefix is not preceeded with\n *   alphanumeric char and symbols. Only whitespaces and punctuation allowed.\n * - __value__ - rule to check tail after link prefix\n *   - _String_ - just alias to existing rule\n *   - _Object_\n *     - _validate_ - validator function (should return matched length on success),\n *       or `RegExp`.\n *     - _normalize_ - optional function to normalize text & url of matched result\n *       (for example, for @twitter mentions).\n *\n * `options`:\n *\n * - __fuzzyLink__ - recognige URL-s without `http(s):` prefix. Default `true`.\n * - __fuzzyIP__ - allow IPs in fuzzy links above. Can conflict with some texts\n *   like version numbers. Default `false`.\n * - __fuzzyEmail__ - recognize emails without `mailto:` prefix.\n *\n **/\nfunction LinkifyIt(schemas, options) {\n  if (!(this instanceof LinkifyIt)) {\n    return new LinkifyIt(schemas, options);\n  }\n\n  if (!options) {\n    if (isOptionsObj(schemas)) {\n      options = schemas;\n      schemas = {};\n    }\n  }\n\n  this.__opts__           = assign({}, defaultOptions, options);\n\n  // Cache last tested result. Used to skip repeating steps on next `match` call.\n  this.__index__          = -1;\n  this.__last_index__     = -1; // Next scan position\n  this.__schema__         = '';\n  this.__text_cache__     = '';\n\n  this.__schemas__        = assign({}, defaultSchemas, schemas);\n  this.__compiled__       = {};\n\n  this.__tlds__           = tlds_default;\n  this.__tlds_replaced__  = false;\n\n  this.re = {};\n\n  compile(this);\n}\n\n\n/** chainable\n * LinkifyIt#add(schema, definition)\n * - schema (String): rule name (fixed pattern prefix)\n * - definition (String|RegExp|Object): schema definition\n *\n * Add new rule definition. See constructor description for details.\n **/\nLinkifyIt.prototype.add = function add(schema, definition) {\n  this.__schemas__[schema] = definition;\n  compile(this);\n  return this;\n};\n\n\n/** chainable\n * LinkifyIt#set(options)\n * - options (Object): { fuzzyLink|fuzzyEmail|fuzzyIP: true|false }\n *\n * Set recognition options for links without schema.\n **/\nLinkifyIt.prototype.set = function set(options) {\n  this.__opts__ = assign(this.__opts__, options);\n  return this;\n};\n\n\n/**\n * LinkifyIt#test(text) -> Boolean\n *\n * Searches linkifiable pattern and returns `true` on success or `false` on fail.\n **/\nLinkifyIt.prototype.test = function test(text) {\n  // Reset scan cache\n  this.__text_cache__ = text;\n  this.__index__      = -1;\n\n  if (!text.length) { return false; }\n\n  var m, ml, me, len, shift, next, re, tld_pos, at_pos;\n\n  // try to scan for link with schema - that's the most simple rule\n  if (this.re.schema_test.test(text)) {\n    re = this.re.schema_search;\n    re.lastIndex = 0;\n    while ((m = re.exec(text)) !== null) {\n      len = this.testSchemaAt(text, m[2], re.lastIndex);\n      if (len) {\n        this.__schema__     = m[2];\n        this.__index__      = m.index + m[1].length;\n        this.__last_index__ = m.index + m[0].length + len;\n        break;\n      }\n    }\n  }\n\n  if (this.__opts__.fuzzyLink && this.__compiled__['http:']) {\n    // guess schemaless links\n    tld_pos = text.search(this.re.host_fuzzy_test);\n    if (tld_pos >= 0) {\n      // if tld is located after found link - no need to check fuzzy pattern\n      if (this.__index__ < 0 || tld_pos < this.__index__) {\n        if ((ml = text.match(this.__opts__.fuzzyIP ? this.re.link_fuzzy : this.re.link_no_ip_fuzzy)) !== null) {\n\n          shift = ml.index + ml[1].length;\n\n          if (this.__index__ < 0 || shift < this.__index__) {\n            this.__schema__     = '';\n            this.__index__      = shift;\n            this.__last_index__ = ml.index + ml[0].length;\n          }\n        }\n      }\n    }\n  }\n\n  if (this.__opts__.fuzzyEmail && this.__compiled__['mailto:']) {\n    // guess schemaless emails\n    at_pos = text.indexOf('@');\n    if (at_pos >= 0) {\n      // We can't skip this check, because this cases are possible:\n      // 192.168.1.1@gmail.com, my.in@example.com\n      if ((me = text.match(this.re.email_fuzzy)) !== null) {\n\n        shift = me.index + me[1].length;\n        next  = me.index + me[0].length;\n\n        if (this.__index__ < 0 || shift < this.__index__ ||\n            (shift === this.__index__ && next > this.__last_index__)) {\n          this.__schema__     = 'mailto:';\n          this.__index__      = shift;\n          this.__last_index__ = next;\n        }\n      }\n    }\n  }\n\n  return this.__index__ >= 0;\n};\n\n\n/**\n * LinkifyIt#pretest(text) -> Boolean\n *\n * Very quick check, that can give false positives. Returns true if link MAY BE\n * can exists. Can be used for speed optimization, when you need to check that\n * link NOT exists.\n **/\nLinkifyIt.prototype.pretest = function pretest(text) {\n  return this.re.pretest.test(text);\n};\n\n\n/**\n * LinkifyIt#testSchemaAt(text, name, position) -> Number\n * - text (String): text to scan\n * - name (String): rule (schema) name\n * - position (Number): text offset to check from\n *\n * Similar to [[LinkifyIt#test]] but checks only specific protocol tail exactly\n * at given position. Returns length of found pattern (0 on fail).\n **/\nLinkifyIt.prototype.testSchemaAt = function testSchemaAt(text, schema, pos) {\n  // If not supported schema check requested - terminate\n  if (!this.__compiled__[schema.toLowerCase()]) {\n    return 0;\n  }\n  return this.__compiled__[schema.toLowerCase()].validate(text, pos, this);\n};\n\n\n/**\n * LinkifyIt#match(text) -> Array|null\n *\n * Returns array of found link descriptions or `null` on fail. We strongly\n * recommend to use [[LinkifyIt#test]] first, for best speed.\n *\n * ##### Result match description\n *\n * - __schema__ - link schema, can be empty for fuzzy links, or `//` for\n *   protocol-neutral  links.\n * - __index__ - offset of matched text\n * - __lastIndex__ - index of next char after mathch end\n * - __raw__ - matched text\n * - __text__ - normalized text\n * - __url__ - link, generated from matched text\n **/\nLinkifyIt.prototype.match = function match(text) {\n  var shift = 0, result = [];\n\n  // Try to take previous element from cache, if .test() called before\n  if (this.__index__ >= 0 && this.__text_cache__ === text) {\n    result.push(createMatch(this, shift));\n    shift = this.__last_index__;\n  }\n\n  // Cut head if cache was used\n  var tail = shift ? text.slice(shift) : text;\n\n  // Scan string until end reached\n  while (this.test(tail)) {\n    result.push(createMatch(this, shift));\n\n    tail = tail.slice(this.__last_index__);\n    shift += this.__last_index__;\n  }\n\n  if (result.length) {\n    return result;\n  }\n\n  return null;\n};\n\n\n/** chainable\n * LinkifyIt#tlds(list [, keepOld]) -> this\n * - list (Array): list of tlds\n * - keepOld (Boolean): merge with current list if `true` (`false` by default)\n *\n * Load (or merge) new tlds list. Those are user for fuzzy links (without prefix)\n * to avoid false positives. By default this algorythm used:\n *\n * - hostname with any 2-letter root zones are ok.\n * - biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф\n *   are ok.\n * - encoded (`xn--...`) root zones are ok.\n *\n * If list is replaced, then exact match for 2-chars root zones will be checked.\n **/\nLinkifyIt.prototype.tlds = function tlds(list, keepOld) {\n  list = Array.isArray(list) ? list : [ list ];\n\n  if (!keepOld) {\n    this.__tlds__ = list.slice();\n    this.__tlds_replaced__ = true;\n    compile(this);\n    return this;\n  }\n\n  this.__tlds__ = this.__tlds__.concat(list)\n                                  .sort()\n                                  .filter(function (el, idx, arr) {\n                                    return el !== arr[idx - 1];\n                                  })\n                                  .reverse();\n\n  compile(this);\n  return this;\n};\n\n/**\n * LinkifyIt#normalize(match)\n *\n * Default normalizer (if schema does not define it's own).\n **/\nLinkifyIt.prototype.normalize = function normalize(match) {\n\n  // Do minimal possible changes by default. Need to collect feedback prior\n  // to move forward https://github.com/markdown-it/linkify-it/issues/1\n\n  if (!match.schema) { match.url = 'http://' + match.url; }\n\n  if (match.schema === 'mailto:' && !/^mailto:/i.test(match.url)) {\n    match.url = 'mailto:' + match.url;\n  }\n};\n\n\n/**\n * LinkifyIt#onCompile()\n *\n * Override to modify basic RegExp-s.\n **/\nLinkifyIt.prototype.onCompile = function onCompile() {\n};\n\n\nmodule.exports = LinkifyIt;\n","'use strict';\n\n\nmodule.exports = function (opts) {\n  var re = {};\n\n  // Use direct extract instead of `regenerate` to reduse browserified size\n  re.src_Any = require('uc.micro/properties/Any/regex').source;\n  re.src_Cc  = require('uc.micro/categories/Cc/regex').source;\n  re.src_Z   = require('uc.micro/categories/Z/regex').source;\n  re.src_P   = require('uc.micro/categories/P/regex').source;\n\n  // \\p{\\Z\\P\\Cc\\CF} (white spaces + control + format + punctuation)\n  re.src_ZPCc = [ re.src_Z, re.src_P, re.src_Cc ].join('|');\n\n  // \\p{\\Z\\Cc} (white spaces + control)\n  re.src_ZCc = [ re.src_Z, re.src_Cc ].join('|');\n\n  // Experimental. List of chars, completely prohibited in links\n  // because can separate it from other part of text\n  var text_separators = '[><\\uff5c]';\n\n  // All possible word characters (everything without punctuation, spaces & controls)\n  // Defined via punctuation & spaces to save space\n  // Should be something like \\p{\\L\\N\\S\\M} (\\w but without `_`)\n  re.src_pseudo_letter       = '(?:(?!' + text_separators + '|' + re.src_ZPCc + ')' + re.src_Any + ')';\n  // The same as abothe but without [0-9]\n  // var src_pseudo_letter_non_d = '(?:(?![0-9]|' + src_ZPCc + ')' + src_Any + ')';\n\n  ////////////////////////////////////////////////////////////////////////////////\n\n  re.src_ip4 =\n\n    '(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)';\n\n  // Prohibit any of \"@/[]()\" in user/pass to avoid wrong domain fetch.\n  re.src_auth    = '(?:(?:(?!' + re.src_ZCc + '|[@/\\\\[\\\\]()]).)+@)?';\n\n  re.src_port =\n\n    '(?::(?:6(?:[0-4]\\\\d{3}|5(?:[0-4]\\\\d{2}|5(?:[0-2]\\\\d|3[0-5])))|[1-5]?\\\\d{1,4}))?';\n\n  re.src_host_terminator =\n\n    '(?=$|' + text_separators + '|' + re.src_ZPCc + ')(?!-|_|:\\\\d|\\\\.-|\\\\.(?!$|' + re.src_ZPCc + '))';\n\n  re.src_path =\n\n    '(?:' +\n      '[/?#]' +\n        '(?:' +\n          '(?!' + re.src_ZCc + '|' + text_separators + '|[()[\\\\]{}.,\"\\'?!\\\\-]).|' +\n          '\\\\[(?:(?!' + re.src_ZCc + '|\\\\]).)*\\\\]|' +\n          '\\\\((?:(?!' + re.src_ZCc + '|[)]).)*\\\\)|' +\n          '\\\\{(?:(?!' + re.src_ZCc + '|[}]).)*\\\\}|' +\n          '\\\\\"(?:(?!' + re.src_ZCc + '|[\"]).)+\\\\\"|' +\n          \"\\\\'(?:(?!\" + re.src_ZCc + \"|[']).)+\\\\'|\" +\n          \"\\\\'(?=\" + re.src_pseudo_letter + '|[-]).|' +  // allow `I'm_king` if no pair found\n          '\\\\.{2,}[a-zA-Z0-9%/&]|' + // google has many dots in \"google search\" links (#66, #81).\n                                     // github has ... in commit range links,\n                                     // Restrict to\n                                     // - english\n                                     // - percent-encoded\n                                     // - parts of file path\n                                     // - params separator\n                                     // until more examples found.\n          '\\\\.(?!' + re.src_ZCc + '|[.]).|' +\n          (opts && opts['---'] ?\n            '\\\\-(?!--(?:[^-]|$))(?:-*)|' // `---` => long dash, terminate\n            :\n            '\\\\-+|'\n          ) +\n          '\\\\,(?!' + re.src_ZCc + ').|' +       // allow `,,,` in paths\n          '\\\\!+(?!' + re.src_ZCc + '|[!]).|' +  // allow `!!!` in paths, but not at the end\n          '\\\\?(?!' + re.src_ZCc + '|[?]).' +\n        ')+' +\n      '|\\\\/' +\n    ')?';\n\n  // Allow anything in markdown spec, forbid quote (\") at the first position\n  // because emails enclosed in quotes are far more common\n  re.src_email_name =\n\n    '[\\\\-;:&=\\\\+\\\\$,\\\\.a-zA-Z0-9_][\\\\-;:&=\\\\+\\\\$,\\\\\"\\\\.a-zA-Z0-9_]*';\n\n  re.src_xn =\n\n    'xn--[a-z0-9\\\\-]{1,59}';\n\n  // More to read about domain names\n  // http://serverfault.com/questions/638260/\n\n  re.src_domain_root =\n\n    // Allow letters & digits (http://test1)\n    '(?:' +\n      re.src_xn +\n      '|' +\n      re.src_pseudo_letter + '{1,63}' +\n    ')';\n\n  re.src_domain =\n\n    '(?:' +\n      re.src_xn +\n      '|' +\n      '(?:' + re.src_pseudo_letter + ')' +\n      '|' +\n      '(?:' + re.src_pseudo_letter + '(?:-|' + re.src_pseudo_letter + '){0,61}' + re.src_pseudo_letter + ')' +\n    ')';\n\n  re.src_host =\n\n    '(?:' +\n    // Don't need IP check, because digits are already allowed in normal domain names\n    //   src_ip4 +\n    // '|' +\n      '(?:(?:(?:' + re.src_domain + ')\\\\.)*' + re.src_domain/*_root*/ + ')' +\n    ')';\n\n  re.tpl_host_fuzzy =\n\n    '(?:' +\n      re.src_ip4 +\n    '|' +\n      '(?:(?:(?:' + re.src_domain + ')\\\\.)+(?:%TLDS%))' +\n    ')';\n\n  re.tpl_host_no_ip_fuzzy =\n\n    '(?:(?:(?:' + re.src_domain + ')\\\\.)+(?:%TLDS%))';\n\n  re.src_host_strict =\n\n    re.src_host + re.src_host_terminator;\n\n  re.tpl_host_fuzzy_strict =\n\n    re.tpl_host_fuzzy + re.src_host_terminator;\n\n  re.src_host_port_strict =\n\n    re.src_host + re.src_port + re.src_host_terminator;\n\n  re.tpl_host_port_fuzzy_strict =\n\n    re.tpl_host_fuzzy + re.src_port + re.src_host_terminator;\n\n  re.tpl_host_port_no_ip_fuzzy_strict =\n\n    re.tpl_host_no_ip_fuzzy + re.src_port + re.src_host_terminator;\n\n\n  ////////////////////////////////////////////////////////////////////////////////\n  // Main rules\n\n  // Rude test fuzzy links by host, for quick deny\n  re.tpl_host_fuzzy_test =\n\n    'localhost|www\\\\.|\\\\.\\\\d{1,3}\\\\.|(?:\\\\.(?:%TLDS%)(?:' + re.src_ZPCc + '|>|$))';\n\n  re.tpl_email_fuzzy =\n\n      '(^|' + text_separators + '|\"|\\\\(|' + re.src_ZCc + ')' +\n      '(' + re.src_email_name + '@' + re.tpl_host_fuzzy_strict + ')';\n\n  re.tpl_link_fuzzy =\n      // Fuzzy link can't be prepended with .:/\\- and non punctuation.\n      // but can start with > (markdown blockquote)\n      '(^|(?![.:/\\\\-_@])(?:[$+<=>^`|\\uff5c]|' + re.src_ZPCc + '))' +\n      '((?![$+<=>^`|\\uff5c])' + re.tpl_host_port_fuzzy_strict + re.src_path + ')';\n\n  re.tpl_link_no_ip_fuzzy =\n      // Fuzzy link can't be prepended with .:/\\- and non punctuation.\n      // but can start with > (markdown blockquote)\n      '(^|(?![.:/\\\\-_@])(?:[$+<=>^`|\\uff5c]|' + re.src_ZPCc + '))' +\n      '((?![$+<=>^`|\\uff5c])' + re.tpl_host_port_no_ip_fuzzy_strict + re.src_path + ')';\n\n  return re;\n};\n","// markdown-it default options\n\n'use strict';\n\n\nmodule.exports = {\n  options: {\n    html:         false,        // Enable HTML tags in source\n    xhtmlOut:     false,        // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkify:      false,        // autoconvert URL-like texts to links\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Could be either a String or an Array.\n    //\n    // For example, you can use '«»„“' for Russian, '„“‚‘' for German,\n    // and ['«\\xA0', '\\xA0»', '‹\\xA0', '\\xA0›'] for French (including nbsp).\n    quotes: '\\u201c\\u201d\\u2018\\u2019', /* “”‘’ */\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if the source string is not changed and should be escaped externaly.\n    // If result starts with <pre... internal wrapper is skipped.\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   100            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {},\n    block: {},\n    inline: {}\n  }\n};\n","// \"Zero\" preset, with nothing enabled. Useful for manual configuring of simple\n// modes. For example, to parse bold/italic only.\n\n'use strict';\n\n\nmodule.exports = {\n  options: {\n    html:         false,        // Enable HTML tags in source\n    xhtmlOut:     false,        // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkify:      false,        // autoconvert URL-like texts to links\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Could be either a String or an Array.\n    //\n    // For example, you can use '«»„“' for Russian, '„“‚‘' for German,\n    // and ['«\\xA0', '\\xA0»', '‹\\xA0', '\\xA0›'] for French (including nbsp).\n    quotes: '\\u201c\\u201d\\u2018\\u2019', /* “”‘’ */\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if the source string is not changed and should be escaped externaly.\n    // If result starts with <pre... internal wrapper is skipped.\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   20            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {\n      rules: [\n        'normalize',\n        'block',\n        'inline'\n      ]\n    },\n\n    block: {\n      rules: [\n        'paragraph'\n      ]\n    },\n\n    inline: {\n      rules: [\n        'text'\n      ],\n      rules2: [\n        'balance_pairs',\n        'text_collapse'\n      ]\n    }\n  }\n};\n","// Commonmark default options\n\n'use strict';\n\n\nmodule.exports = {\n  options: {\n    html:         true,         // Enable HTML tags in source\n    xhtmlOut:     true,         // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkify:      false,        // autoconvert URL-like texts to links\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Could be either a String or an Array.\n    //\n    // For example, you can use '«»„“' for Russian, '„“‚‘' for German,\n    // and ['«\\xA0', '\\xA0»', '‹\\xA0', '\\xA0›'] for French (including nbsp).\n    quotes: '\\u201c\\u201d\\u2018\\u2019', /* “”‘’ */\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if the source string is not changed and should be escaped externaly.\n    // If result starts with <pre... internal wrapper is skipped.\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   20            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {\n      rules: [\n        'normalize',\n        'block',\n        'inline'\n      ]\n    },\n\n    block: {\n      rules: [\n        'blockquote',\n        'code',\n        'fence',\n        'heading',\n        'hr',\n        'html_block',\n        'lheading',\n        'list',\n        'reference',\n        'paragraph'\n      ]\n    },\n\n    inline: {\n      rules: [\n        'autolink',\n        'backticks',\n        'emphasis',\n        'entity',\n        'escape',\n        'html_inline',\n        'image',\n        'link',\n        'newline',\n        'text'\n      ],\n      rules2: [\n        'balance_pairs',\n        'emphasis',\n        'text_collapse'\n      ]\n    }\n  }\n};\n","const path = require('path');\nconst Ajv = require('ajv');\nconst fetch = require('node-fetch');\nconst asyncapi = require('@asyncapi/specs');\nconst $RefParser = require('@apidevtools/json-schema-ref-parser');\nconst mergePatch = require('tiny-merge-patch').apply;\nconst ParserError = require('./errors/parser-error');\nconst { validateChannels, validateServerVariables, validateOperationId, validateServerSecurity } = require('./customValidators.js');\nconst { toJS, findRefs, getLocationOf, improveAjvErrors } = require('./utils');\nconst AsyncAPIDocument = require('./models/asyncapi');\n\nconst DEFAULT_SCHEMA_FORMAT = 'application/vnd.aai.asyncapi;version=2.0.0';\nconst OPERATIONS = ['publish', 'subscribe'];\n//the only security types that can have a non empty array in the server security item\nconst SPECIAL_SECURITY_TYPES = ['oauth2', 'openIdConnect'];\nconst PARSERS = {};\nconst xParserCircle = 'x-parser-circular';\nconst xParserMessageParsed = 'x-parser-message-parsed';\n\n/**\n * @module @asyncapi/parser\n */\nmodule.exports = {\n  parse,\n  parseFromUrl,\n  registerSchemaParser,\n  ParserError,\n  AsyncAPIDocument,\n};\n\n/**\n * Parses and validate an AsyncAPI document from YAML or JSON.\n * \n * @param {String} asyncapiYAMLorJSON An AsyncAPI document in JSON or YAML format.\n * @param {Object} [options] Configuration options.\n * @param {String} [options.path] Path to the AsyncAPI document. It will be used to resolve relative references. Defaults to current working dir.\n * @param {Object} [options.parse] Options object to pass to {@link https://apidevtools.org/json-schema-ref-parser/docs/options.html|json-schema-ref-parser}.\n * @param {Object} [options.resolve] Options object to pass to {@link https://apidevtools.org/json-schema-ref-parser/docs/options.html|json-schema-ref-parser}.\n * @param {Object} [options.applyTraits=true] Whether to resolve and apply traits or not.\n * @returns {Promise<AsyncAPIDocument>} The parsed AsyncAPI document.\n */\nasync function parse(asyncapiYAMLorJSON, options = {}) {\n  let parsedJSON;\n  let initialFormat;\n\n  options.path = options.path || `${process.cwd()}${path.sep}`;\n\n  try {\n    ({ initialFormat, parsedJSON } = toJS(asyncapiYAMLorJSON));\n\n    if (typeof parsedJSON !== 'object') {\n      throw new ParserError({\n        type: 'impossible-to-convert-to-json',\n        title: 'Could not convert AsyncAPI to JSON.',\n        detail: 'Most probably the AsyncAPI document contains invalid YAML or YAML features not supported in JSON.'\n      });\n    }\n    \n    if (!parsedJSON.asyncapi) {\n      throw new ParserError({\n        type: 'missing-asyncapi-field',\n        title: 'The `asyncapi` field is missing.',\n        parsedJSON,\n      });\n    }\n    \n    if (parsedJSON.asyncapi.startsWith('1.') || !asyncapi[parsedJSON.asyncapi]) {\n      throw new ParserError({\n        type: 'unsupported-version',\n        title: `Version ${parsedJSON.asyncapi} is not supported.`,\n        detail: 'Please use latest version of the specification.',\n        parsedJSON,\n        validationErrors: [getLocationOf('/asyncapi', asyncapiYAMLorJSON, initialFormat)],\n      });\n    }\n\n    if (options.applyTraits === undefined) options.applyTraits = true;\n\n    const refParser = new $RefParser;\n    //because of Ajv lacks support for circular refs, parser should not resolve them before Ajv validation and first needs to ignore them and leave circular $refs to successfully validate the document\n    //this is done pair to advice from Ajv creator https://github.com/ajv-validator/ajv/issues/1122#issuecomment-559378449\n    //later we perform full dereference of circular refs if they occure\n    await dereference(refParser, parsedJSON, initialFormat, asyncapiYAMLorJSON, { ...options, dereference: { circular: 'ignore' } });\n\n    const ajv = new Ajv({\n      jsonPointers: true,\n      allErrors: true,\n      schemaId: 'id',\n      logger: false,\n    });\n  \n    ajv.addMetaSchema(require('ajv/lib/refs/json-schema-draft-04.json'));\n  \n    const validate = ajv.compile(asyncapi[parsedJSON.asyncapi]);\n    const valid = validate(parsedJSON);\n    if (!valid) throw new ParserError({\n      type: 'validation-errors',\n      title: 'There were errors validating the AsyncAPI document.',\n      parsedJSON,\n      validationErrors: improveAjvErrors(validate.errors, asyncapiYAMLorJSON, initialFormat),\n    });\n\n    await customDocumentOperations(parsedJSON, asyncapiYAMLorJSON, initialFormat, options);\n    if (refParser.$refs.circular) await handleCircularRefs(refParser, parsedJSON, initialFormat, asyncapiYAMLorJSON, options);\n  } catch (e) {\n    if (e instanceof ParserError) throw e;\n    throw new ParserError({\n      type: 'unexpected-error',\n      title: e.message,\n      parsedJSON,\n    });\n  }\n\n  return new AsyncAPIDocument(parsedJSON);\n}\n\n/**\n * Fetches an AsyncAPI document from the given URL and passes its content to the `parse` method.\n * \n * @param {String} url URL where the AsyncAPI document is located.\n * @param {Object} [fetchOptions] Configuration to pass to the {@link https://developer.mozilla.org/en-US/docs/Web/API/Request|fetch} call.\n * @param {Object} [options] Configuration to pass to the {@link module:Parser#parse} method.\n * @returns {Promise<AsyncAPIDocument>} The parsed AsyncAPI document.\n */\nfunction parseFromUrl(url, fetchOptions, options) {\n  //Why not just addinga default to the arguments list?\n  //All function parameters with default values should be declared after the function parameters without default values. Otherwise, it makes it impossible for callers to take advantage of defaults; they must re-specify the defaulted values or pass undefined in order to \"get to\" the non-default parameters.\n  //To not break the API by changing argument position and to silet the linter it is just better to move adding\n  if (!fetchOptions) fetchOptions = {};\n\n  return new Promise((resolve, reject) => {\n    fetch(url, fetchOptions)\n      .then(res => res.text())\n      .then(doc => parse(doc, options))\n      .then(result => resolve(result))\n      .catch(e => {\n        if (e instanceof ParserError) return reject(e);\n        return reject(new ParserError({\n          type: 'fetch-url-error',\n          title: e.message,\n        }));\n      });\n  });\n}\n\nasync function dereference(refParser, parsedJSON, initialFormat, asyncapiYAMLorJSON, options) {\n  try {\n    return await refParser.dereference(options.path, parsedJSON, {\n      continueOnError: true,\n      parse: options.parse,\n      resolve: options.resolve,\n      dereference: options.dereference,\n    });\n  } catch (err) {\n    throw new ParserError({\n      type: 'dereference-error',\n      title: err.errors[0].message,\n      parsedJSON,\n      refs: findRefs(err.errors, initialFormat, asyncapiYAMLorJSON),\n    });\n  }\n}\n\n/*\n * In case of circular refs, this function dereferences the spec again to dereference circular dependencies\n * Special property is added to the document that indicates it contains circular refs\n*/\nasync function handleCircularRefs(refParser, parsedJSON, initialFormat, asyncapiYAMLorJSON, options) {\n  await dereference(refParser, parsedJSON, initialFormat, asyncapiYAMLorJSON, { ...options, dereference: { circular: true } });\n  //mark entire document as containing circular references\n  parsedJSON[String(xParserCircle)] = true;\n}\n\nasync function customDocumentOperations(parsedJSON, asyncapiYAMLorJSON, initialFormat, options) {\n  validateServerVariables(parsedJSON, asyncapiYAMLorJSON, initialFormat);\n  validateServerSecurity(parsedJSON, asyncapiYAMLorJSON, initialFormat, SPECIAL_SECURITY_TYPES);\n\n  if (!parsedJSON.channels) return;\n\n  validateChannels(parsedJSON, asyncapiYAMLorJSON, initialFormat);\n  validateOperationId(parsedJSON, asyncapiYAMLorJSON, initialFormat, OPERATIONS);\n\n  await customComponentsMsgOperations(parsedJSON, asyncapiYAMLorJSON, initialFormat, options);\n  await customChannelsOperations(parsedJSON, asyncapiYAMLorJSON, initialFormat, options);\n}\n\nasync function validateAndConvertMessage(msg, originalAsyncAPIDocument, fileFormat, parsedAsyncAPIDocument, pathToPayload) {\n  //check if the message has been parsed before\n  if (xParserMessageParsed in msg && msg[String(xParserMessageParsed)] === true) return;\n\n  const schemaFormat = msg.schemaFormat || DEFAULT_SCHEMA_FORMAT;\n\n  await PARSERS[String(schemaFormat)]({\n    schemaFormat,\n    message: msg,\n    defaultSchemaFormat: DEFAULT_SCHEMA_FORMAT,\n    originalAsyncAPIDocument,\n    parsedAsyncAPIDocument,\n    fileFormat, \n    pathToPayload\n  });\n\n  msg.schemaFormat = DEFAULT_SCHEMA_FORMAT;\n  msg[String(xParserMessageParsed)] = true;\n}\n\n/**\n * Registers a new schema parser. Schema parsers are in charge of parsing and transforming payloads to AsyncAPI Schema format.\n * \n * @param {Object} parserModule The schema parser module containing parse() and getMimeTypes() functions.\n */\nfunction registerSchemaParser(parserModule) {\n  if (typeof parserModule !== 'object' \n      || typeof parserModule.parse !== 'function' \n      || typeof parserModule.getMimeTypes !== 'function')\n    throw new ParserError({\n      type: 'impossible-to-register-parser',\n      title: 'parserModule must have parse() and getMimeTypes() functions.'\n    });\n\n  parserModule.getMimeTypes().forEach((schemaFormat) => {\n    PARSERS[String(schemaFormat)] = parserModule.parse;\n  });\n}\n\nfunction applyTraits(js) {\n  if (Array.isArray(js.traits)) {\n    for (const trait of js.traits) {\n      for (const key in trait) {\n        js[String(key)] = mergePatch(js[String(key)], trait[String(key)]);\n      }\n    }\n\n    js['x-parser-original-traits'] = js.traits;\n    delete js.traits;\n  }\n}\n\n/**\n * Triggers additional operations on the AsyncAPI channels like traits application or message validation and conversion\n *\n * @private\n * \n * @param  {Object} parsedJSON parsed AsyncAPI document\n * @param  {String} asyncapiYAMLorJSON AsyncAPI document in string\n * @param  {String} initialFormat information of the document was originally JSON or YAML\n * @param  {Object} options Configuration options.\n */\nasync function customChannelsOperations(parsedJSON, asyncapiYAMLorJSON, initialFormat, options) {\n  const promisesArray = [];\n  Object.entries(parsedJSON.channels).forEach(([channelName, channel]) => {\n    promisesArray.push(...OPERATIONS.map(async (opName) => {\n      const op = channel[String(opName)];\n      if (!op) return;\n\n      const messages = op.message ? (op.message.oneOf || [op.message]) : [];\n      if (options.applyTraits) {  \n        applyTraits(op);\n        messages.forEach(m => applyTraits(m));\n      }\n      const pathToPayload = `/channels/${channelName}/${opName}/message/payload`;\n      for (const m of messages) {\n        await validateAndConvertMessage(m, asyncapiYAMLorJSON, initialFormat, parsedJSON, pathToPayload);\n      }\n    }));\n  });\n  await Promise.all(promisesArray);\n}\n\n/**\n * Triggers additional operations on the AsyncAPI messages located in the components section of the document. It triggers operations like traits application, validation and conversion\n *\n * @private\n * \n * @param  {Object} parsedJSON parsed AsyncAPI document\n * @param  {String} asyncapiYAMLorJSON AsyncAPI document in string\n * @param  {String} initialFormat information of the document was originally JSON or YAML\n * @param  {Object} options Configuration options.\n */\nasync function customComponentsMsgOperations(parsedJSON, asyncapiYAMLorJSON, initialFormat, options) {\n  if (!parsedJSON.components || !parsedJSON.components.messages) return;\n\n  const promisesArray = [];\n\n  Object.entries(parsedJSON.components.messages).forEach(([messageName, message]) => {\n    if (options.applyTraits) {\n      applyTraits(message);\n    }\n    const pathToPayload = `/components/messages/${messageName}/payload`;\n    promisesArray.push(validateAndConvertMessage(message, asyncapiYAMLorJSON, initialFormat, parsedJSON, pathToPayload));\n  });\n\n  await Promise.all(promisesArray);\n}\n","const ParserError = require('./errors/parser-error');\nconst {\n  parseUrlVariables,\n  getMissingProps,\n  groupValidationErrors,\n  tilde,\n  parseUrlQueryParameters,\n  setNotProvidedParams\n} = require('./utils');\nconst validationError = 'validation-errors';\n\n/**\n * Validates if variables provided in the url have corresponding variable object defined and if example is correct\n * @private\n * @param  {Object} parsedJSON parsed AsyncAPI document\n * @param  {String} asyncapiYAMLorJSON AsyncAPI document in string\n * @param  {String} initialFormat information of the document was oryginally JSON or YAML\n * @returns {Boolean} true in case the document is valid, otherwise throws ParserError\n */\nfunction validateServerVariables(\n  parsedJSON,\n  asyncapiYAMLorJSON,\n  initialFormat\n) {\n  const srvs = parsedJSON.servers;\n  if (!srvs) return true;\n\n  const srvsMap = new Map(Object.entries(srvs));\n  const notProvidedVariables = new Map();\n  const notProvidedExamplesInEnum = new Map();\n\n  srvsMap.forEach((srvr, srvrName) => {\n    const variables = parseUrlVariables(srvr.url);\n    const variablesObj = srvr.variables;\n    const notProvidedServerVars = notProvidedVariables.get(tilde(srvrName));\n    if (!variables) return;\n\n    const missingServerVariables = getMissingProps(variables, variablesObj);\n    if (missingServerVariables.length) {\n      notProvidedVariables.set(\n        tilde(srvrName),\n        notProvidedServerVars\n          ? notProvidedServerVars.concat(missingServerVariables)\n          : missingServerVariables\n      );\n    }\n\n    if (variablesObj) {\n      setNotValidExamples(variablesObj, srvrName, notProvidedExamplesInEnum);\n    }\n  });\n\n  if (notProvidedVariables.size) {\n    throw new ParserError({\n      type: validationError,\n      title: 'Not all server variables are described with variable object',\n      parsedJSON,\n      validationErrors: groupValidationErrors(\n        'servers',\n        'server does not have a corresponding variable object for',\n        notProvidedVariables,\n        asyncapiYAMLorJSON,\n        initialFormat\n      ),\n    });\n  }\n\n  if (notProvidedExamplesInEnum.size) {\n    throw new ParserError({\n      type: validationError,\n      title:\n        'Check your server variables. The example does not match the enum list',\n      parsedJSON,\n      validationErrors: groupValidationErrors(\n        'servers',\n        'server variable provides an example that does not match the enum list',\n        notProvidedExamplesInEnum,\n        asyncapiYAMLorJSON,\n        initialFormat\n      ),\n    });\n  }\n\n  return true;\n}\n\n/**\n * extend map with info about examples that are not part of the enum\n *\n * @function setNotValidExamples\n * @private\n * @param  {Array<Object>} variables server variables object\n * @param  {String} srvrName name of the server where variables object is located \n * @param  {Map} notProvidedExamplesInEnum result map of all wrong examples and what variable they belong to\n */\nfunction setNotValidExamples(variables, srvrName, notProvidedExamplesInEnum) {\n  const variablesMap = new Map(Object.entries(variables));\n  variablesMap.forEach((variable, variableName) => {\n    if (variable.enum && variable.examples) {\n      const wrongExamples = variable.examples.filter(r => !variable.enum.includes(r));\n      if (wrongExamples.length) {\n        notProvidedExamplesInEnum.set(\n          `${tilde(srvrName)}/variables/${tilde(variableName)}`,\n          wrongExamples\n        );\n      }\n    }\n  });\n};\n\n/**\n * Validates if operationIds are duplicated in the document\n *\n * @private\n * @param  {Object} parsedJSON parsed AsyncAPI document\n * @param  {String} asyncapiYAMLorJSON AsyncAPI document in string\n * @param  {String} initialFormat information of the document was oryginally JSON or YAML\n * @returns {Boolean} true in case the document is valid, otherwise throws ParserError\n */\nfunction validateOperationId(\n  parsedJSON,\n  asyncapiYAMLorJSON,\n  initialFormat,\n  operations\n) {\n  const chnls = parsedJSON.channels;\n  if (!chnls) return true;\n  const chnlsMap = new Map(Object.entries(chnls));\n  //it is a map of paths, the one that is a duplicate and the one that is duplicated\n  const duplicatedOperations = new Map();\n  //is is a 2-dimentional array that holds information with operationId value and its path\n  const allOperations = [];\n\n  const addDuplicateToMap = (op, channelName, opName) => {\n    const operationId = op.operationId;\n    if (!operationId) return;\n\n    const operationPath = `${tilde(channelName)}/${opName}/operationId`;\n    const isOperationIdDuplicated = allOperations.filter(\n      (v) => v[0] === operationId\n    );\n    if (!isOperationIdDuplicated.length)\n      return allOperations.push([operationId, operationPath]);\n\n    //isOperationIdDuplicated always holds one record and it is an array of paths, the one that is a duplicate and the one that is duplicated\n    duplicatedOperations.set(operationPath, isOperationIdDuplicated[0][1]);\n  };\n\n  chnlsMap.forEach((chnlObj, chnlName) => {\n    operations.forEach((opName) => {\n      const op = chnlObj[String(opName)];\n      if (op) addDuplicateToMap(op, chnlName, opName);\n    });\n  });\n\n  if (duplicatedOperations.size) {\n    throw new ParserError({\n      type: validationError,\n      title: 'operationId must be unique across all the operations.',\n      parsedJSON,\n      validationErrors: groupValidationErrors(\n        'channels',\n        'is a duplicate of',\n        duplicatedOperations,\n        asyncapiYAMLorJSON,\n        initialFormat\n      ),\n    });\n  }\n\n  return true;\n}\n\n/**\n * Validates if server security is declared properly and the name has a corresponding security schema definition in components with the same name\n *\n * @private\n * @param  {Object} parsedJSON parsed AsyncAPI document\n * @param  {String} asyncapiYAMLorJSON AsyncAPI document in string\n * @param  {String} initialFormat information of the document was oryginally JSON or YAML\n * @param  {String[]} specialSecTypes list of security types that can have data in array\n * @returns {Boolean} true in case the document is valid, otherwise throws ParserError\n */\nfunction validateServerSecurity(\n  parsedJSON,\n  asyncapiYAMLorJSON,\n  initialFormat,\n  specialSecTypes\n) {\n  const srvs = parsedJSON.servers;\n  if (!srvs) return true;\n\n  const root = 'servers';\n  const srvsMap = new Map(Object.entries(srvs));\n\n  const missingSecSchema = new Map(),\n    invalidSecurityValues = new Map();\n\n  //we need to validate every server specified in the document\n  srvsMap.forEach((server, serverName) => {\n    const serverSecInfo = server.security;\n\n    if (!serverSecInfo) return true;\n\n    //server security info is an array of many possible values\n    serverSecInfo.forEach((secObj) => {\n      Object.keys(secObj).forEach((secName) => {\n        //security schema is located in components object, we need to find if there is security schema with the same name as the server security info object\n        const schema = findSecuritySchema(secName, parsedJSON.components);\n        const srvrSecurityPath = `${serverName}/security/${secName}`;\n\n        if (!schema.length) return missingSecSchema.set(srvrSecurityPath);\n\n        //findSecuritySchema returns type always on index 1. Type is needed further to validate if server security info can be or not an empty array\n        const schemaType = schema[1];\n        if (!isSrvrSecProperArray(schemaType, specialSecTypes, secObj, secName))\n          invalidSecurityValues.set(srvrSecurityPath, schemaType);\n      });\n    });\n  });\n\n  if (missingSecSchema.size) {\n    throw new ParserError({\n      type: validationError,\n      title:\n        'Server security name must correspond to a security scheme which is declared in the security schemes under the components object.',\n      parsedJSON,\n      validationErrors: groupValidationErrors(\n        root,\n        'doesn\\'t have a corresponding security schema under the components object',\n        missingSecSchema,\n        asyncapiYAMLorJSON,\n        initialFormat\n      ),\n    });\n  }\n\n  if (invalidSecurityValues.size) {\n    throw new ParserError({\n      type: validationError,\n      title:\n        'Server security value must be an empty array if corresponding security schema type is not oauth2 or openIdConnect.',\n      parsedJSON,\n      validationErrors: groupValidationErrors(\n        root,\n        'security info must have an empty array because its corresponding security schema type is',\n        invalidSecurityValues,\n        asyncapiYAMLorJSON,\n        initialFormat\n      ),\n    });\n  }\n\n  return true;\n}\n\n/**\n * Searches for server security corresponding object in security schema object\n * @private\n * @param  {String} securityName name of the server security element that you want to localize in the security schema object\n * @param  {Object} components components object from the AsyncAPI document\n * @returns {String[]} there are 2 elements in array, index 0 is the name of the security schema object and index 1 is it's type\n */\nfunction findSecuritySchema(securityName, components) {\n  const secSchemes = components && components.securitySchemes;\n  const secSchemesMap = secSchemes\n    ? new Map(Object.entries(secSchemes))\n    : new Map();\n  const schemaInfo = [];\n\n  //using for loop here as there is no point to iterate over all entries as it is enough to find first matching element\n  for (const [schemaName, schema] of secSchemesMap.entries()) {\n    if (schemaName === securityName) {\n      schemaInfo.push(schemaName, schema.type);\n      return schemaInfo;\n    }\n  }\n  return schemaInfo;\n}\n\n/**\n * Validates if given server security is a proper empty array when security type requires it\n * @private\n * @param  {String} schemaType security type, like httpApiKey or userPassword\n * @param  {String[]} specialSecTypes list of special types that do not have to be an empty array\n * @param  {Object} secObj server security object\n * @param  {String} secName name os server security object\n * @returns {String[]} there are 2 elements in array, index 0 is the name of the security schema object and index 1 is it's type\n */\nfunction isSrvrSecProperArray(schemaType, specialSecTypes, secObj, secName) {\n  if (!specialSecTypes.includes(schemaType)) {\n    const securityObjValue = secObj[String(secName)];\n\n    return !securityObjValue.length;\n  }\n\n  return true;\n}\n\n/**\n * Validates if parameters specified in the channel have corresponding parameters object defined and if name does not contain url parameters\n *\n * @private\n * @param  {Object} parsedJSON parsed AsyncAPI document\n * @param  {String} asyncapiYAMLorJSON AsyncAPI document in string\n * @param  {String} initialFormat information of the document was oryginally JSON or YAML\n * @returns {Boolean} true in case the document is valid, otherwise throws ParserError\n */\nfunction validateChannels(parsedJSON, asyncapiYAMLorJSON, initialFormat) {\n  const chnls = parsedJSON.channels;\n  if (!chnls) return true;\n\n  const chnlsMap = new Map(Object.entries(chnls));\n  const notProvidedParams = new Map(); //return object for missing parameters\n  const invalidChannelName = new Map(); //return object for invalid channel names with query parameters\n\n  chnlsMap.forEach((val, key) => {\n    const variables = parseUrlVariables(key);\n    const notProvidedChannelParams = notProvidedParams.get(tilde(key));\n    const queryParameters = parseUrlQueryParameters(key);\n\n    //channel variable validation: fill return obeject with missing parameters\n    if (variables) {\n      setNotProvidedParams(\n        variables,\n        val,\n        key,\n        notProvidedChannelParams,\n        notProvidedParams\n      );\n    }\n\n    //channel name validation: fill return object with channels containing query parameters\n    if (queryParameters) {\n      invalidChannelName.set(tilde(key), queryParameters);\n    }\n  });\n\n  //combine validation errors of both checks and output them as one array\n  const parameterValidationErrors = groupValidationErrors(\n    'channels',\n    'channel does not have a corresponding parameter object for',\n    notProvidedParams,\n    asyncapiYAMLorJSON,\n    initialFormat\n  );\n  const nameValidationErrors = groupValidationErrors(\n    'channels',\n    'channel contains invalid name with url query parameters',\n    invalidChannelName,\n    asyncapiYAMLorJSON,\n    initialFormat\n  );\n  const allValidationErrors = parameterValidationErrors.concat(\n    nameValidationErrors\n  );\n\n  //channel variable validation: throw exception if channel validation failes\n  if (notProvidedParams.size || invalidChannelName.size) {\n    throw new ParserError({\n      type: validationError,\n      title: 'Channel validation failed',\n      parsedJSON,\n      validationErrors: allValidationErrors,\n    });\n  }\n\n  return true;\n}\n\nmodule.exports = {\n  validateServerVariables,\n  validateOperationId,\n  validateServerSecurity,\n  validateChannels,\n};\n","module.exports = (txt, reviver, context = 20) => {\n  try {\n    return JSON.parse(txt, reviver);\n  } catch (e) {\n    handleJsonNotString(txt);\n    const syntaxErr = e.message.match(/^Unexpected token.*position\\s+(\\d+)/i);\n    const errIdxBrokenJson = e.message.match(/^Unexpected end of JSON.*/i) ? txt.length - 1 : null;\n    const errIdx = syntaxErr ? +syntaxErr[1] : errIdxBrokenJson;\n    handleErrIdxNotNull(e, txt, errIdx, context);\n    e.offset = errIdx;\n    const lines = txt.substr(0, errIdx).split('\\n');\n    e.startLine = lines.length;\n    e.startColumn = lines[lines.length - 1].length;\n    throw e;\n  }\n};\n\nfunction handleJsonNotString(txt) {\n  if (typeof txt !== 'string') {\n    const isEmptyArray = Array.isArray(txt) && txt.length === 0;\n    const errorMessage = `Cannot parse ${ \n      isEmptyArray ? 'an empty array' : String(txt)}`;\n    throw new TypeError(errorMessage);\n  }\n}\n\nfunction handleErrIdxNotNull(e, txt, errIdx, context) {\n  if (errIdx !== null) {\n    const start = errIdx <= context\n      ? 0\n      : errIdx - context;\n    const end = errIdx + context >= txt.length\n      ? txt.length\n      : errIdx + context;\n    e.message += ` while parsing near '${\n      start === 0 ? '' : '...'\n    }${txt.slice(start, end)}${\n      end === txt.length ? '' : '...'\n    }'`;\n  } else {\n    e.message += ` while parsing '${txt.slice(0, context * 2)}'`;\n  }\n}\n","const { createMapOfType, getMapValueOfType, mix } = require('./utils');\n\nconst Base = require('./base');\nconst Info = require('./info');\nconst Server = require('./server');\nconst Channel = require('./channel');\nconst Components = require('./components');\nconst MixinExternalDocs = require('../mixins/external-docs');\nconst MixinTags = require('../mixins/tags');\nconst MixinSpecificationExtensions = require('../mixins/specification-extensions');\nconst {xParserSpecParsed, xParserCircle, xParserCircleProps} = require('../constants');\nconst {assignNameToAnonymousMessages, assignNameToComponentMessages, assignUidToComponentSchemas, assignUidToParameterSchemas, assignIdToAnonymousSchemas} = require('../anonymousNaming');\nconst {traverseAsyncApiDocument, SchemaIteratorCallbackType} = require('../iterators');\n\n/**\n * Implements functions to deal with the AsyncAPI document. \n * @class\n * @alias module:@asyncapi/parser#AsyncAPIDocument\n * @extends Base\n * @mixes MixinTags\n * @mixes MixinExternalDocs\n * @mixes MixinSpecificationExtensions\n * @returns {AsyncAPIDocument}\n */\nclass AsyncAPIDocument extends Base {\n  /**\n   * @constructor\n   */\n  constructor(...args) {\n    super(...args);\n\n    if (this.ext(xParserSpecParsed) === true) {\n      return;\n    }\n\n    assignNameToComponentMessages(this);\n    assignNameToAnonymousMessages(this);\n\n    markCircularSchemas(this);\n    assignUidToComponentSchemas(this);\n    assignUidToParameterSchemas(this);\n    assignIdToAnonymousSchemas(this);\n\n    // We add `x-parser-spec-parsed=true` extension to determine that the specification is parsed and validated \n    // and when the specification is re-passed to the AsyncAPIDocument constructor,\n    // there is no need to perform the same operations.\n    this.json()[String(xParserSpecParsed)] = true;\n  }\n\n  /**\n   * @returns {string}\n   */\n  version() {\n    return this._json.asyncapi;\n  }\n\n  /**\n   * @returns {Info}\n   */\n  info() {\n    return new Info(this._json.info);\n  }\n\n  /**\n   * @returns {string}\n   */\n  id() {\n    return this._json.id;\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  hasServers() {\n    return !!this._json.servers;\n  }\n\n  /**\n   * @returns {Object<string, Server>}\n   */\n  servers() {\n    return createMapOfType(this._json.servers, Server);\n  }\n\n  /**\n   * @returns {string[]}\n   */\n  serverNames() {\n    if (!this._json.servers) return [];\n    return Object.keys(this._json.servers);\n  }\n\n  /**\n   * @param {string} name - Name of the server.\n   * @returns {Server}\n   */\n  server(name) {\n    return getMapValueOfType(this._json.servers, name, Server);\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  hasDefaultContentType() {\n    return !!this._json.defaultContentType;\n  }\n\n  /**\n   * @returns {string|null}\n   */\n  defaultContentType() {\n    return this._json.defaultContentType || null;\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  hasChannels() {\n    return !!this._json.channels;\n  }\n\n  /**\n   * @returns {Object<string, Channel>}\n   */\n  channels() {\n    return createMapOfType(this._json.channels, Channel, this);\n  }\n\n  /**\n   * @returns {string[]}\n   */\n  channelNames() {\n    if (!this._json.channels) return [];\n    return Object.keys(this._json.channels);\n  }\n\n  /**\n   * @param {string} name - Name of the channel.\n   * @returns {Channel}\n   */\n  channel(name) {\n    return getMapValueOfType(this._json.channels, name, Channel, this);\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  hasComponents() {\n    return !!this._json.components;\n  }\n\n  /**\n   * @returns {Components}\n   */\n  components() {\n    if (!this._json.components) return null;\n    return new Components(this._json.components);\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  hasMessages() {\n    return !!this.allMessages().size;\n  }\n\n  /**\n   * @returns {Map<string, Message>}\n   */\n  allMessages() {\n    const messages = new Map();\n\n    if (this.hasChannels()) {\n      this.channelNames().forEach(channelName => {\n        const channel = this.channel(channelName);\n        if (channel.hasPublish()) {\n          channel.publish().messages().forEach(m => {\n            messages.set(m.uid(), m);\n          });\n        }\n        if (channel.hasSubscribe()) {\n          channel.subscribe().messages().forEach(m => {\n            messages.set(m.uid(), m);\n          });\n        }\n      });\n    }\n\n    if (this.hasComponents()) {\n      Object.values(this.components().messages()).forEach(m => {\n        messages.set(m.uid(), m);\n      });\n    }\n\n    return messages;\n  }\n\n  /**\n   * @returns {Map<string, Schema>}\n   */\n  allSchemas() {\n    const schemas = new Map();\n    const allSchemasCallback = (schema) => {\n      if (schema.uid()) {\n        schemas.set(schema.uid(), schema);\n      }\n    };\n    traverseAsyncApiDocument(this, allSchemasCallback);\n    return schemas;\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  hasCircular() {\n    return !!this._json[String(xParserCircle)];\n  }\n\n  /**\n   * Callback used when crawling a schema.\n   * @callback module:@asyncapi/parser.TraverseSchemas\n   * @param {Schema} schema which is being crawled\n   * @param {String} propName if the schema is from a property get the name of such\n   * @param {SchemaIteratorCallbackType} callbackType is the schema a new one or is the crawler finishing one.\n   * @returns {boolean} should the crawler continue crawling the schema?\n   */\n\n  /**\n   * Traverse schemas in the document and select which types of schemas to include.\n   * By default all schemas are iterated\n   * @param {TraverseSchemas} callback\n   * @param {SchemaTypesToIterate[]} schemaTypesToIterate\n   */\n  traverseSchemas(callback, schemaTypesToIterate) {\n    traverseAsyncApiDocument(this, callback, schemaTypesToIterate);\n  }\n}\n\n/**\n * Marks all recursive schemas as recursive.\n * \n * @private\n * @param {AsyncAPIDocument} doc \n */\nfunction markCircularSchemas(doc) {\n  const seenObj = [];\n  const lastSchema = [];\n\n  //Mark the schema as recursive\n  const markCircular = (schema, prop) => {\n    if (schema.type() === 'array') return schema.json()[String(xParserCircle)] = true;\n    const circPropsList = schema.json()[String(xParserCircleProps)] || [];\n    if (prop !== undefined) {\n      circPropsList.push(prop);\n    }\n    schema.json()[String(xParserCircleProps)] = circPropsList;\n  };\n\n  //callback to use for iterating through the schemas\n  const circularCheckCallback = (schema, propName, type) => {\n    switch (type) {\n    case SchemaIteratorCallbackType.END_SCHEMA:\n      lastSchema.pop();\n      seenObj.pop();\n      break;\n    case SchemaIteratorCallbackType.NEW_SCHEMA:\n      const schemaJson = schema.json();\n      if (seenObj.includes(schemaJson)) {\n        const schemaToUse = lastSchema.length > 0 ? lastSchema[lastSchema.length - 1] : schema;\n        markCircular(schemaToUse, propName);\n        return false;\n      }\n      //Save a list of seen objects and last schema which should be marked if its recursive\n      seenObj.push(schemaJson);\n      lastSchema.push(schema);\n      return true;\n    }\n  };\n  traverseAsyncApiDocument(doc, circularCheckCallback);\n}\n\nmodule.exports = mix(AsyncAPIDocument, MixinTags, MixinExternalDocs, MixinSpecificationExtensions);\n","const { mix } = require('./utils');\n\nconst Base = require('./base');\nconst License = require('./license');\nconst Contact = require('./contact');\n\nconst MixinDescription = require('../mixins/description');\nconst MixinSpecificationExtensions = require('../mixins/specification-extensions');\n\n/**\n * Implements functions to deal with the Info object.\n * @class\n * @alias module:@asyncapi/parser#Info\n * @extends Base\n * @mixes MixinDescription\n * @mixes MixinSpecificationExtensions\n * @returns {Info}\n */\nclass Info extends Base {\n  /**\n   * @returns {string}\n   */\n  title() {\n    return this._json.title;\n  }\n  \n  /**\n   * @returns {string}\n   */\n  version() {\n    return this._json.version;\n  }\n\n  /**\n   * @returns {(string | undefined)}\n   */\n  termsOfService() {\n    return this._json.termsOfService;\n  }\n\n  /**\n   * @returns {License}\n   */\n  license() {\n    if (!this._json.license) return null;\n    return new License(this._json.license);\n  }\n\n  /**\n   * @returns {Contact}\n   */\n  contact() {\n    if (!this._json.contact) return null;\n    return new Contact(this._json.contact);\n  }\n}\n\nmodule.exports = mix(Info, MixinDescription, MixinSpecificationExtensions);\n","const { mix } = require('./utils');\n\nconst Base = require('./base');\n\nconst MixinSpecificationExtensions = require('../mixins/specification-extensions');\n\n/**\n * Implements functions to deal with the License object.\n * @class\n * @alias module:@asyncapi/parser#License\n * @extends Base\n * @mixes MixinSpecificationExtensions\n * @returns {License}\n */\nclass License extends Base {\n  /**\n   * @returns {string}\n   */\n  name() {\n    return this._json.name;\n  }\n  \n  /**\n   * @returns {string}\n   */\n  url() {\n    return this._json.url;\n  }\n}\n\nmodule.exports = mix(License, MixinSpecificationExtensions);\n","  \nconst { mix } = require('./utils');\n\nconst Base = require('./base');\n\nconst MixinSpecificationExtensions = require('../mixins/specification-extensions');\n\n/**\n * Implements functions to deal with the Contact object.\n * @class\n * @alias module:@asyncapi/parser#Contact\n * @extends Base\n * @mixes MixinSpecificationExtensions\n * @returns {Contact}\n */\nclass Contact extends Base {\n  /**\n   * @returns {string}\n   */\n  name() {\n    return this._json.name;\n  }\n  \n  /**\n   * @returns {string}\n   */\n  url() {\n    return this._json.url;\n  }\n  \n  /**\n   * @returns {string}\n   */\n  email() {\n    return this._json.email;\n  }\n}\n\nmodule.exports = mix(Contact, MixinSpecificationExtensions);\n","const { createMapOfType, getMapValueOfType, mix } = require('./utils');\n\nconst Base = require('./base');\nconst ServerVariable = require('./server-variable');\nconst ServerSecurityRequirement = require('./server-security-requirement');\n\nconst MixinDescription = require('../mixins/description');\nconst MixinBindings = require('../mixins/bindings');\nconst MixinSpecificationExtensions = require('../mixins/specification-extensions');\n\n/**\n * Implements functions to deal with a Server object.\n * @class\n * @alias module:@asyncapi/parser#Server\n * @extends Base\n * @mixes MixinDescription\n * @mixes MixinBindings\n * @mixes MixinSpecificationExtensions\n * @returns {Server}\n */\nclass Server extends Base {\n  /**\n   * @returns {string}\n   */\n  url() {\n    return this._json.url;\n  }\n\n  /**\n   * @returns {string}\n   */\n  protocol() {\n    return this._json.protocol;\n  }\n\n  /**\n   * @returns {string}\n   */\n  protocolVersion() {\n    return this._json.protocolVersion;\n  }\n\n  /**\n   * @returns {Object<string, ServerVariable>}\n   */\n  variables() {\n    return createMapOfType(this._json.variables, ServerVariable);\n  }\n\n  /**\n   * @param {string} name - Name of the server variable.\n   * @returns {ServerVariable}\n   */\n  variable(name) {\n    return getMapValueOfType(this._json.variables, name, ServerVariable);\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  hasVariables() {\n    return !!this._json.variables;\n  }\n\n  /**\n   * @returns {ServerSecurityRequirement[]}\n   */\n  security() {\n    if (!this._json.security) return null;\n    return this._json.security.map(sec => new ServerSecurityRequirement(sec));\n  }\n}\n\nmodule.exports = mix(Server, MixinDescription, MixinBindings, MixinSpecificationExtensions);\n","const { mix } = require('./utils');\n\nconst Base = require('./base');\n\nconst MixinDescription = require('../mixins/description');\nconst MixinSpecificationExtensions = require('../mixins/specification-extensions');\n\n/**\n * Implements functions to deal with a ServerVariable object.\n * @class\n * @alias module:@asyncapi/parser#ServerVariable\n * @extends Base\n * @mixes MixinDescription\n * @mixes MixinSpecificationExtensions\n * @returns {ServerVariable}\n */\nclass ServerVariable extends Base {\n  /**\n   * @returns {any[]}\n   */\n  allowedValues() {\n    return this._json.enum;\n  }\n\n  /**\n   * @param {string} name - Name of the variable.\n   * @returns {boolean}\n   */\n  allows(name) {\n    if (this._json.enum === undefined) return true;\n    return this._json.enum.includes(name);\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  hasAllowedValues() {\n    return this._json.enum !== undefined;\n  }\n\n  /**\n   * @returns {string}\n   */\n  defaultValue() {\n    return this._json.default;\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  hasDefaultValue() {\n    return this._json.default !== undefined;\n  }\n\n  /**\n   * @returns {string[]}\n   */\n  examples() {\n    return this._json.examples;\n  }\n}\n\nmodule.exports = mix(ServerVariable, MixinDescription, MixinSpecificationExtensions);\n","const Base = require('./base');\n\n/**\n * Implements functions to deal with a ServerSecurityRequirement object.\n * @class\n * @alias module:@asyncapi/parser#ServerSecurityRequirement\n * @extends Base\n * @returns {ServerSecurityRequirement}\n */\nclass ServerSecurityRequirement extends Base {\n}\n\nmodule.exports = ServerSecurityRequirement;\n","const { createMapOfType, getMapValueOfType, mix } = require('./utils');\n\nconst Base = require('./base');\nconst ChannelParameter = require('./channel-parameter');\nconst PublishOperation = require('./publish-operation');\nconst SubscribeOperation = require('./subscribe-operation');\n\nconst MixinDescription = require('../mixins/description');\nconst MixinBindings = require('../mixins/bindings');\nconst MixinSpecificationExtensions = require('../mixins/specification-extensions');\n\n/**\n * Implements functions to deal with a Channel object.\n * @class\n * @alias module:@asyncapi/parser#Channel\n * @extends Base\n * @mixes MixinDescription\n * @mixes MixinBindings\n * @mixes MixinSpecificationExtensions\n * @returns {Channel}\n */\nclass Channel extends Base {\n  /**\n   * @returns {Object<string, ChannelParameter>}\n   */\n  parameters() {\n    return createMapOfType(this._json.parameters, ChannelParameter);\n  }\n\n  /**\n   * @param {string} name - Name of the parameter.\n   * @returns {ChannelParameter}\n   */\n  parameter(name) {\n    return getMapValueOfType(this._json.parameters, name, ChannelParameter);\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  hasParameters() {\n    return !!this._json.parameters;\n  }\n\n  /**\n   * @returns {PublishOperation}\n   */\n  publish() {\n    if (!this._json.publish) return null;\n    return new PublishOperation(this._json.publish);\n  }\n\n  /**\n   * @returns {SubscribeOperation}\n   */\n  subscribe() {\n    if (!this._json.subscribe) return null;\n    return new SubscribeOperation(this._json.subscribe);\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  hasPublish() {\n    return !!this._json.publish;\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  hasSubscribe() {\n    return !!this._json.subscribe;\n  }\n}\n\nmodule.exports = mix(Channel, MixinDescription, MixinBindings, MixinSpecificationExtensions);\n","const { mix } = require('./utils');\n\nconst Base = require('./base');\n\nconst MixinDescription = require('../mixins/description');\nconst MixinSpecificationExtensions = require('../mixins/specification-extensions');\n\n/**\n * Implements functions to deal with an ExternalDocs object.\n * @class\n * @alias module:@asyncapi/parser#ExternalDocs\n * @extends Base\n * @mixes MixinDescription\n * @mixes MixinSpecificationExtensions\n * @returns {ExternalDocs}\n */\nclass ExternalDocs extends Base {\n  /**\n   * @returns {string}\n   */\n  url() {\n    return this._json.url;\n  }\n}\n\nmodule.exports = mix(ExternalDocs, MixinDescription, MixinSpecificationExtensions);\n","const Operation = require('./operation');\n\n/**\n * Implements functions to deal with a PublishOperation object.\n * @class\n * @alias module:@asyncapi/parser#PublishOperation\n * @extends Operation\n * @returns {PublishOperation}\n */\nclass PublishOperation extends Operation {\n  /**\n   * @returns {boolean}\n   */\n  isPublish() {\n    return true;\n  }\n  \n  /**\n   * @returns {boolean}\n   */\n  isSubscribe() {\n    return false;\n  }\n\n  /**\n   * @returns {string}\n   */\n  kind() {\n    return 'publish';\n  }\n}\n\nmodule.exports = PublishOperation;\n","const { mix } = require('./utils');\n\nconst Base = require('./base');\n\nconst MixinDescription = require('../mixins/description');\nconst MixinExternalDocs = require('../mixins/external-docs');\nconst MixinSpecificationExtensions = require('../mixins/specification-extensions');\n\n/**\n * Implements functions to deal with a Tag object.\n * @class\n * @alias module:@asyncapi/parser#Tag\n * @extends Base\n * @mixes MixinDescription\n * @mixes MixinExternalDocs\n * @mixes MixinSpecificationExtensions\n * @returns {Tag}\n */\nclass Tag extends Base {\n  /**\n   * @returns {string}\n   */\n  name() {\n    return this._json.name;\n  }\n}\n\nmodule.exports = mix(Tag, MixinDescription, MixinExternalDocs, MixinSpecificationExtensions);\n","const Operation = require('./operation');\n\n/**\n * Implements functions to deal with a SubscribeOperation object.\n * @class\n * @alias module:@asyncapi/parser#SubscribeOperation\n * @extends Operation\n * @returns {SubscribeOperation}\n */\nclass SubscribeOperation extends Operation {\n  /**\n   * @returns {boolean}\n   */\n  isPublish() {\n    return false;\n  }\n  \n  /**\n   * @returns {boolean}\n   */\n  isSubscribe() {\n    return true;\n  }\n\n  /**\n   * @returns {string}\n   */\n  kind() {\n    return 'subscribe';\n  }\n}\n\nmodule.exports = SubscribeOperation;\n","const { createMapOfType, getMapValueOfType, mix } = require('./utils');\n\nconst Base = require('./base');\nconst Message = require('./message');\nconst Schema = require('./schema');\nconst SecurityScheme = require('./security-scheme');\nconst ChannelParameter = require('./channel-parameter');\nconst CorrelationId = require('./correlation-id');\nconst OperationTrait = require('./operation-trait');\nconst MessageTrait = require('./message-trait');\n\nconst MixinSpecificationExtensions = require('../mixins/specification-extensions');\n\n/**\n * Implements functions to deal with a Components object.\n * @class\n * @alias module:@asyncapi/parser#Components\n * @extends Base\n * @mixes MixinSpecificationExtensions\n * @returns {Components}\n */\nclass Components extends Base {\n  /**\n   * @returns {Object<string, Message>}\n   */\n  messages() {\n    return createMapOfType(this._json.messages, Message);\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  hasMessages() {\n    return !!this._json.messages;\n  }\n\n  /**\n   * @param {string} name - Name of the message.\n   * @returns {Message}\n   */\n  message(name) {\n    return getMapValueOfType(this._json.messages, name, Message);\n  }\n  \n  /**\n   * @returns {Object<string, Schema>}\n   */\n  schemas() {\n    return createMapOfType(this._json.schemas, Schema);\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  hasSchemas() {\n    return !!this._json.schemas;\n  }\n\n  /**\n   * @param {string} name - Name of the schema.\n   * @returns {Schema}\n   */\n  schema(name) {\n    return getMapValueOfType(this._json.schemas, name, Schema);\n  }\n  \n  /**\n   * @returns {Object<string, SecurityScheme>}\n   */\n  securitySchemes() {\n    return createMapOfType(this._json.securitySchemes, SecurityScheme);\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  hasSecuritySchemes() {\n    return !!this._json.securitySchemes;\n  }\n  \n  /**\n   * @param {string} name - Name of the security schema.\n   * @returns {SecurityScheme}\n   */\n  securityScheme(name) {\n    return getMapValueOfType(this._json.securitySchemes, name, SecurityScheme);\n  }\n  \n  /**\n   * @returns {Object<string, ChannelParameter>}\n   */\n  parameters() {\n    return createMapOfType(this._json.parameters, ChannelParameter);\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  hasParameters() {\n    return !!this._json.parameters;\n  }\n\n  /**\n   * @param {string} name - Name of the channel parameter.\n   * @returns {ChannelParameter}\n   */\n  parameter(name) {\n    return getMapValueOfType(this._json.parameters, name, ChannelParameter);\n  }\n  \n  /**\n   * @returns {Object<string, CorrelationId>}\n   */\n  correlationIds() {\n    return createMapOfType(this._json.correlationIds, CorrelationId);\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  hasCorrelationIds() {\n    return !!this._json.correlationIds;\n  }\n\n  /**\n   * @param {string} name - Name of the correlationId.\n   * @returns {CorrelationId}\n   */\n  correlationId(name) {\n    return getMapValueOfType(this._json.correlationIds, name, CorrelationId);\n  }\n  \n  /**\n   * @returns {Object<string, OperationTrait>}\n   */\n  operationTraits() {\n    return createMapOfType(this._json.operationTraits, OperationTrait);\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  hasOperationTraits() {\n    return !!this._json.operationTraits;\n  }\n\n  /**\n   * @param {string} name - Name of the operation trait.\n   * @returns {OperationTrait}\n   */\n  operationTrait(name) {\n    return getMapValueOfType(this._json.operationTraits, name, OperationTrait);\n  }\n  \n  /**\n   * @returns {Object<string, MessageTrait>}\n   */\n  messageTraits() {\n    return createMapOfType(this._json.messageTraits, MessageTrait);\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  hasMessageTraits() {\n    return !!this._json.messageTraits;\n  }\n\n  /**\n   * @param {string} name - Name of the message trait.\n   * @returns {MessageTrait}\n   */\n  messageTrait(name) {\n    return getMapValueOfType(this._json.messageTraits, name, MessageTrait);\n  }\n}\n\nmodule.exports = mix(Components, MixinSpecificationExtensions);\n","const { createMapOfType, mix } = require('./utils');\n\nconst Base = require('./base');\nconst OAuthFlow = require('./oauth-flow');\n\nconst MixinDescription = require('../mixins/description');\nconst MixinSpecificationExtensions = require('../mixins/specification-extensions');\n\n/**\n * Implements functions to deal with a SecurityScheme object.\n * @class\n * @alias module:@asyncapi/parser#SecurityScheme\n * @extends Base\n * @mixes MixinDescription\n * @mixes MixinSpecificationExtensions\n * @returns {SecurityScheme}\n */\nclass SecurityScheme extends Base {\n  /**\n   * @returns {string}\n   */\n  type() {\n    return this._json.type;\n  }\n  \n  /**\n   * @returns {string}\n   */\n  name() {\n    return this._json.name;\n  }\n  \n  /**\n   * @returns {string}\n   */\n  in() {\n    return this._json.in;\n  }\n  \n  /**\n   * @returns {string}\n   */\n  scheme() {\n    return this._json.scheme;\n  }\n  \n  /**\n   * @returns {string}\n   */\n  bearerFormat() {\n    return this._json.bearerFormat;\n  }\n  \n  /**\n   * @returns {string}\n   */\n  openIdConnectUrl() {\n    return this._json.openIdConnectUrl;\n  }\n  \n  /**\n   * @returns {Object<string, OAuthFlow>}\n   */\n  flows() {\n    return createMapOfType(this._json.flows, OAuthFlow);\n  }\n}\n\nmodule.exports = mix(SecurityScheme, MixinDescription, MixinSpecificationExtensions);\n","const { mix } = require('./utils');\n\nconst Base = require('./base');\n\nconst MixinSpecificationExtensions = require('../mixins/specification-extensions');\n\n/**\n * Implements functions to deal with a OAuthFlow object.\n * @class\n * @alias module:@asyncapi/parser#OAuthFlow\n * @extends Base\n * @mixes MixinSpecificationExtensions\n * @returns {OAuthFlow}\n */\nclass OAuthFlow extends Base {\n  /**\n   * @returns {string}\n   */\n  authorizationUrl() {\n    return this._json.authorizationUrl;\n  }\n\n  /**\n   * @returns {string}\n   */\n  tokenUrl() {\n    return this._json.tokenUrl;\n  }\n\n  /**\n   * @returns {string}\n   */\n  refreshUrl() {\n    return this._json.refreshUrl;\n  }\n\n  /**\n   * @returns {Object<string, string>}\n   */\n  scopes() {\n    return this._json.scopes;\n  }\n}\n\nmodule.exports = mix(OAuthFlow, MixinSpecificationExtensions);\n","const OperationTraitable = require('./operation-traitable');\n\n/**\n * Implements functions to deal with a OperationTrait object.\n * @class\n * @alias module:@asyncapi/parser#OperationTrait\n * @extends OperationTraitable\n * @returns {OperationTrait}\n */\nclass OperationTrait extends OperationTraitable {\n}\n\nmodule.exports = OperationTrait;\n","const MessageTraitable = require('./message-traitable');\n\n/**\n * Implements functions to deal with a MessageTrait object.\n * @class\n * @alias module:@asyncapi/parser#MessageTrait\n * @extends MessageTraitable\n * @returns {MessageTrait}\n */\nclass MessageTrait extends MessageTraitable {\n}\n\nmodule.exports = MessageTrait;\n","const {xParserMessageName, xParserSchemaId} = require('./constants');\nconst {traverseAsyncApiDocument} = require('./iterators');\n\n/**\n * Assign message keys as message name to all the component messages.\n * \n * @private\n * @param {AsyncAPIDocument} doc \n */\nfunction assignNameToComponentMessages(doc) {\n  if (doc.hasComponents()) {\n    for (const [key, m] of Object.entries(doc.components().messages())) {\n      if (m.name() === undefined) {\n        m.json()[String(xParserMessageName)] = key;\n      }\n    }\n  }\n}\n\n/**\n * Assign parameter keys as uid for the parameter schema.\n * \n * @private\n * @param {AsyncAPIDocument} doc \n */\nfunction assignUidToParameterSchemas(doc) {\n  doc.channelNames().forEach(channelName => {\n    const channel = doc.channel(channelName);\n    for (const [parameterKey, parameterSchema] of Object.entries(channel.parameters())) {\n      parameterSchema.json()[String(xParserSchemaId)] = parameterKey;\n    }\n  });\n}\n  \n/**\n * Assign uid to component schemas. \n * \n * @private\n * @param {AsyncAPIDocument} doc \n */\nfunction assignUidToComponentSchemas(doc) {\n  if (doc.hasComponents()) {\n    for (const [key, s] of Object.entries(doc.components().schemas())) {\n      s.json()[String(xParserSchemaId)] = key;\n    }\n  }\n}\n  \n/**\n * Assign anonymous names to nameless messages.\n * \n * @private\n * @param {AsyncAPIDocument} doc \n */\nfunction assignNameToAnonymousMessages(doc) {\n  let anonymousMessageCounter = 0;\n  \n  if (doc.hasChannels()) {\n    doc.channelNames().forEach(channelName => {\n      const channel = doc.channel(channelName);\n      if (channel.hasPublish()) addNameToKey(channel.publish().messages(), ++anonymousMessageCounter);\n      if (channel.hasSubscribe()) addNameToKey(channel.subscribe().messages(), ++anonymousMessageCounter);\n    });\n  }\n}\n  \n/**\n * Add anonymous name to key if no name provided.\n * \n * @private\n * @param {Message} map of messages \n */\nfunction addNameToKey(messages, number) {\n  messages.forEach(m => {\n    if (m.name() === undefined && m.ext(xParserMessageName) === undefined) {\n      m.json()[String(xParserMessageName)] = `<anonymous-message-${number}>`;\n    }\n  });\n}\n  \n/**\n * Gives schemas id to all anonymous schemas.\n * \n * @private\n * @param {AsyncAPIDocument} doc \n */\nfunction assignIdToAnonymousSchemas(doc) {\n  let anonymousSchemaCounter = 0;\n  const callback = (schema) => {\n    if (!schema.uid()) {\n      schema.json()[String(xParserSchemaId)] = `<anonymous-schema-${++anonymousSchemaCounter}>`;\n    }\n  };\n  traverseAsyncApiDocument(doc, callback);\n}\n\nmodule.exports = {\n  assignNameToComponentMessages,\n  assignUidToParameterSchemas,\n  assignUidToComponentSchemas,\n  assignNameToAnonymousMessages,\n  assignIdToAnonymousSchemas\n};","const Ajv = require('ajv');\nconst ParserError = require('./errors/parser-error');\nconst asyncapi = require('@asyncapi/specs');\nconst { improveAjvErrors } = require('./utils');\nconst cloneDeep = require('lodash.clonedeep');\n\nmodule.exports = {\n  parse,\n  getMimeTypes\n};\n\n/**\n * @private\n */\nasync function parse({ message, originalAsyncAPIDocument, fileFormat, parsedAsyncAPIDocument, pathToPayload, defaultSchemaFormat }) {\n  const payload = message.payload;\n  if (!payload) return;\n\n  message['x-parser-original-schema-format'] = message.schemaFormat || defaultSchemaFormat;\n  message['x-parser-original-payload'] = cloneDeep(message.payload);\n\n  const ajv = new Ajv({\n    jsonPointers: true,\n    allErrors: true,\n    schemaId: 'id',\n    logger: false,\n  });\n  const payloadSchema = preparePayloadSchema(asyncapi[parsedAsyncAPIDocument.asyncapi]);\n  const validate = ajv.compile(payloadSchema);\n  const valid = validate(payload);\n\n  if (!valid) throw new ParserError({\n    type: 'schema-validation-errors',\n    title: 'This is not a valid AsyncAPI Schema Object.',\n    parsedJSON: parsedAsyncAPIDocument,\n    validationErrors: improveAjvErrors(addFullPathToDataPath(validate.errors, pathToPayload), originalAsyncAPIDocument, fileFormat),\n  });\n}\n\n/**\n * @private\n */\nfunction getMimeTypes() {\n  return [\n    'application/vnd.aai.asyncapi;version=2.0.0',\n    'application/vnd.aai.asyncapi+json;version=2.0.0',\n    'application/vnd.aai.asyncapi+yaml;version=2.0.0',\n    'application/schema;version=draft-07',\n    'application/schema+json;version=draft-07',\n    'application/schema+yaml;version=draft-07',\n  ];\n}\n\n/**\n * To validate schema of the payload we just need a small portion of official AsyncAPI spec JSON Schema, the definition of the schema must be\n * a main part of the JSON Schema\n * \n * @private\n * @param  {Object} asyncapiSchema AsyncAPI specification JSON Schema\n * @returns {Object} valid JSON Schema document describing format of AsyncAPI-valid schema for message payload\n */\nfunction preparePayloadSchema(asyncapiSchema) {\n  return {\n    $ref: '#/definitions/schema',\n    definitions: asyncapiSchema.definitions\n  };\n}\n\n/**\n * Errors from Ajv contain dataPath information about parameter relative to parsed payload message. \n * This function enriches dataPath with additional information on where is the parameter located in AsyncAPI document\n * \n * @private\n * @param  {Array<Object>} errors Ajv errors\n * @param  {String} path Path to location of the payload schema in AsyncAPI Document\n * @returns {Array<Object>} same object as received in input but with modified datePath property so it contain full path relative to AsyncAPI document\n */\nfunction addFullPathToDataPath(errors, path) {\n  return errors.map((err) => ({\n    ...err,\n    ...{\n      dataPath: `${path}${err.dataPath}`\n    }\n  }));\n}\n\n","const BYTES_PATTERN = '^[\\u0000-\\u00ff]*$';\nconst INT_MIN = Math.pow(-2, 31);\nconst INT_MAX = Math.pow(2, 31) - 1;\nconst LONG_MIN = Math.pow(-2, 63);\nconst LONG_MAX = Math.pow(2, 63) - 1;\n\nconst typeMappings = {\n  null: 'null',\n  boolean: 'boolean',\n  int: 'integer',\n  long: 'integer',\n  float: 'number',\n  double: 'number',\n  bytes: 'string',\n  string: 'string',\n  fixed: 'string',\n  map: 'object',\n  array: 'array',\n  enum: 'string',\n  record: 'object',\n  uuid: 'string',\n};\n\nmodule.exports.avroToJsonSchema = async function avroToJsonSchema(avroDefinition) {\n  const jsonSchema = {};\n  const isUnion = Array.isArray(avroDefinition);\n\n  if (isUnion) {\n    jsonSchema.oneOf = [];\n    for (const avroDef of avroDefinition) {\n      const def = await avroToJsonSchema(avroDef);\n      jsonSchema.oneOf.push(def);\n    }\n\n    return jsonSchema;\n  }\n  \n  // Avro definition can be a string (e.g. \"int\")\n  // or an object like { type: \"int\" }\n  const type = avroDefinition.type || avroDefinition;\n  jsonSchema.type = typeMappings[type];\n  \n  switch (type) {\n  case 'int':\n    jsonSchema.minimum = INT_MIN;\n    jsonSchema.maximum = INT_MAX;\n    break;\n  case 'long':\n    jsonSchema.minimum = LONG_MIN;\n    jsonSchema.maximum = LONG_MAX;\n    break;\n  case 'bytes':\n    jsonSchema.pattern = BYTES_PATTERN;\n    break;\n  case 'fixed':\n    jsonSchema.pattern = BYTES_PATTERN;\n    jsonSchema.minLength = avroDefinition.size;\n    jsonSchema.maxLength = avroDefinition.size;\n    break;\n  case 'map':\n    jsonSchema.additionalProperties = await avroToJsonSchema(avroDefinition.values);\n    break;\n  case 'array':\n    jsonSchema.items = await avroToJsonSchema(avroDefinition.items);\n    break;\n  case 'enum':\n    jsonSchema.enum = avroDefinition.symbols;\n    break;\n  case 'record':\n    const propsMap = new Map();\n    for (const field of avroDefinition.fields) {\n      const def = await avroToJsonSchema(field.type);\n      if (field.doc) def.description = field.doc;\n      if (field.default) def.default = field.default;\n      propsMap.set(field.name, def);\n    }\n    jsonSchema.properties = Object.fromEntries(propsMap.entries());\n    break;\n  }\n\n  if (avroDefinition.doc) jsonSchema.description = avroDefinition.doc;\n  if (avroDefinition.default !== undefined) jsonSchema.default = avroDefinition.default;\n\n  return jsonSchema;\n};\n","const ERROR_URL_PREFIX = 'https://github.com/asyncapi/parser-js/';\n\nconst buildError = (from, to) => {\n  to.type = from.type.startsWith(ERROR_URL_PREFIX) ? from.type : `${ERROR_URL_PREFIX}${from.type}`;\n  to.title = from.title;\n  if (from.detail) to.detail = from.detail;\n  if (from.validationErrors) to.validationErrors = from.validationErrors;\n  if (from.parsedJSON) to.parsedJSON = from.parsedJSON;\n  if (from.location) to.location = from.location;\n  if (from.refs) to.refs = from.refs;\n  return to;\n};\n\n/**\n * Represents an error while trying to parse an AsyncAPI document.\n * @alias module:@asyncapi/parser#ParserError\n * @extends Error\n */\nclass ParserError extends Error {\n  /**\n   * Instantiates an error\n   * @param {Object} definition\n   * @param {String} definition.type The type of the error.\n   * @param {String} definition.title The message of the error.\n   * @param {String} [definition.detail] A string containing more detailed information about the error.\n   * @param {Object} [definition.parsedJSON] The resulting JSON after YAML transformation. Or the JSON object if the this was the initial format.\n   * @param {Object[]} [definition.validationErrors] The errors resulting from the validation. For more information, see https://www.npmjs.com/package/better-ajv-errors.\n   * @param {String} definition.validationErrors.title A validation error message.\n   * @param {String} definition.validationErrors.jsonPointer The path to the field that contains the error. Uses JSON Pointer format.\n   * @param {Number} definition.validationErrors.startLine The line where the error starts in the AsyncAPI document.\n   * @param {Number} definition.validationErrors.startColumn The column where the error starts in the AsyncAPI document.\n   * @param {Number} definition.validationErrors.startOffset The offset (starting from the beginning of the document) where the error starts in the AsyncAPI document.\n   * @param {Number} definition.validationErrors.endLine The line where the error ends in the AsyncAPI document.\n   * @param {Number} definition.validationErrors.endColumn The column where the error ends in the AsyncAPI document.\n   * @param {Number} definition.validationErrors.endOffset The offset (starting from the beginning of the document) where the error ends in the AsyncAPI document.\n   * @param {Object} [definition.location] Error location details after trying to parse an invalid JSON or YAML document.\n   * @param {Number} definition.location.startLine The line of the YAML/JSON document where the error starts.\n   * @param {Number} definition.location.startColumn The column of the YAML/JSON document where the error starts.\n   * @param {Number} definition.location.startOffset The offset (starting from the beginning of the document) where the error starts in the YAML/JSON AsyncAPI document.\n   * @param {Object[]} [definition.refs] Error details after trying to resolve $ref's.\n   * @param {String} definition.refs.title A validation error message.\n   * @param {String} definition.refs.jsonPointer The path to the field that contains the error. Uses JSON Pointer format.\n   * @param {Number} definition.refs.startLine The line where the error starts in the AsyncAPI document.\n   * @param {Number} definition.refs.startColumn The column where the error starts in the AsyncAPI document.\n   * @param {Number} definition.refs.startOffset The offset (starting from the beginning of the document) where the error starts in the AsyncAPI document.\n   * @param {Number} definition.refs.endLine The line where the error ends in the AsyncAPI document.\n   * @param {Number} definition.refs.endColumn The column where the error ends in the AsyncAPI document.\n   * @param {Number} definition.refs.endOffset The offset (starting from the beginning of the document) where the error ends in the AsyncAPI document.\n   */\n  constructor(def) {\n    super();\n    buildError(def, this);\n    this.message = def.title;\n  }\n\n  /**\n   * Returns a JS object representation of the error.\n   */\n  toJS() {\n    return buildError(this, {});\n  }\n}\n\nmodule.exports = ParserError;\n","const { getMapValueOfType } = require('../models/utils');\n\nconst ExternalDocs = require('../models/external-docs');\n\n/**\n * Implements functions to deal with the ExternalDocs object.\n * @mixin\n */\nconst MixinExternalDocs = {\n  /**\n   * @returns {boolean}\n   */\n  hasExternalDocs() {\n    return !!(this._json.externalDocs && Object.keys(this._json.externalDocs).length);\n  },\n\n  /**\n   * @returns {(ExternalDocs | null)}\n   */\n  externalDocs() {\n    return getMapValueOfType(this._json, 'externalDocs', ExternalDocs);\n  },\n};\n\nmodule.exports = MixinExternalDocs;\n","const parser = require('./parser');\nconst defaultAsyncAPISchemaParser = require('./asyncapiSchemaFormatParser');\n\nparser.registerSchemaParser(defaultAsyncAPISchemaParser);\n\nmodule.exports = parser;\n","// Utilities\n//\n'use strict';\n\n\nfunction _class(obj) { return Object.prototype.toString.call(obj); }\n\nfunction isString(obj) { return _class(obj) === '[object String]'; }\n\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction has(object, key) {\n  return _hasOwnProperty.call(object, key);\n}\n\n// Merge objects\n//\nfunction assign(obj /*from1, from2, from3, ...*/) {\n  var sources = Array.prototype.slice.call(arguments, 1);\n\n  sources.forEach(function (source) {\n    if (!source) { return; }\n\n    if (typeof source !== 'object') {\n      throw new TypeError(source + 'must be object');\n    }\n\n    Object.keys(source).forEach(function (key) {\n      obj[key] = source[key];\n    });\n  });\n\n  return obj;\n}\n\n// Remove element from array and put another array at those position.\n// Useful for some operations with tokens\nfunction arrayReplaceAt(src, pos, newElements) {\n  return [].concat(src.slice(0, pos), newElements, src.slice(pos + 1));\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction isValidEntityCode(c) {\n  /*eslint no-bitwise:0*/\n  // broken sequence\n  if (c >= 0xD800 && c <= 0xDFFF) { return false; }\n  // never used\n  if (c >= 0xFDD0 && c <= 0xFDEF) { return false; }\n  if ((c & 0xFFFF) === 0xFFFF || (c & 0xFFFF) === 0xFFFE) { return false; }\n  // control codes\n  if (c >= 0x00 && c <= 0x08) { return false; }\n  if (c === 0x0B) { return false; }\n  if (c >= 0x0E && c <= 0x1F) { return false; }\n  if (c >= 0x7F && c <= 0x9F) { return false; }\n  // out of range\n  if (c > 0x10FFFF) { return false; }\n  return true;\n}\n\nfunction fromCodePoint(c) {\n  /*eslint no-bitwise:0*/\n  if (c > 0xffff) {\n    c -= 0x10000;\n    var surrogate1 = 0xd800 + (c >> 10),\n        surrogate2 = 0xdc00 + (c & 0x3ff);\n\n    return String.fromCharCode(surrogate1, surrogate2);\n  }\n  return String.fromCharCode(c);\n}\n\n\nvar UNESCAPE_MD_RE  = /\\\\([!\"#$%&'()*+,\\-.\\/:;<=>?@[\\\\\\]^_`{|}~])/g;\nvar ENTITY_RE       = /&([a-z#][a-z0-9]{1,31});/gi;\nvar UNESCAPE_ALL_RE = new RegExp(UNESCAPE_MD_RE.source + '|' + ENTITY_RE.source, 'gi');\n\nvar DIGITAL_ENTITY_TEST_RE = /^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;\n\nvar entities = require('./entities');\n\nfunction replaceEntityPattern(match, name) {\n  var code = 0;\n\n  if (has(entities, name)) {\n    return entities[name];\n  }\n\n  if (name.charCodeAt(0) === 0x23/* # */ && DIGITAL_ENTITY_TEST_RE.test(name)) {\n    code = name[1].toLowerCase() === 'x' ?\n      parseInt(name.slice(2), 16) : parseInt(name.slice(1), 10);\n\n    if (isValidEntityCode(code)) {\n      return fromCodePoint(code);\n    }\n  }\n\n  return match;\n}\n\n/*function replaceEntities(str) {\n  if (str.indexOf('&') < 0) { return str; }\n\n  return str.replace(ENTITY_RE, replaceEntityPattern);\n}*/\n\nfunction unescapeMd(str) {\n  if (str.indexOf('\\\\') < 0) { return str; }\n  return str.replace(UNESCAPE_MD_RE, '$1');\n}\n\nfunction unescapeAll(str) {\n  if (str.indexOf('\\\\') < 0 && str.indexOf('&') < 0) { return str; }\n\n  return str.replace(UNESCAPE_ALL_RE, function (match, escaped, entity) {\n    if (escaped) { return escaped; }\n    return replaceEntityPattern(match, entity);\n  });\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar HTML_ESCAPE_TEST_RE = /[&<>\"]/;\nvar HTML_ESCAPE_REPLACE_RE = /[&<>\"]/g;\nvar HTML_REPLACEMENTS = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;'\n};\n\nfunction replaceUnsafeChar(ch) {\n  return HTML_REPLACEMENTS[ch];\n}\n\nfunction escapeHtml(str) {\n  if (HTML_ESCAPE_TEST_RE.test(str)) {\n    return str.replace(HTML_ESCAPE_REPLACE_RE, replaceUnsafeChar);\n  }\n  return str;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar REGEXP_ESCAPE_RE = /[.?*+^$[\\]\\\\(){}|-]/g;\n\nfunction escapeRE(str) {\n  return str.replace(REGEXP_ESCAPE_RE, '\\\\$&');\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction isSpace(code) {\n  switch (code) {\n    case 0x09:\n    case 0x20:\n      return true;\n  }\n  return false;\n}\n\n// Zs (unicode class) || [\\t\\f\\v\\r\\n]\nfunction isWhiteSpace(code) {\n  if (code >= 0x2000 && code <= 0x200A) { return true; }\n  switch (code) {\n    case 0x09: // \\t\n    case 0x0A: // \\n\n    case 0x0B: // \\v\n    case 0x0C: // \\f\n    case 0x0D: // \\r\n    case 0x20:\n    case 0xA0:\n    case 0x1680:\n    case 0x202F:\n    case 0x205F:\n    case 0x3000:\n      return true;\n  }\n  return false;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\n/*eslint-disable max-len*/\nvar UNICODE_PUNCT_RE = require('uc.micro/categories/P/regex');\n\n// Currently without astral characters support.\nfunction isPunctChar(ch) {\n  return UNICODE_PUNCT_RE.test(ch);\n}\n\n\n// Markdown ASCII punctuation characters.\n//\n// !, \", #, $, %, &, ', (, ), *, +, ,, -, ., /, :, ;, <, =, >, ?, @, [, \\, ], ^, _, `, {, |, }, or ~\n// http://spec.commonmark.org/0.15/#ascii-punctuation-character\n//\n// Don't confuse with unicode punctuation !!! It lacks some chars in ascii range.\n//\nfunction isMdAsciiPunct(ch) {\n  switch (ch) {\n    case 0x21/* ! */:\n    case 0x22/* \" */:\n    case 0x23/* # */:\n    case 0x24/* $ */:\n    case 0x25/* % */:\n    case 0x26/* & */:\n    case 0x27/* ' */:\n    case 0x28/* ( */:\n    case 0x29/* ) */:\n    case 0x2A/* * */:\n    case 0x2B/* + */:\n    case 0x2C/* , */:\n    case 0x2D/* - */:\n    case 0x2E/* . */:\n    case 0x2F/* / */:\n    case 0x3A/* : */:\n    case 0x3B/* ; */:\n    case 0x3C/* < */:\n    case 0x3D/* = */:\n    case 0x3E/* > */:\n    case 0x3F/* ? */:\n    case 0x40/* @ */:\n    case 0x5B/* [ */:\n    case 0x5C/* \\ */:\n    case 0x5D/* ] */:\n    case 0x5E/* ^ */:\n    case 0x5F/* _ */:\n    case 0x60/* ` */:\n    case 0x7B/* { */:\n    case 0x7C/* | */:\n    case 0x7D/* } */:\n    case 0x7E/* ~ */:\n      return true;\n    default:\n      return false;\n  }\n}\n\n// Hepler to unify [reference labels].\n//\nfunction normalizeReference(str) {\n  // Trim and collapse whitespace\n  //\n  str = str.trim().replace(/\\s+/g, ' ');\n\n  // In node v10 'ẞ'.toLowerCase() === 'Ṿ', which is presumed to be a bug\n  // fixed in v12 (couldn't find any details).\n  //\n  // So treat this one as a special case\n  // (remove this when node v10 is no longer supported).\n  //\n  if ('ẞ'.toLowerCase() === 'Ṿ') {\n    str = str.replace(/ẞ/g, 'ß');\n  }\n\n  // .toLowerCase().toUpperCase() should get rid of all differences\n  // between letter variants.\n  //\n  // Simple .toLowerCase() doesn't normalize 125 code points correctly,\n  // and .toUpperCase doesn't normalize 6 of them (list of exceptions:\n  // İ, ϴ, ẞ, Ω, K, Å - those are already uppercased, but have differently\n  // uppercased versions).\n  //\n  // Here's an example showing how it happens. Lets take greek letter omega:\n  // uppercase U+0398 (Θ), U+03f4 (ϴ) and lowercase U+03b8 (θ), U+03d1 (ϑ)\n  //\n  // Unicode entries:\n  // 0398;GREEK CAPITAL LETTER THETA;Lu;0;L;;;;;N;;;;03B8;\n  // 03B8;GREEK SMALL LETTER THETA;Ll;0;L;;;;;N;;;0398;;0398\n  // 03D1;GREEK THETA SYMBOL;Ll;0;L;<compat> 03B8;;;;N;GREEK SMALL LETTER SCRIPT THETA;;0398;;0398\n  // 03F4;GREEK CAPITAL THETA SYMBOL;Lu;0;L;<compat> 0398;;;;N;;;;03B8;\n  //\n  // Case-insensitive comparison should treat all of them as equivalent.\n  //\n  // But .toLowerCase() doesn't change ϑ (it's already lowercase),\n  // and .toUpperCase() doesn't change ϴ (already uppercase).\n  //\n  // Applying first lower then upper case normalizes any character:\n  // '\\u0398\\u03f4\\u03b8\\u03d1'.toLowerCase().toUpperCase() === '\\u0398\\u0398\\u0398\\u0398'\n  //\n  // Note: this is equivalent to unicode case folding; unicode normalization\n  // is a different step that is not required here.\n  //\n  // Final result should be uppercased, because it's later stored in an object\n  // (this avoid a conflict with Object.prototype members,\n  // most notably, `__proto__`)\n  //\n  return str.toLowerCase().toUpperCase();\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\n// Re-export libraries commonly used in both markdown-it and its plugins,\n// so plugins won't have to depend on them explicitly, which reduces their\n// bundled size (e.g. a browser build).\n//\nexports.lib                 = {};\nexports.lib.mdurl           = require('mdurl');\nexports.lib.ucmicro         = require('uc.micro');\n\nexports.assign              = assign;\nexports.isString            = isString;\nexports.has                 = has;\nexports.unescapeMd          = unescapeMd;\nexports.unescapeAll         = unescapeAll;\nexports.isValidEntityCode   = isValidEntityCode;\nexports.fromCodePoint       = fromCodePoint;\n// exports.replaceEntities     = replaceEntities;\nexports.escapeHtml          = escapeHtml;\nexports.arrayReplaceAt      = arrayReplaceAt;\nexports.isSpace             = isSpace;\nexports.isWhiteSpace        = isWhiteSpace;\nexports.isMdAsciiPunct      = isMdAsciiPunct;\nexports.isPunctChar         = isPunctChar;\nexports.escapeRE            = escapeRE;\nexports.normalizeReference  = normalizeReference;\n","const { getMapValueByKey } = require('../models/utils');\n\n/**\n * Implements functions to deal with the common Bindings object.\n * @mixin\n */\nconst MixinBindings = {\n  /**\n   * @returns {boolean}\n   */\n  hasBindings() {\n    return !!(this._json.bindings && Object.keys(this._json.bindings).length);\n  },\n\n  /**\n   * @returns {Object}\n   */\n  bindings() {\n    return this.hasBindings() ? this._json.bindings : {};\n  },\n\n  /**\n   * @returns {string[]}\n   */\n  bindingProtocols() {\n    return Object.keys(this.bindings());\n  },\n\n  /**\n   * @param {string} name - Name of the binding.\n   * @returns {boolean}\n   */\n  hasBinding(name) {\n    return this.hasBindings() && !!this._json.bindings[String(name)];\n  },\n\n  /**\n   * @param {string} name - Name of the binding.\n   * @returns {(Object | null)}\n   */\n  binding(name) {\n    return getMapValueByKey(this._json.bindings, name);\n  },\n};\n\nmodule.exports = MixinBindings;\n","const { createMapOfType, getMapValueOfType, mix } = require('./utils');\n\nconst Base = require('./base');\n\nconst MixinDescription = require('../mixins/description');\nconst MixinExternalDocs = require('../mixins/external-docs');\nconst MixinSpecificationExtensions = require('../mixins/specification-extensions');\n\n/**\n * Implements functions to deal with a Schema object.\n * @class\n * @alias module:@asyncapi/parser#Schema\n * @extends Base\n * @mixes MixinDescription\n * @mixes MixinExternalDocs\n * @mixes MixinSpecificationExtensions\n * @returns {Schema}\n */\nclass Schema extends Base {\n  /**\n   * @returns {string}\n   */\n  uid() {\n    return this.$id() || this.ext('x-parser-schema-id');\n  }\n  \n  /**\n   * @returns {string}\n   */\n  $id() {\n    return this._json.$id;\n  }\n  \n  /**\n   * @returns {number}\n   */\n  multipleOf() {\n    return this._json.multipleOf;\n  }\n  \n  /**\n   * @returns {number}\n   */\n  maximum() {\n    return this._json.maximum;\n  }\n  \n  /**\n   * @returns {number}\n   */\n  exclusiveMaximum() {\n    return this._json.exclusiveMaximum;\n  }\n  \n  /**\n   * @returns {number}\n   */\n  minimum() {\n    return this._json.minimum;\n  }\n  \n  /**\n   * @returns {number}\n   */\n  exclusiveMinimum() {\n    return this._json.exclusiveMinimum;\n  }\n  \n  /**\n   * @returns {number}\n   */\n  maxLength() {\n    return this._json.maxLength;\n  }\n  \n  /**\n   * @returns {number}\n   */\n  minLength() {\n    return this._json.minLength;\n  }\n  \n  /**\n   * @returns {string}\n   */\n  pattern() {\n    return this._json.pattern;\n  }\n  \n  /**\n   * @returns {number}\n   */\n  maxItems() {\n    return this._json.maxItems;\n  }\n  \n  /**\n   * @returns {number}\n   */\n  minItems() {\n    return this._json.minItems;\n  }\n  \n  /**\n   * @returns {boolean}\n   */\n  uniqueItems() {\n    return !!this._json.uniqueItems;\n  }\n  \n  /**\n   * @returns {number}\n   */\n  maxProperties() {\n    return this._json.maxProperties;\n  }\n  \n  /**\n   * @returns {number}\n   */\n  minProperties() {\n    return this._json.minProperties;\n  }\n  \n  /**\n   * @returns {string[]}\n   */\n  required() {\n    return this._json.required;\n  }\n  \n  /**\n   * @returns {any[]}\n   */\n  enum() {\n    return this._json.enum;\n  }\n  \n  /**\n   * @returns {string|string[]}\n   */\n  type() {\n    return this._json.type;\n  }\n  \n  /**\n   * @returns {Schema[]}\n   */\n  allOf() {\n    if (!this._json.allOf) return null;\n    return this._json.allOf.map(s => new Schema(s));\n  }\n  \n  /**\n   * @returns {Schema[]}\n   */\n  oneOf() {\n    if (!this._json.oneOf) return null;\n    return this._json.oneOf.map(s => new Schema(s));\n  }\n  \n  /**\n   * @returns {Schema[]}\n   */\n  anyOf() {\n    if (!this._json.anyOf) return null;\n    return this._json.anyOf.map(s => new Schema(s));\n  }\n  \n  /**\n   * @returns {Schema}\n   */\n  not() {\n    if (!this._json.not) return null;\n    return new Schema(this._json.not);\n  }\n  \n  /**\n   * @returns {Schema|Schema[]}\n   */\n  items() {\n    if (!this._json.items) return null;\n    if (Array.isArray(this._json.items)) {\n      return this._json.items.map(s => new Schema(s));\n    }\n    return new Schema(this._json.items);\n  }\n  \n  /**\n   * @returns {Object<string, Schema>}\n   */\n  properties() {\n    return createMapOfType(this._json.properties, Schema);\n  }\n\n  /**\n   * @param {string} name - Name of the property.\n   * @returns {Schema}\n   */\n  property(name) {\n    return getMapValueOfType(this._json.properties, name, Schema);\n  }\n  \n  /**\n   * @returns {boolean|Schema}\n   */\n  additionalProperties() {\n    const ap = this._json.additionalProperties;\n    if (ap === undefined || ap === null) return;\n    if (typeof ap === 'boolean') return ap;\n    return new Schema(ap);\n  }\n  \n  /**\n   * @returns {Schema}\n   */\n  additionalItems() {\n    const ai = this._json.additionalItems;\n    if (ai === undefined || ai === null) return;\n    return new Schema(ai);\n  }\n  \n  /**\n   * @returns {Object<string, Schema>}\n   */\n  patternProperties() {\n    return createMapOfType(this._json.patternProperties, Schema);\n  }\n\n  /**\n   * @returns {any}\n   */\n  const() {\n    return this._json.const;\n  }\n\n  /**\n   * @returns {Schema}\n   */\n  contains() {\n    if (!this._json.contains) return null;\n    return new Schema(this._json.contains);\n  }\n\n  /**\n   * @returns {Object<string, Schema|string[]>}\n   */\n  dependencies() {\n    if (!this._json.dependencies) return null;\n    const result = {};\n    Object.entries(this._json.dependencies).forEach(([key, value]) => {\n      result[String(key)] = !Array.isArray(value) ? new Schema(value) : value;\n    });\n    return result;\n  }\n\n  /**\n   * @returns {Schema}\n   */\n  propertyNames() {\n    if (!this._json.propertyNames) return null;\n    return new Schema(this._json.propertyNames);\n  }\n\n  /**\n   * @returns {Schema}\n   */\n  if() {\n    if (!this._json.if) return null;\n    return new Schema(this._json.if);\n  }\n\n  /**\n   * @returns {Schema}\n   */\n  then() {\n    if (!this._json.then) return null;\n    return new Schema(this._json.then);\n  }\n\n  /**\n   * @returns {Schema}\n   */\n  else() {\n    if (!this._json.else) return null;\n    return new Schema(this._json.else);\n  }\n\n  /**\n   * @returns {string}\n   */\n  format() {\n    return this._json.format;\n  }\n\n  /**\n   * @returns {string}\n   */\n  contentEncoding() {\n    return this._json.contentEncoding;\n  }\n\n  /**\n   * @returns {string}\n   */\n  contentMediaType() {\n    return this._json.contentMediaType;\n  }\n\n  /**\n   * @returns {Object<string, Schema>}\n   */\n  definitions() {\n    return createMapOfType(this._json.definitions, Schema);\n  }\n\n  /**\n   * @returns {string}\n   */\n  title() {\n    return this._json.title;\n  }\n\n  /**\n   * @returns {any}\n   */\n  default() {\n    return this._json.default;\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  deprecated() {\n    return this._json.deprecated;\n  }\n\n  /**\n   * @returns {string}\n   */\n  discriminator() {\n    return this._json.discriminator;\n  }\n  /**\n   * @returns {boolean}\n   */\n  readOnly() {\n    return !!this._json.readOnly;\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  writeOnly() {\n    return !!this._json.writeOnly;\n  }\n\n  /**\n   * @returns {any[]}\n   */\n  examples() {\n    return this._json.examples;\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  isCircular() {\n    return !!this.ext('x-parser-circular');\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  hasCircularProps() {\n    return !!this.ext('x-parser-circular-props');\n  }\n\n  /**\n   * @returns {string[]}\n   */\n  circularProps() {\n    return this.ext('x-parser-circular-props');\n  }\n}\n\nmodule.exports = mix(Schema, MixinDescription, MixinExternalDocs, MixinSpecificationExtensions);\n","export var BindingsType;\n(function (BindingsType) {\n    BindingsType[\"http\"] = \"http\";\n    BindingsType[\"ws\"] = \"ws\";\n    BindingsType[\"kafka\"] = \"kafka\";\n    BindingsType[\"amqp\"] = \"amqp\";\n    BindingsType[\"amqp1\"] = \"amqp1\";\n    BindingsType[\"mqtt\"] = \"mqtt\";\n    BindingsType[\"mqtt5\"] = \"mqtt5\";\n    BindingsType[\"nats\"] = \"nats\";\n    BindingsType[\"jms\"] = \"jms\";\n    BindingsType[\"sns\"] = \"sns\";\n    BindingsType[\"sqs\"] = \"sqs\";\n    BindingsType[\"stomp\"] = \"stomp\";\n    BindingsType[\"redis\"] = \"redis\";\n})(BindingsType || (BindingsType = {}));\nexport function isRawMessage(message) {\n    return !message.oneOf;\n}\nexport var PayloadType;\n(function (PayloadType) {\n    PayloadType[\"PUBLISH\"] = \"publish\";\n    PayloadType[\"SUBSCRIBE\"] = \"subscribe\";\n})(PayloadType || (PayloadType = {}));\nexport function isOneOfPayload(payload) {\n    return !!payload && payload.oneOf !== undefined;\n}\nexport function isAnyOfPayload(payload) {\n    return !!payload && payload.anyOf !== undefined;\n}\nexport var SecuritySchemeType;\n(function (SecuritySchemeType) {\n    SecuritySchemeType[\"userPassword\"] = \"User / Password\";\n    SecuritySchemeType[\"apiKey\"] = \"API key\";\n    SecuritySchemeType[\"X509\"] = \"X509\";\n    SecuritySchemeType[\"symmetricEncryption\"] = \"Symmetric Encryption\";\n    SecuritySchemeType[\"asymmetricEncryption\"] = \"Asymmetric Encryption\";\n    SecuritySchemeType[\"httpApiKey\"] = \"HTTP API key\";\n    SecuritySchemeType[\"http\"] = \"HTTP\";\n    SecuritySchemeType[\"oauth2\"] = \"OAuth2\";\n    SecuritySchemeType[\"openIdConnect\"] = \"Open ID\";\n})(SecuritySchemeType || (SecuritySchemeType = {}));\nexport var OAuthFlowsType;\n(function (OAuthFlowsType) {\n    OAuthFlowsType[\"implicit\"] = \"Implicit\";\n    OAuthFlowsType[\"password\"] = \"Password\";\n    OAuthFlowsType[\"clientCredentials\"] = \"Client Credentials\";\n    OAuthFlowsType[\"authorizationCode\"] = \"Authorization Code\";\n})(OAuthFlowsType || (OAuthFlowsType = {}));\nexport function isFetchingSchemaInterface(schema) {\n    return schema.url !== undefined;\n}\n//# sourceMappingURL=types.js.map","export var defaultConfig = {\n    schemaID: '',\n    show: {\n        info: true,\n        channels: true,\n        servers: true,\n        messages: true,\n        schemas: true,\n    },\n    expand: {\n        channels: {\n            root: true,\n            elements: false,\n        },\n        servers: {\n            root: false,\n            elements: false,\n        },\n        messages: {\n            root: false,\n            elements: false,\n        },\n        schemas: {\n            root: false,\n            elements: false,\n        },\n    },\n    showErrors: true,\n};\n//# sourceMappingURL=default.js.map","import React from 'react';\nimport DOMPurify from 'dompurify';\nimport MarkdownIt from 'markdown-it';\nvar markdownIt = new MarkdownIt();\nexport function renderMd(md) {\n    if (typeof md !== 'string') {\n        return md;\n    }\n    var html = markdownIt.render(md || '');\n    return React.createElement(\"div\", { dangerouslySetInnerHTML: { __html: DOMPurify.sanitize(html) } });\n}\n//# sourceMappingURL=renderMarkdown.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport merge from 'merge';\nimport { isRawMessage, } from '../types';\nimport { renderMd } from './renderMarkdown';\nvar Beautifier = (function () {\n    function Beautifier() {\n    }\n    Beautifier.prototype.beautify = function (asyncApi) {\n        if (asyncApi.info && asyncApi.info.description) {\n            asyncApi.info.description = renderMd(asyncApi.info.description);\n        }\n        if (asyncApi.servers) {\n            asyncApi.servers = this.beautifyServers(asyncApi.servers);\n        }\n        if (asyncApi.channels) {\n            asyncApi.channels = this.beautifyChannels(asyncApi.channels);\n        }\n        if (asyncApi.components) {\n            asyncApi.components.messages = this.beautifyMessages(asyncApi.components.messages);\n            asyncApi.components.schemas = this.beautifySchemas(asyncApi.components.schemas);\n        }\n        return asyncApi;\n    };\n    Beautifier.prototype.resolveAllOf = function (schema) {\n        var _this = this;\n        if (!schema || !Object.keys(schema).length) {\n            return schema;\n        }\n        if (schema.allOf) {\n            var schemas_1 = [];\n            schema.allOf.forEach(function (s) {\n                schemas_1.push(_this.resolveAllOf(s) || s);\n            });\n            schemas_1 = schemas_1.filter(Boolean);\n            return merge.recursive.apply(merge, schemas_1);\n        }\n        if (schema.properties) {\n            var transformed = {};\n            for (var _i = 0, _a = Object.entries(schema.properties); _i < _a.length; _i++) {\n                var _b = _a[_i], key = _b[0], property = _b[1];\n                if (typeof property !== 'object' || !property) {\n                    continue;\n                }\n                if (property.allOf) {\n                    transformed[key] = this.resolveAllOf(property) || property;\n                    continue;\n                }\n                transformed[key] = property;\n            }\n            return __assign(__assign({}, schema), { properties: transformed });\n        }\n        return schema;\n    };\n    Beautifier.prototype.beautifySchema = function (schema) {\n        if (!schema || !Object.keys(schema).length) {\n            return schema;\n        }\n        if (schema.description) {\n            schema.description = renderMd(schema.description);\n        }\n        if (schema.properties) {\n            var properties = schema.properties;\n            var newProperties = properties;\n            for (var _i = 0, _a = Object.entries(properties); _i < _a.length; _i++) {\n                var _b = _a[_i], key = _b[0], prop = _b[1];\n                if (prop.description) {\n                    prop.description = renderMd(prop.description);\n                }\n                if (prop.properties) {\n                    var propProperties = prop.properties;\n                    var newPropProperties = {};\n                    for (var _c = 0, _d = Object.entries(propProperties); _c < _d.length; _c++) {\n                        var _e = _d[_c], propKey = _e[0], propValue = _e[1];\n                        newPropProperties[propKey] =\n                            this.beautifySchema(propValue) || propValue;\n                    }\n                    prop.properties = newPropProperties;\n                }\n                if (prop.items) {\n                    prop.items = this.beautifySchema(prop.items);\n                }\n                newProperties[key] = prop;\n            }\n            schema.properties = newProperties;\n        }\n        if (schema.additionalProperties) {\n            var additionalProperties = schema.additionalProperties;\n            var newAdditionalProperties = additionalProperties;\n            for (var _f = 0, _g = Object.entries(additionalProperties); _f < _g.length; _f++) {\n                var _h = _g[_f], key = _h[0], prop = _h[1];\n                if (prop.description) {\n                    prop.description = renderMd(prop.description);\n                }\n                if (typeof prop.additionalProperties === 'object' &&\n                    prop.additionalProperties !== null) {\n                    var propAdditionalProperties = prop.additionalProperties;\n                    var newPropAdditionalProperties = {};\n                    for (var _j = 0, _k = Object.entries(propAdditionalProperties); _j < _k.length; _j++) {\n                        var _l = _k[_j], propKey = _l[0], propValue = _l[1];\n                        newPropAdditionalProperties[propKey] =\n                            this.beautifySchema(propValue) || propValue;\n                    }\n                    prop.properties = newPropAdditionalProperties;\n                }\n                newAdditionalProperties[key] = prop;\n            }\n            schema.additionalProperties = newAdditionalProperties;\n        }\n        if (schema.items) {\n            schema.items = this.beautifySchema(schema.items);\n        }\n        return schema;\n    };\n    Beautifier.prototype.beautifySchemas = function (schemas) {\n        if (!schemas || !Object.keys(schemas).length) {\n            return schemas;\n        }\n        var newSchemas = {};\n        for (var _i = 0, _a = Object.entries(schemas); _i < _a.length; _i++) {\n            var _b = _a[_i], key = _b[0], schema = _b[1];\n            if (typeof schema === 'object') {\n                newSchemas[key] = this.resolveAllOf(schema) || schema;\n                newSchemas[key] =\n                    this.beautifySchema(newSchemas[key]) || newSchemas[key];\n            }\n        }\n        return newSchemas;\n    };\n    Beautifier.prototype.beautifyMessage = function (message) {\n        var _this = this;\n        if (!isRawMessage(message)) {\n            var beautified = __assign(__assign({}, message), { oneOf: message.oneOf.map(function (el) { return _this.beautifyMessage(el); }) });\n            return beautified;\n        }\n        if (message.payload) {\n            message.payload = this.resolveAllOf(message.payload);\n            message.payload = this.beautifySchema(message.payload);\n        }\n        if (message.headers) {\n            message.headers = this.resolveAllOf(message.headers);\n        }\n        if (message.summary) {\n            message.summary = renderMd(message.summary);\n        }\n        if (message.description) {\n            message.description = renderMd(message.description);\n        }\n        return message;\n    };\n    Beautifier.prototype.beautifyMessages = function (messages) {\n        if (!messages || !Object.keys(messages).length) {\n            return messages;\n        }\n        var newMessages = {};\n        for (var _i = 0, _a = Object.entries(messages); _i < _a.length; _i++) {\n            var _b = _a[_i], key = _b[0], message = _b[1];\n            newMessages[key] = this.beautifyMessage(message);\n        }\n        return newMessages;\n    };\n    Beautifier.prototype.beautifyServers = function (servers) {\n        var copiedServers = JSON.parse(JSON.stringify(servers || {}));\n        Object.entries(copiedServers).forEach(function (_a) {\n            var _ = _a[0], server = _a[1];\n            server.description = renderMd(server.description);\n            if (server.variables) {\n                var variables = server.variables;\n                var newVariables = variables;\n                for (var _i = 0, _b = Object.entries(variables); _i < _b.length; _i++) {\n                    var _c = _b[_i], key = _c[0], variable = _c[1];\n                    newVariables[key].description = renderMd(variable.description);\n                }\n                server.variables = newVariables;\n            }\n        });\n        return copiedServers;\n    };\n    Beautifier.prototype.beautifyOperation = function (operation) {\n        if (operation.description) {\n            operation.description = renderMd(operation.description);\n        }\n        if (!operation.message) {\n            return operation;\n        }\n        return __assign(__assign({}, operation), { message: this.beautifyMessage(operation.message) });\n    };\n    Beautifier.prototype.beautifyChannels = function (channels) {\n        var newChannels = {};\n        for (var _i = 0, _a = Object.entries(channels); _i < _a.length; _i++) {\n            var _b = _a[_i], key = _b[0], channel = _b[1];\n            newChannels[key] = {};\n            var publish = channel.publish;\n            if (publish) {\n                newChannels[key].publish = this.beautifyOperation(publish);\n            }\n            var subscribe = channel.subscribe;\n            if (subscribe) {\n                newChannels[key].subscribe = this.beautifyOperation(subscribe);\n            }\n            if (channel.parameters) {\n                newChannels[key].parameters = this.beautifyParameters(channel.parameters);\n            }\n            newChannels[key] = channel;\n        }\n        return newChannels;\n    };\n    Beautifier.prototype.beautifyParameters = function (params) {\n        var newParams = {};\n        Object.entries(params).map(function (_a) {\n            var key = _a[0], prop = _a[1];\n            if (prop.description) {\n                prop.description = renderMd(prop.description);\n            }\n            newParams[key] = prop;\n        });\n        return newParams;\n    };\n    return Beautifier;\n}());\nexport var beautifier = new Beautifier();\n//# sourceMappingURL=beautifier.js.map","export var CSS_PREFIX = 'asyncapi';\nexport var CONTENT_TYPES_SITE = 'https://www.iana.org/assignments/media-types';\nexport var COLLAPSE_ALL_TEXT = 'Collapse All';\nexport var EXPAND_ALL_TEXT = 'Expand All';\nexport var VALIDATION_ERRORS_TYPE = 'https://github.com/asyncapi/parser-js/validation-errors';\nexport var SERVERS = 'Servers';\nexport var ONE_OF_PAYLOADS_TEXT = 'One of those payloads:';\nexport var ANY_OF_PAYLOADS_TEXT = 'Any of those payloads:';\nexport var GENERATED_BADGE_TEXT = 'generated';\nexport var ONE_OF_FOLLOWING_MESSAGES_PUBLISH_TEXT = 'You can send one of the following messages:';\nexport var ONE_OF_FOLLOWING_MESSAGES_PUBLISH_SINGLE_TEXT = 'You can send the following message:';\nexport var ONE_OF_FOLLOWING_MESSAGES_SUBSCRIBE_TEXT = 'You can subscribe to one of the following messages:';\nexport var ONE_OF_FOLLOWING_MESSAGES_SUBSCRIBE_SINGLE_TEXT = 'You can subscribe to the following message:';\nexport var RAW_MESSAGE_SUBSCRIBE_TEXT = 'You can subscribe to the following message:';\nexport var RAW_MESSAGE_PUBLISH_TEXT = 'You can send the following message:';\nexport var CONTACT_TEXT = 'Contact';\nexport var NAM_TEXTE = 'Name';\nexport var URL_TEXT = 'Url';\nexport var EMAIL_TEXT = 'Email';\nexport var LICENSE_TEXT = 'License';\nexport var TERMS_OF_SERVICE_TEXT = 'Terms of service';\nexport var URL_SUPPORT_TEXT = 'Support';\nexport var EMAIL_SUPPORT_TEXT = 'Email support';\nexport var LOCATION_TEXT = 'Location';\nexport var TYPE_TEXT = 'Type';\nexport var SPECIFICATION_TEXT = 'Specification';\nexport var DEPRECATED_TEXT = 'Deprecated';\nexport var PUBLISH_TEXT = 'Publish';\nexport var SUBSCRIBE_TEXT = 'Subscribe';\nexport var REQUIRED_TEXT = 'Required';\nexport var GENERATED_TEXT = 'Generated';\nexport var MESSAGES_TEXT = 'Messages';\nexport var SCHEMAS_TEXT = 'Schemas';\nexport var MESSAGE_TEXT = 'Message';\nexport var CHANNELS_TEXT = 'Channels';\nexport var PARAMETERS_TEXT = 'Parameters';\nexport var HEADERS_TEXT = 'Headers';\nexport var MESSAGE_HEADERS_TEXT = 'Message Headers';\nexport var HEADERS_EXAMPLE_TEXT = 'Example of headers';\nexport var TAGS_TEXT = 'Tags';\nexport var PAYLOAD_TEXT = 'Payload';\nexport var MESSAGE_PAYLOAD_TEXT = 'Message Payload';\nexport var PAYLOAD_EXAMPLE_TEXT = 'Example of payload';\nexport var SCHEMA_EXAMPLE_TEXT = 'Example';\nexport var SERVER_BINDINGS_TEXT = 'Server Bindings';\nexport var CHANNEL_BINDINGS_TEXT = 'Channel Bindings';\nexport var OPERATION_BINDINGS_TEXT = 'Operation Bindings';\nexport var MESSAGE_BINDINGS_TEXT = 'Message Bindings';\nexport var BINDINGS_SCHEMA_OBJECT_TEXT = 'Schema Object';\nexport var NONE_TEXT = 'None';\nexport var ANY_TEXT = 'Any';\nexport var ERROR_TEXT = 'Error';\nexport var EXPAND_ERROR_BUTTON_TEXT = 'Expand';\nexport var COLLAPSE_ERROR_BUTTON_TEXT = 'Collapse';\nexport var SECURITY_TEXT = 'Security';\nexport var URL_VARIABLES_TEXT = 'URL Variables';\nexport var FLOWS_TEXTS = {\n    FLOW: 'Flow',\n    AUTHORIZATION_URL: 'Authorization URL',\n    TOKEN_URL: 'Token URL',\n    REFRESH_URL: 'Refresh URL',\n    SCOPES: 'Scopes',\n};\nexport var SECURITY_COLUMNS_NAMES = [\n    'Type',\n    'Stage',\n    'In',\n    'Name',\n    'Scheme',\n    'Format',\n    'Description',\n];\nexport var SERVER_COLUMN_NAMES = [\n    'URL',\n    'Default',\n    'Possible values',\n    'Description',\n];\nexport var SERVER_SECURITY_COLUMN_NAMES = [\n    'Type',\n    'Bearer format',\n    'In',\n    'Scheme',\n    'Header',\n    'Description',\n];\nexport var SCHEMA_COLUMN_NAMES = [\n    'Name',\n    'Title',\n    'Type',\n    'Format',\n    'Default',\n    'Description',\n];\nexport var SERVER_VARIABLES_COLUMN_NAMES = [\n    'Name',\n    'Default value',\n    'Possible values',\n    'Description',\n];\nexport var CONTAINER_LABELS;\n(function (CONTAINER_LABELS) {\n    CONTAINER_LABELS[\"INFO\"] = \"info\";\n    CONTAINER_LABELS[\"CHANNELS\"] = \"channels\";\n    CONTAINER_LABELS[\"SERVERS\"] = \"servers\";\n    CONTAINER_LABELS[\"MESSAGES\"] = \"messages\";\n    CONTAINER_LABELS[\"SCHEMAS\"] = \"schemas\";\n})(CONTAINER_LABELS || (CONTAINER_LABELS = {}));\nexport var CONTAINER_LABELS_VALUES = Object.values(CONTAINER_LABELS);\nexport var ITEM_LABELS;\n(function (ITEM_LABELS) {\n    ITEM_LABELS[\"CHANNEL\"] = \"channel\";\n    ITEM_LABELS[\"SERVER\"] = \"server\";\n    ITEM_LABELS[\"MESSAGE\"] = \"message\";\n    ITEM_LABELS[\"SCHEMA\"] = \"schema\";\n})(ITEM_LABELS || (ITEM_LABELS = {}));\nexport var ITEM_LABELS_VALUES = Object.values(ITEM_LABELS);\n//# sourceMappingURL=constants.js.map","export function toKebabCase(str) {\n    if (!str) {\n        return '';\n    }\n    var matched = str.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g);\n    if (matched) {\n        return matched.map(function (x) { return x.toLowerCase(); }).join('-');\n    }\n    return str;\n}\n//# sourceMappingURL=toKebabCase.js.map","import { CSS_PREFIX } from '../constants';\nimport { toKebabCase } from './toKebabCase';\nvar BEMCLasses = (function () {\n    function BEMCLasses() {\n        this.schemaID = CSS_PREFIX;\n    }\n    BEMCLasses.prototype.getSchemaID = function () {\n        return this.schemaID;\n    };\n    BEMCLasses.prototype.setSchemaID = function (id) {\n        this.schemaID = id ? toKebabCase(id) : this.schemaID;\n    };\n    BEMCLasses.prototype.element = function (element) {\n        return element ? CSS_PREFIX + \"__\" + element : '';\n    };\n    BEMCLasses.prototype.modifier = function (modifier, element) {\n        return modifier\n            ? \"\" + CSS_PREFIX + (element ? \"__\" + element : '') + \"--\" + modifier\n            : '';\n    };\n    BEMCLasses.prototype.concatenate = function (classes) {\n        return classes.filter(Boolean).join(' ');\n    };\n    BEMCLasses.prototype.identifier = function (identifiers) {\n        var _this = this;\n        var id = identifiers\n            .map(function (i) {\n            if (!i) {\n                return;\n            }\n            if (_this.isIdentifier(i)) {\n                return i.toKebabCase ? toKebabCase(i.id) : i.id;\n            }\n            return i;\n        })\n            .filter(Boolean)\n            .join('--');\n        return id.startsWith(this.schemaID) ? id : this.schemaID + \"--\" + id;\n    };\n    BEMCLasses.prototype.isIdentifier = function (v) {\n        return v.hasOwnProperty('id');\n    };\n    return BEMCLasses;\n}());\nexport var bemClasses = new BEMCLasses();\n//# sourceMappingURL=bemClasses.js.map","import { bemClasses } from './bemClasses';\nexport var createNestedClassName = function (className, nested) {\n    return nested\n        ? bemClasses.modifier(\"nested\", className)\n        : bemClasses.element(className);\n};\n//# sourceMappingURL=createNestedClassName.js.map","import { CONTAINER_LABELS } from '../constants';\nvar CONTAINERS_REGEX = new RegExp(\"(.*?)--(\" + Object.values(CONTAINER_LABELS).join('|') + \")$\");\nvar ITEMS_REGEX = new RegExp(\"(.*?)--(\" + Object.values(CONTAINER_LABELS).join('|') + \")--(.*?)$\");\nvar PROPERTIES_REGEX = new RegExp(\"(.*?)--(.*?)$\");\nfunction removeHash(str) {\n    return str.startsWith('#') ? str.substr(1) : str;\n}\nexport function extractHashData(hash) {\n    var hashData = hash.match(CONTAINERS_REGEX);\n    if (hashData && hashData.length === 3) {\n        return {\n            schema: removeHash(hashData[1]),\n            container: hashData[2],\n        };\n    }\n    hashData = hash.match(ITEMS_REGEX);\n    if (!hashData || hashData.length !== 4) {\n        return;\n    }\n    var container = hashData[2];\n    var item = hashData[3];\n    var itemProperties = item.match(PROPERTIES_REGEX);\n    if (itemProperties && itemProperties.length === 3) {\n        item = itemProperties[1];\n    }\n    return {\n        schema: removeHash(hashData[1]),\n        container: container,\n        item: item,\n    };\n}\n//# sourceMappingURL=extractHashData.js.map","export function removeSpecialChars(str) {\n    if (!str) {\n        return '';\n    }\n    return str.replace(/[^\\w\\s]/gi, '').replace(/[0-9]/gi, '');\n}\n//# sourceMappingURL=removeSpecialChars.js.map","import { extractHashData } from './extractHashData';\nimport { removeSpecialChars } from './removeSpecialChars';\nfunction parseHashForDataId(hash) {\n    var hashData = extractHashData(hash);\n    if (!hashData || !Object.keys(hashData).length) {\n        return;\n    }\n    var item = hashData.item;\n    if (!item) {\n        return hash;\n    }\n    return hash.replace('#', '').replace(item, removeSpecialChars(item));\n}\nexport function scroll(target) {\n    if (!target) {\n        return;\n    }\n    var scrollIntoView = target.scrollIntoView;\n    if (typeof scrollIntoView === 'function') {\n        target.scrollIntoView(true);\n        return;\n    }\n    var top = 0;\n    while (target) {\n        top += target.offsetTop;\n        target = target && target.offsetParent;\n    }\n    window.scrollTo(0, top);\n}\nexport function scrollIntoViewOfAnchor(hash) {\n    var target;\n    try {\n        target = document.querySelector(hash);\n        scroll(target);\n    }\n    catch (e) {\n        try {\n            setTimeout(function () {\n                target = document.querySelector(\"[data-asyncapi-id=\\\"\" + parseHashForDataId(hash) + \"\\\"]\");\n                scroll(target);\n            }, 50);\n        }\n        catch (error) {\n            return;\n        }\n    }\n}\n//# sourceMappingURL=scrollIntoViewOfAnchor.js.map","export var searchForNestedObject = function (input, key) {\n    if (!input) {\n        return null;\n    }\n    if (input.hasOwnProperty(key)) {\n        return input;\n    }\n    for (var i = 0; i < Object.keys(input).length; i++) {\n        var nextInputObject = input[Object.keys(input)[i]];\n        if (typeof nextInputObject === 'object') {\n            var o = searchForNestedObject(nextInputObject, key);\n            if (o !== null) {\n                return o;\n            }\n        }\n    }\n    return null;\n};\n//# sourceMappingURL=searchForNestedObject.js.map","import { CONTAINER_LABELS, ITEM_LABELS } from '../constants';\nexport function inContainer(item) {\n    switch (item) {\n        case ITEM_LABELS.CHANNEL:\n            return CONTAINER_LABELS.CHANNELS;\n        case ITEM_LABELS.SERVER:\n            return CONTAINER_LABELS.SERVERS;\n        case ITEM_LABELS.MESSAGE:\n            return CONTAINER_LABELS.MESSAGES;\n        case ITEM_LABELS.SCHEMA:\n            return CONTAINER_LABELS.SCHEMAS;\n        default:\n            return '';\n    }\n}\n//# sourceMappingURL=inContainer.js.map","var StateHelpers = (function () {\n    function StateHelpers() {\n        var _this = this;\n        this.calculateNumberOfElements = function (_a) {\n            var spec = _a.spec, showConfig = _a.showConfig;\n            var showConfigKeys = Object.keys(showConfig);\n            var fn = function (obj) {\n                var numberOfElements = 0;\n                Object.entries(obj).map(function (_a) {\n                    var key = _a[0], value = _a[1];\n                    var condition = Boolean(key !== 'info' && showConfigKeys.includes(key) && showConfig[key]);\n                    if (condition) {\n                        numberOfElements += 1;\n                        if (Array.isArray(value)) {\n                            numberOfElements += value.length;\n                        }\n                        if (typeof value === 'object') {\n                            if (_this.isServers(value)) {\n                                numberOfElements += _this.calculateServers(value);\n                            }\n                            else {\n                                numberOfElements += Object.keys(value).length;\n                            }\n                        }\n                    }\n                });\n                return numberOfElements;\n            };\n            return fn(spec) + fn(spec.components || {});\n        };\n        this.calculateInitialExpandedElements = function (_a) {\n            var spec = _a.spec, showConfig = _a.showConfig, expandConfig = _a.expandConfig;\n            var showConfigKeys = Object.keys(showConfig);\n            var collapseConfigKeys = Object.keys(showConfig);\n            var fn = function (obj) {\n                var numberOfElements = 0;\n                Object.entries(obj).map(function (_a) {\n                    var key = _a[0], value = _a[1];\n                    var condition = Boolean(key !== 'info' &&\n                        showConfigKeys.includes(key) &&\n                        showConfig[key] &&\n                        collapseConfigKeys.includes(key) &&\n                        expandConfig[key]);\n                    if (condition) {\n                        var field = expandConfig[key];\n                        if (field.root) {\n                            numberOfElements += 1;\n                        }\n                        if (!field.elements) {\n                            return;\n                        }\n                        if (Array.isArray(value)) {\n                            numberOfElements += value.length;\n                        }\n                        if (typeof value === 'object') {\n                            if (_this.isServers(value)) {\n                                numberOfElements += _this.calculateServers(value);\n                            }\n                            else {\n                                numberOfElements += Object.keys(value).length;\n                            }\n                        }\n                    }\n                });\n                return numberOfElements;\n            };\n            return fn(spec) + fn(spec.components || {});\n        };\n    }\n    StateHelpers.prototype.calculateServers = function (servers) {\n        if (!servers || !Object.keys(servers).length) {\n            return 0;\n        }\n        var elements = 0;\n        Object.entries(servers).map(function (_a) {\n            var _ = _a[0], server = _a[1];\n            elements += Number(Boolean(server.description && server.security && server.variables));\n        });\n        return elements;\n    };\n    StateHelpers.prototype.isServers = function (v) {\n        if (!v || !Object.keys(v).length) {\n            return false;\n        }\n        return !!v[Object.keys(v)[0]].protocol;\n    };\n    return StateHelpers;\n}());\nexport var stateHelpers = new StateHelpers();\n//# sourceMappingURL=stateHelpers.js.map","var BindingsHelper = (function () {\n    function BindingsHelper() {\n        this.schemaObjectKeys = [\n            'http.query',\n            'kafka.groupId',\n            'kafka.clientId',\n            'kafka.key',\n            'ws.headers',\n            'ws.query',\n        ];\n    }\n    BindingsHelper.prototype.isSchemaObject = function (context, bindingType) {\n        return this.schemaObjectKeys.includes(bindingType + \".\" + context);\n    };\n    BindingsHelper.prototype.isObject = function (value) {\n        return !!value && typeof value === 'object';\n    };\n    return BindingsHelper;\n}());\nexport var bindingsHelper = new BindingsHelper();\n//# sourceMappingURL=bindingsHelpers.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { parse, parseFromUrl, registerSchemaParser } from '@asyncapi/parser';\nimport openapiSchemaParser from '@asyncapi/openapi-schema-parser';\nimport avroSchemaParser from '@asyncapi/avro-schema-parser';\nimport { VALIDATION_ERRORS_TYPE } from '../constants';\nregisterSchemaParser(openapiSchemaParser);\nregisterSchemaParser(avroSchemaParser);\nvar Parser = (function () {\n    function Parser() {\n        this.handleError = function (err) {\n            if (err.type === VALIDATION_ERRORS_TYPE) {\n                return {\n                    data: err.parsedJSON || null,\n                    error: err,\n                };\n            }\n            return { data: null, error: err };\n        };\n        this.extractDocument = function (data) {\n            if (data.json instanceof Function) {\n                return {\n                    data: data.json(),\n                };\n            }\n            if (typeof data._json === 'object') {\n                return {\n                    data: data._json,\n                };\n            }\n            return {\n                data: data,\n            };\n        };\n        this.parseSchema = parse;\n        this.parseSchemaFromURL = parseFromUrl;\n    }\n    Parser.prototype.parse = function (content, parserOptions) {\n        return __awaiter(this, void 0, void 0, function () {\n            var data, err_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4, this.parseSchema(content, parserOptions)];\n                    case 1:\n                        data = _a.sent();\n                        return [2, this.extractDocument(data)];\n                    case 2:\n                        err_1 = _a.sent();\n                        return [2, this.handleError(err_1)];\n                    case 3: return [2];\n                }\n            });\n        });\n    };\n    Parser.prototype.parseFromUrl = function (arg, parserOptions) {\n        return __awaiter(this, void 0, void 0, function () {\n            var data, err_2;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4, this.parseSchemaFromURL(arg.url, arg.requestOptions, parserOptions)];\n                    case 1:\n                        data = _a.sent();\n                        return [2, this.extractDocument(data)];\n                    case 2:\n                        err_2 = _a.sent();\n                        return [2, this.handleError(err_2)];\n                    case 3: return [2];\n                }\n            });\n        });\n    };\n    return Parser;\n}());\nexport { Parser };\n//# sourceMappingURL=parser.js.map","export var getExamplesFromSpec = function (examples, type) {\n    return examples.map(function (el) { return el[type]; }).filter(Boolean);\n};\n//# sourceMappingURL=getExamplesFromSpec.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useState, useCallback } from 'react';\nimport createUseContext from 'constate';\nvar useExpandedState = function (_a) {\n    var numberOfElements = _a.numberOfElements, _b = _a.numberOfExpandedElement, initialNumberOfExpandedElement = _b === void 0 ? 0 : _b;\n    var _c = useState(false), expanded = _c[0], setExpanded = _c[1];\n    var _d = useState(initialNumberOfExpandedElement), numberOfExpanded = _d[0], setNumberOfExpanded = _d[1];\n    var _e = useState({\n        label: '',\n        itemName: '',\n        state: false,\n        scroll: false,\n    }), clickedItem = _e[0], setClickedItem = _e[1];\n    var _f = useState(false), scrollToView = _f[0], setScrollToView = _f[1];\n    var clickItem = useCallback(function (_a) {\n        var label = _a.label, rest = __rest(_a, [\"label\"]);\n        if (label) {\n            setClickedItem(__assign({ label: label }, rest));\n        }\n    }, []);\n    return {\n        expanded: expanded,\n        setExpanded: setExpanded,\n        numberOfElements: numberOfElements,\n        numberOfExpanded: numberOfExpanded,\n        setNumberOfExpanded: setNumberOfExpanded,\n        clickedItem: clickedItem,\n        setClickedItem: clickItem,\n        scrollToView: scrollToView,\n        setScrollToView: setScrollToView,\n    };\n};\nexport var useExpandedContext = createUseContext(useExpandedState);\n//# sourceMappingURL=useExpandedState.js.map","export var isClient = typeof window === 'object';\nexport var on = function (obj) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    return obj.addEventListener.apply(obj, args);\n};\nexport var off = function (obj) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    return obj.removeEventListener.apply(obj, args);\n};\n","import { useEffect, useState } from 'react';\nimport { isClient, off, on } from './util';\nvar patchHistoryMethod = function (method) {\n    var original = history[method];\n    history[method] = function (state) {\n        var result = original.apply(this, arguments);\n        var event = new Event(method.toLowerCase());\n        event.state = state;\n        window.dispatchEvent(event);\n        return result;\n    };\n};\nif (isClient) {\n    patchHistoryMethod('pushState');\n    patchHistoryMethod('replaceState');\n}\nvar useLocationServer = function () { return ({\n    trigger: 'load',\n    length: 1,\n}); };\nvar buildState = function (trigger) {\n    var state = history.state, length = history.length;\n    var hash = location.hash, host = location.host, hostname = location.hostname, href = location.href, origin = location.origin, pathname = location.pathname, port = location.port, protocol = location.protocol, search = location.search;\n    return {\n        trigger: trigger,\n        state: state,\n        length: length,\n        hash: hash,\n        host: host,\n        hostname: hostname,\n        href: href,\n        origin: origin,\n        pathname: pathname,\n        port: port,\n        protocol: protocol,\n        search: search,\n    };\n};\nvar useLocationBrowser = function () {\n    var _a = useState(buildState('load')), state = _a[0], setState = _a[1];\n    useEffect(function () {\n        var onPopstate = function () { return setState(buildState('popstate')); };\n        var onPushstate = function () { return setState(buildState('pushstate')); };\n        var onReplacestate = function () { return setState(buildState('replacestate')); };\n        on(window, 'popstate', onPopstate);\n        on(window, 'pushstate', onPushstate);\n        on(window, 'replacestate', onReplacestate);\n        return function () {\n            off(window, 'popstate', onPopstate);\n            off(window, 'pushstate', onPushstate);\n            off(window, 'replacestate', onReplacestate);\n        };\n    }, []);\n    return state;\n};\nexport default isClient ? useLocationBrowser : useLocationServer;\n","import React from 'react';\nimport { bemClasses } from '../helpers';\nimport { DEPRECATED_TEXT, PUBLISH_TEXT, SUBSCRIBE_TEXT, REQUIRED_TEXT, GENERATED_TEXT, } from '../constants';\nexport var BadgeType;\n(function (BadgeType) {\n    BadgeType[\"DEPRECATED\"] = \"deprecated\";\n    BadgeType[\"PUBLISH\"] = \"publish\";\n    BadgeType[\"SUBSCRIBE\"] = \"subscribe\";\n    BadgeType[\"REQUIRED\"] = \"required\";\n    BadgeType[\"GENERATED\"] = \"generated\";\n})(BadgeType || (BadgeType = {}));\nexport var Badge = function (_a) {\n    var _b = _a.type, type = _b === void 0 ? '' : _b;\n    var element = function (t, text) { return (React.createElement(\"span\", { className: bemClasses.element(\"badge\") + \" \" + bemClasses.modifier(t, \"badge\") }, text)); };\n    switch (type) {\n        case BadgeType.DEPRECATED: {\n            return element(BadgeType.DEPRECATED, DEPRECATED_TEXT);\n        }\n        case BadgeType.PUBLISH: {\n            return element(BadgeType.PUBLISH, PUBLISH_TEXT);\n        }\n        case BadgeType.SUBSCRIBE: {\n            return element(BadgeType.SUBSCRIBE, SUBSCRIBE_TEXT);\n        }\n        case BadgeType.REQUIRED: {\n            return element(BadgeType.REQUIRED, REQUIRED_TEXT);\n        }\n        case BadgeType.GENERATED: {\n            return element(BadgeType.GENERATED, GENERATED_TEXT);\n        }\n        default: {\n            return null;\n        }\n    }\n};\n//# sourceMappingURL=Badge.js.map","import { useEffect } from 'react';\nimport { useLocation } from 'react-use';\nimport createUseContext from 'constate';\nimport { useExpandedContext } from './useExpandedState';\nimport { extractHashData, scrollIntoViewOfAnchor } from '../helpers';\nvar useChangeHash = function (_a) {\n    var schemaName = _a.schemaName, _b = _a.pushStateBehavior, pushStateBehavior = _b === void 0 ? scrollIntoViewOfAnchor : _b;\n    var hash = useLocation().hash;\n    var _c = useExpandedContext(), setClickedItem = _c.setClickedItem, scrollToView = _c.scrollToView;\n    useEffect(function () {\n        if (!hash) {\n            return;\n        }\n        var hashData = extractHashData(hash);\n        if (!hashData || hashData.schema !== schemaName) {\n            return;\n        }\n        setClickedItem({\n            label: hashData.container,\n            itemName: hashData.item,\n            state: true,\n            scroll: true,\n        });\n    }, [hash]);\n    useEffect(function () {\n        if (!hash) {\n            return;\n        }\n        var hashData = extractHashData(hash);\n        if (!hashData || hashData.schema !== schemaName) {\n            return;\n        }\n        pushStateBehavior && pushStateBehavior(hash);\n    }, [scrollToView]);\n};\nexport var useChangeHashContext = createUseContext(useChangeHash);\n//# sourceMappingURL=useChangeHash.js.map","import React from 'react';\nimport { bemClasses } from '../helpers';\nexport var CodeComponent = function (_a) {\n    var title = _a.title, code = _a.code;\n    return (React.createElement(\"div\", { className: bemClasses.element(\"code\") },\n        title && (React.createElement(\"header\", { className: bemClasses.element(\"code-header\") },\n            React.createElement(\"h4\", null, title))),\n        React.createElement(\"pre\", { className: bemClasses.element(\"code-pre\") },\n            React.createElement(\"code\", { className: bemClasses.element(\"code-body\") }, code))));\n};\n//# sourceMappingURL=Code.js.map","import React from 'react';\nimport { createNestedClassName } from '../helpers';\nexport var TableHeader = function (_a) {\n    var _b = _a.title, title = _b === void 0 ? '' : _b, _c = _a.columns, columns = _c === void 0 ? [] : _c, _d = _a.nested, nested = _d === void 0 ? false : _d;\n    if (!columns) {\n        return null;\n    }\n    return (React.createElement(\"thead\", { className: createNestedClassName(\"table-header\", nested) },\n        !title ? null : (React.createElement(\"tr\", { className: createNestedClassName(\"table-header-title\", nested) },\n            React.createElement(\"td\", { colSpan: columns.length }, title))),\n        React.createElement(\"tr\", { className: createNestedClassName(\"table-header-columns\", nested) }, columns.map(function (column, index) { return (React.createElement(\"th\", { key: index, className: createNestedClassName(\"table-header-column\", nested) }, column)); }))));\n};\n//# sourceMappingURL=TableHeader.js.map","import React from 'react';\nimport { bemClasses, createNestedClassName } from '../helpers';\nexport var TableRow = function (_a) {\n    var element = _a.element, _b = _a.rootKey, rootKey = _b === void 0 ? '' : _b, _c = _a.accessors, accessors = _c === void 0 ? [] : _c, _d = _a.nested, nested = _d === void 0 ? false : _d, _e = _a.className, className = _e === void 0 ? '' : _e;\n    var renderRowByAccessors = function (acs, el, nest) {\n        return acs.map(function (accessor, index) { return (React.createElement(\"td\", { key: index, className: createNestedClassName(\"table-cell\", nest) }, resolveAccessor(accessor, el))); });\n    };\n    var resolveAccessor = function (accessor, el) {\n        if (accessor instanceof Function) {\n            return accessor(el);\n        }\n        var value = el[accessor];\n        if (typeof value === 'boolean' || typeof value === 'number') {\n            return value.toString();\n        }\n        return value;\n    };\n    var content = accessors && accessors.length\n        ? renderRowByAccessors(accessors, element, nested)\n        : element;\n    var nestedClassName = createNestedClassName(\"table-row\", nested);\n    return (React.createElement(\"tr\", { key: rootKey, className: bemClasses.concatenate([nestedClassName, className]) }, content));\n};\n//# sourceMappingURL=TableRow.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport { TableHeader } from './TableHeader';\nimport { TableRow } from './TableRow';\nimport { createNestedClassName } from '../helpers';\nexport var Table = function (_a) {\n    var header = _a.header, _b = _a.rows, rows = _b === void 0 ? [] : _b, _c = _a.accessors, accessors = _c === void 0 ? [] : _c, _d = _a.nested, nested = _d === void 0 ? false : _d, children = _a.children;\n    if (!children && !rows.length) {\n        return null;\n    }\n    var tableClassName = createNestedClassName(\"table\", nested);\n    var tableBodyClassName = createNestedClassName(\"table-body\", nested);\n    return (React.createElement(\"table\", { className: tableClassName },\n        React.createElement(TableHeader, __assign({}, header, { nested: header.nested || nested })),\n        React.createElement(\"tbody\", { className: tableBodyClassName }, children\n            ? children\n            : rows.map(function (row, index) { return (React.createElement(TableRow, __assign({}, row, { key: index, accessors: row.accessors || accessors, nested: row.nested || nested }))); }))));\n};\n//# sourceMappingURL=Table.js.map","import React from 'react';\nimport { bemClasses } from '../helpers';\nexport var Href = function (_a) {\n    var href = _a.href, children = _a.children;\n    var className = \"anchor\";\n    return (React.createElement(\"a\", { href: href, target: \"_blank\", rel: \"nofollow noopener noreferrer\", className: bemClasses.element(className) },\n        React.createElement(\"div\", { className: bemClasses.element(className + \"-content\") }, children),\n        React.createElement(\"span\", { className: bemClasses.element(className + \"-icon\") })));\n};\n//# sourceMappingURL=Href.js.map","import React from 'react';\nimport { bemClasses } from '../helpers';\nexport var Markdown = function (_a) {\n    var children = _a.children;\n    return (React.createElement(\"div\", { className: bemClasses.element(\"markdown\") }, children));\n};\n//# sourceMappingURL=Markdown.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport React, { Component } from 'react';\nimport { isFetchingSchemaInterface, } from '../../types';\nimport { defaultConfig } from '../../config';\nimport { beautifier, bemClasses, stateHelpers, Parser } from '../../helpers';\nimport { CSS_PREFIX } from '../../constants';\nimport { useExpandedContext, useChangeHashContext } from '../../store';\nimport { ErrorComponent } from '../Error/Error';\nimport { InfoComponent } from '../Info/Info';\nimport { ChannelsComponent } from '../Channels/Channels';\nimport { ServersComponent } from '../Servers/Servers';\nimport { MessagesComponent } from '../Messages/Messages';\nimport { SchemasComponent } from '../Schemas/Schemas';\nvar defaultAsyncApi = {\n    asyncapi: '2.0.0-rc2',\n    info: {\n        title: 'AsyncApi example title',\n        version: '1.0.0',\n    },\n    channels: {},\n};\nvar AsyncApiComponent = (function (_super) {\n    __extends(AsyncApiComponent, _super);\n    function AsyncApiComponent(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = {\n            validatedSchema: defaultAsyncApi,\n            error: undefined,\n        };\n        _this.parser = new Parser();\n        return _this;\n    }\n    AsyncApiComponent.prototype.componentDidMount = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                this.parseSchema(this.props.schema, this.props.config && this.props.config.parserOptions);\n                return [2];\n            });\n        });\n    };\n    AsyncApiComponent.prototype.componentDidUpdate = function (prevProps) {\n        return __awaiter(this, void 0, void 0, function () {\n            var schema;\n            return __generator(this, function (_a) {\n                schema = prevProps.schema;\n                if (schema !== this.props.schema) {\n                    this.parseSchema(this.props.schema, this.props.config && this.props.config.parserOptions);\n                }\n                return [2];\n            });\n        });\n    };\n    AsyncApiComponent.prototype.render = function () {\n        var config = this.props.config;\n        var _a = this.state, validatedSchema = _a.validatedSchema, error = _a.error;\n        var concatenatedConfig = __assign(__assign(__assign({}, defaultConfig), config), { show: __assign(__assign({}, defaultConfig.show), (!!config && config.show)), expand: __assign(__assign({}, defaultConfig.expand), (!!config && config.expand)) });\n        if (!validatedSchema || !Object.keys(validatedSchema).length) {\n            if (!error) {\n                return null;\n            }\n            return concatenatedConfig.showErrors && React.createElement(ErrorComponent, { error: error });\n        }\n        if (!concatenatedConfig.show) {\n            return null;\n        }\n        bemClasses.setSchemaID(concatenatedConfig.schemaID);\n        var numberOfElement = stateHelpers.calculateNumberOfElements({\n            spec: validatedSchema,\n            showConfig: concatenatedConfig.show,\n        });\n        var initialExpandedElements = stateHelpers.calculateInitialExpandedElements({\n            spec: validatedSchema,\n            showConfig: concatenatedConfig.show,\n            expandConfig: concatenatedConfig.expand || {},\n        });\n        return (React.createElement(useExpandedContext.Provider, { numberOfElements: numberOfElement, numberOfExpandedElement: initialExpandedElements },\n            React.createElement(useChangeHashContext.Provider, { schemaName: bemClasses.getSchemaID() },\n                React.createElement(\"main\", { className: CSS_PREFIX, id: bemClasses.getSchemaID() },\n                    concatenatedConfig.showErrors && !!error && (React.createElement(ErrorComponent, { error: error })),\n                    concatenatedConfig.show.info && validatedSchema.info && (React.createElement(InfoComponent, { info: validatedSchema.info, defaultContentType: validatedSchema.defaultContentType })),\n                    concatenatedConfig.show.channels && validatedSchema.channels && (React.createElement(ChannelsComponent, { channels: validatedSchema.channels, expand: concatenatedConfig.expand &&\n                            concatenatedConfig.expand.channels })),\n                    concatenatedConfig.show.servers && !!validatedSchema.servers && (React.createElement(ServersComponent, { servers: validatedSchema.servers, securitySchemes: validatedSchema.components &&\n                            validatedSchema.components.securitySchemes, expand: concatenatedConfig.expand && concatenatedConfig.expand.servers })),\n                    validatedSchema.components && (React.createElement(\"section\", { className: bemClasses.element(\"components\") },\n                        concatenatedConfig.show.messages &&\n                            validatedSchema.components.messages && (React.createElement(MessagesComponent, { messages: validatedSchema.components.messages, expand: concatenatedConfig.expand &&\n                                concatenatedConfig.expand.messages })),\n                        concatenatedConfig.show.schemas &&\n                            validatedSchema.components.schemas && (React.createElement(SchemasComponent, { schemas: validatedSchema.components.schemas, expand: concatenatedConfig.expand &&\n                                concatenatedConfig.expand.schemas }))))))));\n    };\n    AsyncApiComponent.prototype.parseSchema = function (schema, parserOptions) {\n        return __awaiter(this, void 0, void 0, function () {\n            var parsedFromUrl, parsed;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!isFetchingSchemaInterface(schema)) return [3, 2];\n                        return [4, this.parser.parseFromUrl(schema, parserOptions)];\n                    case 1:\n                        parsedFromUrl = _a.sent();\n                        this.setState({\n                            validatedSchema: this.beautifySchema(parsedFromUrl.data),\n                            error: parsedFromUrl.error,\n                        });\n                        return [2];\n                    case 2: return [4, this.parser.parse(schema, parserOptions)];\n                    case 3:\n                        parsed = _a.sent();\n                        this.setState({\n                            validatedSchema: this.beautifySchema(parsed.data),\n                            error: parsed.error,\n                        });\n                        return [2];\n                }\n            });\n        });\n    };\n    AsyncApiComponent.prototype.beautifySchema = function (schema) {\n        if (!schema) {\n            return null;\n        }\n        return beautifier.beautify(schema);\n    };\n    return AsyncApiComponent;\n}(Component));\nexport default AsyncApiComponent;\n//# sourceMappingURL=AsyncApi.js.map","import React from 'react';\nimport { bemClasses } from '../helpers';\nexport var TreeSpace = function () { return (React.createElement(\"span\", { className: bemClasses.element(\"tree-space\") })); };\nexport var TreeLeaf = function () { return (React.createElement(\"span\", { className: bemClasses.element(\"tree-leaf\") })); };\n//# sourceMappingURL=Tree.js.map","import React, { useState, useEffect } from 'react';\nimport { useExpandedContext } from '../store';\nimport { bemClasses, inContainer } from '../helpers';\nimport { CONTAINER_LABELS_VALUES, ITEM_LABELS_VALUES, } from '../constants';\nexport var Toggle = function (_a) {\n    var header = _a.header, _b = _a.className, customClassName = _b === void 0 ? '' : _b, _c = _a.expanded, initialExpanded = _c === void 0 ? false : _c, _d = _a.toggleInState, toggleInState = _d === void 0 ? false : _d, _e = _a.label, label = _e === void 0 ? '' : _e, _f = _a.itemName, itemName = _f === void 0 ? '' : _f, children = _a.children;\n    var _g = useExpandedContext(), globalExpanded = _g.expanded, setNumberOfExpanded = _g.setNumberOfExpanded, clickedItem = _g.clickedItem, setClickedItem = _g.setClickedItem, setScrollToView = _g.setScrollToView;\n    var _h = useState(false), initial = _h[0], setInitial = _h[1];\n    var _j = useState(initialExpanded), expanded = _j[0], setExpanded = _j[1];\n    var handleSetExpanded = function (e) {\n        e.stopPropagation();\n        var newState = !expanded;\n        if (children) {\n            setExpanded(newState);\n        }\n        setClickedItem({\n            label: label,\n            itemName: itemName,\n            state: newState,\n            scroll: false,\n        });\n    };\n    useEffect(function () {\n        setInitial(true);\n    }, []);\n    useEffect(function () {\n        if (clickedItem &&\n            clickedItem.scroll &&\n            clickedItem.state &&\n            clickedItem.label === label) {\n            setScrollToView(function (state) { return !state; });\n        }\n    }, [expanded]);\n    useEffect(function () {\n        if (initial && toggleInState) {\n            setExpanded(globalExpanded);\n        }\n    }, [globalExpanded]);\n    useEffect(function () {\n        if (!initial) {\n            return;\n        }\n        if (!(clickedItem && clickedItem.state) &&\n            ITEM_LABELS_VALUES.includes(label) &&\n            clickedItem.label === inContainer(label)) {\n            setExpanded(false);\n            return;\n        }\n        if (!expanded && clickedItem && clickedItem.state && label) {\n            if (clickedItem.label === label &&\n                CONTAINER_LABELS_VALUES.includes(label)) {\n                setExpanded(true);\n                return;\n            }\n            if (clickedItem.label === inContainer(label) &&\n                itemName &&\n                clickedItem.itemName === itemName) {\n                setExpanded(true);\n                return;\n            }\n        }\n    }, [initial, clickedItem]);\n    useEffect(function () {\n        if (toggleInState && initial) {\n            setNumberOfExpanded(function (state) { return (expanded ? state + 1 : state - 1); });\n        }\n    }, [expanded, setNumberOfExpanded]);\n    var className = \"toggle\";\n    var classes = bemClasses.concatenate([\n        bemClasses.element(className),\n        expanded ? bemClasses.modifier(\"expanded\", className) : '',\n        bemClasses.element(customClassName + \"-toggle\"),\n        !children ? bemClasses.modifier(\"no-children\", className) : '',\n        !children ? bemClasses.modifier(\"no-children\", customClassName) : '',\n        expanded\n            ? bemClasses.modifier(\"expanded\", customClassName + \"-toggle\")\n            : '',\n    ]);\n    var headerClasses = bemClasses.concatenate([\n        bemClasses.element(className + \"-header\"),\n        bemClasses.element(customClassName + \"-header\"),\n    ]);\n    var arrowClasses = bemClasses.concatenate([\n        bemClasses.element(className + \"-arrow\"),\n        expanded ? bemClasses.modifier(\"expanded\", className + \"-arrow\") : '',\n    ]);\n    var bodyClasses = bemClasses.concatenate([\n        bemClasses.element(className + \"-body\"),\n        bemClasses.element(customClassName + \"-body\"),\n    ]);\n    return (React.createElement(\"div\", { className: classes, onClick: function (e) {\n            if (!expanded) {\n                handleSetExpanded(e);\n            }\n        } },\n        React.createElement(\"header\", { className: headerClasses, onClick: handleSetExpanded },\n            React.createElement(\"div\", { className: bemClasses.element(className + \"-header-content\") }, header),\n            children && (React.createElement(\"button\", { className: bemClasses.element(className + \"-button\") },\n                React.createElement(\"span\", { className: arrowClasses })))),\n        children && React.createElement(\"div\", { className: bodyClasses }, children)));\n};\n//# sourceMappingURL=Toggle.js.map","import React, { useState, useEffect } from 'react';\nimport { bemClasses } from '../helpers';\nimport { COLLAPSE_ALL_TEXT, EXPAND_ALL_TEXT } from '../constants';\nimport { useExpandedContext } from '../store';\nexport var CollapseButton = function () {\n    var _a = useExpandedContext(), expanded = _a.expanded, setExpanded = _a.setExpanded, numberOfElements = _a.numberOfElements, numberOfExpanded = _a.numberOfExpanded;\n    var _b = useState(false), initial = _b[0], setInitial = _b[1];\n    useEffect(function () {\n        setInitial(true);\n    }, []);\n    useEffect(function () {\n        if (!initial) {\n            return;\n        }\n        if (numberOfExpanded === 0 && expanded) {\n            setExpanded(false);\n        }\n        if (numberOfExpanded === numberOfElements && !expanded) {\n            setExpanded(true);\n        }\n    }, [numberOfExpanded]);\n    return (React.createElement(\"button\", { className: bemClasses.element(\"collapse-button\"), onClick: function () { return setExpanded(function (state) { return !state; }); } },\n        React.createElement(\"span\", null, expanded ? COLLAPSE_ALL_TEXT : EXPAND_ALL_TEXT)));\n};\n//# sourceMappingURL=CollapseButton.js.map","import React from 'react';\nimport { bemClasses } from '../../helpers';\nimport { Toggle } from '../../components';\nimport { ERROR_TEXT } from '../../constants';\nvar renderErrors = function (errors) {\n    if (!errors) {\n        return null;\n    }\n    return errors\n        .map(function (singleError, index) {\n        var formattedError = formatError(singleError);\n        if (!formattedError) {\n            return null;\n        }\n        return (React.createElement(\"div\", { key: index },\n            React.createElement(\"code\", { className: bemClasses.element(\"error-content-code\"), key: index }, formattedError)));\n    })\n        .filter(Boolean);\n};\nexport var formatError = function (singleError) {\n    return singleError.title;\n};\nexport var ErrorComponent = function (_a) {\n    var error = _a.error;\n    if (!error) {\n        return null;\n    }\n    var className = \"error\";\n    var title = error.title, validationErrors = error.validationErrors;\n    var header = (React.createElement(\"h2\", null,\n        ERROR_TEXT,\n        \": \",\n        title));\n    return (React.createElement(\"section\", { className: bemClasses.element(className) },\n        React.createElement(Toggle, { header: header, className: className }, validationErrors && validationErrors.length && (React.createElement(\"div\", { className: bemClasses.element(className + \"-body\") },\n            React.createElement(\"pre\", { className: bemClasses.element(className + \"-body-pre\") }, renderErrors(validationErrors)))))));\n};\n//# sourceMappingURL=Error.js.map","import React from 'react';\nimport { Href } from '../../components';\nimport { TERMS_OF_SERVICE_TEXT } from '../../constants';\nexport var TermsOfServiceComponent = function (_a) {\n    var url = _a.url;\n    return (React.createElement(\"div\", null,\n        React.createElement(Href, { href: url },\n            React.createElement(\"span\", null, TERMS_OF_SERVICE_TEXT))));\n};\n//# sourceMappingURL=TermsOfService.js.map","import React from 'react';\nimport { Href } from '../../components';\nexport var LicenseComponent = function (_a) {\n    var name = _a.name, url = _a.url;\n    var nameWrapper = React.createElement(\"span\", null, name);\n    return React.createElement(\"div\", null, url ? React.createElement(Href, { href: url }, nameWrapper) : nameWrapper);\n};\n//# sourceMappingURL=License.js.map","import React from 'react';\nimport { Href } from '../../components';\nimport { bemClasses } from '../../helpers';\nimport { URL_SUPPORT_TEXT, EMAIL_SUPPORT_TEXT } from '../../constants';\nexport var ContactComponent = function (_a) {\n    var url = _a.url, email = _a.email;\n    return (React.createElement(React.Fragment, null,\n        url && (React.createElement(\"li\", { className: bemClasses.element(\"info-contact-support-url\") },\n            React.createElement(Href, { href: url },\n                React.createElement(\"span\", null, URL_SUPPORT_TEXT)))),\n        email && (React.createElement(\"li\", { className: bemClasses.element(\"info-contact-support-email\") },\n            React.createElement(Href, { href: \"mailto:\" + email },\n                React.createElement(\"span\", null, EMAIL_SUPPORT_TEXT))))));\n};\n//# sourceMappingURL=Contact.js.map","import React from 'react';\nimport { Href } from '../../components';\nimport { CONTENT_TYPES_SITE } from '../../constants';\nexport var DefaultContentTypeComponent = function (_a) {\n    var type = _a.type;\n    return (React.createElement(\"div\", null,\n        React.createElement(Href, { href: CONTENT_TYPES_SITE + \"/\" + type },\n            React.createElement(\"span\", null, type))));\n};\n//# sourceMappingURL=DefaultContentType.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport { TermsOfServiceComponent } from './TermsOfService';\nimport { LicenseComponent } from './License';\nimport { ContactComponent } from './Contact';\nimport { DefaultContentTypeComponent } from './DefaultContentType';\nimport { Markdown, CollapseButton } from '../../components';\nimport { bemClasses } from '../../helpers';\nexport var InfoComponent = function (_a) {\n    var _b = _a.info, title = _b.title, version = _b.version, description = _b.description, termsOfService = _b.termsOfService, contact = _b.contact, license = _b.license, defaultContentType = _a.defaultContentType;\n    var className = \"info\";\n    var showInfoList = defaultContentType || termsOfService || license || contact;\n    return (React.createElement(\"section\", { className: bemClasses.element(className), id: bemClasses.identifier([className]) },\n        React.createElement(\"header\", { className: bemClasses.element(className + \"-header\") },\n            React.createElement(\"div\", { className: bemClasses.element(className + \"-header-main\") },\n                React.createElement(\"h1\", null,\n                    React.createElement(\"span\", { className: bemClasses.element(className + \"-header-title\") }, title),\n                    version && (React.createElement(\"span\", { className: bemClasses.element(className + \"-header-version\") }, version))),\n                React.createElement(CollapseButton, null)),\n            !showInfoList ? null : (React.createElement(\"ul\", { className: bemClasses.element(className + \"-list\") },\n                defaultContentType && (React.createElement(\"li\", { className: bemClasses.element(className + \"-default-content-type\") },\n                    React.createElement(DefaultContentTypeComponent, { type: defaultContentType }))),\n                termsOfService && (React.createElement(\"li\", { className: bemClasses.element(className + \"-terms-of-service\") },\n                    React.createElement(TermsOfServiceComponent, { url: termsOfService }))),\n                license && (React.createElement(\"li\", { className: bemClasses.element(className + \"-license\") },\n                    React.createElement(LicenseComponent, __assign({}, license)))),\n                contact && (contact.url || contact.email) ? (React.createElement(ContactComponent, __assign({}, contact))) : null))),\n        description && (React.createElement(\"div\", { className: bemClasses.element(className + \"-description\") },\n            React.createElement(Markdown, null, description)))));\n};\n//# sourceMappingURL=Info.js.map","import React from 'react';\nimport merge from 'merge';\nimport { bemClasses } from '../../helpers';\nimport { Markdown, TreeSpace, TreeLeaf } from '../../components';\nvar getEnumHTMLElements = function (schema) {\n    var enumElements = [];\n    if (schema.content.enum && schema.content.enum.length) {\n        enumElements = schema.content.enum.map(function (value, i) { return (React.createElement(React.Fragment, null,\n            ' ',\n            React.createElement(\"span\", { className: bemClasses.element(\"enum\"), key: i },\n                \"\\\"\",\n                value,\n                \"\\\"\"))); });\n    }\n    return enumElements;\n};\nvar handleNotProperty = function (prop) {\n    if (prop.not) {\n        var arrayOfChangedObjects = Object.entries(prop).map(function (_a) {\n            var _b;\n            var key = _a[0], val = _a[1];\n            if (key === 'not') {\n                return { properties: (_b = {}, _b[key] = val, _b) };\n            }\n            return prop[key];\n        });\n        return merge.recursive.apply(merge, arrayOfChangedObjects);\n    }\n    return prop;\n};\nvar renderItems = function (schema, treeSpace) {\n    var properties = schema.items && schema.items.properties ? schema.items.properties : null;\n    if (!properties) {\n        return null;\n    }\n    return renderProperties(schema.items, treeSpace);\n};\nvar renderProperties = function (schema, treeSpace) {\n    var properties = schema.properties;\n    if (!properties) {\n        return null;\n    }\n    return Object.entries(properties).map(function (_a) {\n        var key = _a[0], prop = _a[1];\n        return (React.createElement(SchemaPropertiesComponent, { key: key, name: key, properties: prop, treeSpace: treeSpace, required: schema.required && schema.required.includes(key) }));\n    });\n};\nvar renderAdditionalProperties = function (schema, treeSpace) {\n    var additionalProperties = schema.additionalProperties;\n    if (!additionalProperties || typeof additionalProperties === 'boolean') {\n        return null;\n    }\n    return (React.createElement(\"div\", null,\n        React.createElement(SchemaPropertiesComponent, { key: \"property-name\", name: \"(property name)\", hasDynamicName: true, properties: additionalProperties, treeSpace: treeSpace })));\n};\nvar renderOf = function (treeSpace, schemas) {\n    if (!schemas) {\n        return null;\n    }\n    return schemas.map(function (schema, index) {\n        var id = index.toString();\n        return (React.createElement(SchemaPropertiesComponent, { key: index, name: id, properties: schema, treeSpace: treeSpace }));\n    });\n};\nvar renderPropertyName = function (el) { return (React.createElement(React.Fragment, null,\n    (function () {\n        var treeSpaces = [];\n        if (el.treeSpace) {\n            for (var i = 0; i < el.treeSpace; i++) {\n                treeSpaces.push(React.createElement(TreeSpace, { key: i }));\n            }\n            treeSpaces.push(React.createElement(TreeLeaf, { key: el.treeSpace }));\n        }\n        return treeSpaces;\n    })(),\n    el.schema.key,\n    el.required && (React.createElement(\"div\", { className: \"text-red\" },\n        (function () {\n            var treeSpaces = [];\n            if (el.treeSpace) {\n                for (var i = 0; i < el.treeSpace + 1; i++) {\n                    treeSpaces.push(React.createElement(TreeSpace, { key: i }));\n                }\n            }\n            return treeSpaces;\n        })(),\n        \"required\")))); };\nvar renderPropertyDescription = function (el) {\n    var enumElements = getEnumHTMLElements(el.schema);\n    return (React.createElement(\"div\", null,\n        el.schema.content.description && (React.createElement(Markdown, null, el.schema.content.description)),\n        enumElements.length > 0 && React.createElement(\"div\", null,\n            \"Enum: \",\n            enumElements),\n        el.schema.content.default && (React.createElement(\"div\", null,\n            \"Default: \",\n            React.createElement(\"span\", null, el.schema.content.default))),\n        el.schema.content.hasOwnProperty('const') && (React.createElement(\"div\", null,\n            \"Const:\",\n            ' ',\n            React.createElement(\"span\", null, typeof el.schema.content.const !== 'object'\n                ? String(el.schema.content.const)\n                : JSON.stringify(el.schema.content.const))))));\n};\nexport var SchemaPropertiesComponent = function (_a) {\n    var name = _a.name, _b = _a.hasDynamicName, hasDynamicName = _b === void 0 ? false : _b, properties = _a.properties, treeSpace = _a.treeSpace, _c = _a.required, required = _c === void 0 ? false : _c;\n    var alteredProperties = handleNotProperty(properties);\n    var space = treeSpace + 1;\n    var element = {\n        schema: {\n            key: name,\n            content: alteredProperties,\n        },\n        treeSpace: treeSpace,\n        required: required,\n    };\n    return (React.createElement(\"div\", null,\n        React.createElement(\"div\", { className: \"flex py-2\" },\n            React.createElement(\"div\", { className: \"flex-1 \" + (hasDynamicName && 'font-italic') }, renderPropertyName(element)),\n            React.createElement(\"div\", { className: \"flex-1\" },\n                React.createElement(\"span\", { className: \"capitalize text-sm text-teal font-bold\" },\n                    element.schema.content.type,\n                    element.schema.content.anyOf\n                        ? \" \" + element.schema.content.anyOf\n                        : '',\n                    element.schema.content.oneOf\n                        ? \" \" + element.schema.content.oneOf\n                        : '',\n                    element.schema.content.items && element.schema.content.items.type\n                        ? \" (\" + element.schema.content.items.type + \")\"\n                        : ''),\n                element.schema.content.format && (React.createElement(\"span\", { className: \"bg-yellow-dark font-bold no-underline text-black rounded lowercase ml-2\", style: { height: '20px', fontSize: '11px', padding: '3px' } }, element.schema.content.format)),\n                element.schema.content.pattern && (React.createElement(\"span\", { className: \"bg-purple-dark font-bold no-underline text-white rounded normal-case ml-2\", style: { height: '20px', fontSize: '11px', padding: '3px' } },\n                    \"must match \",\n                    element.schema.content.pattern)),\n                element.schema.content.uniqueItems && (React.createElement(\"span\", { className: \"bg-red-700 font-bold no-underline text-white rounded lowercase ml-2\", style: { height: '20px', fontSize: '11px', padding: '3px' } }, \"Unique\")),\n                typeof element.schema.content.minItems === 'number' && (React.createElement(\"span\", { className: \"bg-purple-dark font-bold no-underline text-white rounded lowercase ml-2\", style: { height: '20px', fontSize: '11px', padding: '3px' }, title: \"At least \" + element.schema.content.minItems + \" items\" },\n                    \">= \",\n                    element.schema.content.minItems,\n                    \" items\")),\n                typeof element.schema.content.maxItems === 'number' && (React.createElement(\"span\", { className: \"bg-purple-dark font-bold no-underline text-white rounded lowercase ml-2\", style: { height: '20px', fontSize: '11px', padding: '3px' }, title: \"At most \" + element.schema.content.maxItems + \" items\" },\n                    \"<= \",\n                    element.schema.content.maxItems,\n                    \" items\")),\n                typeof element.schema.content.minLength === 'number' && (React.createElement(\"span\", { className: \"bg-purple-dark font-bold no-underline text-white rounded lowercase ml-2\", style: { height: '20px', fontSize: '11px', padding: '3px' }, title: \"At least \" + element.schema.content.minLength + \" characters long\" },\n                    \"length >= \",\n                    element.schema.content.minLength)),\n                typeof element.schema.content.maxLength === 'number' && (React.createElement(\"span\", { className: \"bg-purple-dark font-bold no-underline text-white rounded lowercase ml-2\", style: { height: '20px', fontSize: '11px', padding: '3px' }, title: \"At most \" + element.schema.content.maxLength + \" characters long\" },\n                    \"length <= \",\n                    element.schema.content.maxLength)),\n                typeof element.schema.content.minimum === 'number' && (React.createElement(\"span\", { className: \"bg-purple-dark font-bold no-underline text-white rounded lowercase ml-2\", style: { height: '20px', fontSize: '11px', padding: '3px' }, title: \"At least \" + element.schema.content.minimum },\n                    \">= \",\n                    element.schema.content.minimum)),\n                typeof element.schema.content.maximum === 'number' && (React.createElement(\"span\", { className: \"bg-purple-dark font-bold no-underline text-white rounded lowercase ml-2\", style: { height: '20px', fontSize: '11px', padding: '3px' }, title: \"At most \" + element.schema.content.maximum },\n                    \"<= \",\n                    element.schema.content.maximum)),\n                element.schema.content.exclusiveMinimum && (React.createElement(\"span\", { className: \"bg-purple-dark font-bold no-underline text-white rounded lowercase ml-2\", style: { height: '20px', fontSize: '11px', padding: '3px' }, title: \"Greater than \" + element.schema.content.exclusiveMinimum },\n                    \"> \",\n                    element.schema.content.exclusiveMinimum)),\n                element.schema.content.exclusiveMaximum && (React.createElement(\"span\", { className: \"bg-purple-dark font-bold no-underline text-white rounded lowercase ml-2\", style: { height: '20px', fontSize: '11px', padding: '3px' }, title: \"Less than \" + element.schema.content.exclusiveMaximum },\n                    \"< \",\n                    element.schema.content.exclusiveMaximum)),\n                React.createElement(\"div\", { className: \"py-2\" }, renderPropertyDescription(element)),\n                element.schema.content.type === 'object' && (React.createElement(\"div\", { className: \"font-italic text-gray-600 text-sm\" },\n                    (!element.schema.content.additionalProperties ||\n                        typeof element.schema.content.additionalProperties ===\n                            'boolean') && (React.createElement(\"p\", { className: \"my-0\" },\n                        \"Additional properties are\",\n                        ' ',\n                        element.schema.content.additionalProperties === false &&\n                            'NOT',\n                        ' ',\n                        \"allowed.\")),\n                    element.schema.content.additionalProperties &&\n                        typeof element.schema.content.additionalProperties ===\n                            'object' && (React.createElement(\"p\", { className: \"my-0\" }, \"Additional properties must adhere to the following schema.\")))),\n                element.schema.content.items && (React.createElement(\"div\", { className: \"font-italic text-gray-600 text-sm\" }, element.schema.content.items &&\n                    typeof element.schema.content.items === 'object' && (React.createElement(\"p\", { className: \"my-0\" }, \"Array items must adhere to the following schema.\")))))),\n        renderOf(space, alteredProperties.anyOf),\n        renderOf(space, alteredProperties.oneOf),\n        renderProperties(alteredProperties, space),\n        renderAdditionalProperties(alteredProperties, space),\n        renderItems(alteredProperties, space)));\n};\n//# sourceMappingURL=SchemaProperties.js.map","import React from 'react';\nimport { CodeComponent, Badge, BadgeType } from '../../components';\nimport { bemClasses, generateExampleSchema } from '../../helpers';\nimport { SCHEMA_EXAMPLE_TEXT } from '../../constants';\nexport var SchemaExampleComponent = function (_a) {\n    var title = _a.title, schema = _a.schema, example = _a.example;\n    var schemaExample = schema && schema.example\n        ? schema.example\n        : schema && generateExampleSchema(schema);\n    var exampleString = JSON.stringify(example || schemaExample || '', null, 2);\n    if (!exampleString) {\n        return null;\n    }\n    return (React.createElement(\"div\", { className: bemClasses.element(\"schema-example\") },\n        React.createElement(CodeComponent, { code: exampleString, title: React.createElement(\"div\", { className: bemClasses.element(\"schema-example-header\") },\n                React.createElement(\"span\", { className: bemClasses.element(\"schema-example-header-title\") }, title ? title : SCHEMA_EXAMPLE_TEXT),\n                example || (schema && schema.example) ? null : (React.createElement(\"div\", { className: bemClasses.element(\"schema-example-header-generated-badge\") },\n                    React.createElement(Badge, { type: BadgeType.GENERATED })))) })));\n};\n//# sourceMappingURL=SchemaExample.js.map","import { sample } from 'openapi-sampler';\nexport var generateExampleSchema = function (schema) {\n    try {\n        return sample(schema);\n    }\n    catch (e) {\n        return;\n    }\n};\n//# sourceMappingURL=generateExampleSchema.js.map","import React from 'react';\nimport { SchemaPropertiesComponent as SchemaProperties } from './SchemaProperties';\nimport { SchemaExampleComponent } from './SchemaExample';\nimport { Toggle } from '../../components';\nimport { bemClasses, searchForNestedObject, removeSpecialChars, } from '../../helpers';\nimport { ITEM_LABELS, CONTAINER_LABELS } from '../../constants';\nvar renderSchemaProps = function (schemaName, schema, required) {\n    var properties = schema.properties;\n    if (properties) {\n        return Object.entries(properties).map(function (_a) {\n            var key = _a[0], prop = _a[1];\n            return (React.createElement(SchemaProperties, { key: key, name: key, properties: prop, treeSpace: 0, required: schema.required && schema.required.includes(key) }));\n        });\n    }\n    return (React.createElement(SchemaProperties, { name: schemaName, hasDynamicName: true, properties: schema, treeSpace: 0, required: required }));\n};\nexport var SchemaComponent = function (_a) {\n    var name = _a.name, schema = _a.schema, description = _a.description, exampleTitle = _a.exampleTitle, _b = _a.hideTitle, hideTitle = _b === void 0 ? false : _b, _c = _a.toggle, toggle = _c === void 0 ? false : _c, _d = _a.toggleExpand, toggleExpand = _d === void 0 ? false : _d, _e = _a.examples, examples = _e === void 0 ? [] : _e, _f = _a.required, required = _f === void 0 ? false : _f;\n    if (!schema) {\n        return null;\n    }\n    schema.description = schema.description || description || '';\n    var className = ITEM_LABELS.SCHEMA;\n    var hasNotField = searchForNestedObject(schema, 'not');\n    var header = (React.createElement(\"h3\", null,\n        React.createElement(\"span\", { className: bemClasses.element(className + \"-header-title\") }, name)));\n    var hasExamples = examples.length;\n    var content = (React.createElement(React.Fragment, null,\n        React.createElement(\"div\", { className: bemClasses.element(className + \"-table\") + \" p-4\" }, renderSchemaProps(name, schema, required)),\n        hasExamples ? (examples.map(function (el, i) { return (React.createElement(SchemaExampleComponent, { title: hasExamples > 1 ? exampleTitle + \" \" + i : exampleTitle, example: el, key: i })); })) : hasNotField ? null : (React.createElement(SchemaExampleComponent, { title: exampleTitle, schema: schema }))));\n    var schemaID = toggle\n        ? bemClasses.identifier([CONTAINER_LABELS.SCHEMAS, name])\n        : undefined;\n    var schemaDataID = toggle\n        ? bemClasses.identifier([\n            CONTAINER_LABELS.SCHEMAS,\n            removeSpecialChars(name),\n        ])\n        : undefined;\n    return (React.createElement(\"section\", { className: bemClasses.element(className), id: schemaID, \"data-asyncapi-id\": schemaDataID }, toggle ? (React.createElement(Toggle, { header: header, className: className, expanded: toggleExpand, label: ITEM_LABELS.SCHEMA, itemName: name, toggleInState: true }, content)) : (React.createElement(React.Fragment, null,\n        hideTitle ? null : (React.createElement(\"header\", { className: bemClasses.element(className + \"-header\") }, header)),\n        content))));\n};\n//# sourceMappingURL=Schema.js.map","import React from 'react';\nimport { SchemaComponent } from '../Schemas/Schema';\nimport { bemClasses } from '../../helpers';\nimport { isOneOfPayload, isAnyOfPayload } from '../../types';\nimport { Toggle } from '../../components';\nimport { ONE_OF_PAYLOADS_TEXT, ANY_OF_PAYLOADS_TEXT, PAYLOAD_TEXT, MESSAGE_PAYLOAD_TEXT, PAYLOAD_EXAMPLE_TEXT, } from '../../constants';\nexport var PayloadComponent = function (_a) {\n    var payload = _a.payload, _b = _a.oneOf, oneOf = _b === void 0 ? false : _b, _c = _a.anyOf, anyOf = _c === void 0 ? false : _c, identifier = _a.identifier, dataIdentifier = _a.dataIdentifier, id = _a.id, examples = _a.examples;\n    var className = \"message-payload\";\n    var payloadsID = identifier ? identifier + \"s\" : undefined;\n    if (isOneOfPayload(payload)) {\n        return (React.createElement(\"div\", { className: bemClasses.element(className + \"-oneOf\"), id: payloadsID, \"data-asyncapi-id\": dataIdentifier },\n            React.createElement(\"header\", { className: bemClasses.element(className + \"-oneOf-header\") },\n                React.createElement(\"h4\", null, ONE_OF_PAYLOADS_TEXT)),\n            React.createElement(\"ul\", { className: bemClasses.element(className + \"-oneOf-list\") }, payload.oneOf.map(function (elem, index) { return (React.createElement(\"li\", { key: index, className: bemClasses.element(className + \"-oneOf-list-item\") },\n                React.createElement(PayloadComponent, { payload: elem, key: index, oneOf: true, identifier: identifier, id: index, examples: examples }))); }))));\n    }\n    if (isAnyOfPayload(payload)) {\n        return (React.createElement(\"div\", { className: bemClasses.element(className + \"-anyOf\"), id: payloadsID, \"data-asyncapi-id\": dataIdentifier },\n            React.createElement(\"header\", { className: bemClasses.element(className + \"-anyOf-header\") },\n                React.createElement(\"h4\", null, ANY_OF_PAYLOADS_TEXT)),\n            React.createElement(\"ul\", { className: bemClasses.element(className + \"-anyOf-list\") }, payload.anyOf.map(function (elem, index) { return (React.createElement(\"li\", { key: index, className: bemClasses.element(className + \"-anyOf-list-item\") },\n                React.createElement(PayloadComponent, { payload: elem, key: index, anyOf: true, identifier: identifier, id: index, examples: examples }))); }))));\n    }\n    var inferredId = payload['x-parser-schema-id'] || '';\n    inferredId = inferredId.includes('anonymous-schema') ? '' : inferredId;\n    var title = id !== undefined ? (inferredId ? id + \" \" + inferredId : id) : PAYLOAD_TEXT;\n    var header = (React.createElement(\"header\", { className: bemClasses.element(className + \"-header\") },\n        React.createElement(\"h4\", null, title)));\n    var content = (React.createElement(\"div\", { className: bemClasses.element(className + \"-schema\") },\n        React.createElement(SchemaComponent, { name: MESSAGE_PAYLOAD_TEXT, schema: payload, exampleTitle: PAYLOAD_EXAMPLE_TEXT, hideTitle: true, examples: examples })));\n    var payloadID;\n    if (identifier) {\n        payloadID =\n            payload.title && payload.title.length\n                ? identifier + \"-\" + payload.title\n                : \"\" + identifier + (id !== undefined ? \"-\" + id : '');\n    }\n    var payloadDataID;\n    if (dataIdentifier) {\n        payloadDataID =\n            payload.title && payload.title.length\n                ? dataIdentifier + \"-\" + payload.title\n                : \"\" + dataIdentifier + (id !== undefined ? \"-\" + id : '');\n    }\n    if (oneOf || anyOf) {\n        return (React.createElement(\"section\", { className: bemClasses.element(className), id: payloadID, \"data-asyncapi-id\": payloadDataID },\n            React.createElement(Toggle, { header: header, className: className }, content)));\n    }\n    return (React.createElement(\"section\", { className: bemClasses.element(className), id: payloadID, \"data-asyncapi-id\": payloadDataID },\n        header,\n        content));\n};\n//# sourceMappingURL=Payload.js.map","import React from 'react';\nimport { bemClasses, bindingsHelper } from '../../helpers';\nimport { SchemaComponent } from '../Schemas/Schema';\nimport { BINDINGS_SCHEMA_OBJECT_TEXT } from '../../constants';\nvar className = \"binding-field\";\nexport var BindingFieldComponent = function (_a) {\n    var value = _a.value, context = _a.context, bindingType = _a.bindingType;\n    if (value === null || value === undefined) {\n        return null;\n    }\n    var isObject = bindingsHelper.isObject(value);\n    var isSchemaObject = bindingsHelper.isSchemaObject(context, bindingType);\n    if (isSchemaObject && isObject) {\n        return (React.createElement(React.Fragment, null,\n            React.createElement(\"div\", { className: \"flex py-2\" },\n                React.createElement(\"div\", { className: \"flex-1\" },\n                    React.createElement(\"div\", { className: bemClasses.element(className + \"-name\") }, context)),\n                React.createElement(\"div\", { className: \"flex-1\" }, BINDINGS_SCHEMA_OBJECT_TEXT)),\n            React.createElement(\"div\", { className: bemClasses.element(className + \"-schema\") },\n                React.createElement(SchemaComponent, { name: context, schema: value, hideTitle: true }))));\n    }\n    if (isObject) {\n        return (React.createElement(React.Fragment, null, Object.entries(value).map(function (_a) {\n            var key = _a[0], val = _a[1];\n            return (React.createElement(BindingFieldComponent, { value: val, context: context + \".\" + key, bindingType: bindingType, key: key }));\n        })));\n    }\n    return (React.createElement(\"div\", null,\n        React.createElement(\"div\", { className: \"flex py-2\" },\n            React.createElement(\"div\", { className: \"flex-1\" },\n                React.createElement(\"div\", { className: bemClasses.element(className + \"-name\") }, context)),\n            React.createElement(\"div\", { className: \"flex-1\" }, typeof value === 'boolean' ? JSON.stringify(value) : value))));\n};\n//# sourceMappingURL=BindingField.js.map","import React from 'react';\nimport { bemClasses } from '../../helpers';\nimport { BindingFieldComponent } from './BindingField';\nvar className = \"binding\";\nexport var BindingComponent = function (_a) {\n    var name = _a.name, binding = _a.binding;\n    if (!binding) {\n        return null;\n    }\n    return (React.createElement(\"section\", null,\n        React.createElement(\"div\", null,\n            React.createElement(\"div\", { className: \"flex py-2\" },\n                React.createElement(\"div\", { className: bemClasses.concatenate([\n                        bemClasses.element(className + \"-protocol\"),\n                        bemClasses.element(\"badge\"),\n                    ]) }, name))),\n        Object.entries(binding).map(function (_a) {\n            var key = _a[0], value = _a[1];\n            return (React.createElement(BindingFieldComponent, { value: value, context: key, bindingType: name, key: key }));\n        })));\n};\n//# sourceMappingURL=Binding.js.map","import React from 'react';\nimport { bemClasses } from '../../helpers';\nimport { BindingComponent } from './Binding';\nvar className = \"bindings\";\nexport var BindingsComponent = function (_a) {\n    var bindings = _a.bindings, title = _a.title;\n    if (!bindings || Object.keys(bindings).length === 0) {\n        return null;\n    }\n    var content = (React.createElement(\"div\", { className: bemClasses.element(className + \"-table\") + \" p-4\" }, Object.entries(bindings).map(function (_a) {\n        var name = _a[0], binding = _a[1];\n        return (React.createElement(BindingComponent, { name: name, binding: binding, key: name }));\n    })));\n    return (React.createElement(\"section\", { className: bemClasses.element(className) },\n        React.createElement(\"div\", { className: bemClasses.element(className + \"-header\") },\n            React.createElement(\"h4\", null, title),\n            React.createElement(\"div\", { className: bemClasses.element(className + \"-description\") }, content))));\n};\n//# sourceMappingURL=Bindings.js.map","import React from 'react';\nimport { SchemaComponent } from '../Schemas/Schema';\nimport { PayloadComponent } from './Payload';\nimport { BindingsComponent } from '../Bindings/Bindings';\nimport { bemClasses, removeSpecialChars, getExamplesFromSpec, } from '../../helpers';\nimport { isRawMessage } from '../../types';\nimport { Markdown, Badge, BadgeType, Toggle } from '../../components';\nimport { DEPRECATED_TEXT, HEADERS_TEXT, MESSAGE_HEADERS_TEXT, HEADERS_EXAMPLE_TEXT, CONTAINER_LABELS, ITEM_LABELS, MESSAGE_BINDINGS_TEXT, } from '../../constants';\nexport var MessageComponent = function (_a) {\n    var title = _a.title, message = _a.message, hideTags = _a.hideTags, _b = _a.inChannel, inChannel = _b === void 0 ? false : _b, _c = _a.toggleExpand, toggleExpand = _c === void 0 ? false : _c, _d = _a.oneOf, oneOf = _d === void 0 ? false : _d;\n    if (!message) {\n        return null;\n    }\n    var className = ITEM_LABELS.MESSAGE;\n    var messageID = title && title.length\n        ? bemClasses.identifier([CONTAINER_LABELS.MESSAGES, title])\n        : bemClasses.identifier([CONTAINER_LABELS.MESSAGES]);\n    var messageDataID = title && title.length\n        ? bemClasses.identifier([\n            CONTAINER_LABELS.MESSAGES,\n            removeSpecialChars(title),\n        ])\n        : bemClasses.identifier([CONTAINER_LABELS.MESSAGES]);\n    if (!isRawMessage(message)) {\n        return (React.createElement(\"ul\", { className: bemClasses.element(className + \"-raw-list\") }, message.oneOf.map(function (elem, index) { return (React.createElement(\"li\", { key: index, className: bemClasses.element(className + \"-raw-list-item\") },\n            React.createElement(MessageComponent, { message: elem, key: index, title: elem.title, inChannel: inChannel, oneOf: true }))); })));\n    }\n    title = title || message.title || message.name;\n    var examples = message.examples;\n    var summary = message.summary && (React.createElement(\"div\", { className: bemClasses.element(className + \"-summary\") },\n        React.createElement(Markdown, null, message.summary)));\n    var description = message.description && (React.createElement(\"div\", { className: bemClasses.element(className + \"-description\") },\n        React.createElement(Markdown, null, message.description)));\n    var header = !(title || summary) ? null : (React.createElement(\"section\", { className: bemClasses.element(className + \"-header\") },\n        message.deprecated && (React.createElement(\"div\", { className: bemClasses.element(className + \"-header-deprecated-badge\") },\n            React.createElement(Badge, { type: BadgeType.DEPRECATED }, DEPRECATED_TEXT))),\n        title ? (React.createElement(\"header\", { className: bemClasses.element(className + \"-header-title\") },\n            React.createElement(\"h3\", null, title))) : null));\n    var headersID = !inChannel\n        ? bemClasses.identifier([{ id: messageID, toKebabCase: false }, 'headers'])\n        : undefined;\n    var headers = message.headers && (React.createElement(\"section\", { className: bemClasses.element(className + \"-headers\"), id: headersID, \"data-asyncapi-id\": headersID },\n        React.createElement(\"header\", { className: bemClasses.element(className + \"-headers-header\") },\n            React.createElement(\"h4\", null, HEADERS_TEXT)),\n        React.createElement(\"div\", { className: bemClasses.element(className + \"-headers-schema\") },\n            React.createElement(SchemaComponent, { name: MESSAGE_HEADERS_TEXT, schema: message.headers, exampleTitle: HEADERS_EXAMPLE_TEXT, hideTitle: true, examples: examples && getExamplesFromSpec(examples, 'headers') }))));\n    var payloadID = !inChannel\n        ? bemClasses.identifier([{ id: messageID, toKebabCase: false }, 'payload'])\n        : undefined;\n    var payloadDataID = !inChannel\n        ? bemClasses.identifier([\n            { id: messageDataID, toKebabCase: false },\n            'payload',\n        ])\n        : undefined;\n    var payload = message.payload && (React.createElement(PayloadComponent, { payload: message.payload, identifier: payloadID, dataIdentifier: payloadDataID, examples: examples && getExamplesFromSpec(examples, 'payload') }));\n    var content = (React.createElement(React.Fragment, null,\n        headers,\n        payload,\n        message.bindings && (React.createElement(BindingsComponent, { bindings: message.bindings, title: MESSAGE_BINDINGS_TEXT }))));\n    var isBody = !!(message.description ||\n        message.headers ||\n        message.payload ||\n        (!hideTags && message.tags));\n    var identifier = !inChannel ? messageID : undefined;\n    var dataIdentifier = !inChannel ? messageDataID : undefined;\n    return (React.createElement(\"section\", { className: bemClasses.element(className), id: identifier, \"data-asyncapi-id\": dataIdentifier }, !inChannel ? (React.createElement(Toggle, { header: header, className: className, expanded: toggleExpand, label: ITEM_LABELS.MESSAGE, itemName: title, toggleInState: true }, !isBody ? null : (React.createElement(React.Fragment, null,\n        summary,\n        description,\n        content)))) : (React.createElement(React.Fragment, null,\n        header,\n        summary,\n        description,\n        content))));\n};\n//# sourceMappingURL=Message.js.map","import React from 'react';\nimport { MessageComponent } from './Message';\nimport { bemClasses } from '../../helpers';\nimport { Toggle } from '../../components';\nimport { MESSAGES_TEXT, CONTAINER_LABELS } from '../../constants';\nexport var MessagesComponent = function (_a) {\n    var messages = _a.messages, expand = _a.expand, _b = _a.inChannel, inChannel = _b === void 0 ? false : _b;\n    if (!messages) {\n        return null;\n    }\n    var className = CONTAINER_LABELS.MESSAGES;\n    var messagesLength = Object.keys(messages).length;\n    var wrapper = function (children) { return (React.createElement(\"section\", { className: bemClasses.element(className), id: bemClasses.identifier([className]) }, children)); };\n    var header = React.createElement(\"h2\", null, MESSAGES_TEXT);\n    var content = (React.createElement(\"ul\", { className: bemClasses.element(className + \"-list\") }, Object.entries(messages).map(function (_a) {\n        var key = _a[0], message = _a[1];\n        var msg = message;\n        var inferredName = msg['x-parser-message-name'] || '';\n        inferredName = inferredName.includes('anonymous-message')\n            ? ''\n            : inferredName;\n        var title = messagesLength < 2 && inChannel\n            ? ''\n            : message.title ||\n                message.name ||\n                inferredName ||\n                key;\n        return (React.createElement(\"li\", { key: key, className: bemClasses.element(className + \"-list-item\") },\n            React.createElement(MessageComponent, { title: title, message: message, hideTags: true, inChannel: false, toggleExpand: expand && expand.elements })));\n    })));\n    if (inChannel) {\n        return wrapper(content);\n    }\n    return wrapper(React.createElement(Toggle, { header: header, className: className, expanded: expand && expand.root, label: CONTAINER_LABELS.MESSAGES, toggleInState: true }, content));\n};\n//# sourceMappingURL=Messages.js.map","import React from 'react';\nimport { MessagesComponent } from '../Messages/Messages';\nimport { MessageComponent } from '../Messages/Message';\nimport { BindingsComponent } from '../Bindings/Bindings';\nimport { bemClasses } from '../../helpers';\nimport { Badge, BadgeType, Markdown } from '../../components';\nimport { PayloadType, isRawMessage } from '../../types';\nimport { ONE_OF_FOLLOWING_MESSAGES_PUBLISH_TEXT, ONE_OF_FOLLOWING_MESSAGES_SUBSCRIBE_TEXT, RAW_MESSAGE_PUBLISH_TEXT, RAW_MESSAGE_SUBSCRIBE_TEXT, OPERATION_BINDINGS_TEXT, } from '../../constants';\nexport var OperationComponent = function (_a) {\n    var _b = _a.payloadType, payloadType = _b === void 0 ? PayloadType.PUBLISH : _b, operation = _a.operation, _c = _a.oneOf, oneOf = _c === void 0 ? false : _c, _d = _a.otherOneOf, otherOneOf = _d === void 0 ? false : _d, _e = _a.isPublish, isPublish = _e === void 0 ? false : _e, _f = _a.isSubscribe, isSubscribe = _f === void 0 ? false : _f;\n    if (!operation || !operation.message) {\n        return null;\n    }\n    var className = \"channel-operation\";\n    var messages = {};\n    if (oneOf && !isRawMessage(operation.message)) {\n        messages = operation.message.oneOf\n            .map(function (message, index) {\n            var _a;\n            return (_a = {}, _a[index.toString()] = message, _a);\n        })\n            .reduce(function (obj, item) { return Object.assign(obj, item); }, {});\n    }\n    if (!oneOf && otherOneOf) {\n        messages = {\n            0: operation.message,\n        };\n    }\n    if (oneOf || otherOneOf) {\n        return (React.createElement(\"section\", { className: bemClasses.element(className + \"-oneOf-\" + payloadType) },\n            React.createElement(\"header\", { className: bemClasses.element(className + \"-oneOf-\" + payloadType + \"-header\") },\n                React.createElement(\"h4\", null,\n                    isPublish && isSubscribe ? (React.createElement(Badge, { type: payloadType === PayloadType.PUBLISH\n                            ? BadgeType.PUBLISH\n                            : BadgeType.SUBSCRIBE })) : null,\n                    React.createElement(\"span\", null, payloadType === PayloadType.PUBLISH\n                        ? ONE_OF_FOLLOWING_MESSAGES_PUBLISH_TEXT\n                        : ONE_OF_FOLLOWING_MESSAGES_SUBSCRIBE_TEXT))),\n            operation.summary && (React.createElement(\"div\", { className: bemClasses.element(className + \"-description\") },\n                React.createElement(Markdown, null, operation.summary))),\n            operation.description && (React.createElement(\"div\", { className: bemClasses.element(className + \"-description\") },\n                React.createElement(Markdown, null, operation.description))),\n            operation.bindings && (React.createElement(BindingsComponent, { bindings: operation.bindings, title: OPERATION_BINDINGS_TEXT })),\n            React.createElement(MessagesComponent, { messages: messages, inChannel: true })));\n    }\n    var operationTitle = operation.summary\n        ? operation.summary\n        : payloadType === PayloadType.PUBLISH\n            ? RAW_MESSAGE_PUBLISH_TEXT\n            : RAW_MESSAGE_SUBSCRIBE_TEXT;\n    return (React.createElement(\"section\", { className: bemClasses.element(className + \"-message\") },\n        React.createElement(\"header\", { className: bemClasses.element(className + \"-message-header\") },\n            React.createElement(\"h4\", null,\n                isPublish && isSubscribe ? (React.createElement(Badge, { type: payloadType === PayloadType.PUBLISH\n                        ? BadgeType.PUBLISH\n                        : BadgeType.SUBSCRIBE })) : null,\n                operationTitle)),\n        operation.description && (React.createElement(\"div\", { className: bemClasses.element(className + \"-description\") },\n            React.createElement(Markdown, null, operation.description))),\n        operation.bindings && (React.createElement(BindingsComponent, { bindings: operation.bindings, title: OPERATION_BINDINGS_TEXT })),\n        React.createElement(MessageComponent, { message: operation.message, inChannel: true })));\n};\n//# sourceMappingURL=Operation.js.map","import React from 'react';\nimport { SchemaComponent } from '../Schemas/Schema';\nimport { bemClasses } from '../../helpers';\nimport { LOCATION_TEXT } from '../../constants';\nexport var Parameter = function (_a) {\n    var _b = _a.param, description = _b.description, location = _b.location, schema = _b.schema, _c = _a.name, name = _c === void 0 ? '' : _c;\n    return (React.createElement(\"div\", { className: bemClasses.element(\"channel-parameter\") },\n        React.createElement(\"header\", { className: bemClasses.element(\"channel-parameter-header\") }, location && (React.createElement(\"h4\", null,\n            LOCATION_TEXT,\n            \": \",\n            location))),\n        React.createElement(\"div\", { className: bemClasses.element(\"channel-parameter-schema\") },\n            React.createElement(SchemaComponent, { name: name, schema: schema, hideTitle: true, description: description, required: true }))));\n};\n//# sourceMappingURL=Parameter.js.map","import React from 'react';\nimport { Parameter } from './Parameter';\nimport { bemClasses } from '../../helpers';\nimport { PARAMETERS_TEXT } from '../../constants';\nexport var Parameters = function (_a) {\n    var parameters = _a.parameters, identifier = _a.identifier, dataIdentifier = _a.dataIdentifier;\n    if (!parameters) {\n        return null;\n    }\n    return (React.createElement(\"div\", { className: bemClasses.element(\"channel-parameters\"), id: identifier, \"data-asyncapi-id\": dataIdentifier },\n        React.createElement(\"header\", { className: bemClasses.element(\"channel-parameters-header\") },\n            React.createElement(\"h4\", null, PARAMETERS_TEXT)),\n        React.createElement(\"ul\", { className: bemClasses.element(\"channel-parameters-list\") }, Object.entries(parameters).map(function (_a) {\n            var name = _a[0], param = _a[1];\n            return (React.createElement(\"li\", { key: name, className: bemClasses.element(\"channel-parameters-list-item\") },\n                React.createElement(Parameter, { param: param, name: name })));\n        }))));\n};\n//# sourceMappingURL=Parameters.js.map","import React from 'react';\nimport { OperationComponent } from './Operation';\nimport { Parameters as ParametersComponent } from './Parameters';\nimport { BindingsComponent } from '../Bindings/Bindings';\nimport { Badge, BadgeType, Markdown, Toggle } from '../../components';\nimport { bemClasses, removeSpecialChars } from '../../helpers';\nimport { ITEM_LABELS, CONTAINER_LABELS, CHANNEL_BINDINGS_TEXT, } from '../../constants';\nimport { isRawMessage, PayloadType } from '../../types';\nexport var ChannelComponent = function (_a) {\n    var name = _a.name, channel = _a.channel, _b = _a.toggleExpand, toggleExpand = _b === void 0 ? false : _b;\n    var className = ITEM_LABELS.CHANNEL;\n    var identifier = bemClasses.identifier([CONTAINER_LABELS.CHANNELS, name]);\n    var dataIdentifier = bemClasses.identifier([\n        CONTAINER_LABELS.CHANNELS,\n        removeSpecialChars(name),\n    ]);\n    var oneOfPublish = channel.publish &&\n        channel.publish.message &&\n        !isRawMessage(channel.publish.message);\n    var oneOfSubscribe = channel.subscribe &&\n        channel.subscribe.message &&\n        !isRawMessage(channel.subscribe.message);\n    var header = (React.createElement(\"h3\", null,\n        React.createElement(\"ul\", { className: bemClasses.element(className + \"-header-badges\") },\n            channel.deprecated && (React.createElement(\"li\", { className: bemClasses.element(className + \"-header-badges-deprecated-badge\") },\n                React.createElement(Badge, { type: BadgeType.DEPRECATED }))),\n            channel.publish && (React.createElement(\"li\", { className: bemClasses.element(className + \"-header-publish-badge\") },\n                React.createElement(Badge, { type: BadgeType.PUBLISH }))),\n            channel.subscribe && (React.createElement(\"li\", { className: bemClasses.element(className + \"-header-subscribe-badge\") },\n                React.createElement(Badge, { type: BadgeType.SUBSCRIBE })))),\n        React.createElement(\"span\", { className: bemClasses.element(className + \"-header-title\") }, name)));\n    var content = (React.createElement(React.Fragment, null,\n        channel.description && (React.createElement(\"div\", { className: bemClasses.element(className + \"-description\") },\n            React.createElement(Markdown, null, channel.description))),\n        React.createElement(ParametersComponent, { parameters: channel.parameters, identifier: bemClasses.identifier([\n                { id: identifier, toKebabCase: false },\n                'parameters',\n            ]), dataIdentifier: bemClasses.identifier([\n                { id: dataIdentifier, toKebabCase: false },\n                'parameters',\n            ]) }),\n        channel.bindings && (React.createElement(BindingsComponent, { bindings: channel.bindings, title: CHANNEL_BINDINGS_TEXT })),\n        React.createElement(\"div\", { className: bemClasses.element(className + \"-operations\") },\n            React.createElement(\"ul\", { className: bemClasses.element(className + \"-operations-list\") },\n                channel.subscribe && (React.createElement(\"li\", { className: bemClasses.element(className + \"-operations-subscribe\") },\n                    React.createElement(OperationComponent, { payloadType: PayloadType.SUBSCRIBE, operation: channel.subscribe, oneOf: oneOfSubscribe, otherOneOf: oneOfPublish, isPublish: !!channel.publish, isSubscribe: !!channel.subscribe }))),\n                channel.publish && (React.createElement(\"li\", { className: bemClasses.element(className + \"-operations-publish\") },\n                    React.createElement(OperationComponent, { payloadType: PayloadType.PUBLISH, operation: channel.publish, otherOneOf: oneOfSubscribe, oneOf: oneOfPublish, isPublish: !!channel.publish, isSubscribe: !!channel.subscribe })))))));\n    var body = (channel.subscribe || channel.publish) && content;\n    return (React.createElement(\"section\", { className: bemClasses.element(className), id: identifier, \"data-asyncapi-id\": dataIdentifier },\n        React.createElement(Toggle, { header: header, className: className, expanded: toggleExpand, label: ITEM_LABELS.CHANNEL, itemName: name, toggleInState: true }, body)));\n};\n//# sourceMappingURL=Channel.js.map","import React from 'react';\nimport { ChannelComponent } from './Channel';\nimport { bemClasses } from '../../helpers';\nimport { Toggle } from '../../components';\nimport { CHANNELS_TEXT, CONTAINER_LABELS } from '../../constants';\nexport var ChannelsComponent = function (_a) {\n    var channels = _a.channels, expand = _a.expand;\n    var className = CONTAINER_LABELS.CHANNELS;\n    var header = React.createElement(\"h2\", null, CHANNELS_TEXT);\n    var content = (React.createElement(\"ul\", { className: bemClasses.element(className + \"-list\") }, Object.entries(channels).map(function (_a) {\n        var name = _a[0], channel = _a[1];\n        return (React.createElement(\"li\", { key: name, className: bemClasses.element(className + \"-list-item\") },\n            React.createElement(ChannelComponent, { name: name, channel: channel, toggleExpand: expand && expand.elements })));\n    })));\n    return (React.createElement(\"section\", { className: bemClasses.element(className), id: bemClasses.identifier([className]) },\n        React.createElement(Toggle, { header: header, className: className, expanded: expand && expand.root, label: CONTAINER_LABELS.CHANNELS, toggleInState: true }, content)));\n};\n//# sourceMappingURL=Channels.js.map","import React from 'react';\nimport { bemClasses } from '../../helpers';\nimport { Markdown, Table, } from '../../components';\nimport { URL_VARIABLES_TEXT, NONE_TEXT, ANY_TEXT, SERVER_COLUMN_NAMES, } from '../../constants';\nvar serverVariablesAccessors = [\n    function (el) { return React.createElement(\"span\", null, el.key); },\n    function (el) {\n        return el.content.default ? (React.createElement(\"span\", null, el.content.default)) : (React.createElement(\"em\", null, NONE_TEXT));\n    },\n    function (el) {\n        return el.content.enum ? (React.createElement(\"ul\", { className: bemClasses.element(\"server-variables-enum-list\") }, el.content.enum.map(function (value) { return (React.createElement(\"li\", { className: bemClasses.element(\"server-variables-enum-list-item\"), key: value }, value)); }))) : (React.createElement(\"em\", null, ANY_TEXT));\n    },\n    function (el) { return el.content.description && React.createElement(Markdown, null, el.content.description); },\n];\nexport var ServerVariablesComponent = function (_a) {\n    var variables = _a.variables, id = _a.identifier, dataId = _a.dataIdentifier;\n    if (!variables.length) {\n        return null;\n    }\n    var className = \"server-variables\";\n    var rows = variables.map(function (variable) { return ({\n        key: variable.key,\n        accessors: serverVariablesAccessors,\n        element: variable,\n    }); });\n    var identifier = bemClasses.identifier([\n        { id: id, toKebabCase: false },\n        'url-variables',\n    ]);\n    var dataIdentifier = bemClasses.identifier([\n        { id: dataId, toKebabCase: false },\n        'url-variables',\n    ]);\n    return (React.createElement(\"section\", { className: bemClasses.element(className), id: identifier, \"data-asyncapi-id\": dataIdentifier },\n        React.createElement(\"header\", { className: bemClasses.element(className + \"-header\") },\n            React.createElement(\"h4\", null, URL_VARIABLES_TEXT)),\n        React.createElement(\"div\", { className: bemClasses.element(className + \"-table\") },\n            React.createElement(Table, { header: {\n                    columns: SERVER_COLUMN_NAMES,\n                }, rows: rows }))));\n};\n//# sourceMappingURL=Variables.js.map","import React from 'react';\nimport { bemClasses } from '../../helpers';\nexport var ServerSecurityFlowScopes = function (_a) {\n    var scopes = _a.scopes;\n    return (React.createElement(\"ul\", { className: bemClasses.element(\"server-security-scopes-list\") }, Object.entries(scopes).map(function (_a) {\n        var name = _a[0], description = _a[1];\n        return (React.createElement(\"li\", { className: bemClasses.element(\"server-security-scopes-list-item\"), title: description, key: name },\n            React.createElement(\"span\", { className: bemClasses.element(\"server-security-scope\") }, name)));\n    })));\n};\n//# sourceMappingURL=Scopes.js.map","import React from 'react';\nimport { ServerSecurityFlowScopes } from './Scopes';\nimport { bemClasses } from '../../helpers';\nimport { Href } from '../../components';\nimport { OAuthFlowsType } from '../../types';\nimport { FLOWS_TEXTS } from '../../constants';\nexport var ServerSecurityFlow = function (_a) {\n    var name = _a.name, flow = _a.flow;\n    return (React.createElement(\"div\", { className: bemClasses.element(\"server-security-flow\") },\n        React.createElement(\"ul\", { className: bemClasses.element(\"server-security-flow-list\") },\n            React.createElement(\"li\", { className: bemClasses.element(\"server-security-flow-list-item\") },\n                React.createElement(\"strong\", null, FLOWS_TEXTS.FLOW),\n                \":\",\n                React.createElement(\"span\", null, OAuthFlowsType[name])),\n            flow.authorizationUrl && (React.createElement(\"li\", { className: bemClasses.element(\"server-security-flow-list-item\") },\n                React.createElement(\"strong\", null,\n                    FLOWS_TEXTS.AUTHORIZATION_URL,\n                    \":\"),\n                React.createElement(Href, { href: flow.authorizationUrl }, flow.authorizationUrl))),\n            flow.tokenUrl && (React.createElement(\"li\", { className: bemClasses.element(\"server-security-flow-list-item\") },\n                React.createElement(\"strong\", null, FLOWS_TEXTS.TOKEN_URL),\n                \":\",\n                React.createElement(Href, { href: flow.tokenUrl }, flow.tokenUrl))),\n            flow.refreshUrl && (React.createElement(\"li\", { className: bemClasses.element(\"server-security-flow-list-item\") },\n                React.createElement(\"strong\", null, FLOWS_TEXTS.REFRESH_URL),\n                \":\",\n                React.createElement(Href, { href: flow.refreshUrl }, flow.refreshUrl))),\n            flow.scopes && (React.createElement(\"li\", { className: bemClasses.element(\"server-security-flow-list-item\") },\n                React.createElement(\"strong\", null, FLOWS_TEXTS.SCOPES),\n                \":\",\n                React.createElement(ServerSecurityFlowScopes, { scopes: flow.scopes }))))));\n};\n//# sourceMappingURL=Flow.js.map","import React from 'react';\nimport { ServerSecurityFlow } from './Flow';\nimport { TableRow } from '../../components';\nimport { bemClasses } from '../../helpers';\nexport var ServerSecurityFlows = function (_a) {\n    var flows = _a.flows;\n    if (!Object.keys(flows).length) {\n        return null;\n    }\n    var sortedFlows = Object.keys(flows)\n        .sort()\n        .reduce(function (accumulator, currentValue) {\n        accumulator[currentValue] = flows[currentValue];\n        return accumulator;\n    }, {});\n    var nodes = Object.entries(sortedFlows).map(function (_a) {\n        var flowName = _a[0], flow = _a[1];\n        return (React.createElement(\"li\", { key: flowName, className: bemClasses.element(\"server-security-flows-list-item\") },\n            React.createElement(ServerSecurityFlow, { name: flowName, flow: flow })));\n    });\n    var nestedTableCellClassName = bemClasses.modifier(\"nested\", \"table-cell\");\n    var flowsTableCellClassName = bemClasses.element(\"server-security-flows-table-cell\");\n    var className = bemClasses.concatenate([\n        nestedTableCellClassName,\n        flowsTableCellClassName,\n    ]);\n    var element = (React.createElement(\"td\", { className: className, colSpan: 6 },\n        React.createElement(\"ul\", { className: bemClasses.element(\"server-security-flows-list\") }, nodes)));\n    return React.createElement(TableRow, { element: element, nested: true });\n};\n//# sourceMappingURL=Flows.js.map","import React from 'react';\nimport { ServerSecurityFlows } from './Flows';\nimport { Markdown, TableRow } from '../../components';\nimport { bemClasses } from '../../helpers';\nvar securitySchemeAccessors = [\n    function (el) { return React.createElement(\"span\", null, el.type); },\n    function (el) { return React.createElement(\"span\", null, el.bearerFormat); },\n    function (el) { return React.createElement(\"span\", null, el.in); },\n    function (el) { return React.createElement(\"span\", null, el.scheme); },\n    function (el) { return React.createElement(\"span\", null, el.name); },\n    function (el) { return el.description && React.createElement(Markdown, null, el.description); },\n];\nexport var ServerSecurityItemComponent = function (_a) {\n    var securityScheme = _a.securityScheme;\n    return (React.createElement(React.Fragment, null,\n        React.createElement(TableRow, { element: securityScheme, accessors: securitySchemeAccessors, className: bemClasses.element(\"server-security-\" + securityScheme.type) }),\n        securityScheme.flows && (React.createElement(ServerSecurityFlows, { flows: securityScheme.flows }))));\n};\n//# sourceMappingURL=SecurityItem.js.map","import React from 'react';\nimport { ServerSecurityItemComponent } from './SecurityItem';\nimport { Table } from '../../components';\nimport { bemClasses } from '../../helpers';\nimport { SECURITY_TEXT, SERVER_SECURITY_COLUMN_NAMES } from '../../constants';\nexport var ServerSecurityComponent = function (_a) {\n    var requirements = _a.requirements, schemes = _a.schemes, id = _a.identifier, dataId = _a.dataIdentifier;\n    var identifier = bemClasses.identifier([\n        { id: id, toKebabCase: false },\n        'security',\n    ]);\n    var dataIdentifier = bemClasses.identifier([\n        { id: dataId, toKebabCase: false },\n        'security',\n    ]);\n    var className = \"server-security\";\n    var rows = requirements\n        .map(function (requirement) {\n        var def = schemes[Object.keys(requirement)[0]];\n        if (!def) {\n            return null;\n        }\n        return (React.createElement(ServerSecurityItemComponent, { securityScheme: def, key: def.type }));\n    })\n        .filter(Boolean);\n    if (!rows || !rows.length) {\n        return null;\n    }\n    return (React.createElement(\"section\", { className: bemClasses.element(className), \"data-asyncapi-id\": dataIdentifier, id: identifier },\n        React.createElement(\"header\", { className: bemClasses.element(className + \"-header\") },\n            React.createElement(\"h4\", null, SECURITY_TEXT)),\n        React.createElement(\"div\", { className: bemClasses.element(className + \"-table\") },\n            React.createElement(Table, { header: {\n                    columns: SERVER_SECURITY_COLUMN_NAMES,\n                } }, rows))));\n};\n//# sourceMappingURL=Security.js.map","import React from 'react';\nimport { ServerVariablesComponent } from './Variables';\nimport { ServerSecurityComponent } from './Security';\nimport { BindingsComponent } from '../Bindings/Bindings';\nimport { bemClasses, removeSpecialChars } from '../../helpers';\nimport { Toggle, Markdown } from '../../components';\nimport { ITEM_LABELS, CONTAINER_LABELS, SERVER_BINDINGS_TEXT, } from '../../constants';\nexport var ServerComponent = function (_a) {\n    var server = _a.server, stage = _a.stage, securitySchemes = _a.securitySchemes, _b = _a.toggleExpand, toggleExpand = _b === void 0 ? false : _b;\n    var className = ITEM_LABELS.SERVER;\n    var variables = server.variables\n        ? Object.entries(server.variables).map(function (_a) {\n            var key = _a[0], variable = _a[1];\n            return ({\n                key: key,\n                content: variable,\n            });\n        })\n        : [];\n    var header = (React.createElement(React.Fragment, null,\n        React.createElement(\"h4\", null,\n            React.createElement(\"span\", { className: bemClasses.concatenate([\n                    bemClasses.element(className + \"-header-protocol\"),\n                    bemClasses.element(\"badge\"),\n                ]) }, \"\" + server.protocol + (server.protocolVersion ? \" \" + server.protocolVersion : \"\")),\n            React.createElement(\"span\", { className: bemClasses.concatenate([\n                    bemClasses.element(className + \"-header-stage\"),\n                    bemClasses.element(\"badge\"),\n                ]) }, stage),\n            React.createElement(\"span\", null, server.url))));\n    var identifier = bemClasses.identifier([\n        CONTAINER_LABELS.SERVERS,\n        server.url,\n    ]);\n    var dataIdentifier = bemClasses.identifier([\n        CONTAINER_LABELS.SERVERS,\n        removeSpecialChars(server.url),\n    ]);\n    var content = (React.createElement(React.Fragment, null,\n        server.description && (React.createElement(\"div\", { className: bemClasses.element(className + \"-description\") },\n            React.createElement(Markdown, null, server.description))),\n        React.createElement(ServerVariablesComponent, { variables: variables, identifier: identifier, dataIdentifier: dataIdentifier }),\n        server.security && securitySchemes && (React.createElement(ServerSecurityComponent, { requirements: server.security, schemes: securitySchemes, identifier: identifier, dataIdentifier: dataIdentifier })),\n        server.bindings && (React.createElement(BindingsComponent, { bindings: server.bindings, title: SERVER_BINDINGS_TEXT }))));\n    var body = (server.description || server.security || server.variables) && content;\n    return (React.createElement(\"section\", { className: bemClasses.element(className), id: identifier, \"data-asyncapi-id\": dataIdentifier },\n        React.createElement(Toggle, { header: header, className: className, expanded: toggleExpand, label: ITEM_LABELS.SERVER, itemName: server.url, toggleInState: !!body }, body)));\n};\n//# sourceMappingURL=Server.js.map","import React from 'react';\nimport { ServerComponent } from './Server';\nimport { bemClasses } from '../../helpers';\nimport { Toggle } from '../../components';\nimport { SERVERS, CONTAINER_LABELS } from '../../constants';\nexport var ServersComponent = function (_a) {\n    var servers = _a.servers, securitySchemes = _a.securitySchemes, expand = _a.expand;\n    if (!servers) {\n        return null;\n    }\n    var className = CONTAINER_LABELS.SERVERS;\n    var header = React.createElement(\"h2\", null, SERVERS);\n    var content = (React.createElement(\"ul\", { className: bemClasses.element(className + \"-list\") }, Object.entries(servers).map(function (_a) {\n        var stage = _a[0], server = _a[1];\n        return (React.createElement(\"li\", { key: stage, className: bemClasses.element(className + \"-list-item\") },\n            React.createElement(ServerComponent, { key: \"\" + server.url + stage, server: server, stage: stage, securitySchemes: securitySchemes, toggleExpand: expand && expand.elements })));\n    })));\n    return (React.createElement(\"section\", { className: bemClasses.element(className), id: bemClasses.identifier([className]) },\n        React.createElement(Toggle, { header: header, className: className, expanded: expand && expand.root, label: CONTAINER_LABELS.SERVERS, toggleInState: true }, content)));\n};\n//# sourceMappingURL=Servers.js.map","import React from 'react';\nimport { SchemaComponent } from './Schema';\nimport { bemClasses } from '../../helpers';\nimport { Toggle } from '../../components';\nimport { SCHEMAS_TEXT, CONTAINER_LABELS } from '../../constants';\nexport var SchemasComponent = function (_a) {\n    var schemas = _a.schemas, expand = _a.expand;\n    if (!schemas) {\n        return null;\n    }\n    var className = CONTAINER_LABELS.SCHEMAS;\n    var header = React.createElement(\"h2\", null, SCHEMAS_TEXT);\n    var content = (React.createElement(\"ul\", { className: bemClasses.element(className + \"-list\") }, Object.entries(schemas).map(function (_a) {\n        var key = _a[0], schema = _a[1];\n        return (React.createElement(\"li\", { key: key, className: bemClasses.element(className + \"-list-item\") },\n            React.createElement(SchemaComponent, { name: key, schema: schema, toggle: true, toggleExpand: expand && expand.elements })));\n    })));\n    return (React.createElement(\"section\", { className: bemClasses.element(className), id: bemClasses.identifier([className]) },\n        React.createElement(Toggle, { header: header, className: className, expanded: expand && expand.root, label: CONTAINER_LABELS.SCHEMAS, toggleInState: true }, content)));\n};\n//# sourceMappingURL=Schemas.js.map","import AsyncApi from './containers/AsyncApi/AsyncApi';\nexport default AsyncApi;\n//# sourceMappingURL=index.js.map","/**\n * class Ruler\n *\n * Helper class, used by [[MarkdownIt#core]], [[MarkdownIt#block]] and\n * [[MarkdownIt#inline]] to manage sequences of functions (rules):\n *\n * - keep rules in defined order\n * - assign the name to each rule\n * - enable/disable rules\n * - add/replace rules\n * - allow assign rules to additional named chains (in the same)\n * - cacheing lists of active rules\n *\n * You will not need use this class directly until write plugins. For simple\n * rules control use [[MarkdownIt.disable]], [[MarkdownIt.enable]] and\n * [[MarkdownIt.use]].\n **/\n'use strict';\n\n\n/**\n * new Ruler()\n **/\nfunction Ruler() {\n  // List of added rules. Each element is:\n  //\n  // {\n  //   name: XXX,\n  //   enabled: Boolean,\n  //   fn: Function(),\n  //   alt: [ name2, name3 ]\n  // }\n  //\n  this.__rules__ = [];\n\n  // Cached rule chains.\n  //\n  // First level - chain name, '' for default.\n  // Second level - diginal anchor for fast filtering by charcodes.\n  //\n  this.__cache__ = null;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Helper methods, should not be used directly\n\n\n// Find rule index by name\n//\nRuler.prototype.__find__ = function (name) {\n  for (var i = 0; i < this.__rules__.length; i++) {\n    if (this.__rules__[i].name === name) {\n      return i;\n    }\n  }\n  return -1;\n};\n\n\n// Build rules lookup cache\n//\nRuler.prototype.__compile__ = function () {\n  var self = this;\n  var chains = [ '' ];\n\n  // collect unique names\n  self.__rules__.forEach(function (rule) {\n    if (!rule.enabled) { return; }\n\n    rule.alt.forEach(function (altName) {\n      if (chains.indexOf(altName) < 0) {\n        chains.push(altName);\n      }\n    });\n  });\n\n  self.__cache__ = {};\n\n  chains.forEach(function (chain) {\n    self.__cache__[chain] = [];\n    self.__rules__.forEach(function (rule) {\n      if (!rule.enabled) { return; }\n\n      if (chain && rule.alt.indexOf(chain) < 0) { return; }\n\n      self.__cache__[chain].push(rule.fn);\n    });\n  });\n};\n\n\n/**\n * Ruler.at(name, fn [, options])\n * - name (String): rule name to replace.\n * - fn (Function): new rule function.\n * - options (Object): new rule options (not mandatory).\n *\n * Replace rule by name with new function & options. Throws error if name not\n * found.\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * Replace existing typographer replacement rule with new one:\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.core.ruler.at('replacements', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.at = function (name, fn, options) {\n  var index = this.__find__(name);\n  var opt = options || {};\n\n  if (index === -1) { throw new Error('Parser rule not found: ' + name); }\n\n  this.__rules__[index].fn = fn;\n  this.__rules__[index].alt = opt.alt || [];\n  this.__cache__ = null;\n};\n\n\n/**\n * Ruler.before(beforeName, ruleName, fn [, options])\n * - beforeName (String): new rule will be added before this one.\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Add new rule to chain before one with given name. See also\n * [[Ruler.after]], [[Ruler.push]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.block.ruler.before('paragraph', 'my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.before = function (beforeName, ruleName, fn, options) {\n  var index = this.__find__(beforeName);\n  var opt = options || {};\n\n  if (index === -1) { throw new Error('Parser rule not found: ' + beforeName); }\n\n  this.__rules__.splice(index, 0, {\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n\n/**\n * Ruler.after(afterName, ruleName, fn [, options])\n * - afterName (String): new rule will be added after this one.\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Add new rule to chain after one with given name. See also\n * [[Ruler.before]], [[Ruler.push]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.inline.ruler.after('text', 'my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.after = function (afterName, ruleName, fn, options) {\n  var index = this.__find__(afterName);\n  var opt = options || {};\n\n  if (index === -1) { throw new Error('Parser rule not found: ' + afterName); }\n\n  this.__rules__.splice(index + 1, 0, {\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n/**\n * Ruler.push(ruleName, fn [, options])\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Push new rule to the end of chain. See also\n * [[Ruler.before]], [[Ruler.after]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.core.ruler.push('my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.push = function (ruleName, fn, options) {\n  var opt = options || {};\n\n  this.__rules__.push({\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n\n/**\n * Ruler.enable(list [, ignoreInvalid]) -> Array\n * - list (String|Array): list of rule names to enable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable rules with given names. If any rule name not found - throw Error.\n * Errors can be disabled by second param.\n *\n * Returns list of found rule names (if no exception happened).\n *\n * See also [[Ruler.disable]], [[Ruler.enableOnly]].\n **/\nRuler.prototype.enable = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  var result = [];\n\n  // Search by name and enable\n  list.forEach(function (name) {\n    var idx = this.__find__(name);\n\n    if (idx < 0) {\n      if (ignoreInvalid) { return; }\n      throw new Error('Rules manager: invalid rule name ' + name);\n    }\n    this.__rules__[idx].enabled = true;\n    result.push(name);\n  }, this);\n\n  this.__cache__ = null;\n  return result;\n};\n\n\n/**\n * Ruler.enableOnly(list [, ignoreInvalid])\n * - list (String|Array): list of rule names to enable (whitelist).\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable rules with given names, and disable everything else. If any rule name\n * not found - throw Error. Errors can be disabled by second param.\n *\n * See also [[Ruler.disable]], [[Ruler.enable]].\n **/\nRuler.prototype.enableOnly = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  this.__rules__.forEach(function (rule) { rule.enabled = false; });\n\n  this.enable(list, ignoreInvalid);\n};\n\n\n/**\n * Ruler.disable(list [, ignoreInvalid]) -> Array\n * - list (String|Array): list of rule names to disable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Disable rules with given names. If any rule name not found - throw Error.\n * Errors can be disabled by second param.\n *\n * Returns list of found rule names (if no exception happened).\n *\n * See also [[Ruler.enable]], [[Ruler.enableOnly]].\n **/\nRuler.prototype.disable = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  var result = [];\n\n  // Search by name and disable\n  list.forEach(function (name) {\n    var idx = this.__find__(name);\n\n    if (idx < 0) {\n      if (ignoreInvalid) { return; }\n      throw new Error('Rules manager: invalid rule name ' + name);\n    }\n    this.__rules__[idx].enabled = false;\n    result.push(name);\n  }, this);\n\n  this.__cache__ = null;\n  return result;\n};\n\n\n/**\n * Ruler.getRules(chainName) -> Array\n *\n * Return array of active functions (rules) for given chain name. It analyzes\n * rules configuration, compiles caches if not exists and returns result.\n *\n * Default chain name is `''` (empty string). It can't be skipped. That's\n * done intentionally, to keep signature monomorphic for high speed.\n **/\nRuler.prototype.getRules = function (chainName) {\n  if (this.__cache__ === null) {\n    this.__compile__();\n  }\n\n  // Chain can be empty, if rules disabled. But we still have to return Array.\n  return this.__cache__[chainName] || [];\n};\n\nmodule.exports = Ruler;\n","// Token class\n\n'use strict';\n\n\n/**\n * class Token\n **/\n\n/**\n * new Token(type, tag, nesting)\n *\n * Create new token and fill passed properties.\n **/\nfunction Token(type, tag, nesting) {\n  /**\n   * Token#type -> String\n   *\n   * Type of the token (string, e.g. \"paragraph_open\")\n   **/\n  this.type     = type;\n\n  /**\n   * Token#tag -> String\n   *\n   * html tag name, e.g. \"p\"\n   **/\n  this.tag      = tag;\n\n  /**\n   * Token#attrs -> Array\n   *\n   * Html attributes. Format: `[ [ name1, value1 ], [ name2, value2 ] ]`\n   **/\n  this.attrs    = null;\n\n  /**\n   * Token#map -> Array\n   *\n   * Source map info. Format: `[ line_begin, line_end ]`\n   **/\n  this.map      = null;\n\n  /**\n   * Token#nesting -> Number\n   *\n   * Level change (number in {-1, 0, 1} set), where:\n   *\n   * -  `1` means the tag is opening\n   * -  `0` means the tag is self-closing\n   * - `-1` means the tag is closing\n   **/\n  this.nesting  = nesting;\n\n  /**\n   * Token#level -> Number\n   *\n   * nesting level, the same as `state.level`\n   **/\n  this.level    = 0;\n\n  /**\n   * Token#children -> Array\n   *\n   * An array of child nodes (inline and img tokens)\n   **/\n  this.children = null;\n\n  /**\n   * Token#content -> String\n   *\n   * In a case of self-closing tag (code, html, fence, etc.),\n   * it has contents of this tag.\n   **/\n  this.content  = '';\n\n  /**\n   * Token#markup -> String\n   *\n   * '*' or '_' for emphasis, fence string for fence, etc.\n   **/\n  this.markup   = '';\n\n  /**\n   * Token#info -> String\n   *\n   * fence infostring\n   **/\n  this.info     = '';\n\n  /**\n   * Token#meta -> Object\n   *\n   * A place for plugins to store an arbitrary data\n   **/\n  this.meta     = null;\n\n  /**\n   * Token#block -> Boolean\n   *\n   * True for block-level tokens, false for inline tokens.\n   * Used in renderer to calculate line breaks\n   **/\n  this.block    = false;\n\n  /**\n   * Token#hidden -> Boolean\n   *\n   * If it's true, ignore this element when rendering. Used for tight lists\n   * to hide paragraphs.\n   **/\n  this.hidden   = false;\n}\n\n\n/**\n * Token.attrIndex(name) -> Number\n *\n * Search attribute index by name.\n **/\nToken.prototype.attrIndex = function attrIndex(name) {\n  var attrs, i, len;\n\n  if (!this.attrs) { return -1; }\n\n  attrs = this.attrs;\n\n  for (i = 0, len = attrs.length; i < len; i++) {\n    if (attrs[i][0] === name) { return i; }\n  }\n  return -1;\n};\n\n\n/**\n * Token.attrPush(attrData)\n *\n * Add `[ name, value ]` attribute to list. Init attrs if necessary\n **/\nToken.prototype.attrPush = function attrPush(attrData) {\n  if (this.attrs) {\n    this.attrs.push(attrData);\n  } else {\n    this.attrs = [ attrData ];\n  }\n};\n\n\n/**\n * Token.attrSet(name, value)\n *\n * Set `name` attribute to `value`. Override old value if exists.\n **/\nToken.prototype.attrSet = function attrSet(name, value) {\n  var idx = this.attrIndex(name),\n      attrData = [ name, value ];\n\n  if (idx < 0) {\n    this.attrPush(attrData);\n  } else {\n    this.attrs[idx] = attrData;\n  }\n};\n\n\n/**\n * Token.attrGet(name)\n *\n * Get the value of attribute `name`, or null if it does not exist.\n **/\nToken.prototype.attrGet = function attrGet(name) {\n  var idx = this.attrIndex(name), value = null;\n  if (idx >= 0) {\n    value = this.attrs[idx][1];\n  }\n  return value;\n};\n\n\n/**\n * Token.attrJoin(name, value)\n *\n * Join value to existing attribute via space. Or create new attribute if not\n * exists. Useful to operate with token classes.\n **/\nToken.prototype.attrJoin = function attrJoin(name, value) {\n  var idx = this.attrIndex(name);\n\n  if (idx < 0) {\n    this.attrPush([ name, value ]);\n  } else {\n    this.attrs[idx][1] = this.attrs[idx][1] + ' ' + value;\n  }\n};\n\n\nmodule.exports = Token;\n","const YAML = require('js-yaml');\nconst { yamlAST, loc } = require('@fmvilas/pseudo-yaml-ast');\nconst jsonAST = require('json-to-ast');\nconst jsonParseBetterErrors = require('../lib/json-parse');\nconst ParserError = require('./errors/parser-error');\n\nconst jsonPointerToArray = jsonPointer => (jsonPointer || '/').split('/').splice(1);\n\nconst utils = module.exports;\n\nconst getAST = (asyncapiYAMLorJSON, initialFormat) => {\n  if (initialFormat === 'yaml') {\n    return yamlAST(asyncapiYAMLorJSON);\n  } else if (initialFormat === 'json') {\n    return jsonAST(asyncapiYAMLorJSON);\n  }\n};\n\nconst findNode = (obj, location) => {\n  for (const key of location) {\n    obj = obj ? obj[utils.untilde(key)] : null;\n  }\n  return obj;\n};\n\nconst findNodeInAST = (ast, location) => {\n  let obj = ast;\n  for (const key of location) {\n    if (!Array.isArray(obj.children)) return;\n    let childArray;\n\n    const child = obj.children.find(c => {    \n      if (!c) return;\n\n      if (c.type === 'Object') return childArray = c.children.find(a => a.key.value === utils.untilde(key));\n      return c.type === 'Property' && c.key && c.key.value === utils.untilde(key);\n    });\n\n    if (!child) return;\n    obj = childArray ? childArray.value : child.value;\n  }\n  return obj;\n};\n\nconst findLocationOf = (keys, ast, initialFormat) => {\n  if (initialFormat === 'js') return { jsonPointer: `/${keys.join('/')}` };\n  \n  let node;\n  if (initialFormat === 'yaml') {\n    node = findNode(ast, keys);\n  } else if (initialFormat === 'json') {\n    node = findNodeInAST(ast, keys);\n  }\n\n  if (!node) return { jsonPointer: `/${keys.join('/')}` };\n\n  let info;\n  if (initialFormat === 'yaml') {\n    // disable eslint because loc is a Symbol\n    // eslint-disable-next-line security/detect-object-injection\n    info = node[loc];\n  } else if (initialFormat === 'json') {\n    info = node.loc;\n  }\n\n  if (!info) return { jsonPointer: `/${keys.join('/')}` };\n\n  return {\n    jsonPointer: `/${keys.join('/')}`,\n    startLine: info.start.line,\n    startColumn: info.start.column + 1,\n    startOffset: info.start.offset,\n    endLine: info.end ? info.end.line : undefined,\n    endColumn: info.end ? info.end.column + 1 : undefined,\n    endOffset: info.end ? info.end.offset : undefined,\n  };\n};\n\nutils.tilde = (str) => {\n  return str.replace(/[~\\/]{1}/g, (m) => {\n    switch (m) {\n    case '/': return '~1';\n    case '~': return '~0';\n    }\n    return m;\n  });\n};\n\nutils.untilde = (str) => {\n  if (!str.includes('~')) return str;\n  return str.replace(/~[01]/g, (m) => {\n    switch (m) {\n    case '~1': return '/';\n    case '~0': return '~';\n    }\n    return m;\n  });\n};\n\nutils.toJS = (asyncapiYAMLorJSON) => {\n  if (!asyncapiYAMLorJSON) {\n    throw new ParserError({\n      type: 'null-or-falsey-document',\n      title: 'Document can\\'t be null or falsey.',\n    });\n  }\n\n  if (asyncapiYAMLorJSON.constructor && asyncapiYAMLorJSON.constructor.name === 'Object') {\n    return {\n      initialFormat: 'js',\n      parsedJSON: asyncapiYAMLorJSON,\n    };\n  }\n  \n  if (typeof asyncapiYAMLorJSON !== 'string') {\n    throw new ParserError({\n      type: 'invalid-document-type',\n      title: 'The AsyncAPI document has to be either a string or a JS object.',\n    });\n  }\n  if (asyncapiYAMLorJSON.trimLeft().startsWith('{')) {\n    try {\n      return {\n        initialFormat: 'json',\n        parsedJSON: jsonParseBetterErrors(asyncapiYAMLorJSON),\n      };\n    } catch (e) {\n      throw new ParserError({\n        type: 'invalid-json',\n        title: 'The provided JSON is not valid.',\n        detail: e.message,\n        location: {\n          startOffset: e.offset,\n          startLine: e.startLine,\n          startColumn: e.startColumn,\n        },\n      });\n    }\n  } else {\n    try {\n      return {\n        initialFormat: 'yaml',\n        parsedJSON: YAML.safeLoad(asyncapiYAMLorJSON),\n      };\n    } catch (err) {\n      throw new ParserError({\n        type: 'invalid-yaml',\n        title: 'The provided YAML is not valid.',\n        detail: err.message,\n        location: {\n          startOffset: err.mark.position,\n          startLine: err.mark.line + 1,\n          startColumn: err.mark.column + 1,\n        },\n      });\n    }\n  }\n};\n\nutils.findRefs = (errors, initialFormat, asyncapiYAMLorJSON) => {\n  let refs = [];\n\n  errors.map(({ path }) => refs.push({ location: [...path.map(utils.tilde), '$ref'] }));\n\n  if (initialFormat === 'js') {\n    return refs.map(ref => ({ jsonPointer: `/${ref.location.join('/')}` }));\n  }\n\n  if (initialFormat === 'yaml') {\n    const pseudoAST = yamlAST(asyncapiYAMLorJSON);\n    refs = refs.map(ref => findLocationOf(ref.location, pseudoAST, initialFormat));\n  } else if (initialFormat === 'json') {\n    const ast = jsonAST(asyncapiYAMLorJSON);\n    refs = refs.map(ref => findLocationOf(ref.location, ast, initialFormat));\n  }\n\n  return refs;\n};\n\nutils.getLocationOf = (jsonPointer, asyncapiYAMLorJSON, initialFormat) => {\n  const ast = getAST(asyncapiYAMLorJSON, initialFormat);\n  if (!ast) return { jsonPointer };\n\n  return findLocationOf(jsonPointerToArray(jsonPointer), ast, initialFormat);\n};\n\nutils.improveAjvErrors = (errors, asyncapiYAMLorJSON, initialFormat) => {\n  const ast = getAST(asyncapiYAMLorJSON, initialFormat);\n  return errors.map(error => {\n    const defaultLocation = { jsonPointer: error.dataPath || '/' };\n    const additionalProperty = error.params.additionalProperty;\n    const jsonPointer = additionalProperty ? `${error.dataPath}/${additionalProperty}`: error.dataPath;\n    return {\n      title: `${error.dataPath || '/'} ${error.message}`,\n      location: ast ? findLocationOf(jsonPointerToArray(jsonPointer), ast, initialFormat) : defaultLocation,\n    };\n  });\n};\n\n/**\n * It parses the string and returns an array with all values that are between curly braces, including braces\n * @function parseUrlVariables\n * @private\n */\nutils.parseUrlVariables = str => {\n  if (typeof str !== 'string') return;\n\n  return str.match(/{(.+?)}/g); \n};\n\n/**\n * It parses the string and returns url parameters as string\n * @function parseUrlQueryParameters\n * @private\n */\nutils.parseUrlQueryParameters = str => {\n  if (typeof str !== 'string') return;\n  \n  return str.match(/\\?((.*=.*)(&?))/g); \n};\n\n/**\n * Returns an array of not existing properties in provided object with names specified in provided array\n * @function getMissingProps\n * @private\n */\nutils.getMissingProps = (arr, obj) => {\n  arr = arr.map(val => val.replace(/[{}]/g, ''));\n\n  if (!obj) return arr;\n  \n  return arr.filter(val => {\n    return !obj.hasOwnProperty(val);\n  });\n};\n\n/**\n * Returns array of errors messages compatible with validationErrors parameter from ParserError\n *\n * @function groupValidationErrors\n * @private\n * @param  {String} root name of the root element in the AsyncAPI document, for example channels\n * @param  {String} errorMessage the text of the custom error message that will follow the path that points the error\n * @param  {Map} errorElements map of error elements cause the validation error might happen in many places in the document. \n * The key should have a path information where the error was found, the value holds information about error element but it is not mandatory\n * @param  {String} asyncapiYAMLorJSON AsyncAPI document in string\n * @param  {String} initialFormat information of the document was oryginally JSON or YAML\n * @returns {Array<Object>} Object has always 2 keys, title and location. Title is a combination of errorElement key + errorMessage + errorElement value. \n * Location is the object with information about location of the issue in the file and json Pointer\n */\nutils.groupValidationErrors = (root, errorMessage, errorElements, asyncapiYAMLorJSON, initialFormat) => {\n  const errors = [];\n\n  errorElements.forEach((val, key) => {\n    if (typeof val === 'string') val = utils.untilde(val);\n\n    errors.push({\n      title: val ? `${ utils.untilde(key) } ${errorMessage}: ${val}` : `${ utils.untilde(key) } ${errorMessage}`,\n      location: utils.getLocationOf(`/${root}/${key}`, asyncapiYAMLorJSON, initialFormat)\n    });\n  });\n\n  return errors;\n};\n\n/**\n * extend map with channel params missing corresponding param object\n *\n * @function setNotProvidedParams\n * @private\n * @param  {Array<String>} variables array of all identified URL variables in a channel name\n * @param  {Object} val the channel object for which to identify the missing parameters\n * @param  {String} key the channel name. \n * @param  {Array<Object>} notProvidedChannelParams concatinated list of missing parameters for all channels\n * @param  {Map} notProvidedParams result map of all missing parameters extended by this function\n */\nutils.setNotProvidedParams = (variables, val, key, notProvidedChannelParams, notProvidedParams) => {\n  const missingChannelParams = utils.getMissingProps(variables, val.parameters);\n\n  if (missingChannelParams.length) {\n    notProvidedParams.set(utils.tilde(key),\n      notProvidedChannelParams\n        ? notProvidedChannelParams.concat(missingChannelParams)\n        : missingChannelParams);\n  }\n};\n","const Tag = require('../models/tag');\n\n/**\n * Implements functions to deal with the Tags object.\n * @mixin\n */\nconst MixinTags = {\n  /**\n   * @returns {boolean}\n   */\n  hasTags() {\n    return !!(Array.isArray(this._json.tags) && this._json.tags.length);\n  },\n\n  /**\n   * @returns {Tag[]}\n   */\n  tags() {\n    return this.hasTags() ? this._json.tags.map(t => new Tag(t)) : [];\n  },\n\n  /**\n   * @returns {string[]}\n   */\n  tagNames() {\n    return this.hasTags() ? this._json.tags.map(t => t.name) : [];\n  },\n\n  /**\n   * @param {string} name - Name of the tag.\n   * @returns {boolean}\n   */\n  hasTag(name) {\n    return this.hasTags() && this._json.tags.some(t => t.name === name);\n  },\n\n  /**\n   * @param {string} name - Name of the tag.\n   * @returns {(Tag | null)}\n   */\n  tag(name) {\n    const tg = this.hasTags() && this._json.tags.find(t => t.name === name);\n    return tg ? new Tag(tg) : null;\n  },\n};\n\nmodule.exports = MixinTags;\n","const utils = module.exports;\n\nconst getMapValue = (obj, key, Type) => {\n  if (typeof key !== 'string' || !obj) return null;\n  const v = obj[String(key)];\n  if (v === undefined) return null;\n  return Type ? new Type(v) : v;\n};\n\n/**\n * Creates map of given type from object.\n * @private\n * @param  {Object} obj\n * @param  {Any} Type\n */\nutils.createMapOfType = (obj, Type) => {\n  const result = {};\n  if (!obj) return result;\n\n  Object.entries(obj).forEach(([key, value]) => {\n    result[String(key)] = new Type(value);\n  });\n\n  return result;\n};\n\n/**\n * Creates given type from value retrieved from object by key.\n * @private\n * @param  {Object} obj\n * @param  {string} key\n * @param  {Any} Type\n */\nutils.getMapValueOfType = (obj, key, Type) => {\n  return getMapValue(obj, key, Type);\n};\n\n/**\n * Retrieves value from object by key.\n * @private\n * @param  {Object} obj\n * @param  {string} key\n */\nutils.getMapValueByKey = (obj, key) => {\n  return getMapValue(obj, key);\n};\n\n/**\n * Extends a given model with additional methods related to frequently recurring models.\n * @function mix\n * @private\n * @param  {Object} model model to extend\n * @param  {Array<Object>} mixins array with mixins to extend the model with\n */\nutils.mix = (model, ...mixins) => {\n  let duplicatedMethods = false;\n  function checkDuplication(mixin) {\n    // check duplication of model in mixins array\n    if (model === mixin) return true;\n    // check duplication of model's methods\n    duplicatedMethods = Object.keys(mixin).some(mixinMethod => model.prototype.hasOwnProperty(mixinMethod));\n    return duplicatedMethods;\n  }\n  \n  if (mixins.some(checkDuplication)) {\n    if (duplicatedMethods) {\n      throw new Error(`invalid mix function: model ${model.name} has at least one method that it is trying to replace by mixin`);\n    } else {\n      throw new Error(`invalid mix function: cannot use the model ${model.name} as a mixin`);\n    }\n  }\n  mixins.forEach(mixin => Object.assign(model.prototype, mixin));\n  return model;\n};\n","const ParserError = require('../errors/parser-error');\n\n/**\n * Implements common functionality for all the models.\n * @class\n * @alias module:@asyncapi/parser#Base\n * @returns {Base}\n */\nclass Base {\n  constructor (json) {\n    if (!json) throw new ParserError(`Invalid JSON to instantiate the ${this.constructor.name} object.`);\n    this._json = json;\n  }\n\n  /**\n   * @returns {any}\n   */\n  json(key) {\n    if (key === undefined) return this._json;\n    if (!this._json) return;\n    return this._json[String(key)];\n  }\n}\n\nmodule.exports = Base;\n","// HTML5 entities map: { name -> utf16string }\n//\n'use strict';\n\n/*eslint quotes:0*/\nmodule.exports = require('entities/lib/maps/entities.json');\n","// Regexps to match html elements\n\n'use strict';\n\nvar attr_name     = '[a-zA-Z_:][a-zA-Z0-9:._-]*';\n\nvar unquoted      = '[^\"\\'=<>`\\\\x00-\\\\x20]+';\nvar single_quoted = \"'[^']*'\";\nvar double_quoted = '\"[^\"]*\"';\n\nvar attr_value  = '(?:' + unquoted + '|' + single_quoted + '|' + double_quoted + ')';\n\nvar attribute   = '(?:\\\\s+' + attr_name + '(?:\\\\s*=\\\\s*' + attr_value + ')?)';\n\nvar open_tag    = '<[A-Za-z][A-Za-z0-9\\\\-]*' + attribute + '*\\\\s*\\\\/?>';\n\nvar close_tag   = '<\\\\/[A-Za-z][A-Za-z0-9\\\\-]*\\\\s*>';\nvar comment     = '<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->';\nvar processing  = '<[?].*?[?]>';\nvar declaration = '<![A-Z]+\\\\s+[^>]*>';\nvar cdata       = '<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>';\n\nvar HTML_TAG_RE = new RegExp('^(?:' + open_tag + '|' + close_tag + '|' + comment +\n                        '|' + processing + '|' + declaration + '|' + cdata + ')');\nvar HTML_OPEN_CLOSE_TAG_RE = new RegExp('^(?:' + open_tag + '|' + close_tag + ')');\n\nmodule.exports.HTML_TAG_RE = HTML_TAG_RE;\nmodule.exports.HTML_OPEN_CLOSE_TAG_RE = HTML_OPEN_CLOSE_TAG_RE;\n","// ~~strike through~~\n//\n'use strict';\n\n\n// Insert each marker as a separate text token, and add it to delimiter list\n//\nmodule.exports.tokenize = function strikethrough(state, silent) {\n  var i, scanned, token, len, ch,\n      start = state.pos,\n      marker = state.src.charCodeAt(start);\n\n  if (silent) { return false; }\n\n  if (marker !== 0x7E/* ~ */) { return false; }\n\n  scanned = state.scanDelims(state.pos, true);\n  len = scanned.length;\n  ch = String.fromCharCode(marker);\n\n  if (len < 2) { return false; }\n\n  if (len % 2) {\n    token         = state.push('text', '', 0);\n    token.content = ch;\n    len--;\n  }\n\n  for (i = 0; i < len; i += 2) {\n    token         = state.push('text', '', 0);\n    token.content = ch + ch;\n\n    state.delimiters.push({\n      marker: marker,\n      length: 0, // disable \"rule of 3\" length checks meant for emphasis\n      jump:   i,\n      token:  state.tokens.length - 1,\n      end:    -1,\n      open:   scanned.can_open,\n      close:  scanned.can_close\n    });\n  }\n\n  state.pos += scanned.length;\n\n  return true;\n};\n\n\nfunction postProcess(state, delimiters) {\n  var i, j,\n      startDelim,\n      endDelim,\n      token,\n      loneMarkers = [],\n      max = delimiters.length;\n\n  for (i = 0; i < max; i++) {\n    startDelim = delimiters[i];\n\n    if (startDelim.marker !== 0x7E/* ~ */) {\n      continue;\n    }\n\n    if (startDelim.end === -1) {\n      continue;\n    }\n\n    endDelim = delimiters[startDelim.end];\n\n    token         = state.tokens[startDelim.token];\n    token.type    = 's_open';\n    token.tag     = 's';\n    token.nesting = 1;\n    token.markup  = '~~';\n    token.content = '';\n\n    token         = state.tokens[endDelim.token];\n    token.type    = 's_close';\n    token.tag     = 's';\n    token.nesting = -1;\n    token.markup  = '~~';\n    token.content = '';\n\n    if (state.tokens[endDelim.token - 1].type === 'text' &&\n        state.tokens[endDelim.token - 1].content === '~') {\n\n      loneMarkers.push(endDelim.token - 1);\n    }\n  }\n\n  // If a marker sequence has an odd number of characters, it's splitted\n  // like this: `~~~~~` -> `~` + `~~` + `~~`, leaving one marker at the\n  // start of the sequence.\n  //\n  // So, we have to move all those markers after subsequent s_close tags.\n  //\n  while (loneMarkers.length) {\n    i = loneMarkers.pop();\n    j = i + 1;\n\n    while (j < state.tokens.length && state.tokens[j].type === 's_close') {\n      j++;\n    }\n\n    j--;\n\n    if (i !== j) {\n      token = state.tokens[j];\n      state.tokens[j] = state.tokens[i];\n      state.tokens[i] = token;\n    }\n  }\n}\n\n\n// Walk through delimiter list and replace text tokens with tags\n//\nmodule.exports.postProcess = function strikethrough(state) {\n  var curr,\n      tokens_meta = state.tokens_meta,\n      max = state.tokens_meta.length;\n\n  postProcess(state, state.delimiters);\n\n  for (curr = 0; curr < max; curr++) {\n    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {\n      postProcess(state, tokens_meta[curr].delimiters);\n    }\n  }\n};\n","// Process *this* and _that_\n//\n'use strict';\n\n\n// Insert each marker as a separate text token, and add it to delimiter list\n//\nmodule.exports.tokenize = function emphasis(state, silent) {\n  var i, scanned, token,\n      start = state.pos,\n      marker = state.src.charCodeAt(start);\n\n  if (silent) { return false; }\n\n  if (marker !== 0x5F /* _ */ && marker !== 0x2A /* * */) { return false; }\n\n  scanned = state.scanDelims(state.pos, marker === 0x2A);\n\n  for (i = 0; i < scanned.length; i++) {\n    token         = state.push('text', '', 0);\n    token.content = String.fromCharCode(marker);\n\n    state.delimiters.push({\n      // Char code of the starting marker (number).\n      //\n      marker: marker,\n\n      // Total length of these series of delimiters.\n      //\n      length: scanned.length,\n\n      // An amount of characters before this one that's equivalent to\n      // current one. In plain English: if this delimiter does not open\n      // an emphasis, neither do previous `jump` characters.\n      //\n      // Used to skip sequences like \"*****\" in one step, for 1st asterisk\n      // value will be 0, for 2nd it's 1 and so on.\n      //\n      jump:   i,\n\n      // A position of the token this delimiter corresponds to.\n      //\n      token:  state.tokens.length - 1,\n\n      // If this delimiter is matched as a valid opener, `end` will be\n      // equal to its position, otherwise it's `-1`.\n      //\n      end:    -1,\n\n      // Boolean flags that determine if this delimiter could open or close\n      // an emphasis.\n      //\n      open:   scanned.can_open,\n      close:  scanned.can_close\n    });\n  }\n\n  state.pos += scanned.length;\n\n  return true;\n};\n\n\nfunction postProcess(state, delimiters) {\n  var i,\n      startDelim,\n      endDelim,\n      token,\n      ch,\n      isStrong,\n      max = delimiters.length;\n\n  for (i = max - 1; i >= 0; i--) {\n    startDelim = delimiters[i];\n\n    if (startDelim.marker !== 0x5F/* _ */ && startDelim.marker !== 0x2A/* * */) {\n      continue;\n    }\n\n    // Process only opening markers\n    if (startDelim.end === -1) {\n      continue;\n    }\n\n    endDelim = delimiters[startDelim.end];\n\n    // If the previous delimiter has the same marker and is adjacent to this one,\n    // merge those into one strong delimiter.\n    //\n    // `<em><em>whatever</em></em>` -> `<strong>whatever</strong>`\n    //\n    isStrong = i > 0 &&\n               delimiters[i - 1].end === startDelim.end + 1 &&\n               delimiters[i - 1].token === startDelim.token - 1 &&\n               delimiters[startDelim.end + 1].token === endDelim.token + 1 &&\n               delimiters[i - 1].marker === startDelim.marker;\n\n    ch = String.fromCharCode(startDelim.marker);\n\n    token         = state.tokens[startDelim.token];\n    token.type    = isStrong ? 'strong_open' : 'em_open';\n    token.tag     = isStrong ? 'strong' : 'em';\n    token.nesting = 1;\n    token.markup  = isStrong ? ch + ch : ch;\n    token.content = '';\n\n    token         = state.tokens[endDelim.token];\n    token.type    = isStrong ? 'strong_close' : 'em_close';\n    token.tag     = isStrong ? 'strong' : 'em';\n    token.nesting = -1;\n    token.markup  = isStrong ? ch + ch : ch;\n    token.content = '';\n\n    if (isStrong) {\n      state.tokens[delimiters[i - 1].token].content = '';\n      state.tokens[delimiters[startDelim.end + 1].token].content = '';\n      i--;\n    }\n  }\n}\n\n\n// Walk through delimiter list and replace text tokens with tags\n//\nmodule.exports.postProcess = function emphasis(state) {\n  var curr,\n      tokens_meta = state.tokens_meta,\n      max = state.tokens_meta.length;\n\n  postProcess(state, state.delimiters);\n\n  for (curr = 0; curr < max; curr++) {\n    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {\n      postProcess(state, tokens_meta[curr].delimiters);\n    }\n  }\n};\n","module.exports = {\n  '1.0.0': require('./schemas/1.0.0.json'),\n  '1.1.0': require('./schemas/1.1.0.json'),\n  '1.2.0': require('./schemas/1.2.0.json'),\n  '2.0.0-rc1': require('./schemas/2.0.0-rc1.json'),\n  '2.0.0-rc2': require('./schemas/2.0.0-rc2.json'),\n  '2.0.0': require('./schemas/2.0.0.json'),\n};\n","const { mix } = require('./utils');\n\nconst Base = require('./base');\nconst Schema = require('./schema');\n\nconst MixinDescription = require('../mixins/description');\nconst MixinSpecificationExtensions = require('../mixins/specification-extensions');\n\n/**\n * Implements functions to deal with a ChannelParameter object.\n * @class\n * @alias module:@asyncapi/parser#ChannelParameter\n * @extends Base\n * @mixes MixinDescription\n * @mixes MixinSpecificationExtensions\n * @returns {ChannelParameter}\n */\nclass ChannelParameter extends Base {\n  /**\n   * @returns {string}\n   */\n  location() {\n    return this._json.location;\n  }\n  \n  /**\n   * @returns {Schema}\n   */\n  schema() {\n    if (!this._json.schema) return null;\n    return new Schema(this._json.schema);\n  }\n}\n\nmodule.exports = mix(ChannelParameter, MixinDescription, MixinSpecificationExtensions);\n","const OperationTraitable = require('./operation-traitable');\nconst Message = require('./message');\n\n/**\n * Implements functions to deal with an Operation object.\n * @class\n * @alias module:@asyncapi/parser#Operation\n * @extends OperationTraitable\n * @returns {Operation}\n */\nclass Operation extends OperationTraitable {\n  /**\n   * @returns {boolean}\n   */\n  hasMultipleMessages() {\n    if (this._json.message && this._json.message.oneOf && this._json.message.oneOf.length > 1) return true;\n    if (!this._json.message) return false;\n    return false;\n  }\n  \n  /**\n   * @returns {Message[]}\n   */\n  messages() {\n    if (!this._json.message) return [];\n    if (this._json.message.oneOf) return this._json.message.oneOf.map(m => new Message(m));\n    return [new Message(this._json.message)];\n  }\n  \n  /**\n   * @returns {Message}\n   */\n  message(index) {\n    if (!this._json.message) return null;\n    if (!this._json.message.oneOf) return new Message(this._json.message);\n    if (typeof index !== 'number') return null;\n    if (index > this._json.message.oneOf.length - 1) return null;\n    return new Message(this._json.message.oneOf[+index]);\n  }\n}\n\nmodule.exports = Operation;\n","const { mix } = require('./utils');\n\nconst Base = require('./base');\n\nconst MixinDescription = require('../mixins/description');\nconst MixinTags = require('../mixins/tags');\nconst MixinExternalDocs = require('../mixins/external-docs');\nconst MixinBindings = require('../mixins/bindings');\nconst MixinSpecificationExtensions = require('../mixins/specification-extensions');\n\n/**\n * Implements functions to deal with the common properties Operation and OperationTrait object have.\n * @class\n * @alias module:@asyncapi/parser#OperationTraitable\n * @extends Base\n * @mixes MixinDescription\n * @mixes MixinTags\n * @mixes MixinExternalDocs\n * @mixes MixinBindings\n * @mixes MixinSpecificationExtensions\n * @returns {OperationTraitable}\n */\nclass OperationTraitable extends Base {\n  /**\n   * @returns {string}\n   */\n  id() {\n    return this._json.operationId;\n  }\n  \n  /**\n   * @returns {string}\n   */\n  summary() {\n    return this._json.summary;\n  }\n}\n\nmodule.exports = mix(OperationTraitable, MixinDescription, MixinTags, MixinExternalDocs, MixinBindings, MixinSpecificationExtensions);\n","const MessageTraitable = require('./message-traitable');\nconst Schema = require('./schema');\n\n/**\n * Implements functions to deal with a Message object.\n * @class\n * @alias module:@asyncapi/parser#Message\n * @extends MessageTraitable\n * @returns {Message}\n */\nclass Message extends MessageTraitable {\n  /**\n   * @returns {string}\n   */\n  uid() {\n    return this.name() || this.ext('x-parser-message-name') || Buffer.from(JSON.stringify(this._json)).toString('base64');\n  }\n\n  /**\n   * @returns {Schema}\n   */\n  payload() {\n    if (!this._json.payload) return null;\n    return new Schema(this._json.payload);\n  }\n\n  /**\n   * @returns {any}\n   */\n  originalPayload() {\n    return this._json['x-parser-original-payload'] || this.payload();\n  }\n\n  /**\n   * @returns {string}\n   */\n  originalSchemaFormat() {\n    return this._json['x-parser-original-schema-format'] || this.schemaFormat();\n  }\n}\n\nmodule.exports = Message;\n","const { getMapValueOfType, mix } = require('./utils');\n\nconst Base = require('./base');\nconst Schema = require('./schema');\nconst CorrelationId = require('./correlation-id');\n\nconst MixinDescription = require('../mixins/description');\nconst MixinExternalDocs = require('../mixins/external-docs');\nconst MixinTags = require('../mixins/tags');\nconst MixinBindings = require('../mixins/bindings');\nconst MixinSpecificationExtensions = require('../mixins/specification-extensions');\n\n/**\n * Implements functions to deal with a the common properties that Message and MessageTrait objects have.\n * @class\n * @alias module:@asyncapi/parser#MessageTraitable\n * @extends Base\n * @mixes MixinDescription\n * @mixes MixinTags\n * @mixes MixinExternalDocs\n * @mixes MixinBindings\n * @mixes MixinSpecificationExtensions\n * @returns {MessageTraitable}\n */\nclass MessageTraitable extends Base {\n  /**\n   * @returns {Schema}\n   */\n  headers() {\n    if (!this._json.headers) return null;\n    return new Schema(this._json.headers);\n  }\n\n  /**\n   * @param {string} name - Name of the header.\n   * @returns {Schema}\n   */\n  header(name) {\n    if (!this._json.headers) return null;\n    return getMapValueOfType(this._json.headers.properties, name, Schema);\n  }\n\n  /**\n   * @returns {CorrelationId}\n   */\n  correlationId() {\n    if (!this._json.correlationId) return null;\n    return new CorrelationId(this._json.correlationId);\n  }\n\n  /**\n   * @returns {string}\n   */\n  schemaFormat() {\n    return 'application/schema+json;version=draft-07';\n  }\n\n  /**\n   * @returns {string}\n   */\n  contentType() {\n    return this._json.contentType;\n  }\n\n  /**\n   * @returns {string}\n   */\n  name() {\n    return this._json.name;\n  }\n\n  /**\n   * @returns {string}\n   */\n  title() {\n    return this._json.title;\n  }\n\n  /**\n   * @returns {string}\n   */\n  summary() {\n    return this._json.summary;\n  }\n\n  /**\n   * @returns {any[]}\n   */\n  examples() {\n    return this._json.examples;\n  }\n}\n\nmodule.exports = mix(MessageTraitable, MixinDescription, MixinTags, MixinExternalDocs, MixinBindings, MixinSpecificationExtensions);\n","const { mix } = require('./utils');\n\nconst Base = require('./base');\n\nconst MixinDescription = require('../mixins/description');\nconst MixinSpecificationExtensions = require('../mixins/specification-extensions');\n\n/**\n * Implements functions to deal with a CorrelationId object.\n * @class\n * @alias module:@asyncapi/parser#CorrelationId\n * @extends Base\n * @mixes MixinDescription\n * @mixes MixinSpecificationExtensions\n * @returns {CorrelationId}\n */\nclass CorrelationId extends Base {\n  /**\n   * @returns {string}\n   */\n  location() {\n    return this._json.location;\n  }\n}\n\nmodule.exports = mix(CorrelationId, MixinSpecificationExtensions, MixinDescription);\n"],"sourceRoot":""}