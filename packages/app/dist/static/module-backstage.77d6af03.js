(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{12:function(e,t,a){"use strict";a.d(t,"a",(function(){return I})),a.d(t,"b",(function(){return x})),a.d(t,"c",(function(){return D})),a.d(t,"d",(function(){return Y})),a.d(t,"e",(function(){return m})),a.d(t,"f",(function(){return h})),a.d(t,"g",(function(){return f})),a.d(t,"h",(function(){return b})),a.d(t,"i",(function(){return y})),a.d(t,"j",(function(){return k})),a.d(t,"k",(function(){return O})),a.d(t,"l",(function(){return S})),a.d(t,"m",(function(){return g})),a.d(t,"n",(function(){return v})),a.d(t,"o",(function(){return M})),a.d(t,"p",(function(){return j})),a.d(t,"q",(function(){return E})),a.d(t,"r",(function(){return N}));var n=a(3),r=a(0),i=a.n(r),o=a(19),s=a(73),l=a(1334),c=a(28),u=a(112),d=a(39);const m=Object(n.hb)({id:"plugin.catalog.service",description:"Used by the Catalog plugin to make requests to accompanying backend"}),p=()=>null,g=Object(n.nb)({icon:p,path:"",title:"Catalog"}),h=g,f=Object(n.nb)({icon:p,path:":namespace/:kind/:name/*",title:"Entity",params:["namespace","kind","name"]}),y=f;function b(e){var t,a;return{kind:e.kind.toLowerCase(),namespace:null!=(a=null==(t=e.metadata.namespace)?void 0:t.toLowerCase())?a:c.b,name:e.metadata.name}}const M=()=>{const{kind:e,namespace:t,name:a}=Object(n.Eb)(y);return{kind:e,namespace:t,name:a}},I=Object(r.createContext)({entity:void 0,loading:!0,error:void 0}),j=()=>{const{kind:e,namespace:t,name:a}=M(),i=Object(o.m)(),l=Object(n.Ab)(n.pb),c=Object(n.Ab)(m),{value:u,error:d,loading:p}=Object(s.a)(()=>c.getEntityByName({kind:e,namespace:t,name:a}),[c,e,t,a]);return Object(r.useEffect)(()=>{a||(l.post(new Error("No name provided!")),i("/"))},[l,i,d,p,u,a]),{entity:u,loading:p,error:d}};function v(){const{entity:e,loading:t,error:a}=Object(r.useContext)(I);return{entity:e,loading:t,error:a}}function E(e,{type:t,kind:a}){const r=Object(n.Ab)(m),{loading:i,value:o,error:l}=Object(s.a)(async()=>{const n=e.relations&&e.relations.filter(e=>!(t&&e.type.toLowerCase()!==t.toLowerCase()||a&&e.target.kind.toLowerCase()!==a.toLowerCase()));if(!n)return[];const i=Object.values(Object(u.groupBy)(n,({target:e})=>`${e.kind}:${e.namespace}`.toLowerCase())),o=[];for(const e of i)o.push({kind:e[0].target.kind,namespace:e[0].target.namespace,nameBatches:Object(u.chunk)(e.map(e=>e.target.name),20)});return(await Promise.all(o.flatMap(e=>e.nameBatches.map(t=>r.getEntities({filter:{kind:e.kind,"metadata.namespace":e.namespace,"metadata.name":t}}))))).flatMap(e=>e.items)},[e,t]);return{entities:o,loading:i,error:l}}const w=e=>{var t;return`entity:${e.kind}:${null!=(t=e.metadata.namespace)?t:"default"}:${e.metadata.name}`},N=()=>{var e;const t=Object(n.Ab)(n.zb).forBucket("settings"),a=null!=(e=t.get("starredEntities"))?e:[],[i,o]=Object(r.useState)(new Set(a)),s=Object(l.a)(t.observe$("starredEntities"));Object(r.useEffect)(()=>{var e;if(null==s?void 0:s.newValue){const t=null!=(e=null==s?void 0:s.newValue)?e:[];o(new Set(t))}},[null==s?void 0:s.newValue]);const c=Object(r.useCallback)(e=>{const a=w(e);i.has(a)?i.delete(a):i.add(a),t.set("starredEntities",Array.from(i))},[i,t]),u=Object(r.useCallback)(e=>{const t=w(e);return i.has(t)},[i]);return{starredEntities:i,toggleStarredEntity:c,isStarredEntity:u}};function k(e,t){const a=null==t?void 0:t.defaultKind;let n,r,i;return"metadata"in e?(n=e.kind,r=e.metadata.namespace,i=e.metadata.name):(n=e.kind,r=e.namespace,i=e.name),r===c.b&&(r=void 0),n=n.toLowerCase(),""+Object(c.v)({kind:a&&a.toLowerCase()===n?void 0:n,name:i,namespace:r})}const x=Object(r.forwardRef)((e,t)=>{var a;const{entityRef:r,defaultKind:s,children:l,...u}=e;let d,m,p;"metadata"in r?(d=r.kind,m=r.metadata.namespace,p=r.metadata.name):(d=r.kind,m=r.namespace,p=r.name),d=d.toLocaleLowerCase("en-US");const g={kind:d,namespace:null!=(a=null==m?void 0:m.toLocaleLowerCase("en-US"))?a:c.b,name:p};return i.a.createElement(n.w,{...u,ref:t,to:Object(o.g)("/catalog/"+f.path,g)},l,!l&&k(r,{defaultKind:s}))}),D=({entityRefs:e,defaultKind:t,...a})=>i.a.createElement(i.a.Fragment,null,e.map((e,n)=>i.a.createElement(i.a.Fragment,{key:n},n>0&&", ",i.a.createElement(x,{...a,entityRef:e,defaultKind:t}))));function O(e,t,a){var n,r;let i=(null==(r=null==(n=null==e?void 0:e.relations)?void 0:n.filter(e=>e.type===t))?void 0:r.map(e=>e.target))||[];return(null==a?void 0:a.kind)&&(i=null==i?void 0:i.filter(e=>e.kind.toLowerCase()===a.kind.toLowerCase())),i}function S(e,t){const a=[...O(e,c.k,{kind:"group"}),...e?[Object(c.r)(e)]:[]],n=O(t,c.l);for(const e of n)if(void 0!==a.find(t=>e.kind.toLowerCase()===t.kind.toLowerCase()&&e.namespace.toLowerCase()===t.namespace.toLowerCase()&&e.name.toLowerCase()===t.name.toLowerCase()))return!0;return!1}function A({defaultKind:e}){function t(t){return k(t,{defaultKind:e})}return{title:"Name",highlight:!0,customFilterAndSearch:(e,a)=>t(a).includes(e),customSort:(e,a)=>t(e).localeCompare(t(a)),render:t=>i.a.createElement(x,{entityRef:t,defaultKind:e})}}function T({title:e,relation:t,defaultKind:a,filter:n}){function r(e){return O(e,t,n)}function o(e){return r(e).map(e=>k(e,{defaultKind:a})).join(", ")}return{title:e,customFilterAndSearch:(e,t)=>o(t).includes(e),customSort:(e,t)=>o(e).localeCompare(o(t)),render:e=>i.a.createElement(D,{entityRefs:r(e),defaultKind:a})}}function z(){return T({title:"Owner",relation:c.l,defaultKind:"group"})}function C(){return T({title:"Domain",relation:c.n,defaultKind:"domain",filter:{kind:"domain"}})}function L(){return T({title:"System",relation:c.n,defaultKind:"system",filter:{kind:"system"}})}function P(){return{title:"Description",field:"metadata.description",render:e=>i.a.createElement(n.A,{text:e.metadata.description,placement:"bottom-start"}),width:"auto"}}function $(){return{title:"Lifecycle",field:"spec.lifecycle"}}function R(){return{title:"Type",field:"spec.type"}}var U=Object.freeze({__proto__:null,createEntityRefColumn:A,createEntityRelationColumn:T,createOwnerColumn:z,createDomainColumn:C,createSystemColumn:L,createMetadataDescriptionColumn:P,createSpecLifecycleColumn:$,createSpecTypeColumn:R});const _=[A({defaultKind:"system"}),C(),z(),P()],Q=[A({defaultKind:"component"}),L(),z(),{title:"Type",field:"spec.type"},{title:"Lifecycle",field:"spec.lifecycle"},P()],B=Object(d.a)(e=>({empty:{padding:e.spacing(2),display:"flex",justifyContent:"center"}}));function Y({entities:e,title:t,emptyContent:a,variant:r="gridItem",columns:o}){const s=B(),l={minWidth:"0",width:"100%"};return"gridItem"===r&&(l.height="calc(100% - 10px)"),i.a.createElement(n.Z,{columns:o,title:t,style:l,emptyContent:a&&i.a.createElement("div",{className:s.empty},a),options:{search:!1,paging:!1,actionsColumnIndex:-1,padding:"dense"},data:e})}Y.columns=U,Y.systemEntityColumns=_,Y.componentEntityColumns=Q},1306:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var n=a(3),r=a(0),i=a.n(r),o=a(39),s=a(1326),l=a(775),c=a(61),u=a(35),d=a(73),m=a(773),p=a(777),g=a(546),h=a.n(g),f=a(1307),y=a.n(f),b=a(2767),M=a(2763);const I=Object(n.nb)({title:"Tech Radar"}),j=Object(n.lb)({id:"tech-radar",routes:{root:I}}).provide(Object(n.mb)({component:()=>Promise.resolve().then((function(){return V})).then(e=>e.RadarPage),mountPoint:I})),v=Object(o.a)(()=>({ring:{fill:"none",stroke:"#bbb",strokeWidth:"1px"},axis:{fill:"none",stroke:"#bbb",strokeWidth:"1px"},text:{pointerEvents:"none",userSelect:"none",fill:"#e5e5e5",fontSize:"25px",fontWeight:800}})),E=e=>{const{radius:t,rings:a}=e,n=v(e),r=[i.a.createElement("line",{key:"x",x1:0,y1:-t,x2:0,y2:t,className:n.axis,"data-testid":"radar-grid-x-line"}),i.a.createElement("line",{key:"y",x1:-t,y1:0,x2:t,y2:0,className:n.axis,"data-testid":"radar-grid-y-line"})],o=a.map(e=>e.outerRadius).map((e,t)=>((e,t)=>[i.a.createElement("circle",{key:"c"+e,cx:0,cy:0,r:t,className:n.ring}),i.a.createElement("text",{key:"t"+e,y:void 0!==t?42-t:void 0,textAnchor:"middle",className:n.text},a[e].name)])(t,e));return i.a.createElement(i.a.Fragment,null,r.concat(...o))},w=({url:e,className:t,children:a})=>e?i.a.createElement("a",{href:e,className:t},a):i.a.createElement(i.a.Fragment,null,a),N=e=>{const{open:t,onClose:a,title:r,description:o,url:u}=e;return i.a.createElement(m.a,{"data-testid":"radar-description",open:t,onClose:a},i.a.createElement(p.a,{"data-testid":"radar-description-dialog-title"},r),i.a.createElement(s.a,{dividers:!0},i.a.createElement(n.x,{content:o})),u&&i.a.createElement(l.a,null,i.a.createElement(c.a,{onClick:()=>{a(),u&&(window.location.href=u)},color:"primary",startIcon:i.a.createElement(h.a,null),href:u},"LEARN MORE")))},k=Object(o.a)(()=>({text:{pointerEvents:"none",userSelect:"none",fontSize:"9px",fill:"#fff",textAnchor:"middle"},link:{cursor:"pointer"}})),x=e=>{const t=k(e),[a,n]=i.a.useState(!1),{moved:r,description:o,title:s,color:l,url:c,value:u,x:d,y:m,onMouseEnter:p,onMouseLeave:g,onClick:h}=e,f=((e,t)=>{const a={fill:e};let n=i.a.createElement("circle",{r:9,style:a});return t&&t>0?n=i.a.createElement("path",{d:"M -11,5 11,5 0,-13 z",style:a}):t&&t<0&&(n=i.a.createElement("path",{d:"M -11,-5 11,-5 0,13 z",style:a})),n})(l,r);return i.a.createElement("g",{transform:`translate(${d}, ${m})`,onMouseEnter:p,onMouseLeave:g,onClick:h,"data-testid":"radar-entry"}," ",a&&i.a.createElement(N,{open:a,onClose:()=>{n(!1)},title:s||"no title",description:o||"no description",url:c}),o?i.a.createElement("a",{className:t.link,onClick:()=>{n(!0)},role:"button",href:"#",tabIndex:0,onKeyPress:()=>{n(!a)}},f):i.a.createElement(w,{url:c,className:t.link},f),i.a.createElement("text",{y:3,className:t.text},u))},D=Object(o.a)(()=>({bubble:{pointerEvents:"none",userSelect:"none",opacity:0},visibleBubble:{pointerEvents:"none",userSelect:"none",opacity:.8},background:{fill:"#333"},text:{pointerEvents:"none",userSelect:"none",fontSize:"10px",fill:"#fff"}})),O=e=>{const t=D(e),{visible:a,text:n}=e,o=Object(r.useRef)(null),s=Object(r.useRef)(null),l=Object(r.useRef)(null),c=Object(r.useRef)(null);return Object(r.useLayoutEffect)(()=>{(()=>{if(o.current){const{x:t,y:a}=e,n=o.current.getBBox(),r=5,i=4;s.current&&s.current.setAttribute("transform",`translate(${t-n.width/2}, ${a-n.height-i})`),l.current&&(l.current.setAttribute("x",String(-r)),l.current.setAttribute("y",String(-n.height)),l.current.setAttribute("width",String(n.width+2*r)),l.current.setAttribute("height",String(n.height+i))),c.current&&c.current.setAttribute("transform",`translate(${n.width/2-r}, ${i-1})`)}})()}),i.a.createElement("g",{ref:s,x:0,y:0,className:a?t.visibleBubble:t.bubble,"data-testid":"radar-bubble"},i.a.createElement("rect",{ref:l,rx:4,ry:4,className:t.background}),i.a.createElement("text",{ref:o,className:t.text},n),i.a.createElement("path",{ref:c,d:"M 0,0 10,0 5,8 z",className:t.background}))},S=Object(o.a)(e=>({text:{pointerEvents:"none",userSelect:"none",fontSize:"10px",fill:e.palette.text.secondary}})),A=e=>{const{x:t,y:a}=e,n=S(e);return i.a.createElement("text",{"data-testid":"radar-footer",transform:`translate(${t}, ${a})`,className:n.text},"▲ moved up     ▼ moved down")},T=Object(o.a)(e=>({quadrant:{height:"100%",width:"100%",overflow:"hidden",pointerEvents:"none"},quadrantHeading:{pointerEvents:"none",userSelect:"none",marginTop:0,marginBottom:e.spacing(8/6.75),fontSize:"18px"},rings:{columns:3},ring:{breakInside:"avoid-column",pageBreakInside:"avoid","-webkit-column-break-inside":"avoid",fontSize:"12px"},ringHeading:{pointerEvents:"none",userSelect:"none",marginTop:0,marginBottom:e.spacing(8/4.5),fontSize:"12px",fontWeight:800},ringList:{listStylePosition:"inside",marginTop:0,paddingLeft:0,fontVariantNumeric:"proportional-nums","-moz-font-feature-settings":"pnum","-webkit-font-feature-settings":"pnum","font-feature-settings":"pnum"},entry:{pointerEvents:"visiblePainted",userSelect:"none",fontSize:"11px"},entryLink:{pointerEvents:"visiblePainted"}})),z=e=>{const t=T(e),a=(e,t,a,n=0)=>{const r=t.index,i=a.index,o=void 0===r?{}:e[r]||{};return void 0===i?[]:o[i+n]||[]},n=({url:e,description:a,title:n})=>{const[r,o]=i.a.useState(!1),s=()=>{o(!0)},l=()=>{o(!1)},c=()=>{o(!r)};return a?i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:t.entryLink,onClick:s,role:"button",tabIndex:0,onKeyPress:c},i.a.createElement("span",{className:t.entry},n)),r&&i.a.createElement(N,{open:r,onClose:l,title:n||"no title",url:e,description:a})):i.a.createElement(w,{url:e,className:t.entryLink},i.a.createElement("span",{className:t.entry},n))},r=({ring:e,entries:a,onEntryMouseEnter:r,onEntryMouseLeave:o})=>i.a.createElement("div",{"data-testid":"radar-ring",key:e.id,className:t.ring},i.a.createElement("h3",{className:t.ringHeading},e.name),0===a.length?i.a.createElement("p",null,"(empty)"):i.a.createElement("ol",{className:t.ringList},a.map(e=>i.a.createElement("li",{key:e.id,value:(e.index||0)+1,onMouseEnter:r&&(()=>r(e)),onMouseLeave:o&&(()=>o(e))},i.a.createElement(n,{url:e.url,title:e.title,description:e.description}))))),o=({segments:e,quadrant:n,rings:o,onEntryMouseEnter:s,onEntryMouseLeave:l})=>i.a.createElement("foreignObject",{key:n.id,x:n.legendX,y:n.legendY,width:n.legendWidth,height:n.legendHeight,"data-testid":"radar-quadrant"},i.a.createElement("div",{className:t.quadrant},i.a.createElement("h2",{className:t.quadrantHeading},n.name),i.a.createElement("div",{className:t.rings},o.map(t=>i.a.createElement(r,{key:t.id,ring:t,entries:a(e,n,t),onEntryMouseEnter:s,onEntryMouseLeave:l}))))),{quadrants:s,rings:l,entries:c,onEntryMouseEnter:u,onEntryMouseLeave:d}=e,m=(e=>{const t={};for(const a of e){const e=a.quadrant.index,n=a.ring.index;let r={};void 0!==e&&(void 0===t[e]&&(t[e]={}),r=t[e]);let i=[];void 0!==n&&(void 0===r[n]&&(r[n]=[]),i=r[n]),i.push(a)}return t})(c);return i.a.createElement("g",{"data-testid":"radar-legend"},s.map(e=>i.a.createElement(o,{key:e.id,segments:m,quadrant:e,rings:l,onEntryMouseEnter:u,onEntryMouseLeave:d})))},C=e=>{const{width:t,height:a,radius:n,quadrants:r,rings:o,entries:s,activeEntry:l,onEntryMouseEnter:c,onEntryMouseLeave:u}=e;return i.a.createElement("g",{"data-testid":"radar-plot"},i.a.createElement(z,{quadrants:r,rings:o,entries:s,onEntryMouseEnter:c&&(e=>c(e)),onEntryMouseLeave:u&&(e=>u(e))}),i.a.createElement("g",{transform:`translate(${t/2}, ${a/2})`},i.a.createElement(E,{radius:n,rings:o}),i.a.createElement(A,{x:-.5*t,y:.5*a}),s.map(e=>i.a.createElement(x,{key:e.id,x:e.x||0,y:e.y||0,color:e.color||"",value:((null==e?void 0:e.index)||0)+1,url:e.url,description:e.description,moved:e.moved,title:e.title,onMouseEnter:c&&(()=>c(e)),onMouseLeave:u&&(()=>u(e))})),i.a.createElement(O,{visible:!!l,text:(null==l?void 0:l.title)||"",x:(null==l?void 0:l.x)||0,y:(null==l?void 0:l.y)||0})))};class L{constructor(e,t,a,n){this.nextSeed=n,this.polarMin={t:e.radialMin,r:t.innerRadius},this.polarMax={t:e.radialMax,r:t.outerRadius},this.cartesianMin={x:15*e.offsetX,y:15*e.offsetY},this.cartesianMax={x:a*e.offsetX,y:a*e.offsetY}}clipx(e){const t=U(P(_(e,this.cartesianMin,this.cartesianMax)),this.polarMin.r+15,this.polarMax.r-15);return e.x=$(t).x,e.x}clipy(e){const t=U(P(_(e,this.cartesianMin,this.cartesianMax)),this.polarMin.r+15,this.polarMax.r-15);return e.y=$(t).y,e.y}random(){return $({t:this._randomBetween(this.polarMin.t,this.polarMax.t),r:this._normalBetween(this.polarMin.r,this.polarMax.r)})}_random(){const e=1e4*Math.sin(this.nextSeed());return e-Math.floor(e)}_randomBetween(e,t){return e+this._random()*(t-e)}_normalBetween(e,t){return e+.5*(this._random()+this._random())*(t-e)}}function P({x:e,y:t}){return{t:Math.atan2(t,e),r:Math.sqrt(e*e+t*t)}}function $({r:e,t:t}){return{x:e*Math.cos(t),y:e*Math.sin(t)}}function R(e,t,a){const n=Math.min(t,a),r=Math.max(t,a);return Math.min(Math.max(e,n),r)}function U(e,t,a){return{t:e.t,r:R(e.r,t,a)}}function _(e,t,a){return{x:R(e.x,t.x,a.x),y:R(e.y,t.y,a.y)}}const Q=e=>{const{width:t,height:a,quadrants:n,rings:o,entries:s}=e,l=Math.min(t,a)/2,[c,u]=Object(r.useState)(),d=Object(r.useRef)(null);return((e,t,a,n)=>{const r=[16,a/2-t-16,a/2+t+16,a-16],i=[16,n/2-16,n/2,n-16],o=[{x:r[2],y:i[2],width:r[3]-r[2],height:i[3]-i[2]},{x:r[0],y:i[2],width:r[1]-r[0],height:i[3]-i[2]},{x:r[0],y:i[0],width:r[1]-r[0],height:i[1]-i[0]},{x:r[2],y:i[0],width:r[3]-r[2],height:i[1]-i[0]}];e.forEach((e,t)=>{const a=o[t%4];e.index=t,e.radialMin=t*Math.PI/2,e.radialMax=(t+1)*Math.PI/2,e.offsetX=t%4==0||t%4==3?1:-1,e.offsetY=t%4==0||t%4==1?1:-1,e.legendX=a.x,e.legendY=a.y,e.legendWidth=a.width,e.legendHeight=a.height})})(n,l,t,a),((e,t)=>{e.forEach((a,n)=>{a.index=n,a.outerRadius=(n+2)/(e.length+1)*t,a.innerRadius=(0===n?0:n+1)/(e.length+1)*t})})(o,l),((e,t,a,n,r)=>{let i=42;e.forEach((e,o)=>{const s=t.find(t=>{const a="object"==typeof e.quadrant?e.quadrant.id:e.quadrant;return t.id===a}),l=a.find(t=>{const a="object"==typeof e.ring?e.ring.id:e.ring;return t.id===a});if(!s)throw new Error(`Unknown quadrant ${e.quadrant} for entry ${e.id}!`);if(!l)throw new Error(`Unknown ring ${e.ring} for entry ${e.id}!`);e.index=o,e.quadrant=s,e.ring=l,e.segment=new L(s,l,n,()=>i++);const c=e.segment.random();e.x=c.x,e.y=c.y,e.active=!!r&&e.id===r.id,e.color=e.active?e.ring.color:y()(e.ring.color).desaturate(.5).lighten(.1).string()});const o=Object(b.a)().nodes(e).velocityDecay(.19).force("collision",Object(M.a)().radius(12).strength(.85)).stop();for(let t=0,a=Math.ceil(Math.log(o.alphaMin())/Math.log(1-o.alphaDecay()));t<a;++t){o.tick();for(const t of e)t.segment&&(t.x=t.segment.clipx(t),t.y=t.segment.clipy(t))}})(s,n,o,l,c),i.a.createElement("svg",{ref:d,width:t,height:a,...e.svgProps},i.a.createElement(C,{width:t,height:a,radius:l,entries:s,quadrants:n,rings:o,activeEntry:c,onEntryMouseEnter:e=>u(e),onEntryMouseLeave:()=>u(void 0)}))},B=new Array;B.push({id:"use",name:"USE",color:"#93c47d"}),B.push({id:"trial",name:"TRIAL",color:"#93d2c2"}),B.push({id:"assess",name:"ASSESS",color:"#fbdb84"}),B.push({id:"hold",name:"HOLD",color:"#efafa9"});const Y=new Array;Y.push({id:"infrastructure",name:"Infrastructure"}),Y.push({id:"frameworks",name:"Frameworks"}),Y.push({id:"languages",name:"Languages"}),Y.push({id:"process",name:"Process"});const G=new Array;G.push({timeline:[{moved:0,ringId:"use",date:new Date("2020-08-06"),description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"}],url:"#",key:"javascript",id:"javascript",title:"JavaScript",quadrant:"languages",description:"Excepteur **sint** occaecat *cupidatat* non proident, sunt in culpa qui officia deserunt mollit anim id est laborum"}),G.push({timeline:[{moved:-1,ringId:"use",date:new Date("2020-08-06"),description:"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat"}],url:"#",key:"typescript",id:"typescript",title:"TypeScript",quadrant:"languages",description:"Itaque earum rerum hic tenetur a sapiente delectus, ut aut reiciendis voluptatibus maiores alias consequatur aut perferendis doloribus asperiores repellat"}),G.push({timeline:[{moved:1,ringId:"use",date:new Date("2020-08-06"),description:"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur"}],url:"https://webpack.js.org/",key:"webpack",id:"webpack",title:"Webpack",quadrant:"frameworks"}),G.push({timeline:[{moved:0,ringId:"use",date:new Date("2020-08-06")}],url:"https://reactjs.org/",key:"react",id:"react",title:"React",quadrant:"frameworks"}),G.push({timeline:[{moved:0,ringId:"use",date:new Date("2020-08-06")}],url:"#",key:"code-reviews",id:"code-reviews",title:"Code Reviews",quadrant:"process"}),G.push({timeline:[{moved:0,ringId:"assess",date:new Date("2020-08-06")}],url:"#",key:"mob-programming",id:"mob-programming",title:"Mob Programming",quadrant:"process"}),G.push({timeline:[{moved:0,ringId:"use",date:new Date("2020-08-06")}],url:"#",key:"docs-like-code",id:"docs-like-code",title:"Docs-like-code",quadrant:"process"}),G.push({timeline:[{ringId:"hold",date:new Date("2020-08-06")}],url:"#",key:"force-push",id:"force-push",title:"Force push to master",quadrant:"process"}),G.push({timeline:[{ringId:"use",date:new Date("2020-08-06")}],url:"#",key:"github-actions",id:"github-actions",title:"GitHub Actions",quadrant:"infrastructure"});const Z=e=>{const{loading:t,error:a,value:o}=(e=>{const t=Object(n.Ab)(n.pb),{getData:a}=e,i=Object(d.a)(async()=>{if(a){return await a()}},[a,t]);return Object(r.useEffect)(()=>{const{error:e}=i;e&&t.post(e)},[t,i]),i})(e);return i.a.createElement(i.a.Fragment,null,t&&i.a.createElement(n.C,null),!t&&!a&&i.a.createElement(Q,{...e,rings:o.rings,quadrants:o.quadrants,entries:(s=o,s.entries.map(e=>({id:e.key,quadrant:s.quadrants.find(t=>t.id===e.quadrant),title:e.title,ring:s.rings.find(t=>t.id===e.timeline[0].ringId),timeline:e.timeline.map(e=>({date:e.date,ring:s.rings.find(t=>t.id===e.ringId),description:e.description,moved:e.moved})),moved:e.timeline[0].moved,description:e.description||e.timeline[0].description,url:e.url})))}));var s};Z.defaultProps={getData:function(){return Promise.resolve({rings:B,quadrants:Y,entries:G})}};const W=Object(o.a)(()=>({overflowXScroll:{overflowX:"scroll"}})),F=({title:e,subtitle:t,pageTitle:a,...r})=>{const o=W();return i.a.createElement(n.B,{themeId:"tool"},i.a.createElement(n.o,{title:e,subtitle:t}),i.a.createElement(n.g,{className:o.overflowXScroll},i.a.createElement(n.h,{title:a},i.a.createElement(n.W,null,"This is used for visualizing the official guidelines of different areas of software development such as languages, frameworks, infrastructure and processes.")),i.a.createElement(u.a,{container:!0,spacing:3,direction:"row"},i.a.createElement(u.a,{item:!0,xs:12,sm:6,md:4},i.a.createElement(Z,{...r})))))};F.defaultProps={title:"Tech Radar",subtitle:"Pick the recommended technologies for your projects",pageTitle:"Company Radar"};var V=Object.freeze({__proto__:null,RadarPage:F})},1389:function(e,t){},139:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return o}));var n=a(3),r=a(215);class i{static fromConfig(e){return r.a.fromConfig(e)}}const o=Object(n.hb)({id:"integration.scmintegrations",description:"All of the registered SCM integrations of your config"})},147:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.schemaCxtHasRules=t.subschemaCode=t.validateFunctionCode=void 0;const n=a(2026),r=a(395),i=a(2027),o=a(41),s=a(185),l=a(492),c=a(65);function u({gen:e,validateName:t,schema:a,schemaEnv:n,opts:r},i){r.code.es5?e.func(t,o._`${s.default.data}, ${s.default.valCxt}`,n.$async,()=>{e.code(o._`"use strict"; ${d(a,r)}`),function(e,t){e.if(s.default.valCxt,()=>{e.var(s.default.dataPath,o._`${s.default.valCxt}.${s.default.dataPath}`),e.var(s.default.parentData,o._`${s.default.valCxt}.${s.default.parentData}`),e.var(s.default.parentDataProperty,o._`${s.default.valCxt}.${s.default.parentDataProperty}`),e.var(s.default.rootData,o._`${s.default.valCxt}.${s.default.rootData}`),t.dynamicRef&&e.var(s.default.dynamicAnchors,o._`${s.default.valCxt}.${s.default.dynamicAnchors}`)},()=>{e.var(s.default.dataPath,o._`""`),e.var(s.default.parentData,o._`undefined`),e.var(s.default.parentDataProperty,o._`undefined`),e.var(s.default.rootData,s.default.data),t.dynamicRef&&e.var(s.default.dynamicAnchors,o._`{}`)})}(e,r),e.code(i)}):e.func(t,o._`${s.default.data}, ${function(e){return o._`{${s.default.dataPath}="", ${s.default.parentData}, ${s.default.parentDataProperty}, ${s.default.rootData}=${s.default.data}${e.dynamicRef?o._`, ${s.default.dynamicAnchors}={}`:o.nil}}={}`}(r)}`,n.$async,()=>e.code(d(a,r)).code(i))}function d(e,t){return"object"==typeof e&&e.$id&&(t.code.source||t.code.process)?o._`/*# sourceURL=${e.$id} */`:o.nil}function m({schema:e,self:t}){if("boolean"==typeof e)return!e;for(const a in e)if(t.RULES.all[a])return!0;return!1}function p(e){return"boolean"!=typeof e.schema}function g(e){c.checkUnknownRules(e),function(e){const{schema:t,errSchemaPath:a,opts:n,self:r}=e;t.$ref&&n.ignoreKeywordsWithRef&&c.schemaHasRulesButRef(t,r.RULES)&&r.logger.warn(`$ref: keywords ignored in schema at path "${a}"`)}(e)}function h(e,t){if(e.opts.jtd)return i.schemaKeywords(e,[],!1,t);const a=r.getSchemaTypes(e.schema),n=r.coerceAndCheckDataType(e,a);i.schemaKeywords(e,a,!n,t)}function f({gen:e,schemaEnv:t,schema:a,errSchemaPath:n,opts:r}){const i=a.$comment;if(!0===r.$comment)e.code(o._`${s.default.self}.logger.log(${i})`);else if("function"==typeof r.$comment){const a=o.str`${n}/$comment`,r=e.scopeValue("root",{ref:t.root});e.code(o._`${s.default.self}.opts.$comment(${i}, ${a}, ${r}.schema)`)}}function y(e,t,a=e.opts.strict){if(a){if(t="strict mode: "+t,!0===a)throw new Error(t);e.self.logger.warn(t)}}t.validateFunctionCode=function(e){p(e)&&(g(e),m(e))?function(e){const{schema:t,opts:a,gen:n}=e;u(e,()=>{a.$comment&&t.$comment&&f(e),function(e){const{schema:t,opts:a}=e;void 0!==t.default&&a.useDefaults&&a.strict&&y(e,"default is ignored in the schema root")}(e),n.let(s.default.vErrors,null),n.let(s.default.errors,0),a.unevaluated&&function(e){const{gen:t,validateName:a}=e;e.evaluated=t.const("evaluated",o._`${a}.evaluated`),t.if(o._`${e.evaluated}.dynamicProps`,()=>t.assign(o._`${e.evaluated}.props`,o._`undefined`)),t.if(o._`${e.evaluated}.dynamicItems`,()=>t.assign(o._`${e.evaluated}.items`,o._`undefined`))}(e),h(e),function(e){const{gen:t,schemaEnv:a,validateName:n,ValidationError:r,opts:i}=e;a.$async?t.if(o._`${s.default.errors} === 0`,()=>t.return(s.default.data),()=>t.throw(o._`new ${r}(${s.default.vErrors})`)):(t.assign(o._`${n}.errors`,s.default.vErrors),i.unevaluated&&function({gen:e,evaluated:t,props:a,items:n}){a instanceof o.Name&&e.assign(o._`${t}.props`,a);n instanceof o.Name&&e.assign(o._`${t}.items`,n)}(e),t.return(o._`${s.default.errors} === 0`))}(e)})}(e):u(e,()=>n.topBoolOrEmptySchema(e))},t.subschemaCode=function(e,t){p(e)&&(g(e),m(e))?function(e,t){const{schema:a,gen:n,opts:r}=e;r.$comment&&a.$comment&&f(e);(function(e){e.schema.$id&&(e.baseId=l.resolveUrl(e.baseId,e.schema.$id))})(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}(e);const i=n.const("_errs",s.default.errors);h(e,i),n.var(t,o._`${i} === ${s.default.errors}`)}(e,t):n.boolOrEmptySchema(e,t)},t.schemaCxtHasRules=m,t.checkStrictMode=y},159:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return o}));var n=a(566);class r extends Error{constructor(e,t){var a;let n=e;t&&(n?n+="; caused by "+t:n="caused by "+t),super(n),null==(a=Error.captureStackTrace)||a.call(Error,this,this.constructor),this.name=this.constructor.name,this.cause=t}}class i extends r{}class o extends Error{static async fromResponse(e){const t=await async function(e){var t;try{const a=await e.text();if(a){if(null==(t=e.headers.get("content-type"))?void 0:t.startsWith("application/json"))try{const e=JSON.parse(a);if(e.error&&e.response)return e}catch{}return{error:{name:"Unknown",message:`Request failed with status ${e.status} ${e.statusText}, ${a}`},response:{statusCode:e.status}}}}catch{}return{error:{name:"Unknown",message:`Request failed with status ${e.status} ${e.statusText}`},response:{statusCode:e.status}}}(e),a=`Request failed with ${t.response.statusCode||e.status} ${t.error.name||e.statusText}`,r=function(e){const t=Object(n.deserializeError)(e);return e.stack||(t.stack=void 0),t}(t.error);return new o({message:a,response:e,data:t,cause:r})}constructor(e){super(e.message),this.name="ResponseError",this.response=e.response,this.data=e.data,this.cause=e.cause}}},164:function(e,t,a){"use strict";a.d(t,"a",(function(){return H})),a.d(t,"b",(function(){return q})),a.d(t,"c",(function(){return ee})),a.d(t,"d",(function(){return te}));var n=a(3),r=a(28),i=a(228),o=a.n(i),s=a(12),l=a(176),c=a(39),u=a(134),d=a(18),m=a(292),p=a(592),g=a(61),h=a(362),f=a(293),y=a(579),b=a(286),M=a(180),I=a(126),j=a(291),v=a(81),E=a(35),w=a(0),N=a.n(w),k=a(73),x=a(1335),D=a(771),O=a(308),S=a.n(O),A=a(306),T=a.n(A),z=a(202),C=a(320),L=a.n(C),P=a(19);const $=Object(n.hb)({id:"plugin.search.queryservice",description:"Used to make requests against the search API"});class R{constructor(e){this.catalogApi=e.catalogApi,this.discoveryApi=e.discoveryApi}async entities(){return(await this.catalogApi.getEntities()).items.map(e=>{var t,a,n,i,o;return{name:e.metadata.name,description:e.metadata.description,owner:"string"==typeof(null==(t=e.spec)?void 0:t.owner)?null==(a=e.spec)?void 0:a.owner:void 0,kind:e.kind,lifecycle:"string"==typeof(null==(n=e.spec)?void 0:n.lifecycle)?null==(i=e.spec)?void 0:i.lifecycle:void 0,url:`/catalog/${(null==(o=e.metadata.namespace)?void 0:o.toLowerCase())||r.b}/${e.kind.toLowerCase()}/${e.metadata.name}`}})}getSearchResult(){return this.entities()}async _alphaPerformSearch(e){const t=o.a.stringify(e),a=`${await this.discoveryApi.getBaseUrl("search/query")}?${t}`;return(await fetch(a)).json()}}const U=Object(c.a)(()=>({root:{display:"flex",alignItems:"center"},input:{flex:1}})),_=({searchQuery:e,handleSearch:t,handleClearSearchBar:a})=>{const n=U();return N.a.createElement(l.a,{component:"form",onSubmit:e=>t(e),className:n.root},N.a.createElement(u.a,{disabled:!0,type:"submit","aria-label":"search"},N.a.createElement(S.a,null)),N.a.createElement(D.a,{className:n.input,placeholder:"Search in Backstage",value:e,onChange:e=>t(e),inputProps:{"aria-label":"search backstage"}}),N.a.createElement(u.a,{"aria-label":"search",onClick:()=>a()},N.a.createElement(T.a,null)))},Q=Object(c.a)(e=>({filters:{width:"250px",display:"flex"},icon:{margin:e.spacing(-1,0,0,0)}})),B=({numberOfSelectedFilters:e,handleToggleFilters:t})=>{const a=Q();return N.a.createElement("div",{className:a.filters},N.a.createElement(u.a,{className:a.icon,"aria-label":"settings",onClick:t},N.a.createElement(L.a,null)),N.a.createElement(d.a,{variant:"h6"},"Filters (",e||0,")"))},Y=Object(c.a)(e=>({filters:{background:"transparent",boxShadow:"0px 0px 0px 0px"},checkbox:{padding:e.spacing(0,1,0,1)},dropdown:{width:"100%"}})),G=({filters:e,filterOptions:t,resetFilters:a,updateSelected:n,updateChecked:r})=>{const i=Y();return N.a.createElement(m.a,{className:i.filters},N.a.createElement(p.a,{title:N.a.createElement(d.a,{variant:"h6"},"Filters"),action:N.a.createElement(g.a,{color:"primary",onClick:()=>a()},"CLEAR ALL")}),N.a.createElement(h.a,null),0===t.kind.length&&0===t.lifecycle.length&&N.a.createElement(f.a,null,N.a.createElement(d.a,{variant:"subtitle2"},"Filters cannot be applied to available results")),t.kind.length>0&&N.a.createElement(f.a,null,N.a.createElement(d.a,{variant:"subtitle2"},"Kind"),N.a.createElement(y.a,{id:"outlined-select",onChange:e=>{var t;return n(null==(t=null==e?void 0:e.target)?void 0:t.value)},variant:"outlined",className:i.dropdown,value:e.selected},t.kind.map(e=>N.a.createElement(b.a,{selected:""===e,dense:!0,key:e,value:e},e)))),t.lifecycle.length>0&&N.a.createElement(f.a,null,N.a.createElement(d.a,{variant:"subtitle2"},"Lifecycle"),N.a.createElement(M.a,{disablePadding:!0,dense:!0},t.lifecycle.map(t=>N.a.createElement(I.a,{key:t,dense:!0,button:!0,onClick:()=>r(t)},N.a.createElement(j.a,{edge:"start",disableRipple:!0,className:i.checkbox,color:"primary",checked:e.checked.includes(t),tabIndex:-1,value:t,name:t}),N.a.createElement(v.a,{id:t,primary:t}))))))},Z=Object(c.a)(e=>({searchQuery:{color:e.palette.text.primary,background:e.palette.background.default,borderRadius:"10%"},tableHeader:{margin:e.spacing(1,0,0,0),display:"flex"},divider:{width:"1px",margin:e.spacing(0,2),padding:e.spacing(2,0)}})),W=[{title:"Name",field:"name",highlight:!0,render:e=>N.a.createElement(n.w,{to:e.url||""},e.name)},{title:"Description",field:"description"},{title:"Owner",field:"owner"},{title:"Kind",field:"kind"},{title:"LifeCycle",field:"lifecycle"}],F=({searchQuery:e,numberOfSelectedFilters:t,numberOfResults:a,handleToggleFilters:n})=>{const r=Z();return N.a.createElement("div",{className:r.tableHeader},N.a.createElement(B,{numberOfSelectedFilters:t,handleToggleFilters:n}),N.a.createElement(h.a,{className:r.divider,orientation:"vertical"}),N.a.createElement(E.a,{item:!0,xs:12},e?N.a.createElement(d.a,{variant:"h6"},a+" ",a>1?"results for ":"result for ",N.a.createElement("span",{className:r.searchQuery},'"',e,'"')," "):N.a.createElement(d.a,{variant:"h6"},a+" results")))},V=({searchQuery:e})=>{const t=Object(n.Ab)($),[a,r]=Object(w.useState)(!1),[i,o]=Object(w.useState)({selected:"",checked:[]}),[s,l]=Object(w.useState)([]),{loading:c,error:u,value:d}=Object(k.a)(()=>t.getSearchResult(),[]);if(Object(w.useEffect)(()=>{if(d){let t=d;""!==i.selected&&(t=d.filter(e=>i.selected.includes(e.kind))),i.checked.length>0&&(t=t.filter(e=>e.lifecycle&&i.checked.includes(e.lifecycle))),e&&(t=t.filter(t=>{var a,n,r;return(null==(a=t.name)?void 0:a.toLocaleLowerCase("en-US").includes(e))||(null==(n=t.name)?void 0:n.toLocaleLowerCase("en-US").includes(e.split(" ").join("-")))||(null==(r=t.description)?void 0:r.toLocaleLowerCase("en-US").includes(e))})),l(t)}},[i,e,d]),c)return N.a.createElement(n.C,null);if(u)return N.a.createElement(z.a,{severity:"error"},"Error encountered while fetching search results. ",u.toString());if(!d||0===d.length)return N.a.createElement(n.k,{missing:"data",title:"Sorry, no results were found"});const m=d.reduce((e,t)=>(t.kind&&e.kind.indexOf(t.kind)<0&&e.kind.push(t.kind),t.lifecycle&&e.lifecycle.indexOf(t.lifecycle)<0&&e.lifecycle.push(t.lifecycle),e),{kind:[],lifecycle:[]});return N.a.createElement(N.a.Fragment,null,N.a.createElement(E.a,{container:!0},a&&N.a.createElement(E.a,{item:!0,xs:3},N.a.createElement(G,{filters:i,filterOptions:m,resetFilters:()=>{o({selected:"",checked:[]})},updateSelected:e=>{o(t=>({...t,selected:e}))},updateChecked:e=>{i.checked.includes(e)?o(t=>({...t,checked:t.checked.filter(t=>t!==e)})):o(t=>({...t,checked:[...t.checked,e]}))}})),N.a.createElement(E.a,{item:!0,xs:a?9:12},N.a.createElement(n.Z,{options:{paging:!0,pageSize:20,search:!1},data:s,columns:W,title:N.a.createElement(F,{searchQuery:e,numberOfResults:s.length,numberOfSelectedFilters:(""!==i.selected?1:0)+i.checked.length,handleToggleFilters:()=>r(!a)})}))))},H=()=>{const[e,t]=Object(n.Cb)("query"),[a,r]=Object(w.useState)(null!=e?e:"");Object(w.useEffect)(()=>r(null!=e?e:""),[e]),Object(x.a)(()=>{t(a)},200,[a]);return N.a.createElement(n.B,{themeId:"home"},N.a.createElement(n.o,{title:"Search"}),N.a.createElement(n.g,null,N.a.createElement(E.a,{container:!0,direction:"row"},N.a.createElement(E.a,{item:!0,xs:12},N.a.createElement(_,{handleSearch:e=>{e.preventDefault(),r(e.target.value)},handleClearSearchBar:()=>{r("")},searchQuery:a})),N.a.createElement(E.a,{item:!0,xs:12},N.a.createElement(V,{searchQuery:(null!=e?e:"").toLocaleLowerCase("en-US")})))))},q=()=>{const[e,t]=Object(n.Cb)("query"),[a,r]=Object(w.useState)(null!=e?e:"");Object(w.useEffect)(()=>r(null!=e?e:""),[e]),Object(x.a)(()=>{t(a)},200,[a]);return N.a.createElement(n.B,{themeId:"home"},N.a.createElement(n.o,{title:"Search",subtitle:N.a.createElement(n.v,{alpha:!0})}),N.a.createElement(n.g,null,N.a.createElement(E.a,{container:!0,direction:"row"},N.a.createElement(E.a,{item:!0,xs:12},N.a.createElement(_,{handleSearch:e=>{e.preventDefault(),r(e.target.value)},handleClearSearchBar:()=>{r("")},searchQuery:a})),N.a.createElement(E.a,{item:!0,xs:12},N.a.createElement(V,{searchQuery:(null!=e?e:"").toLowerCase()})))))},J=Object(n.nb)({path:"/search",title:"search"}),X=Object(n.nb)({path:"/search-next",title:"search"}),K=Object(n.lb)({id:"search",apis:[Object(n.gb)({api:$,deps:{catalogApi:s.e,discoveryApi:n.ob},factory:({catalogApi:e,discoveryApi:t})=>new R({catalogApi:e,discoveryApi:t})})],register({router:e}){e.addRoute(J,H),e.addRoute(X,q)},routes:{root:J,nextRoot:X}}),ee=K.provide(Object(n.mb)({component:()=>a.e(52).then(a.bind(null,2789)).then(e=>e.SearchPage),mountPoint:J})),te=(K.provide(Object(n.mb)({component:()=>a.e(53).then(a.bind(null,2790)).then(e=>e.SearchPageNext),mountPoint:X})),()=>{const e=Object(n.Db)(J),t=Object(P.m)(),a=Object(w.useCallback)(a=>{const n=o.a.stringify({query:a},{addQueryPrefix:!0});t(`${e()}${n}`)},[t,e]);return N.a.createElement(n.M,{onSearch:a,to:"/search"})})},185:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(41),r={data:new n.Name("data"),valCxt:new n.Name("valCxt"),dataPath:new n.Name("dataPath"),parentData:new n.Name("parentData"),parentDataProperty:new n.Name("parentDataProperty"),rootData:new n.Name("rootData"),dynamicAnchors:new n.Name("dynamicAnchors"),vErrors:new n.Name("vErrors"),errors:new n.Name("errors"),this:new n.Name("this"),self:new n.Name("self"),scope:new n.Name("scope"),json:new n.Name("json"),jsonPos:new n.Name("jsonPos"),jsonLen:new n.Name("jsonLen"),jsonPart:new n.Name("jsonPart")};t.default=r},186:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;const n=a(41),r=a(65),i=a(309),o=a(185);function s(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:n._`Object.prototype.hasOwnProperty`})}function l(e,t,a){return n._`${s(e)}.call(${t}, ${a})`}function c(e,t,a,r){const i=n._`${t}${n.getProperty(a)} === undefined`;return r?n.or(i,n.not(l(e,t,a))):i}function u(e){return e?Object.keys(e).filter(e=>"__proto__"!==e):[]}t.checkReportMissingProp=function(e,t){const{gen:a,data:r,it:i}=e;a.if(c(a,r,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:n._`${t}`},!0),e.error()})},t.checkMissingProp=function({gen:e,data:t,it:{opts:a}},r,i){return n.or(...r.map(r=>n.and(c(e,t,r,a.ownProperties),n._`${i} = ${r}`)))},t.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},t.hasPropFunc=s,t.isOwnProperty=l,t.propertyInData=function(e,t,a,r){const i=n._`${t}${n.getProperty(a)} !== undefined`;return r?n._`${i} && ${l(e,t,a)}`:i},t.noPropertyInData=c,t.allSchemaProperties=u,t.schemaProperties=function(e,t){return u(t).filter(a=>!r.alwaysValidSchema(e,t[a]))},t.callValidateCode=function({schemaCode:e,data:t,it:{gen:a,topSchemaRef:r,schemaPath:i,errorPath:s},it:l},c,u,d){const m=d?n._`${e}, ${t}, ${r}${i}`:t,p=[[o.default.dataPath,n.strConcat(o.default.dataPath,s)],[o.default.parentData,l.parentData],[o.default.parentDataProperty,l.parentDataProperty],[o.default.rootData,o.default.rootData]];l.opts.dynamicRef&&p.push([o.default.dynamicAnchors,o.default.dynamicAnchors]);const g=n._`${m}, ${a.object(...p)}`;return u!==n.nil?n._`${c}.call(${u}, ${g})`:n._`${c}(${g})`},t.usePattern=function(e,t){return e.scopeValue("pattern",{key:t,ref:new RegExp(t,"u"),code:n._`new RegExp(${t}, "u")`})},t.validateArray=function(e){const{gen:t,data:a,keyword:r,it:o}=e,s=t.name("valid");if(o.allErrors){const e=t.let("valid",!0);return l(()=>t.assign(e,!1)),e}return t.var(s,!0),l(()=>t.break()),s;function l(o){const l=t.const("len",n._`${a}.length`);t.forRange("i",0,l,a=>{e.subschema({keyword:r,dataProp:a,dataPropType:i.Type.Num},s),t.if(n.not(s),o)})}},t.validateUnion=function(e){const{gen:t,schema:a,keyword:i,it:o}=e;if(!Array.isArray(a))throw new Error("ajv implementation error");if(a.some(e=>r.alwaysValidSchema(o,e))&&!o.opts.unevaluated)return;const s=t.let("valid",!1),l=t.name("_valid");t.block(()=>a.forEach((a,r)=>{const o=e.subschema({keyword:i,schemaProp:r,compositeRule:!0},l);t.assign(s,n._`${s} || ${l}`);e.mergeValidEvaluated(o,l)||t.if(n.not(s))})),e.result(s,()=>e.reset(),()=>e.error(!0))}},200:function(e,t,a){"use strict";a(3),a(12),a(0);var n=a(64);a.d(t,"a",(function(){return n.l})),a.d(t,"b",(function(){return n.c})),a.d(t,"c",(function(){return n.m})),a.d(t,"d",(function(){return n.n})),a.d(t,"e",(function(){return n.o})),a.d(t,"f",(function(){return n.p})),a.d(t,"g",(function(){return n.q})),a.d(t,"h",(function(){return n.k}));a(602),a(783),a(784),a(594),a(785),a(28)},2026:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;const n=a(491),r=a(41),i=a(185),o={message:"boolean schema is false"};function s(e,t){const{gen:a,data:r}=e,i={gen:a,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};n.reportError(i,o,t)}t.topBoolOrEmptySchema=function(e){const{gen:t,schema:a,validateName:n}=e;!1===a?s(e,!1):"object"==typeof a&&!0===a.$async?t.return(i.default.data):(t.assign(r._`${n}.errors`,null),t.return(!0))},t.boolOrEmptySchema=function(e,t){const{gen:a,schema:n}=e;!1===n?(a.var(t,!1),s(e)):a.var(t,!0)}},2027:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.schemaKeywords=void 0;const n=a(963),r=a(395),i=a(2028),o=a(2029),s=a(65),l=a(147),c=a(41),u=a(185);function d(e,t){const{gen:a,schema:r,opts:{useDefaults:s}}=e;s&&i.assignDefaults(e,t.type),a.block(()=>{for(const a of t.rules)n.shouldUseRule(r,a)&&o.keywordCode(e,a.keyword,a.definition,t.type)})}function m(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function p(e,t){t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,l.checkStrictMode(e,t,e.opts.strictTypes)}t.schemaKeywords=function(e,t,a,i){const{gen:l,schema:g,data:h,allErrors:f,opts:y,self:b}=e,{RULES:M}=b;function I(o){n.shouldUseGroup(g,o)&&(o.type?(l.if(r.checkDataType(o.type,h,y.strict)),d(e,o),1===t.length&&t[0]===o.type&&a&&(l.else(),r.reportTypeError(e)),l.endIf()):d(e,o),f||l.if(c._`${u.default.errors} === ${i||0}`))}!g.$ref||!y.ignoreKeywordsWithRef&&s.schemaHasRulesButRef(g,M)?(y.jtd||function(e,t){if(e.schemaEnv.meta||!e.opts.strictTypes)return;(function(e,t){if(!t.length)return;if(!e.dataTypes.length)return void(e.dataTypes=t);t.forEach(t=>{m(e.dataTypes,t)||p(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)}),e.dataTypes=e.dataTypes.filter(e=>m(t,e))})(e,t),e.opts.allowUnionTypes||function(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&p(e,"use allowUnionTypes to allow union type keyword")}(e,t);!function(e,t){const a=e.self.RULES.all;for(const r in a){const i=a[r];if("object"==typeof i&&n.shouldUseRule(e.schema,i)){const{type:a}=i.definition;a.length&&!a.some(e=>{return n=e,(a=t).includes(n)||"number"===n&&a.includes("integer");var a,n})&&p(e,`missing type "${a.join(",")}" for keyword "${r}"`)}}}(e,e.dataTypes)}(e,t),l.block(()=>{for(const e of M.rules)I(e);I(M.post)})):l.block(()=>o.keywordCode(e,"$ref",M.all.$ref.definition))}},2028:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;const n=a(41),r=a(147);function i(e,t,a){const{gen:i,compositeRule:o,data:s,opts:l}=e;if(void 0===a)return;const c=n._`${s}${n.getProperty(t)}`;if(o)return void r.checkStrictMode(e,"default is ignored for: "+c);let u=n._`${c} === undefined`;"empty"===l.useDefaults&&(u=n._`${u} || ${c} === null || ${c} === ""`),i.if(u,n._`${c} = ${n.stringify(a)}`)}t.assignDefaults=function(e,t){const{properties:a,items:n}=e.schema;if("object"===t&&a)for(const t in a)i(e,t,a[t].default);else"array"===t&&Array.isArray(n)&&n.forEach((t,a)=>i(e,a,t.default))}},2029:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.keywordCode=void 0;const n=a(490),r=a(491),i=a(186),o=a(41),s=a(185);function l(e,t){var a;const{gen:n,keyword:l,schema:d,parentSchema:m,$data:p,it:g}=e;!function({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}(g,t);const h=!p&&t.compile?t.compile.call(g.self,d,m,g):t.validate,f=u(n,l,h),y=n.let("valid");function b(a=(t.async?o._`await `:o.nil)){const r=g.opts.passContext?s.default.this:s.default.self,l=!("compile"in t&&!p||!1===t.schema);n.assign(y,o._`${a}${i.callValidateCode(e,f,r,l)}`,t.modifying)}function M(e){var a;n.if(o.not(null!==(a=t.valid)&&void 0!==a?a:y),e)}e.block$data(y,(function(){if(!1===t.errors)b(),t.modifying&&c(e),M(()=>e.error());else{const a=t.async?function(){const e=n.let("ruleErrs",null);return n.try(()=>b(o._`await `),t=>n.assign(y,!1).if(o._`${t} instanceof ${g.ValidationError}`,()=>n.assign(e,o._`${t}.errors`),()=>n.throw(t))),e}():function(){const e=o._`${f}.errors`;return n.assign(e,null),b(o.nil),e}();t.modifying&&c(e),M(()=>function(e,t){const{gen:a}=e;a.if(o._`Array.isArray(${t})`,()=>{a.assign(s.default.vErrors,o._`${s.default.vErrors} === null ? ${t} : ${s.default.vErrors}.concat(${t})`).assign(s.default.errors,o._`${s.default.vErrors}.length`),r.extendErrors(e)},()=>e.error())}(e,a))}})),e.ok(null!==(a=t.valid)&&void 0!==a?a:y)}function c(e){const{gen:t,data:a,it:n}=e;t.if(n.parentData,()=>t.assign(a,o._`${n.parentData}[${n.parentDataProperty}]`))}function u(e,t,a){if(void 0===a)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof a?{ref:a}:{ref:a,code:o.stringify(a)})}t.keywordCode=function(e,t,a,r){const i=new n.default(e,a,t);"code"in a?a.code(i,r):i.$data&&a.validate?l(i,a):"macro"in a?function(e,t){const{gen:a,keyword:n,schema:r,parentSchema:i,it:s}=e,l=t.macro.call(s.self,r,i,s),c=u(a,n,l);!1!==s.opts.validateSchema&&s.self.validateSchema(l,!0);const d=a.name("valid");e.subschema({schema:l,schemaPath:o.nil,errSchemaPath:`${s.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},d),e.pass(d,()=>e.error(!0))}(i,a):(a.compile||a.validate)&&l(i,a)}},2031:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const n=a(490);t.KeywordCxt=n.default;var r=a(41);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const i=a(677),o=a(962),s=a(965),l=a(41),c=a(492),u=a(395),d=a(65),m=a(2032),p=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),h={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",schemaId:"JSON Schema draft-04 is not supported in Ajv v7.",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",strictNumbers:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key."},f={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function y(e){var t,a,n,r,i,o,s,l,c,u,d,m;const p=null===(t=e.strict)||void 0===t||t,g=!!p&&"log",h=null===(a=e.code)||void 0===a?void 0:a.optimize,f=!0===h||void 0===h?1:h||0;return{strict:p,strictTypes:null!==(n=e.strictTypes)&&void 0!==n?n:g,strictTuples:null!==(r=e.strictTuples)&&void 0!==r?r:g,code:e.code?{...e.code,optimize:f}:{optimize:f},loopRequired:null!==(i=e.loopRequired)&&void 0!==i?i:1/0,loopEnum:null!==(o=e.loopEnum)&&void 0!==o?o:1/0,meta:null===(s=e.meta)||void 0===s||s,messages:null===(l=e.messages)||void 0===l||l,inlineRefs:null===(c=e.inlineRefs)||void 0===c||c,addUsedSchema:null===(u=e.addUsedSchema)||void 0===u||u,validateSchema:null===(d=e.validateSchema)||void 0===d||d,validateFormats:null===(m=e.validateFormats)||void 0===m||m}}class b{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...y(e)};const{es5:t,lines:a}=this.opts.code;this.scope=new l.ValueScope({scope:{},prefixes:g,es5:t,lines:a}),this.logger=function(e){if(!1===e)return N;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}(e.logger);const n=e.validateFormats;e.validateFormats=!1,this.RULES=o.getRules(),M.call(this,h,e,"NOT SUPPORTED"),M.call(this,f,e,"DEPRECATED","warn"),this._metaOpts=w.call(this),e.formats&&v.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&E.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),j.call(this),e.validateFormats=n}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:e,meta:t}=this.opts;t&&e&&this.addMetaSchema(m,m.$id,!1)}defaultMeta(){const{meta:e}=this.opts;return this.opts.defaultMeta="object"==typeof e?e.$id||e:void 0}validate(e,t){let a;if("string"==typeof e){if(a=this.getSchema(e),!a)throw new Error(`no schema with key or ref "${e}"`)}else a=this.compile(e);const n=a(t);return"$async"in a||(this.errors=a.errors),n}compile(e,t){const a=this._addSchema(e,t);return a.validate||this._compileSchemaEnv(a)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:a}=this.opts;return n.call(this,e,t);async function n(e,t){await r.call(this,e.$schema);const a=this._addSchema(e,t);return a.validate||o.call(this,a)}async function r(e){e&&!this.getSchema(e)&&await n.call(this,{$ref:e},!0)}async function o(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof i.MissingRefError))throw t;return s.call(this,t),await l.call(this,t.missingSchema),o.call(this,e)}}function s({missingSchema:e,missingRef:t}){if(this.refs[e])throw new Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function l(e){const a=await c.call(this,e);this.refs[e]||await r.call(this,a.$schema),this.refs[e]||this.addSchema(a,e,t)}async function c(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=a(e))}finally{delete this._loading[e]}}}addSchema(e,t,a,n=this.opts.validateSchema){if(Array.isArray(e)){for(const t of e)this.addSchema(t,void 0,a,n);return this}let r;if("object"==typeof e&&(r=e.$id,void 0!==r&&"string"!=typeof r))throw new Error("schema id must be string");return t=c.normalizeId(t||r),this._checkUnique(t),this.schemas[t]=this._addSchema(e,a,n,!0),this}addMetaSchema(e,t,a=this.opts.validateSchema){return this.addSchema(e,t,!0,a),this}validateSchema(e,t){if("boolean"==typeof e)return!0;let a;if(a=e.$schema,void 0!==a&&"string"!=typeof a)throw new Error("$schema must be a string");if(a=a||this.opts.defaultMeta||this.defaultMeta(),!a)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const n=this.validate(a,e);if(!n&&t){const e="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(e);this.logger.error(e)}return n}getSchema(e){let t;for(;"string"==typeof(t=I.call(this,e));)e=t;if(void 0===t){const a=new s.SchemaEnv({schema:{}});if(t=s.resolveSchema.call(this,a,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const t=I.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{const t=e;this._cache.delete(t);let a=e.$id;return a&&(a=c.normalizeId(a),delete this.schemas[a],delete this.refs[a]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let a;if("string"==typeof e)a=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=a);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(a=(t=e).keyword,Array.isArray(a)&&!a.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(x.call(this,a,t),!t)return d.eachItem(a,e=>D.call(this,e)),this;S.call(this,t);const n={...t,type:u.getJSONTypes(t.type),schemaType:u.getJSONTypes(t.schemaType)};return d.eachItem(a,0===n.type.length?e=>D.call(this,e,n):e=>n.type.forEach(t=>D.call(this,e,n,t))),this}getKeyword(e){const t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(const a of t.rules){const t=a.rules.findIndex(t=>t.keyword===e);t>=0&&a.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:a="data"}={}){return e&&0!==e.length?e.map(e=>`${a}${e.dataPath} ${e.message}`).reduce((e,a)=>e+t+a):"No errors"}$dataMetaSchema(e,t){const a=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const n of t){const t=n.split("/").slice(1);let r=e;for(const e of t)r=r[e];for(const e in a){const t=a[e];if("object"!=typeof t)continue;const{$data:n}=t.definition,i=r[e];n&&i&&(r[e]=T(i))}}return e}_removeAllSchemas(e,t){for(const a in e){const n=e[a];t&&!t.test(a)||("string"==typeof n?delete e[a]:n&&!n.meta&&(this._cache.delete(n.schema),delete e[a]))}}_addSchema(e,t,a=this.opts.validateSchema,n=this.opts.addUsedSchema){if("object"!=typeof e){if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}let r=this._cache.get(e);if(void 0!==r)return r;const i=c.getSchemaRefs.call(this,e);r=new s.SchemaEnv({schema:e,meta:t,localRefs:i}),this._cache.set(r.schema,r);const o=r.baseId;return n&&!o.startsWith("#")&&(o&&this._checkUnique(o),this.refs[o]=r),a&&this.validateSchema(e,!0),r}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):s.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,e)}finally{this.opts=t}}}function M(e,t,a,n="error"){for(const r in e){const i=r;i in t&&this.logger[n](`${a}: option ${r}. ${e[i]}`)}}function I(e){return e=c.normalizeId(e),this.schemas[e]||this.refs[e]}function j(){const e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function v(){for(const e in this.opts.formats){const t=this.opts.formats[e];t&&this.addFormat(e,t)}}function E(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const a=e[t];a.keyword||(a.keyword=t),this.addKeyword(a)}}}function w(){const e={...this.opts};for(const t of p)delete e[t];return e}t.default=b,b.ValidationError=i.ValidationError,b.MissingRefError=i.MissingRefError;const N={log(){},warn(){},error(){}};const k=/^[a-z_$][a-z0-9_$:-]*$/i;function x(e,t){const{RULES:a}=this;if(d.eachItem(e,e=>{if(a.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!k.test(e))throw new Error(`Keyword ${e} has invalid name`)}),t&&t.$data&&!("code"in t)&&!("validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function D(e,t,a){var n;const r=null==t?void 0:t.post;if(a&&r)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:i}=this;let o=r?i.post:i.rules.find(({type:e})=>e===a);if(o||(o={type:a,rules:[]},i.rules.push(o)),i.keywords[e]=!0,!t)return;const s={keyword:e,definition:{...t,type:u.getJSONTypes(t.type),schemaType:u.getJSONTypes(t.schemaType)}};t.before?O.call(this,o,s,t.before):o.rules.push(s),i.all[e]=s,null===(n=t.implements)||void 0===n||n.forEach(e=>this.addKeyword(e))}function O(e,t,a){const n=e.rules.findIndex(e=>e.keyword===a);n>=0?e.rules.splice(n,0,t):(e.rules.push(t),this.logger.warn(`rule ${a} is not defined`))}function S(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=T(t)),e.validateSchema=this.compile(t,!0))}const A={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function T(e){return{anyOf:[e,A]}}},2032:function(e){e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},2033:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(2034),r=a(2037),i=a(2049),o=a(2063),s=a(2065),l=[n.default,r.default,i.default,o.default,s.metadataVocabulary,s.contentVocabulary];t.default=l},2034:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(2035),r=a(2036),i=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",n.default,r.default];t.default=i},2035:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t.default=n},2036:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;const n=a(677),r=a(186),i=a(41),o=a(185),s=a(965),l=a(65),c={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:a,it:r}=e,{baseId:o,schemaEnv:l,validateName:c,opts:m,self:p}=r;if("#"===a||"#/"===a)return function(){if(l===l.root)return d(e,c,l,l.$async);const a=t.scopeValue("root",{ref:l.root});return d(e,i._`${a}.validate`,l.root,l.root.$async)}();const g=s.resolveRef.call(p,l.root,o,a);if(void 0===g)throw new n.MissingRefError(o,a);return g instanceof s.SchemaEnv?function(t){const a=u(e,t);d(e,a,t,t.$async)}(g):function(n){const r=t.scopeValue("schema",!0===m.code.source?{ref:n,code:i.stringify(n)}:{ref:n}),o=t.name("valid"),s=e.subschema({schema:n,dataTypes:[],schemaPath:i.nil,topSchemaRef:r,errSchemaPath:a},o);e.mergeEvaluated(s),e.ok(o)}(g)}};function u(e,t){const{gen:a}=e;return t.validate?a.scopeValue("validate",{ref:t.validate}):i._`${a.scopeValue("wrapper",{ref:t})}.validate`}function d(e,t,a,n){const{gen:s,it:c}=e,{allErrors:u,schemaEnv:d,opts:m}=c,p=m.passContext?o.default.this:i.nil;function g(e){const t=i._`${e}.errors`;s.assign(o.default.vErrors,i._`${o.default.vErrors} === null ? ${t} : ${o.default.vErrors}.concat(${t})`),s.assign(o.default.errors,i._`${o.default.vErrors}.length`)}function h(e){var t;if(!c.opts.unevaluated)return;const n=null===(t=null==a?void 0:a.validate)||void 0===t?void 0:t.evaluated;if(!0!==c.props)if(n&&!n.dynamicProps)void 0!==n.props&&(c.props=l.mergeEvaluated.props(s,n.props,c.props));else{const t=s.var("props",i._`${e}.evaluated.props`);c.props=l.mergeEvaluated.props(s,t,c.props,i.Name)}if(!0!==c.items)if(n&&!n.dynamicItems)void 0!==n.items&&(c.items=l.mergeEvaluated.items(s,n.items,c.items));else{const t=s.var("items",i._`${e}.evaluated.items`);c.items=l.mergeEvaluated.items(s,t,c.items,i.Name)}}n?function(){if(!d.$async)throw new Error("async schema referenced by sync schema");const a=s.let("valid");s.try(()=>{s.code(i._`await ${r.callValidateCode(e,t,p)}`),h(t),u||s.assign(a,!0)},e=>{s.if(i._`!(${e} instanceof ${c.ValidationError})`,()=>s.throw(e)),g(e),u||s.assign(a,!1)}),e.ok(a)}():e.result(r.callValidateCode(e,t,p),()=>h(t),()=>g(t))}t.getValidate=u,t.callRef=d,t.default=c},2037:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(2038),r=a(2039),i=a(2040),o=a(2042),s=a(2043),l=a(2044),c=a(2045),u=a(2046),d=a(2047),m=a(2048),p=[n.default,r.default,i.default,o.default,s.default,l.default,c.default,u.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},d.default,m.default];t.default=p},2038:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(41),r=n.operators,i={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},o={message:({keyword:e,schemaCode:t})=>n.str`should be ${i[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>n._`{comparison: ${i[e].okStr}, limit: ${t}}`},s={keyword:Object.keys(i),type:"number",schemaType:"number",$data:!0,error:o,code(e){const{keyword:t,data:a,schemaCode:r}=e;e.fail$data(n._`${a} ${i[t].fail} ${r} || isNaN(${a})`)}};t.default=s},2039:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(41),r={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>n.str`should be multiple of ${e}`,params:({schemaCode:e})=>n._`{multipleOf: ${e}}`},code(e){const{gen:t,data:a,schemaCode:r,it:i}=e,o=i.opts.multipleOfPrecision,s=t.let("res"),l=o?n._`Math.abs(Math.round(${s}) - ${s}) > 1e-${o}`:n._`${s} !== parseInt(${s})`;e.fail$data(n._`(${r} === 0 || (${s} = ${a}/${r}, ${l}))`)}};t.default=r},2040:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(41),r=a(2041),i={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const a="maxLength"===e?"more":"fewer";return n.str`should NOT have ${a} than ${t} characters`},params:({schemaCode:e})=>n._`{limit: ${e}}`},code(e){const{keyword:t,data:a,schemaCode:i,it:o}=e,s="maxLength"===t?n.operators.GT:n.operators.LT;let l;if(!1===o.opts.unicode)l=n._`${a}.length`;else{const t=e.gen.scopeValue("func",{ref:r.default,code:n._`require("ajv/dist/compile/ucs2length").default`});l=n._`${t}(${a})`}e.fail$data(n._`${l} ${s} ${i}`)}};t.default=i},2041:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=e.length;let a,n=0,r=0;for(;r<t;)n++,a=e.charCodeAt(r++),a>=55296&&a<=56319&&r<t&&(a=e.charCodeAt(r),56320==(64512&a)&&r++);return n}},2042:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(186),r=a(41),i={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>r.str`should match pattern "${e}"`,params:({schemaCode:e})=>r._`{pattern: ${e}}`},code(e){const{gen:t,data:a,$data:i,schema:o,schemaCode:s}=e,l=i?r._`(new RegExp(${s}, "u"))`:n.usePattern(t,o);e.fail$data(r._`!${l}.test(${a})`)}};t.default=i},2043:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(41),r={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const a="maxProperties"===e?"more":"fewer";return n.str`should NOT have ${a} than ${t} items`},params:({schemaCode:e})=>n._`{limit: ${e}}`},code(e){const{keyword:t,data:a,schemaCode:r}=e,i="maxProperties"===t?n.operators.GT:n.operators.LT;e.fail$data(n._`Object.keys(${a}).length ${i} ${r}`)}};t.default=r},2044:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(186),r=a(41),i=a(147),o={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>r.str`should have required property '${e}'`,params:({params:{missingProperty:e}})=>r._`{missingProperty: ${e}}`},code(e){const{gen:t,schema:a,schemaCode:o,data:s,$data:l,it:c}=e,{opts:u}=c;if(!l&&0===a.length)return;const d=a.length>=u.loopRequired;if(c.allErrors?function(){if(d||l)e.block$data(r.nil,m);else for(const t of a)n.checkReportMissingProp(e,t)}():function(){const i=t.let("missing");if(d||l){const a=t.let("valid",!0);e.block$data(a,()=>function(a,i){e.setParams({missingProperty:a}),t.forOf(a,o,()=>{t.assign(i,n.propertyInData(t,s,a,u.ownProperties)),t.if(r.not(i),()=>{e.error(),t.break()})},r.nil)}(i,a)),e.ok(a)}else t.if(n.checkMissingProp(e,a,i)),n.reportMissingProp(e,i),t.else()}(),u.strictRequired){const t=e.parentSchema.properties,{definedProperties:n}=e.it;for(const e of a)if(void 0===(null==t?void 0:t[e])&&!n.has(e)){const t=`required property "${e}" is not defined at "${c.schemaEnv.baseId+c.errSchemaPath}" (strictRequired)`;i.checkStrictMode(c,t,c.opts.strictRequired)}}function m(){t.forOf("prop",o,a=>{e.setParams({missingProperty:a}),t.if(n.noPropertyInData(t,s,a,u.ownProperties),()=>e.error())})}}};t.default=o},2045:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(41),r={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const a="maxItems"===e?"more":"fewer";return n.str`should NOT have ${a} than ${t} items`},params:({schemaCode:e})=>n._`{limit: ${e}}`},code(e){const{keyword:t,data:a,schemaCode:r}=e,i="maxItems"===t?n.operators.GT:n.operators.LT;e.fail$data(n._`${a}.length ${i} ${r}`)}};t.default=r},2046:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(395),r=a(41),i=a(225),o={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>r.str`should NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>r._`{i: ${e}, j: ${t}}`},code(e){const{gen:t,data:a,$data:o,schema:s,parentSchema:l,schemaCode:c,it:u}=e;if(!o&&!s)return;const d=t.let("valid"),m=l.items?n.getSchemaTypes(l.items):[];function p(i,o){const s=t.name("item"),l=n.checkDataTypes(m,s,u.opts.strict,n.DataType.Wrong),c=t.const("indices",r._`{}`);t.for(r._`;${i}--;`,()=>{t.let(s,r._`${a}[${i}]`),t.if(l,r._`continue`),m.length>1&&t.if(r._`typeof ${s} == "string"`,r._`${s} += "_"`),t.if(r._`typeof ${c}[${s}] == "number"`,()=>{t.assign(o,r._`${c}[${s}]`),e.error(),t.assign(d,!1).break()}).code(r._`${c}[${s}] = ${i}`)})}function g(n,o){const s=e.gen.scopeValue("func",{ref:i,code:r._`require("ajv/dist/compile/equal")`}),l=t.name("outer");t.label(l).for(r._`;${n}--;`,()=>t.for(r._`${o} = ${n}; ${o}--;`,()=>t.if(r._`${s}(${a}[${n}], ${a}[${o}])`,()=>{e.error(),t.assign(d,!1).break(l)})))}e.block$data(d,(function(){const n=t.let("i",r._`${a}.length`),i=t.let("j");e.setParams({i:n,j:i}),t.assign(d,!0),t.if(r._`${n} > 1`,()=>(m.length>0&&!m.some(e=>"object"===e||"array"===e)?p:g)(n,i))}),r._`${c} === false`),e.ok(d)}};t.default=o},2047:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(41),r=a(225),i={keyword:"const",$data:!0,error:{message:"should be equal to constant",params:({schemaCode:e})=>n._`{allowedValue: ${e}}`},code(e){const t=e.gen.scopeValue("func",{ref:r,code:n._`require("ajv/dist/compile/equal")`});e.fail$data(n._`!${t}(${e.data}, ${e.schemaCode})`)}};t.default=i},2048:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(41),r=a(225),i={keyword:"enum",schemaType:"array",$data:!0,error:{message:"should be equal to one of the allowed values",params:({schemaCode:e})=>n._`{allowedValues: ${e}}`},code(e){const{gen:t,data:a,$data:i,schema:o,schemaCode:s,it:l}=e;if(!i&&0===o.length)throw new Error("enum must have non-empty array");const c=o.length>=l.opts.loopEnum,u=e.gen.scopeValue("func",{ref:r,code:n._`require("ajv/dist/compile/equal")`});let d;if(c||i)d=t.let("valid"),e.block$data(d,(function(){t.assign(d,!1),t.forOf("v",s,e=>t.if(n._`${u}(${a}, ${e})`,()=>t.assign(d,!0).break()))}));else{if(!Array.isArray(o))throw new Error("ajv implementation error");const e=t.const("vSchema",s);d=n.or(...o.map((t,r)=>function(e,t){const r=o[t];return r&&"object"==typeof r?n._`${u}(${a}, ${e}[${t}])`:n._`${a} === ${r}`}(e,r)))}e.pass(d)}};t.default=i},2049:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(2050),r=a(2051),i=a(2052),o=a(2053),s=a(2054),l=a(966),c=a(2055),u=a(2056),d=a(2057),m=a(2058),p=a(2059),g=a(2060),h=a(2061),f=a(2062),y=[d.default,m.default,p.default,g.default,h.default,f.default,n.default,r.default,i.default,s.default,l.default,o.default,c.default,u.default];t.default=y},2050:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(41),r=a(309),i=a(65),o=a(147),s={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>n.str`should NOT have more than ${e} items`,params:({params:{len:e}})=>n._`{limit: ${e}}`},code(e){const{gen:t,schema:a,parentSchema:s,data:l,it:c}=e,{items:u}=s;if(!Array.isArray(u))return void o.checkStrictMode(c,'"additionalItems" is ignored when "items" is not an array of schemas');c.items=!0;const d=t.const("len",n._`${l}.length`);if(!1===a)e.setParams({len:u.length}),e.pass(n._`${d} <= ${u.length}`);else if("object"==typeof a&&!i.alwaysValidSchema(c,a)){const a=t.var("valid",n._`${d} <= ${u.length}`);t.if(n.not(a),()=>function(a){t.forRange("i",u.length,d,i=>{e.subschema({keyword:"additionalItems",dataProp:i,dataPropType:r.Type.Num},a),c.allErrors||t.if(n.not(a),()=>t.break())})}(a)),e.ok(a)}}};t.default=s},2051:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(41),r=a(65),i=a(147),o=a(186),s={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{gen:t,schema:a,it:s}=e;if(Array.isArray(a))s.opts.unevaluated&&a.length&&!0!==s.items&&(s.items=r.mergeEvaluated.items(t,a.length,s.items)),function(a){const{parentSchema:o,data:l}=e;if(s.opts.strictTuples&&!function(e,t){return e===t.minItems&&(e===t.maxItems||!1===t.additionalItems)}(a.length,o)){const e=`"items" is ${a.length}-tuple, but minItems or maxItems/additionalItems are not specified or different`;i.checkStrictMode(s,e,s.opts.strictTuples)}const c=t.name("valid"),u=t.const("len",n._`${l}.length`);a.forEach((a,i)=>{r.alwaysValidSchema(s,a)||(t.if(n._`${u} > ${i}`,()=>e.subschema({keyword:"items",schemaProp:i,dataProp:i},c)),e.ok(c))})}(a);else{if(s.items=!0,r.alwaysValidSchema(s,a))return;e.ok(o.validateArray(e))}}};t.default=s},2052:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(41),r=a(309),i=a(65),o=a(147),s={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>void 0===t?n.str`should contain at least ${e} valid item(s)`:n.str`should contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?n._`{minContains: ${e}}`:n._`{minContains: ${e}, maxContains: ${t}}`},code(e){const{gen:t,schema:a,parentSchema:s,data:l,it:c}=e;let u,d;const{minContains:m,maxContains:p}=s;c.opts.next?(u=void 0===m?1:m,d=p):u=1;const g=t.const("len",n._`${l}.length`);if(e.setParams({min:u,max:d}),void 0===d&&0===u)return void o.checkStrictMode(c,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==d&&u>d)return o.checkStrictMode(c,'"minContains" > "maxContains" is always invalid'),void e.fail();if(i.alwaysValidSchema(c,a)){let t=n._`${g} >= ${u}`;return void 0!==d&&(t=n._`${t} && ${g} <= ${d}`),void e.pass(t)}c.items=!0;const h=t.name("valid");if(void 0===d&&1===u)f(h,()=>t.if(h,()=>t.break()));else{t.let(h,!1);const e=t.name("_valid"),a=t.let("count",0);f(e,()=>t.if(e,()=>function(e){t.code(n._`${e}++`),void 0===d?t.if(n._`${e} >= ${u}`,()=>t.assign(h,!0).break()):(t.if(n._`${e} > ${d}`,()=>t.assign(h,!1).break()),1===u?t.assign(h,!0):t.if(n._`${e} >= ${u}`,()=>t.assign(h,!0)))}(a)))}function f(a,n){t.forRange("i",0,g,t=>{e.subschema({keyword:"contains",dataProp:t,dataPropType:r.Type.Num,compositeRule:!0},a),n()})}e.result(h,()=>e.reset())}};t.default=s},2053:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const n=a(41),r=a(65),i=a(186);t.error={message:({params:{property:e,depsCount:t,deps:a}})=>{const r=1===t?"property":"properties";return n.str`should have ${r} ${a} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:a,missingProperty:r}})=>n._`{property: ${e},
    missingProperty: ${r},
    depsCount: ${t},
    deps: ${a}}`};const o={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(e){const[t,a]=function({schema:e}){const t={},a={};for(const n in e){if("__proto__"===n)continue;(Array.isArray(e[n])?t:a)[n]=e[n]}return[t,a]}(e);s(e,t),l(e,a)}};function s(e,t=e.schema){const{gen:a,data:r,it:o}=e;if(0===Object.keys(t).length)return;const s=a.let("missing");for(const l in t){const c=t[l];if(0===c.length)continue;const u=i.propertyInData(a,r,l,o.opts.ownProperties);e.setParams({property:l,depsCount:c.length,deps:c.join(", ")}),o.allErrors?a.if(u,()=>{for(const t of c)i.checkReportMissingProp(e,t)}):(a.if(n._`${u} && (${i.checkMissingProp(e,c,s)})`),i.reportMissingProp(e,s),a.else())}}function l(e,t=e.schema){const{gen:a,data:n,keyword:o,it:s}=e,l=a.name("valid");for(const c in t)r.alwaysValidSchema(s,t[c])||(a.if(i.propertyInData(a,n,c,s.opts.ownProperties),()=>{const t=e.subschema({keyword:o,schemaProp:c},l);e.mergeValidEvaluated(t,l)},()=>a.var(l,!0)),e.ok(l))}t.validatePropertyDeps=s,t.validateSchemaDeps=l,t.default=o},2054:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(41),r=a(65),i={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:({params:e})=>n.str`property name '${e.propertyName}' is invalid`,params:({params:e})=>n._`{propertyName: ${e.propertyName}}`},code(e){const{gen:t,schema:a,data:i,it:o}=e;if(r.alwaysValidSchema(o,a))return;const s=t.name("valid");t.forIn("key",i,a=>{e.setParams({propertyName:a}),e.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},s),t.if(n.not(s),()=>{e.error(!0),o.allErrors||t.break()})}),e.ok(s)}};t.default=i},2055:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(490),r=a(186),i=a(65),o=a(966),s={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:a,parentSchema:s,data:l,it:c}=e;"all"===c.opts.removeAdditional&&void 0===s.additionalProperties&&o.default.code(new n.default(c,o.default,"additionalProperties"));const u=r.allSchemaProperties(a);for(const e of u)c.definedProperties.add(e);c.opts.unevaluated&&u.length&&!0!==c.props&&(c.props=i.mergeEvaluated.props(t,i.toHash(u),c.props));const d=u.filter(e=>!i.alwaysValidSchema(c,a[e]));if(0===d.length)return;const m=t.name("valid");for(const a of d)p(a)?g(a):(t.if(r.propertyInData(t,l,a,c.opts.ownProperties)),g(a),c.allErrors||t.else().var(m,!0),t.endIf()),e.it.definedProperties.add(a),e.ok(m);function p(e){return c.opts.useDefaults&&!c.compositeRule&&void 0!==a[e].default}function g(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},m)}}};t.default=s},2056:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(186),r=a(41),i=a(309),o=a(147),s=a(65),l={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:a,data:l,parentSchema:c,it:u}=e,{opts:d}=u,m=n.schemaProperties(u,a);if(0===m.length)return;const p=d.strict&&!d.allowMatchingProperties&&c.properties,g=t.name("valid");!0===u.props||u.props instanceof r.Name||(u.props=s.evaluatedPropsToName(t,u.props));const{props:h}=u;function f(e){for(const t in p)new RegExp(e).test(t)&&o.checkStrictMode(u,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}function y(a){t.forIn("key",l,o=>{t.if(r._`${n.usePattern(t,a)}.test(${o})`,()=>{e.subschema({keyword:"patternProperties",schemaProp:a,dataProp:o,dataPropType:i.Type.Str},g),u.opts.unevaluated&&!0!==h?t.assign(r._`${h}[${o}]`,!0):u.allErrors||t.if(r.not(g),()=>t.break())})})}!function(){for(const e of m)p&&f(e),u.allErrors?y(e):(t.var(g,!0),y(e),t.if(g))}()}};t.default=l},2057:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(65),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:a,it:r}=e;if(n.alwaysValidSchema(r,a))return void e.fail();const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.result(i,()=>e.error(),()=>e.reset())},error:{message:"should NOT be valid"}};t.default=r},2058:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:a(186).validateUnion,error:{message:"should match some schema in anyOf"}};t.default=n},2059:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(41),r=a(65),i={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"should match exactly one schema in oneOf",params:({params:e})=>n._`{passingSchemas: ${e.passing}}`},code(e){const{gen:t,schema:a,it:i}=e;if(!Array.isArray(a))throw new Error("ajv implementation error");const o=a,s=t.let("valid",!1),l=t.let("passing",null),c=t.name("_valid");e.setParams({passing:l}),t.block((function(){o.forEach((a,o)=>{let u;r.alwaysValidSchema(i,a)?t.var(c,!0):u=e.subschema({keyword:"oneOf",schemaProp:o,compositeRule:!0},c),o>0&&t.if(n._`${c} && ${s}`).assign(s,!1).assign(l,n._`[${l}, ${o}]`).else(),t.if(c,()=>{t.assign(s,!0),t.assign(l,o),u&&e.mergeEvaluated(u,n.Name)})})})),e.result(s,()=>e.reset(),()=>e.error(!0))}};t.default=i},2060:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(65),r={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:a,it:r}=e;if(!Array.isArray(a))throw new Error("ajv implementation error");const i=t.name("valid");a.forEach((t,a)=>{if(n.alwaysValidSchema(r,t))return;const o=e.subschema({keyword:"allOf",schemaProp:a},i);e.ok(i),e.mergeEvaluated(o)})}};t.default=r},2061:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(41),r=a(65),i=a(147),o={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>n.str`should match "${e.ifClause}" schema`,params:({params:e})=>n._`{failingKeyword: ${e.ifClause}}`},code(e){const{gen:t,parentSchema:a,it:r}=e;void 0===a.then&&void 0===a.else&&i.checkStrictMode(r,'"if" without "then" and "else" is ignored');const o=s(r,"then"),l=s(r,"else");if(!o&&!l)return;const c=t.let("valid",!0),u=t.name("_valid");if(function(){const t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);e.mergeEvaluated(t)}(),e.reset(),o&&l){const a=t.let("ifClause");e.setParams({ifClause:a}),t.if(u,d("then",a),d("else",a))}else o?t.if(u,d("then")):t.if(n.not(u),d("else"));function d(a,r){return()=>{const i=e.subschema({keyword:a},u);t.assign(c,u),e.mergeValidEvaluated(i,c),r?t.assign(r,n._`${a}`):e.setParams({ifClause:a})}}e.pass(c,()=>e.error(!0))}};function s(e,t){const a=e.schema[t];return void 0!==a&&!r.alwaysValidSchema(e,a)}t.default=o},2062:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(147),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:a}){void 0===t.if&&n.checkStrictMode(a,`"${e}" without "if" is ignored`)}};t.default=r},2063:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=[a(2064).default];t.default=n},2064:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(41),r={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>n.str`should match format "${e}"`,params:({schemaCode:e})=>n._`{format: ${e}}`},code(e,t){const{gen:a,data:r,$data:i,schema:o,schemaCode:s,it:l}=e,{opts:c,errSchemaPath:u,schemaEnv:d,self:m}=l;c.validateFormats&&(i?function(){const i=a.scopeValue("formats",{ref:m.formats,code:c.code.formats}),o=a.const("fDef",n._`${i}[${s}]`),l=a.let("fType"),u=a.let("format");a.if(n._`typeof ${o} == "object" && !(${o} instanceof RegExp)`,()=>a.assign(l,n._`${o}.type || "string"`).assign(u,n._`${o}.validate`),()=>a.assign(l,n._`"string"`).assign(u,o)),e.fail$data(n.or(!1===c.strict?n.nil:n._`${s} && !${u}`,function(){const e=d.$async?n._`(${o}.async ? await ${u}(${r}) : ${u}(${r}))`:n._`${u}(${r})`,a=n._`(typeof ${u} == "function" ? ${e} : ${u}.test(${r}))`;return n._`${u} && ${u} !== true && ${l} === ${t} && !${a}`}()))}():function(){const i=m.formats[o];if(!i)return void function(){if(!1===c.strict)return void m.logger.warn(e());throw new Error(e());function e(){return`unknown format "${o}" ignored in schema at path "${u}"`}}();if(!0===i)return;const[s,l,p]=function(e){const t=a.scopeValue("formats",{key:o,ref:e,code:c.code.formats?n._`${c.code.formats}${n.getProperty(o)}`:void 0});if("object"==typeof e&&!(e instanceof RegExp))return[e.type||"string",e.validate,n._`${t}.validate`];return["string",e,t]}(i);s===t&&e.pass(function(){if("object"==typeof i&&!(i instanceof RegExp)&&i.async){if(!d.$async)throw new Error("async format in sync schema");return n._`await ${p}(${r})`}return"function"==typeof l?n._`${p}(${r})`:n._`${p}.test(${r})`}())}())}};t.default=r},2065:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},2066:function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},215:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return E})),a.d(t,"b",(function(){return f}));var n=a(161),r=a.n(n);a(196),a(1319),a(277),a(737);function i(e){const t=new URL("http://example.com");return t.host=e,t.host===e}function o(e){try{return new URL(e),!0}catch{return!1}}function s(e,t){return{list:()=>e,byUrl(a){const n="string"==typeof a?new URL(a):a;return e.find(e=>t(e)===n.hostname)},byHost:a=>e.find(e=>t(e)===a)}}function l(e){const{url:t,base:a,lineNumber:n}=e;try{return new URL(t),t}catch{}let i;if(t.startsWith("/")){const{filepath:e}=r()(a);i=new URL(a);const n=i.pathname.substring(0,i.pathname.length-e.length).replace(/\/+$/,"");i.pathname=`${n}${t}`}else i=new URL(t,a);return i.search=new URL(a).search,n&&(i.hash="L"+n),i.toString()}function c(e){var t;const a=null!=(t=e.getOptionalString("host"))?t:"dev.azure.com",n=e.getOptionalString("token");if(!i(a))throw new Error(`Invalid Azure integration config, '${a}' is not a valid host`);return{host:a,token:n}}const u=class{constructor(e){this.integrationConfig=e}get type(){return"azure"}get title(){return this.integrationConfig.host}get config(){return this.integrationConfig}resolveUrl(e){const{url:t,base:a}=e;if(o(t))return t;const n=r()(a),{organization:i,owner:s,name:l,filepath:c}=n;if(!i||!s||!l)return new URL(t,a).toString();const u=(null==c?void 0:c.replace(/^\//,""))||"",d=new URL("https://a.com/"+u),m=new URL(t,d).pathname,p=new URL(a);return p.searchParams.set("path",m),e.lineNumber&&(p.searchParams.set("line",String(e.lineNumber)),p.searchParams.set("lineEnd",String(e.lineNumber+1)),p.searchParams.set("lineStartColumn","1"),p.searchParams.set("lineEndColumn","1")),p.toString()}resolveEditUrl(e){return e}};let d=u;d.factory=({config:e})=>{var t;return s(function(e){const t=e.map(c);return t.some(e=>"dev.azure.com"===e.host)||t.push({host:"dev.azure.com"}),t}(null!=(t=e.getOptionalConfigArray("integrations.azure"))?t:[]).map(e=>new u(e)),e=>e.config.host)};function m(e){var t;const a=null!=(t=e.getOptionalString("host"))?t:"bitbucket.org";let n=e.getOptionalString("apiBaseUrl");const r=e.getOptionalString("token"),o=e.getOptionalString("username"),s=e.getOptionalString("appPassword");if(!i(a))throw new Error(`Invalid Bitbucket integration config, '${a}' is not a valid host`);return n?n=n.replace(/\/+$/,""):"bitbucket.org"===a&&(n="https://api.bitbucket.org/2.0"),{host:a,apiBaseUrl:n,token:r,username:o,appPassword:s}}const p=class{constructor(e){this.integrationConfig=e}get type(){return"bitbucket"}get title(){return this.integrationConfig.host}get config(){return this.integrationConfig}resolveUrl(e){const t=l(e);if(e.lineNumber){const a=new URL(t),n=a.pathname.split("/").slice(-1)[0];return a.hash=`${n}-${e.lineNumber}`,a.toString()}return t}resolveEditUrl(e){const t=r()(e),a=new URL(e);return a.searchParams.set("mode","edit"),a.searchParams.set("spa","0"),a.searchParams.set("at",t.ref),a.toString()}};let g=p;g.factory=({config:e})=>{var t;return s(function(e){const t=e.map(m);return t.some(e=>"bitbucket.org"===e.host)||t.push({host:"bitbucket.org",apiBaseUrl:"https://api.bitbucket.org/2.0"}),t}(null!=(t=e.getOptionalConfigArray("integrations.bitbucket"))?t:[]).map(e=>new p(e)),e=>e.config.host)};function h(e){var t,a;const n=null!=(t=e.getOptionalString("host"))?t:"github.com";let r=e.getOptionalString("apiBaseUrl"),o=e.getOptionalString("rawBaseUrl");const s=e.getOptionalString("token"),l=null==(a=e.getOptionalConfigArray("apps"))?void 0:a.map(e=>({appId:e.getNumber("appId"),clientId:e.getString("clientId"),clientSecret:e.getString("clientSecret"),webhookSecret:e.getString("webhookSecret"),privateKey:e.getString("privateKey")}));if(!i(n))throw new Error(`Invalid GitHub integration config, '${n}' is not a valid host`);return r?r=r.replace(/\/+$/,""):"github.com"===n&&(r="https://api.github.com"),o?o=o.replace(/\/+$/,""):"github.com"===n&&(o="https://raw.githubusercontent.com"),{host:n,apiBaseUrl:r,rawBaseUrl:o,token:s,apps:l}}function f(e){const t=e.map(h);return t.some(e=>"github.com"===e.host)||t.push({host:"github.com",apiBaseUrl:"https://api.github.com",rawBaseUrl:"https://raw.githubusercontent.com"}),t}const y=class{constructor(e){this.integrationConfig=e}get type(){return"github"}get title(){return this.integrationConfig.host}get config(){return this.integrationConfig}resolveUrl(e){return M(l(e),"tree")}resolveEditUrl(e){return M(e,"edit")}};let b=y;function M(e,t){return e.replace(/\/\/([^/]+)\/([^/]+)\/([^/]+)\/(blob|tree|edit)\//,(e,a,n,r)=>`//${a}/${n}/${r}/${t}/`)}b.factory=({config:e})=>{var t;return s(f(null!=(t=e.getOptionalConfigArray("integrations.github"))?t:[]).map(e=>new y(e)),e=>e.config.host)};function I(e){const t=e.getString("host");let a=e.getOptionalString("apiBaseUrl");const n=e.getOptionalString("token");let r=e.getOptionalString("baseUrl");if(a?a=a.replace(/\/+$/,""):"gitlab.com"===t&&(a="https://gitlab.com/api/v4"),r=r?r.replace(/\/+$/,""):"https://"+t,t.includes(":"))throw new Error(`Invalid GitLab integration config, host '${t}' should just be the host name (e.g. "github.com"), not a URL`);if(!i(t))throw new Error(`Invalid GitLab integration config, '${t}' is not a valid host`);if(!a||!o(a))throw new Error(`Invalid GitLab integration config, '${a}' is not a valid apiBaseUrl`);if(!o(r))throw new Error(`Invalid GitLab integration config, '${r}' is not a valid baseUrl`);return{host:t,token:n,apiBaseUrl:a,baseUrl:r}}const j=class{constructor(e){this.integrationConfig=e}get type(){return"gitlab"}get title(){return this.integrationConfig.host}get config(){return this.integrationConfig}resolveUrl(e){return l(e)}resolveEditUrl(e){return function(e,t){return e.replace(/\/\-\/(blob|tree|edit)\//,`/-/${t}/`)}(e,"edit")}};let v=j;v.factory=({config:e})=>{var t;return s(function(e){const t=e.map(I);return t.some(e=>"gitlab.com"===e.host)||t.push({host:"gitlab.com",apiBaseUrl:"https://gitlab.com/api/v4",baseUrl:"https://gitlab.com"}),t}(null!=(t=e.getOptionalConfigArray("integrations.gitlab"))?t:[]).map(e=>new j(e)),e=>e.config.host)};class E{static fromConfig(e){return new E({azure:d.factory({config:e}),bitbucket:g.factory({config:e}),github:b.factory({config:e}),gitlab:v.factory({config:e})})}constructor(e){this.byType=e}get azure(){return this.byType.azure}get bitbucket(){return this.byType.bitbucket}get github(){return this.byType.github}get gitlab(){return this.byType.gitlab}list(){return Object.values(this.byType).flatMap(e=>e.list())}byUrl(e){return Object.values(this.byType).map(t=>t.byUrl(e)).find(Boolean)}byHost(e){return Object.values(this.byType).map(t=>t.byHost(e)).find(Boolean)}resolveUrl(e){const t=this.byUrl(e.base);return t?t.resolveUrl(e):l(e)}resolveEditUrl(e){const t=this.byUrl(e);return t?t.resolveEditUrl(e):e}}}).call(this,a(53).Buffer)},28:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return C})),a.d(t,"d",(function(){return L})),a.d(t,"e",(function(){return N})),a.d(t,"f",(function(){return x})),a.d(t,"g",(function(){return S})),a.d(t,"h",(function(){return w})),a.d(t,"i",(function(){return D})),a.d(t,"j",(function(){return z})),a.d(t,"k",(function(){return A})),a.d(t,"l",(function(){return E})),a.d(t,"m",(function(){return O})),a.d(t,"n",(function(){return T})),a.d(t,"o",(function(){return k})),a.d(t,"p",(function(){return P})),a.d(t,"q",(function(){return c})),a.d(t,"r",(function(){return y})),a.d(t,"s",(function(){return b})),a.d(t,"t",(function(){return M})),a.d(t,"u",(function(){return $})),a.d(t,"v",(function(){return I})),a.d(t,"w",(function(){return j})),a.d(t,"x",(function(){return R}));var n=a(112),r=a.n(n),i=a(750),o=a.n(i),s=(a(1333),a(201));const l="default",c="backstage.io/view-url",u="backstage.io/edit-url";class d{static isValidPrefixAndOrSuffix(e,t,a,n){if("string"!=typeof e)return!1;const r=e.split(t);return 1===r.length?n(r[0]):2===r.length&&(a(r[0])&&n(r[1]))}static isJsonSafe(e){try{return r.a.isEqual(e,JSON.parse(JSON.stringify(e)))}catch{return!1}}static isValidDnsSubdomain(e){return"string"==typeof e&&e.length>=1&&e.length<=253&&e.split(".").every(d.isValidDnsLabel)}static isValidDnsLabel(e){return"string"==typeof e&&e.length>=1&&e.length<=63&&/^[a-z0-9]+(\-[a-z0-9]+)*$/.test(e)}static isValidUrl(e){if("string"!=typeof e)return!1;try{return new URL(e),!0}catch{return!1}}static isValidString(e){var t;return"string"==typeof e&&(null==(t=null==e?void 0:e.trim())?void 0:t.length)>=1}}class m{static isValidApiVersion(e){return d.isValidPrefixAndOrSuffix(e,"/",d.isValidDnsSubdomain,e=>e.length>=1&&e.length<=63&&/^[a-z0-9A-Z]+$/.test(e))}static isValidKind(e){return"string"==typeof e&&e.length>=1&&e.length<=63&&/^[a-zA-Z][a-z0-9A-Z]*$/.test(e)}static isValidObjectName(e){return"string"==typeof e&&e.length>=1&&e.length<=63&&/^[a-z0-9A-Z]+([-_.][a-z0-9A-Z]+)*$/.test(e)}static isValidNamespace(e){return d.isValidDnsLabel(e)}static isValidLabelKey(e){return d.isValidPrefixAndOrSuffix(e,"/",d.isValidDnsSubdomain,m.isValidObjectName)}static isValidLabelValue(e){return""===e||m.isValidObjectName(e)}static isValidAnnotationKey(e){return d.isValidPrefixAndOrSuffix(e,"/",d.isValidDnsSubdomain,m.isValidObjectName)}static isValidAnnotationValue(e){return"string"==typeof e}}m.isValidApiVersion,m.isValidKind,m.isValidObjectName,m.isValidNamespace,m.isValidLabelKey,m.isValidLabelValue,m.isValidAnnotationKey,m.isValidAnnotationValue,d.isValidDnsLabel;var p={$schema:"http://json-schema.org/draft-07/schema",$id:"Entity",description:"The format envelope that's common to all versions/kinds of entity.",examples:[{apiVersion:"backstage.io/v1alpha1",kind:"Component",metadata:{name:"LoremService",description:"Creates Lorems like a pro.",labels:{product_name:"Random value Generator"},annotations:{docs:"https://github.com/..../tree/develop/doc"}},spec:{type:"service",lifecycle:"production",owner:"tools"}}],type:"object",required:["apiVersion","kind","metadata"],additionalProperties:!1,properties:{apiVersion:{type:"string",description:"The version of specification format for this particular entity that this is written against.",minLength:1,examples:["backstage.io/v1alpha1","my-company.net/v1","1.0"]},kind:{type:"string",description:"The high level entity type being described.",minLength:1,examples:["API","Component","Domain","Group","Location","Resource","System","Template","User"]},metadata:{$ref:"EntityMeta"},spec:{type:"object",description:"The specification data describing the entity itself."},relations:{type:"array",description:"The relations that this entity has with other entities.",items:{$ref:"common#relation"}},status:{type:"object",description:"The current status of the entity, as claimed by various sources.",patternProperties:{"^.+$":{$ref:"common#status"}}}}},g={$schema:"http://json-schema.org/draft-07/schema",$id:"EntityMeta",description:"Metadata fields common to all versions/kinds of entity.",examples:[{uid:"e01199ab-08cc-44c2-8e19-5c29ded82521",etag:"lsndfkjsndfkjnsdfkjnsd==",generation:13,name:"my-component-yay",namespace:"the-namespace",labels:{"backstage.io/custom":"ValueStuff"},annotations:{"example.com/bindings":"are-secret"},tags:["java","data"]}],type:"object",required:["name"],additionalProperties:!0,properties:{uid:{type:"string",description:"A globally unique ID for the entity. This field can not be set by the user at creation time, and the server will reject an attempt to do so. The field will be populated in read operations. The field can (optionally) be specified when performing update or delete operations, but the server is free to reject requests that do so in such a way that it breaks semantics.",examples:["e01199ab-08cc-44c2-8e19-5c29ded82521"],minLength:1},etag:{type:"string",description:"An opaque string that changes for each update operation to any part of the entity, including metadata. This field can not be set by the user at creation time, and the server will reject an attempt to do so. The field will be populated in read operations. The field can (optionally) be specified when performing update or delete operations, and the server will then reject the operation if it does not match the current stored value.",examples:["lsndfkjsndfkjnsdfkjnsd=="],minLength:1},generation:{type:"integer",description:"A positive nonzero number that indicates the current generation of data for this entity; the value is incremented each time the spec changes. This field can not be set by the user at creation time, and the server will reject an attempt to do so. The field will be populated in read operations.",examples:[1],minimum:1},name:{type:"string",description:"The name of the entity. Must be unique within the catalog at any given point in time, for any given namespace + kind pair.",examples:["metadata-proxy"],minLength:1},namespace:{type:"string",description:"The namespace that the entity belongs to.",default:"default",examples:["default","admin"],minLength:1},description:{type:"string",description:"A short (typically relatively few words, on one line) description of the entity."},labels:{type:"object",description:"Key/value pairs of identifying information attached to the entity.",additionalProperties:!0,patternProperties:{"^.+$":{type:"string"}}},annotations:{type:"object",description:"Key/value pairs of non-identifying auxiliary information attached to the entity.",additionalProperties:!0,patternProperties:{"^.+$":{type:"string"}}},tags:{type:"array",description:"A list of single-valued strings, to for example classify catalog entities in various ways.",items:{type:"string",minLength:1}},links:{type:"array",description:"A list of external hyperlinks related to the entity. Links can provide additional contextual information that may be located outside of Backstage itself. For example, an admin dashboard or external CMS page.",items:{type:"object",required:["url"],properties:{url:{type:"string",description:"A url in a standard uri format.",examples:["https://admin.example-org.com"],minLength:1},title:{type:"string",description:"A user friendly display name for the link.",examples:["Admin Dashboard"],minLength:1},icon:{type:"string",description:"A key representing a visual icon to be displayed in the UI.",examples:["dashboard"],minLength:1}}}}}},h={$schema:"http://json-schema.org/draft-07/schema",$id:"common",type:"object",description:"Common definitions to import from other schemas",definitions:{reference:{$id:"#reference",type:"object",description:"A reference by name to another entity.",required:["kind","namespace","name"],additionalProperties:!1,properties:{kind:{type:"string",description:"The kind field of the entity."},namespace:{type:"string",description:"The metadata.namespace field of the entity."},name:{type:"string",description:"The metadata.name field of the entity."}}},relation:{$id:"#relation",type:"object",description:"A directed relation from one entity to another.",required:["type","target"],additionalProperties:!1,properties:{type:{type:"string",minLength:1,pattern:"^\\w+$",description:"The type of relation."},target:{$ref:"#reference"}}},status:{$id:"#status",type:"object",description:"A specific status of an entity.",additionalProperties:!0}}};function f(e){var t,a;const n=/^([^:/]+:)?([^:/]+\/)?([^:/]+)$/.exec(e.trim());if(!n)throw new TypeError(`Entity reference "${e}" was not on the form [<kind>:][<namespace>/]<name>`);return{kind:null==(t=n[1])?void 0:t.slice(0,-1),namespace:null==(a=n[2])?void 0:a.slice(0,-1),name:n[3]}}function y(e){return{kind:e.kind,namespace:e.metadata.namespace||l,name:e.metadata.name}}function b(e,t={}){const{kind:a,namespace:n,name:r}=M(e,{defaultNamespace:l,...t});if(!a)throw new Error(`Entity reference ${n}/${r} did not contain a kind`);return{kind:a,namespace:n,name:r}}function M(e,t={}){var a,n;if(!e)throw new Error("Entity reference must not be empty");if("string"==typeof e){const r=f(e);return{kind:null!=(a=r.kind)?a:t.defaultKind,namespace:null!=(n=r.namespace)?n:t.defaultNamespace,name:r.name}}const{kind:r,namespace:i,name:o}=e;if(""===r)throw new Error("Entity reference kinds must not be empty");if(""===i)throw new Error("Entity reference namespaces must not be empty");if(!o)throw new Error("Entity references must contain a name");return{kind:null!=r?r:t.defaultKind,namespace:null!=i?i:t.defaultNamespace,name:o}}function I(e){let t,a,n;return"metadata"in e?(t=e.kind,a=e.metadata.namespace,n=e.metadata.name):(t=e.kind,a=e.namespace,n=e.name),(null==t?void 0:t.includes(":"))||(null==t?void 0:t.includes("/"))||(null==a?void 0:a.includes(":"))||(null==a?void 0:a.includes("/"))||n.includes(":")||n.includes("/")?{kind:t,namespace:a,name:n}:`${t?t+":":""}${a?a+"/":""}${n}`}function j(e){var t,a;let n,r,i;return"metadata"in e?(n=e.kind,r=null!=(t=e.metadata.namespace)?t:l,i=e.metadata.name):(n=e.kind,r=null!=(a=e.namespace)?a:l,i=e.name),`${n.toLowerCase()}:${r.toLowerCase()}/${i.toLowerCase()}`}function v(e,t,a,n){const r=new o.a({allowUnionTypes:!0});n&&r.addSchema(n,void 0,void 0,!0);const i=r.compile(a);return{async check(a){if(e!==a.kind||!t.includes(a.apiVersion))return!1;if(!0===i(a))return!0;const[n]=i.errors||[];if(!n)throw new TypeError(`Malformed ${e}, Unknown error`);throw new TypeError(`Malformed ${e}, ${n.dataPath||"<root>"} ${n.message}${n.params?" - "+Object.entries(n.params).map(([e,t])=>`${e}: ${t}`).join(", "):""}`)}}}v("API",["backstage.io/v1alpha1","backstage.io/v1beta1"],{$schema:"http://json-schema.org/draft-07/schema",$id:"ApiV1alpha1",description:"An API describes an interface that can be exposed by a component. The API can be defined in different formats, like OpenAPI, AsyncAPI, GraphQL, gRPC, or other formats.",examples:[{apiVersion:"backstage.io/v1alpha1",kind:"API",metadata:{name:"artist-api",description:"Retrieve artist details",labels:{product_name:"Random value Generator"},annotations:{docs:"https://github.com/..../tree/develop/doc"}},spec:{type:"openapi",lifecycle:"production",owner:"artist-relations-team",system:"artist-engagement-portal",definition:'openapi: "3.0.0"\ninfo:...'}}],allOf:[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["API"]},spec:{type:"object",required:["type","lifecycle","owner","definition"],properties:{type:{type:"string",description:"The type of the API definition.",examples:["openapi","asyncapi","graphql","grpc"],minLength:1},lifecycle:{type:"string",description:"The lifecycle state of the API.",examples:["experimental","production","deprecated"],minLength:1},owner:{type:"string",description:"An entity reference to the owner of the API.",examples:["artist-relations-team","user:john.johnson"],minLength:1},system:{type:"string",description:"An entity reference to the system that the API belongs to.",minLength:1},definition:{type:"string",description:"The definition of the API, based on the format defined by the type.",minLength:1}}}}}]},[h,g,p]);v("Component",["backstage.io/v1alpha1","backstage.io/v1beta1"],{$schema:"http://json-schema.org/draft-07/schema",$id:"ComponentV1alpha1",description:'A Component describes a software component. It is typically intimately linked to the source code that constitutes the component, and should be what a developer may regard a "unit of software", usually with a distinct deployable or linkable artifact.',examples:[{apiVersion:"backstage.io/v1alpha1",kind:"Component",metadata:{name:"LoremService",description:"Creates Lorems like a pro.",labels:{product_name:"Random value Generator"},annotations:{docs:"https://github.com/..../tree/develop/doc"}},spec:{type:"service",lifecycle:"production",owner:"tools"}}],allOf:[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["Component"]},spec:{type:"object",required:["type","lifecycle","owner"],properties:{type:{type:"string",description:"The type of component.",examples:["service","website","library"],minLength:1},lifecycle:{type:"string",description:"The lifecycle state of the component.",examples:["experimental","production","deprecated"],minLength:1},owner:{type:"string",description:"An entity reference to the owner of the component.",examples:["artist-relations-team","user:john.johnson"],minLength:1},system:{type:"string",description:"An entity reference to the system that the component belongs to.",minLength:1},subcomponentOf:{type:"string",description:"An entity reference to another component of which the component is a part.",minLength:1},providesApis:{type:"array",description:"An array of entity references to the APIs that are provided by the component.",items:{type:"string",minLength:1}},consumesApis:{type:"array",description:"An array of entity references to the APIs that are consumed by the component.",items:{type:"string",minLength:1}},dependsOn:{type:"array",description:"An array of references to other entities that the component depends on to function.",items:{type:"string",minLength:1}}}}}}]},[h,g,p]);v("Domain",["backstage.io/v1alpha1","backstage.io/v1beta1"],{$schema:"http://json-schema.org/draft-07/schema",$id:"DomainV1alpha1",description:"A Domain groups a collection of systems that share terminology, domain models, business purpose, or documentation, i.e. form a bounded context.",examples:[{apiVersion:"backstage.io/v1alpha1",kind:"Domain",metadata:{name:"artists",description:"Everything about artists"},spec:{owner:"artist-relations-team"}}],allOf:[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["Domain"]},spec:{type:"object",required:["owner"],properties:{owner:{type:"string",description:"An entity reference to the owner of the component.",examples:["artist-relations-team","user:john.johnson"],minLength:1}}}}}]},[h,g,p]);v("Group",["backstage.io/v1alpha1","backstage.io/v1beta1"],{$schema:"http://json-schema.org/draft-07/schema",$id:"GroupV1alpha1",description:"A group describes an organizational entity, such as for example a team, a business unit, or a loose collection of people in an interest group. Members of these groups are modeled in the catalog as kind User.",examples:[{apiVersion:"backstage.io/v1alpha1",kind:"Group",metadata:{name:"infrastructure",description:"The infra business unit"},spec:{type:"business-unit",profile:{displayName:"Infrastructure",email:"infrastructure@example.com",picture:"https://example.com/groups/bu-infrastructure.jpeg"},parent:"ops",children:["backstage","other"]}}],allOf:[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["Group"]},spec:{type:"object",required:["type","children"],properties:{type:{type:"string",description:"The type of group. There is currently no enforced set of values for this field, so it is left up to the adopting organization to choose a nomenclature that matches their org hierarchy.",examples:["team","business-unit","product-area","root"],minLength:1},profile:{type:"object",description:"Optional profile information about the group, mainly for display purposes. All fields of this structure are also optional. The email would be a group email of some form, that the group may wish to be used for contacting them. The picture is expected to be a URL pointing to an image that's representative of the group, and that a browser could fetch and render on a group page or similar.",properties:{displayName:{type:"string",description:"A simple display name to present to users.",examples:["Infrastructure"],minLength:1},email:{type:"string",description:"An email where this entity can be reached.",examples:["infrastructure@example.com"],minLength:1},picture:{type:"string",description:"The URL of an image that represents this entity.",examples:["https://example.com/groups/bu-infrastructure.jpeg"],minLength:1}}},parent:{type:"string",description:"The immediate parent group in the hierarchy, if any. Not all groups must have a parent; the catalog supports multi-root hierarchies. Groups may however not have more than one parent. This field is an entity reference.",examples:["ops"],minLength:1},children:{type:"array",description:"The immediate child groups of this group in the hierarchy (whose parent field points to this group). The list must be present, but may be empty if there are no child groups. The items are not guaranteed to be ordered in any particular way. The entries of this array are entity references.",items:{type:"string",examples:["backstage","other"],minLength:1}},members:{type:"array",description:"The users that are members of this group. The entries of this array are entity references.",items:{type:"string",examples:["jdoe"],minLength:1}}}}}}]},[h,g,p]);v("Location",["backstage.io/v1alpha1","backstage.io/v1beta1"],{$schema:"http://json-schema.org/draft-07/schema",$id:"LocationV1alpha1",description:"A location is a marker that references other places to look for catalog data.",examples:[{apiVersion:"backstage.io/v1alpha1",kind:"Location",metadata:{name:"org-data"},spec:{type:"url",targets:["http://github.com/myorg/myproject/org-data-dump/catalog-info-staff.yaml","http://github.com/myorg/myproject/org-data-dump/catalog-info-consultants.yaml"]}}],allOf:[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["Location"]},spec:{type:"object",required:[],properties:{type:{type:"string",description:"The single location type, that's common to the targets specified in the spec. If it is left out, it is inherited from the location type that originally read the entity data.",examples:["url"],minLength:1},target:{type:"string",description:"A single target as a string. Can be either an absolute path/URL (depending on the type), or a relative path such as ./details/catalog-info.yaml which is resolved relative to the location of this Location entity itself.",examples:["./details/catalog-info.yaml"],minLength:1},targets:{type:"array",description:"A list of targets as strings. They can all be either absolute paths/URLs (depending on the type), or relative paths such as ./details/catalog-info.yaml which are resolved relative to the location of this Location entity itself.",items:{type:"string",examples:["./details/catalog-info.yaml","http://github.com/myorg/myproject/org-data-dump/catalog-info-staff.yaml"],minLength:1}}}}}}]},[h,g,p]);const E="ownedBy",w="consumesApi",N="apiConsumedBy",k="providesApi",x="apiProvidedBy",D="dependsOn",O="parentOf",S="childOf",A="memberOf",T="partOf",z="hasPart";v("Resource",["backstage.io/v1alpha1","backstage.io/v1beta1"],{$schema:"http://json-schema.org/draft-07/schema",$id:"ResourceV1alpha1",description:"A resource describes the infrastructure a system needs to operate, like BigTable databases, Pub/Sub topics, S3 buckets or CDNs. Modelling them together with components and systems allows to visualize resource footprint, and create tooling around them.",examples:[{apiVersion:"backstage.io/v1alpha1",kind:"Resource",metadata:{name:"artists-db",description:"Stores artist details"},spec:{type:"database",owner:"artist-relations-team",system:"artist-engagement-portal"}}],allOf:[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["Resource"]},spec:{type:"object",required:["type","owner"],properties:{type:{type:"string",description:"The type of resource.",examples:["database","s3-bucket","cluster"],minLength:1},owner:{type:"string",description:"An entity reference to the owner of the resource.",examples:["artist-relations-team","user:john.johnson"],minLength:1},dependsOn:{type:"array",description:"An array of references to other entities that the resource depends on to function.",items:{type:"string",minLength:1}},system:{type:"string",description:"An entity reference to the system that the resource belongs to.",minLength:1}}}}}]},[h,g,p]);v("System",["backstage.io/v1alpha1","backstage.io/v1beta1"],{$schema:"http://json-schema.org/draft-07/schema",$id:"SystemV1alpha1",description:"A system is a collection of resources and components. The system may expose or consume one or several APIs. It is viewed as abstraction level that provides potential consumers insights into exposed features without needing a too detailed view into the details of all components. This also gives the owning team the possibility to decide about published artifacts and APIs.",examples:[{apiVersion:"backstage.io/v1alpha1",kind:"System",metadata:{name:"artist-engagement-portal",description:"Handy tools to keep artists in the loop"},spec:{owner:"artist-relations-team",domain:"artists"}}],allOf:[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["System"]},spec:{type:"object",required:["owner"],properties:{owner:{type:"string",description:"An entity reference to the owner of the component.",examples:["artist-relations-team","user:john.johnson"],minLength:1},domain:{type:"string",description:"An entity reference to the domain that the system belongs to.",examples:["artists"],minLength:1}}}}}]},[h,g,p]);v("Template",["backstage.io/v1alpha1","backstage.io/v1beta1"],{$schema:"http://json-schema.org/draft-07/schema",$id:"TemplateV1alpha1",description:"A Template describes a skeleton for use with the Scaffolder. It is used for describing what templating library is supported, and also for documenting the variables that the template requires using JSON Forms Schema.",examples:[{apiVersion:"backstage.io/v1alpha1",kind:"Template",metadata:{name:"react-ssr-template",title:"React SSR Template",description:"Next.js application skeleton for creating isomorphic web applications.",tags:["recommended","react"]},spec:{owner:"artist-relations-team",templater:"cookiecutter",type:"website",path:".",schema:{required:["component-id","description"],properties:{component_id:{title:"Name",type:"string",description:"Unique name of the component"},description:{title:"Description",type:"string",description:"Description of the component"}}}}}],allOf:[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["Template"]},metadata:{type:"object",properties:{title:{type:"string",description:"The nice display name for the template. This field is required as is used to reference the template to the user instead of the metadata.name field.",examples:["React SSR Template"],minLength:1}}},spec:{type:"object",required:["type","templater","schema"],properties:{type:{type:"string",description:"The type of component created by the template. The software catalog accepts any type value, but an organization should take great care to establish a proper taxonomy for these. Tools including Backstage itself may read this field and behave differently depending on its value. For example, a website type component may present tooling in the Backstage interface that is specific to just websites.",examples:["service","website","library"],minLength:1},templater:{type:"string",description:"The templating library that is supported by the template skeleton.",examples:["cookiecutter"],minLength:1},path:{type:"string",description:"The string location where the templater should be run if it is not on the same level as the template.yaml definition.",examples:["./cookiecutter/skeleton"],minLength:1},schema:{type:"object",description:"The JSONSchema describing the inputs for the template."},owner:{type:"string",description:"The user (or group) owner of the template",minLength:1}}}}}]},[h,g,p]);v("Template",["backstage.io/v1beta2"],{$schema:"http://json-schema.org/draft-07/schema",$id:"TemplateV1beta1",description:"A Template describes a scaffolding task for use with the Scaffolder. It describes the required parameters as well as a series of steps that will be taken to execute the scaffolding task.",examples:[{apiVersion:"backstage.io/v1beta1",kind:"Template",metadata:{name:"react-ssr-template",title:"React SSR Template",description:"Next.js application skeleton for creating isomorphic web applications.",tags:["recommended","react"]},spec:{owner:"artist-relations-team",type:"website",parameters:{required:["name","description"],properties:{name:{title:"Name",type:"string",description:"Unique name of the component"},description:{title:"Description",type:"string",description:"Description of the component"}}},steps:[{id:"fetch",name:"Fetch",action:"fetch:plain",parameters:{url:"./template"}},{id:"publish",name:"Publish to GitHub",action:"publish:github",parameters:{repoUrl:"{{ parameters.repoUrl }}"}}],output:{catalogInfoUrl:"{{ steps.publish.output.catalogInfoUrl }}"}}}],allOf:[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1beta2"]},kind:{enum:["Template"]},metadata:{type:"object",properties:{title:{type:"string",description:"The nice display name for the template.",examples:["React SSR Template"],minLength:1}}},spec:{type:"object",required:["type","steps"],properties:{type:{type:"string",description:"The type of component created by the template. The software catalog accepts any type value, but an organization should take great care to establish a proper taxonomy for these. Tools including Backstage itself may read this field and behave differently depending on its value. For example, a website type component may present tooling in the Backstage interface that is specific to just websites.",examples:["service","website","library"],minLength:1},parameters:{oneOf:[{type:"object",description:"The JSONSchema describing the inputs for the template."},{type:"array",description:"A list of separate forms to collect parameters.",items:{type:"object",description:"The JSONSchema describing the inputs for the template."}}]},steps:{type:"array",description:"A list of steps to execute.",items:{type:"object",description:"A description of the step to execute.",required:["action"],properties:{id:{type:"string",description:"The ID of the step, which can be used to refer to its outputs."},name:{type:"string",description:"The name of the step, which will be displayed in the UI during the scaffolding process."},action:{type:"string",description:"The name of the action to execute."},input:{type:"object",description:"A templated object describing the inputs to the action."}}}},output:{type:"object",description:"A templated object describing the outputs of the scaffolding task.",properties:{links:{type:"array",description:"A list of external hyperlinks, typically pointing to resources created or updated by the template",items:{type:"object",required:["url"],properties:{url:{type:"string",description:"A url in a standard uri format.",examples:["https://github.com/my-org/my-new-repo"],minLength:1},title:{type:"string",description:"A user friendly display name for the link.",examples:["View new repo"],minLength:1},icon:{type:"string",description:"A key representing a visual icon to be displayed in the UI.",examples:["dashboard"],minLength:1}}}}},additionalProperties:{type:"string"}},owner:{type:"string",description:"The user (or group) owner of the template",minLength:1}}}}}]},[h,g,p]);v("User",["backstage.io/v1alpha1","backstage.io/v1beta1"],{$schema:"http://json-schema.org/draft-07/schema",$id:"UserV1alpha1",description:"A user describes a person, such as an employee, a contractor, or similar. Users belong to Group entities in the catalog. These catalog user entries are connected to the way that authentication within the Backstage ecosystem works. See the auth section of the docs for a discussion of these concepts.",examples:[{apiVersion:"backstage.io/v1alpha1",kind:"User",metadata:{name:"jdoe"},spec:{profile:{displayName:"Jenny Doe",email:"jenny-doe@example.com",picture:"https://example.com/staff/jenny-with-party-hat.jpeg"},memberOf:["team-b","employees"]}}],allOf:[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["backstage.io/v1alpha1","backstage.io/v1beta1"]},kind:{enum:["User"]},spec:{type:"object",required:["memberOf"],properties:{profile:{type:"object",description:"Optional profile information about the user, mainly for display purposes. All fields of this structure are also optional. The email would be a primary email of some form, that the user may wish to be used for contacting them. The picture is expected to be a URL pointing to an image that's representative of the user, and that a browser could fetch and render on a profile page or similar.",properties:{displayName:{type:"string",description:"A simple display name to present to users.",examples:["Jenny Doe"],minLength:1},email:{type:"string",description:"An email where this user can be reached.",examples:["jenny-doe@example.com"],minLength:1},picture:{type:"string",description:"The URL of an image that represents this user.",examples:["https://example.com/staff/jenny-with-party-hat.jpeg"],minLength:1}}},memberOf:{type:"array",description:"The list of groups that the user is a direct member of (i.e., no transitive memberships are listed here). The list must be present, but may be empty if the user is not member of any groups. The items are not guaranteed to be ordered in any particular way. The entries of this array are entity references.",items:{type:"string",examples:["team-b","employees"],minLength:1}}}}}}]},[h,g,p]);const C="backstage.io/managed-by-location",L="backstage.io/managed-by-origin-location",P="backstage.io/source-location";function $(e){if("string"!=typeof e)throw new TypeError(`Unable to parse location reference '${e}', unexpected argument ${typeof e}`);const t=e.indexOf(":");if(t<0)throw new TypeError(`Unable to parse location reference '${e}', expected '<type>:<target>', e.g. 'url:https://host/path'`);const a=e.substr(0,t).trim(),n=e.substr(t+1).trim();if(!a||!n)throw new TypeError(`Unable to parse location reference '${e}', expected '<type>:<target>', e.g. 'url:https://host/path'`);if("http"===a||"https"===a)throw new TypeError(`Invalid location reference '${e}', please prefix it with 'url:', e.g. 'url:${e}'`);return{type:a,target:n}}function R(e){const{type:t,target:a}=e;if(!t)throw new TypeError("Unable to stringify location reference, empty type");if(!a)throw new TypeError("Unable to stringify location reference, empty target");return`${t}:${a}`}const U=Object(s.a)({type:Object(s.b)().required(),target:Object(s.b)().required(),presence:Object(s.b)()}).noUnknown().required();Object(s.a)({id:Object(s.b)().required(),type:Object(s.b)().required(),target:Object(s.b)().required()}).noUnknown().required(),Object(s.a)({location:U}).noUnknown().required()}).call(this,a(53).Buffer)},29:function(e,t,a){"use strict";a(28),a(3),a(139),a(12),a(0);var n=a(56);a.d(t,"a",(function(){return n.e})),a.d(t,"b",(function(){return n.f})),a.d(t,"c",(function(){return n.h})),a.d(t,"d",(function(){return n.i})),a.d(t,"e",(function(){return n.j})),a.d(t,"f",(function(){return n.d})),a.d(t,"g",(function(){return n.l})),a.d(t,"h",(function(){return n.k})),a.d(t,"i",(function(){return n.g})),a.d(t,"j",(function(){return n.n})),a.d(t,"k",(function(){return n.m}));a(272),a(607),a(608)},296:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return m})),a.d(t,"d",(function(){return d})),a.d(t,"e",(function(){return l}));var n=a(3),r=a(139),i=a(159),o=a(276),s=a.n(o);const l=Object(n.hb)({id:"plugin.scaffolder.service",description:"Used to make requests towards the scaffolder backend"});class c{constructor(e){this.discoveryApi=e.discoveryApi,this.identityApi=e.identityApi,this.scmIntegrationsApi=e.scmIntegrationsApi}async getIntegrationsList(e){return[...this.scmIntegrationsApi.azure.list(),...this.scmIntegrationsApi.bitbucket.list(),...this.scmIntegrationsApi.github.list(),...this.scmIntegrationsApi.gitlab.list()].map(e=>({type:e.type,title:e.title,host:e.config.host})).filter(t=>e.allowedHosts.includes(t.host))}async getTemplateParameterSchema(e){const{namespace:t,kind:a,name:n}=e,r=await this.identityApi.getIdToken(),o=`${await this.discoveryApi.getBaseUrl("scaffolder")}/v2/templates/${[t,a,n].map(e=>encodeURIComponent(e)).join("/")}/parameter-schema`,s=await fetch(o,{headers:{...r&&{Authorization:"Bearer "+r}}});if(!s.ok)throw i.b.fromResponse(s);return await s.json()}async scaffold(e,t){const a=await this.identityApi.getIdToken(),n=await this.discoveryApi.getBaseUrl("scaffolder")+"/v2/tasks",r=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json",...a&&{Authorization:"Bearer "+a}},body:JSON.stringify({templateName:e,values:{...t}})});if(201!==r.status){const e=`${r.status} ${r.statusText}`,t=await r.text();throw new Error(`Backend request failed, ${e} ${t.trim()}`)}const{id:i}=await r.json();return i}async getTask(e){const t=await this.identityApi.getIdToken(),a=`${await this.discoveryApi.getBaseUrl("scaffolder")}/v2/tasks/${encodeURIComponent(e)}`,n=await fetch(a,{headers:t?{Authorization:"Bearer "+t}:{}});if(!n.ok)throw i.b.fromResponse(n);return await n.json()}streamLogs({taskId:e,after:t}){return new s.a(a=>{const n=new URLSearchParams;void 0!==t&&n.set("after",String(Number(t))),this.discoveryApi.getBaseUrl("scaffolder").then(t=>{const n=`${t}/v2/tasks/${encodeURIComponent(e)}/eventstream`,r=new EventSource(n,{withCredentials:!0});r.addEventListener("log",e=>{if(e.data)try{a.next(JSON.parse(e.data))}catch(e){a.error(e)}}),r.addEventListener("completion",e=>{if(e.data)try{a.next(JSON.parse(e.data))}catch(e){a.error(e)}r.close(),a.complete()}),r.addEventListener("error",e=>{a.error(e)})},e=>{a.error(e)})})}async listActions(){const e=await this.discoveryApi.getBaseUrl("scaffolder"),t=await fetch(e+"/v2/actions");if(!t.ok)throw i.b.fromResponse(t);return await t.json()}}const u=Object(n.kb)({id:"register-component",optional:!0}),d=Object(n.nb)({title:"Create new entity"}),m=Object(n.lb)({id:"scaffolder",apis:[Object(n.gb)({api:l,deps:{discoveryApi:n.ob,identityApi:n.ub,scmIntegrationsApi:r.b},factory:({discoveryApi:e,identityApi:t,scmIntegrationsApi:a})=>new c({discoveryApi:e,identityApi:t,scmIntegrationsApi:a})})],routes:{root:d},externalRoutes:{registerComponent:u}}),p=m.provide(Object(n.mb)({component:()=>Promise.all([a.e(3),a.e(36)]).then(a.bind(null,2792)).then(e=>e.Router),mountPoint:d}))},3:function(e,t,a){"use strict";a.d(t,"m",(function(){return Oe})),a.d(t,"n",(function(){return Dt})),a.d(t,"F",(function(){return le})),a.d(t,"bb",(function(){return we})),a.d(t,"cb",(function(){return Ne})),a.d(t,"db",(function(){return vt})),a.d(t,"eb",(function(){return be})),a.d(t,"fb",(function(){return ke})),a.d(t,"gb",(function(){return pe})),a.d(t,"hb",(function(){return me})),a.d(t,"jb",(function(){return Bt})),a.d(t,"kb",(function(){return xt})),a.d(t,"lb",(function(){return Vt})),a.d(t,"mb",(function(){return Qt})),a.d(t,"nb",(function(){return At})),a.d(t,"ob",(function(){return xe})),a.d(t,"pb",(function(){return De})),a.d(t,"qb",(function(){return Ae})),a.d(t,"rb",(function(){return he})),a.d(t,"sb",(function(){return ye})),a.d(t,"tb",(function(){return ge})),a.d(t,"ub",(function(){return Te})),a.d(t,"vb",(function(){return Me})),a.d(t,"wb",(function(){return Ie})),a.d(t,"xb",(function(){return fe})),a.d(t,"zb",(function(){return Ce})),a.d(t,"Ab",(function(){return ae})),a.d(t,"Bb",(function(){return Mt})),a.d(t,"Db",(function(){return Rt})),a.d(t,"Eb",(function(){return _t})),a.d(t,"a",(function(){return ri})),a.d(t,"b",(function(){return si})),a.d(t,"c",(function(){return Os})),a.d(t,"d",(function(){return li})),a.d(t,"e",(function(){return dl})),a.d(t,"f",(function(){return di})),a.d(t,"g",(function(){return as})),a.d(t,"h",(function(){return ks})),a.d(t,"i",(function(){return Ti})),a.d(t,"j",(function(){return Ii})),a.d(t,"k",(function(){return Pi})),a.d(t,"l",(function(){return Jr})),a.d(t,"o",(function(){return Cs})),a.d(t,"p",(function(){return Ki})),a.d(t,"q",(function(){return $s})),a.d(t,"r",(function(){return rs})),a.d(t,"s",(function(){return jo})),a.d(t,"t",(function(){return Qs})),a.d(t,"u",(function(){return Us})),a.d(t,"v",(function(){return ao})),a.d(t,"w",(function(){return Hi})),a.d(t,"x",(function(){return io})),a.d(t,"y",(function(){return Ui})),a.d(t,"z",(function(){return co})),a.d(t,"A",(function(){return mo})),a.d(t,"B",(function(){return Ys})),a.d(t,"C",(function(){return Xr})),a.d(t,"D",(function(){return Vi})),a.d(t,"E",(function(){return is})),a.d(t,"G",(function(){return el})),a.d(t,"H",(function(){return Zs})),a.d(t,"I",(function(){return ol})),a.d(t,"J",(function(){return nl})),a.d(t,"K",(function(){return qs})),a.d(t,"L",(function(){return Hs})),a.d(t,"M",(function(){return rl})),a.d(t,"N",(function(){return il})),a.d(t,"O",(function(){return Po})),a.d(t,"P",(function(){return zo})),a.d(t,"Q",(function(){return Ao})),a.d(t,"R",(function(){return Co})),a.d(t,"S",(function(){return Lo})),a.d(t,"T",(function(){return To})),a.d(t,"U",(function(){return Ho})),a.d(t,"V",(function(){return cs})),a.d(t,"W",(function(){return es})),a.d(t,"X",(function(){return cl})),a.d(t,"Y",(function(){return ss})),a.d(t,"Z",(function(){return ws})),a.d(t,"ab",(function(){return Gi})),a.d(t,"ib",(function(){return ni})),a.d(t,"yb",(function(){return Gs})),a.d(t,"Cb",(function(){return Fr}));var n=a(0),r=a.n(n),i=a(6),o=a.n(i),s=a(162),l=a.n(s),c=a(276),u=a.n(c),d=a(642),m=a.n(d),p=a(895),g=a.n(p);const h=/^[a-z][a-z0-9]*(?:[-_][a-z][a-z0-9]*)*$/i;function f(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function y(e){if(null===e)return"null";if(Array.isArray(e))return"array";const t=typeof e;return"number"===t&&isNaN(e)?"nan":"string"===t&&""===e?"empty-string":t}const b={type:(e,t,a,n)=>`Invalid type in config for key '${e}' in '${t}', got ${a}, wanted ${n}`,missing:e=>`Missing required config value at '${e}'`,convert:(e,t,a)=>`Unable to convert config value for key '${e}' in '${t}' to a ${a}`};class M{constructor(e,t="mock-config",a,n=""){this.data=e,this.context=t,this.fallback=a,this.prefix=n}static fromConfigs(e){return 0===e.length?new M(void 0):e.reduce((e,{data:t,context:a})=>new M(t,a,e),void 0)}has(e){var t,a;return void 0!==this.readValue(e)||null!=(a=null==(t=this.fallback)?void 0:t.has(e))&&a}keys(){var e,t;const a=this.data?Object.keys(this.data):[],n=null!=(t=null==(e=this.fallback)?void 0:e.keys())?t:[];return[...new Set([...a,...n])]}get(e){const t=this.getOptional(e);if(void 0===t)throw new Error(b.missing(this.fullKey(null!=e?e:"")));return t}getOptional(e){var t;const a=this.readValue(e),n=null==(t=this.fallback)?void 0:t.getOptional(e);return void 0===a?n:void 0===n?a:g()({},{value:m()(n)},{value:a},(e,t)=>f(t)&&f(e)?void 0:t).value}getConfig(e){const t=this.getOptionalConfig(e);if(void 0===t)throw new Error(b.missing(this.fullKey(e)));return t}getOptionalConfig(e){var t;const a=this.readValue(e),n=null==(t=this.fallback)?void 0:t.getOptionalConfig(e),r=this.fullKey(e);if(f(a))return new M(a,this.context,n,r);if(void 0!==a)throw new TypeError(b.type(this.fullKey(e),this.context,y(a),"object"));return n}getConfigArray(e){const t=this.getOptionalConfigArray(e);if(void 0===t)throw new Error(b.missing(this.fullKey(e)));return t}getOptionalConfigArray(e){const t=this.readConfigValue(e,t=>{if(!Array.isArray(t))return{expected:"object-array"};for(const[a,n]of t.entries())if(!f(n))return{expected:"object-array",value:n,key:`${e}[${a}]`};return!0});if(t)return t.map((t,a)=>new M(t,this.context,void 0,this.fullKey(`${e}[${a}]`)))}getNumber(e){const t=this.getOptionalNumber(e);if(void 0===t)throw new Error(b.missing(this.fullKey(e)));return t}getOptionalNumber(e){const t=this.readConfigValue(e,e=>"number"==typeof e||"string"==typeof e||{expected:"number"});if("number"==typeof t||void 0===t)return t;const a=Number(t);if(!Number.isFinite(a))throw new Error(b.convert(this.fullKey(e),this.context,"number"));return a}getBoolean(e){const t=this.getOptionalBoolean(e);if(void 0===t)throw new Error(b.missing(this.fullKey(e)));return t}getOptionalBoolean(e){return this.readConfigValue(e,e=>"boolean"==typeof e||{expected:"boolean"})}getString(e){const t=this.getOptionalString(e);if(void 0===t)throw new Error(b.missing(this.fullKey(e)));return t}getOptionalString(e){return this.readConfigValue(e,e=>"string"==typeof e&&""!==e||{expected:"string"})}getStringArray(e){const t=this.getOptionalStringArray(e);if(void 0===t)throw new Error(b.missing(this.fullKey(e)));return t}getOptionalStringArray(e){return this.readConfigValue(e,t=>{if(!Array.isArray(t))return{expected:"string-array"};for(const[a,n]of t.entries())if("string"!=typeof n||""===n)return{expected:"string-array",value:n,key:`${e}[${a}]`};return!0})}fullKey(e){return`${this.prefix}${this.prefix?".":""}${e}`}readConfigValue(e,t){var a;const n=this.readValue(e);if(void 0===n)return null==(a=this.fallback)?void 0:a.readConfigValue(e,t);const r=t(n);if(!0!==r){const{key:t=e,value:a=n,expected:i}=r;throw new TypeError(b.type(this.fullKey(t),this.context,y(a),i))}return n}readValue(e){const t=e?e.split("."):[];for(const a of t)if(!h.test(a))throw new TypeError(`Invalid config key '${e}'`);if(void 0===this.data)return;let a=this.data;for(const[e,n]of t.entries())if(f(a))a=a[n];else if(void 0!==a){const n=this.fullKey(t.slice(0,e).join("."));throw new TypeError(b.type(n,this.context,y(a),"object"))}return a}}var I=a(19),j=a(1223),v=a.n(j),E=a(739),w=a.n(E),N=a(1224),k=a.n(N),x=a(1225),D=a.n(x),O=a(421),S=a.n(O),A=a(251),T=a.n(A),z=a(1227),C=a.n(z),L=a(1226),P=a.n(L),$=a(323),R=a.n($),U=a(901),_=a.n(U),Q=a(252),B=a.n(Q),Y=a(1334),G=a(73),Z=a(2809),W=a(2810);class F{constructor(...e){this.holders=e}get(e){for(const t of this.holders){const a=t.get(e);if(a)return a}}}const V="undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof self&&self.Math===Math?self:Function("return this")(),H=e=>`__@backstage/${e}__`;function q(e){const t=H(e);if(!(t in V))throw new Error(`Global ${e} is not set`);return V[t]}function J(e,t){const a=H(e);let n=V[a];return n||(n=t(),V[a]=n,n)}function X(e){return Object.freeze(e),{atVersion:t=>e[t]}}const K=J("api-context",()=>Object(n.createContext)(void 0)),ee=({apis:e,children:t})=>{var a;const i=null==(a=Object(n.useContext)(K))?void 0:a.atVersion(1),o=Object(n.useMemo)(()=>X({1:i?new F(e,i):e}),[i,e]);return r.a.createElement(K.Provider,{value:o,children:t})};function te(){const e=Object(n.useContext)(q("api-context"));if(!e)throw new Error("No ApiProvider available in react context. A common cause of this error is that multiple versions of @backstage/core-api are installed. You can check if that is the case using 'yarn backstage-cli versions:check', and can in many cases fix the issue either with the --fix flag or using 'yarn backstage-cli versions:bump'");const t=e.atVersion(1);if(!t)throw new Error("ApiContext v1 not available");return t}function ae(e){const t=te().get(e);if(!t)throw new Error("No implementation available for "+e);return t}ee.propTypes={apis:o.a.shape({get:o.a.func.isRequired}).isRequired,children:o.a.node};class ne{constructor(){this.apis=[]}add(e,t){return this.apis.push([e.id,t]),t}build(){return new re(new Map(this.apis))}}class re{constructor(e){this.apis=e}static builder(){return new ne}static from(e){return new re(new Map(e.map(([e,t])=>[e.id,t])))}static with(e,t){return new re(new Map([[e.id,t]]))}with(e,t){return new re(new Map([...this.apis,[e.id,t]]))}get(e){return this.apis.get(e.id)}}class ie{constructor(e){this.factories=e,this.apis=new Map}static validateFactories(e,t){for(const a of t){const t=[a],n=new Set;for(;t.length;){const r=t.shift(),i=e.get(r);if(i)for(const e of Object.values(i.deps)){if(e.id===a.id)throw new Error("Circular dependency of api factory for "+a);n.has(e)||(n.add(e),t.push(e))}}}}get(e){return this.load(e)}load(e,t=[]){const a=this.apis.get(e.id);if(a)return a;const n=this.factories.get(e);if(!n)return;if(t.includes(n.api))throw new Error("Circular dependency of api factory for "+n.api);const r=this.loadDeps(e,n.deps,[...t,n.api]),i=n.factory(r);return this.apis.set(e.id,i),i}loadDeps(e,t,a){const n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r],o=this.load(i,a);if(!o)throw new Error(`No API factory available for dependency ${i} of dependent ${e}`);n[r]=o}return n}}var oe,se,le,ce;(se=oe||(oe={}))[se.default=10]="default",se[se.app=50]="app",se[se.static=100]="static";class ue{constructor(){this.factories=new Map}register(e,t){const a=oe[e],n=this.factories.get(t.api.id);return!(n&&n.priority>=a)&&(this.factories.set(t.api.id,{priority:a,factory:t}),!0)}get(e){const t=this.factories.get(e.id);if(t)return t.factory}getAllApis(){const e=new Set;for(const{factory:t}of this.factories.values())e.add(t.api);return e}}class de{constructor(e){this.config=e;if(!e.id.split(".").flatMap(e=>e.split("-")).every(e=>e.match(/^[a-z][a-z0-9]*$/)))throw new Error(`API id must only contain period separated lowercase alphanum tokens with dashes, got '${e.id}'`)}get id(){return this.config.id}get description(){return this.config.description}get T(){throw new Error("tried to read ApiRef.T of "+this)}toString(){return`apiRef{${this.config.id}}`}}function me(e){return new de(e)}function pe(e,t){return"id"in e?{api:e,deps:{},factory:()=>t}:e}(ce=le||(le={})).SignedIn="SignedIn",ce.SignedOut="SignedOut";const ge=me({id:"core.auth.google",description:"Provides authentication towards Google APIs and identities"}),he=me({id:"core.auth.github",description:"Provides authentication towards GitHub APIs"}),fe=me({id:"core.auth.okta",description:"Provides authentication towards Okta APIs"}),ye=me({id:"core.auth.gitlab",description:"Provides authentication towards GitLab APIs"}),be=me({id:"core.auth.auth0",description:"Provides authentication towards Auth0 APIs"}),Me=me({id:"core.auth.microsoft",description:"Provides authentication towards Microsoft APIs and identities"}),Ie=me({id:"core.auth.oauth2",description:"Example of how to use oauth2 custom provider"}),je=me({id:"core.auth.oidc",description:"Example of how to use oidc custom provider"}),ve=me({id:"core.auth.saml",description:"Example of how to use SAML custom provider"}),Ee=me({id:"core.auth.onelogin",description:"Provides authentication towards OneLogin APIs and identities"}),we=me({id:"core.alert",description:"Used to report alerts and forward them to the app"}),Ne=me({id:"core.apptheme",description:"API Used to configure the app theme, and enumerate options"}),ke=me({id:"core.config",description:"Used to access runtime configuration"}),xe=me({id:"core.discovery",description:"Provides service discovery of backend plugins"}),De=me({id:"core.error",description:"Used to report errors and forward them to the app"});var Oe,Se;(Se=Oe||(Oe={}))[Se.None=0]="None",Se[Se.Active=1]="Active";const Ae=me({id:"core.featureflags",description:"Used to toggle functionality in features across Backstage"}),Te=me({id:"core.identity",description:"Provides access to the identity of the signed in user"}),ze=me({id:"core.oauthrequest",description:"An API for implementing unified OAuth flows in Backstage"}),Ce=me({id:"core.storage",description:"Provides the ability to store data which is unique to the user"});function Le(e){return new Promise((t,a)=>{const n=e.width||500,r=e.height||700,i=window.screen.width/2-n/2,o=window.screen.height/2-r/2,s=window.open(e.url,e.name,`menubar=no,location=no,resizable=no,scrollbars=no,status=no,width=${n},height=${r},top=${o},left=${i}`);let l="";if(!s||void 0===s.closed||s.closed){const e=new Error("Failed to open auth popup.");return e.name="PopupRejectedError",void a(e)}const c=n=>{if(n.source!==s)return;if(n.origin!==e.origin)return;const{data:r}=n;if("config_info"===r.type)return void(l=r.targetOrigin);if("authorization_response"!==r.type)return;const i=r;if("error"in i){const e=new Error(i.error.message);e.name=i.error.name,a(e)}else t(i.response);d()},u=setInterval(()=>{if(s.closed){const e="Login failed, "+(l&&l!==window.location.origin?"Incorrect app origin, expected "+l:"popup was closed"),t=new Error(e);t.name="PopupClosedError",a(t),d()}},100);function d(){window.removeEventListener("message",c),clearInterval(u)}window.addEventListener("message",c)})}function Pe(e){return[...e].join(" ")}class $e{constructor(e){const{discoveryApi:t,environment:a,provider:n,joinScopes:r=Pe,oauthRequestApi:i,sessionTransform:o=(e=>e)}=e;this.authRequester=i.createAuthRequester({provider:n,onAuthRequest:e=>this.showPopup(e)}),this.discoveryApi=t,this.environment=a,this.provider=n,this.joinScopesFunc=r,this.sessionTransform=o}async createSession(e){return e.instantPopup?this.showPopup(e.scopes):this.authRequester(e.scopes)}async refreshSession(){const e=await fetch(await this.buildUrl("/refresh",{optional:!0}),{headers:{"x-requested-with":"XMLHttpRequest"},credentials:"include"}).catch(e=>{throw new Error("Auth refresh request failed, "+e)});if(!e.ok){const t=new Error("Auth refresh request failed, "+e.statusText);throw t.status=e.status,t}const t=await e.json();if(t.error){const e=new Error(t.error.message);throw t.error.name&&(e.name=t.error.name),e}return await this.sessionTransform(t)}async removeSession(){const e=await fetch(await this.buildUrl("/logout"),{method:"POST",headers:{"x-requested-with":"XMLHttpRequest"},credentials:"include"}).catch(e=>{throw new Error("Logout request failed, "+e)});if(!e.ok){const t=new Error("Logout request failed, "+e.statusText);throw t.status=e.status,t}}async showPopup(e){const t=this.joinScopesFunc(e),a=await this.buildUrl("/start",{scope:t}),n=await Le({url:a,name:this.provider.title+" Login",origin:new URL(a).origin,width:450,height:730});return await this.sessionTransform(n)}async buildUrl(e,t){const a=await this.discoveryApi.getBaseUrl("auth"),n=this.buildQueryString({...t,env:this.environment});return`${a}/${this.provider.id}${e}${n}`}buildQueryString(e){if(!e)return"";const t=Object.entries(e).map(([e,t])=>"string"==typeof t?`${encodeURIComponent(e)}=${encodeURIComponent(t)}`:t?encodeURIComponent(e):void 0).filter(Boolean).join("&");return t?"?"+t:""}}class Re{constructor(e){const{discoveryApi:t,environment:a,provider:n}=e;this.discoveryApi=t,this.environment=a,this.provider=n}async createSession(){const e=await this.buildUrl("/start"),t=await Le({url:e,name:this.provider.title+" Login",origin:new URL(e).origin,width:450,height:730});return{...t,id:t.profile.email}}async refreshSession(){}async removeSession(){const e=await fetch(await this.buildUrl("/logout"),{method:"POST",headers:{"x-requested-with":"XMLHttpRequest"},credentials:"include"}).catch(e=>{throw new Error("Logout request failed, "+e)});if(!e.ok){const t=new Error("Logout request failed, "+e.statusText);throw t.status=e.status,t}}async buildUrl(e){return`${await this.discoveryApi.getBaseUrl("auth")}/${this.provider.id}${e}?env=${this.environment}`}}function Ue(e,t){for(const a of t)if(!e.has(a))return!1;return!0}class _e{constructor(e){this.options=e}sessionExistsAndHasScope(e,t){if(!e)return!1;if(!t)return!0;if(void 0===this.options.sessionScopes)return!0;return Ue(this.options.sessionScopes(e),t)}getExtendedScope(e,t){const a=new Set(this.options.defaultScopes);if(e&&void 0!==this.options.sessionScopes){const t=this.options.sessionScopes(e);for(const e of t)a.add(e)}if(t)for(const e of t)a.add(e);return a}}class Qe{constructor(){this.isClosed=!1,this.observable=new u.a(e=>this.isClosed?(this.terminatingError?e.error(this.terminatingError):e.complete(),()=>{}):(this.subscribers.add(e),()=>{this.subscribers.delete(e)})),this.subscribers=new Set}[Symbol.observable](){return this}get closed(){return this.isClosed}next(e){if(this.isClosed)throw new Error("PublishSubject is closed");this.subscribers.forEach(t=>t.next(e))}error(e){if(this.isClosed)throw new Error("PublishSubject is closed");this.isClosed=!0,this.terminatingError=e,this.subscribers.forEach(t=>t.error(e))}complete(){if(this.isClosed)throw new Error("PublishSubject is closed");this.isClosed=!0,this.subscribers.forEach(e=>e.complete())}subscribe(e,t,a){const n="function"==typeof e?{next:e,error:t,complete:a}:e;return this.observable.subscribe(n)}}class Be{constructor(e){this.isClosed=!1,this.observable=new u.a(e=>this.isClosed?(this.terminatingError?e.error(this.terminatingError):e.complete(),()=>{}):(e.next(this.currentValue),this.subscribers.add(e),()=>{this.subscribers.delete(e)})),this.subscribers=new Set,this.currentValue=e}[Symbol.observable](){return this}get closed(){return this.isClosed}next(e){if(this.isClosed)throw new Error("BehaviorSubject is closed");this.currentValue=e,this.subscribers.forEach(t=>t.next(e))}error(e){if(this.isClosed)throw new Error("BehaviorSubject is closed");this.isClosed=!0,this.terminatingError=e,this.subscribers.forEach(t=>t.error(e))}complete(){if(this.isClosed)throw new Error("BehaviorSubject is closed");this.isClosed=!0,this.subscribers.forEach(e=>e.complete())}subscribe(e,t,a){const n="function"==typeof e?{next:e,error:t,complete:a}:e;return this.observable.subscribe(n)}}class Ye{constructor(){this.subject=new Be(le.SignedOut),this.signedIn=!1}setIsSignedIn(e){this.signedIn!==e&&(this.signedIn=e,this.subject.next(this.signedIn?le.SignedIn:le.SignedOut))}sessionState$(){return this.subject}}class Ge{constructor(e){this.stateTracker=new Ye;const{connector:t,defaultScopes:a=new Set,sessionScopes:n,sessionShouldRefresh:r}=e;this.connector=t,this.sessionScopesFunc=n,this.sessionShouldRefreshFunc=r,this.helper=new _e({sessionScopes:n,defaultScopes:a})}async getSession(e){if(this.helper.sessionExistsAndHasScope(this.currentSession,e.scopes)){if(!this.sessionShouldRefreshFunc(this.currentSession))return this.currentSession;try{const e=await this.collapsedSessionRefresh(),t=this.sessionScopesFunc(this.currentSession);return Ue(this.sessionScopesFunc(e),t)&&(this.currentSession=e),e}catch(t){if(e.optional)return;throw t}}if(!this.currentSession&&!e.instantPopup)try{const t=await this.collapsedSessionRefresh();return this.currentSession=t,this.getSession(e)}catch{}if(!e.optional)return this.currentSession=await this.connector.createSession({...e,scopes:this.helper.getExtendedScope(this.currentSession,e.scopes)}),this.stateTracker.setIsSignedIn(!0),this.currentSession}async removeSession(){this.currentSession=void 0,await this.connector.removeSession(),this.stateTracker.setIsSignedIn(!1)}sessionState$(){return this.stateTracker.sessionState$()}async collapsedSessionRefresh(){if(this.refreshPromise)return this.refreshPromise;this.refreshPromise=this.connector.refreshSession();try{const e=await this.refreshPromise;return this.stateTracker.setIsSignedIn(!0),e}finally{delete this.refreshPromise}}}class Ze{constructor(e){this.stateTracker=new Ye;const{connector:t,defaultScopes:a=new Set,sessionScopes:n}=e;this.connector=t,this.helper=new _e({sessionScopes:n,defaultScopes:a})}setSession(e){this.currentSession=e,this.stateTracker.setIsSignedIn(Boolean(e))}async getSession(e){return this.helper.sessionExistsAndHasScope(this.currentSession,e.scopes)?this.currentSession:e.optional?void 0:(this.currentSession=await this.connector.createSession({...e,scopes:this.helper.getExtendedScope(this.currentSession,e.scopes)}),this.stateTracker.setIsSignedIn(!0),this.currentSession)}async removeSession(){this.currentSession=void 0,await this.connector.removeSession(),this.stateTracker.setIsSignedIn(!1)}sessionState$(){return this.stateTracker.sessionState$()}}class We{constructor(e){const{manager:t,storageKey:a,sessionScopes:n,sessionShouldRefresh:r=(()=>!1)}=e;this.manager=t,this.storageKey=a,this.sessionShouldRefreshFunc=r,this.helper=new _e({sessionScopes:n,defaultScopes:new Set})}async getSession(e){const{scopes:t}=e,a=this.loadSession();if(this.helper.sessionExistsAndHasScope(a,t)){if(!this.sessionShouldRefreshFunc(a))return this.manager.setSession(a),a}const n=await this.manager.getSession(e);return this.saveSession(n),n}async removeSession(){localStorage.removeItem(this.storageKey),await this.manager.removeSession()}sessionState$(){return this.manager.sessionState$()}loadSession(){try{const e=localStorage.getItem(this.storageKey);if(e){return JSON.parse(e,(e,t)=>"Set"===(null==t?void 0:t.__type)?new Set(t.__value):t)}return}catch(e){return void localStorage.removeItem(this.storageKey)}}saveSession(e){void 0===e?localStorage.removeItem(this.storageKey):localStorage.setItem(this.storageKey,JSON.stringify(e,(e,t)=>t instanceof Set?{__type:"Set",__value:Array.from(t)}:t))}}const Fe={id:"github",title:"GitHub",icon:l.a};class Ve{constructor(e){this.sessionManager=e}static create({discoveryApi:e,environment:t="development",provider:a=Fe,oauthRequestApi:n,defaultScopes:r=["read:user"]}){const i=new $e({discoveryApi:e,environment:t,provider:a,oauthRequestApi:n,sessionTransform:e=>({...e,providerInfo:{accessToken:e.providerInfo.accessToken,scopes:Ve.normalizeScope(e.providerInfo.scope),expiresAt:new Date(Date.now()+1e3*e.providerInfo.expiresInSeconds)}})}),o=new Ze({connector:i,defaultScopes:new Set(r),sessionScopes:e=>e.providerInfo.scopes}),s=new We({manager:o,storageKey:a.id+"Session",sessionScopes:e=>e.providerInfo.scopes});return new Ve(s)}async signIn(){await this.getAccessToken()}async signOut(){await this.sessionManager.removeSession()}sessionState$(){return this.sessionManager.sessionState$()}async getAccessToken(e,t){var a;const n=await this.sessionManager.getSession({...t,scopes:Ve.normalizeScope(e)});return null!=(a=null==n?void 0:n.providerInfo.accessToken)?a:""}async getBackstageIdentity(e={}){const t=await this.sessionManager.getSession(e);return null==t?void 0:t.backstageIdentity}async getProfile(e={}){const t=await this.sessionManager.getSession(e);return null==t?void 0:t.profile}static normalizeScope(e){if(!e)return new Set;const t=Array.isArray(e)?e:e.split(/[\s|,]/).filter(Boolean);return new Set(t)}}const He={id:"oauth2",title:"Your Identity Provider",icon:l.a};class qe{static create({discoveryApi:e,environment:t="development",provider:a=He,oauthRequestApi:n,defaultScopes:r=[],scopeTransform:i=(e=>e)}){const o=new $e({discoveryApi:e,environment:t,provider:a,oauthRequestApi:n,sessionTransform:e=>({...e,providerInfo:{idToken:e.providerInfo.idToken,accessToken:e.providerInfo.accessToken,scopes:qe.normalizeScopes(i,e.providerInfo.scope),expiresAt:new Date(Date.now()+1e3*e.providerInfo.expiresInSeconds)}})}),s=new Ge({connector:o,defaultScopes:new Set(r),sessionScopes:e=>e.providerInfo.scopes,sessionShouldRefresh:e=>(e.providerInfo.expiresAt.getTime()-Date.now())/1e3<300});return new qe({sessionManager:s,scopeTransform:i})}constructor(e){this.sessionManager=e.sessionManager,this.scopeTransform=e.scopeTransform}async signIn(){await this.getAccessToken()}async signOut(){await this.sessionManager.removeSession()}sessionState$(){return this.sessionManager.sessionState$()}async getAccessToken(e,t){var a;const n=qe.normalizeScopes(this.scopeTransform,e),r=await this.sessionManager.getSession({...t,scopes:n});return null!=(a=null==r?void 0:r.providerInfo.accessToken)?a:""}async getIdToken(e={}){var t;const a=await this.sessionManager.getSession(e);return null!=(t=null==a?void 0:a.providerInfo.idToken)?t:""}async getBackstageIdentity(e={}){const t=await this.sessionManager.getSession(e);return null==t?void 0:t.backstageIdentity}async getProfile(e={}){const t=await this.sessionManager.getSession(e);return null==t?void 0:t.profile}static normalizeScopes(e,t){if(!t)return new Set;const a=Array.isArray(t)?t:t.split(/[\s|,]/).filter(Boolean);return new Set(e(a))}}const Je={id:"gitlab",title:"GitLab",icon:l.a};const Xe={id:"google",title:"Google",icon:l.a},Ke="https://www.googleapis.com/auth/";const et={id:"okta",title:"Okta",icon:l.a},tt=new Set(["openid","profile","email","phone","address","groups","offline_access"]);const at={id:"saml",title:"SAML",icon:l.a};class nt{constructor(e){this.sessionManager=e}static create({discoveryApi:e,environment:t="development",provider:a=at}){const n=new Re({discoveryApi:e,environment:t,provider:a}),r=new Ze({connector:n}),i=new We({manager:r,storageKey:a.id+"Session"});return new nt(i)}sessionState$(){return this.sessionManager.sessionState$()}async signIn(){await this.getBackstageIdentity({})}async signOut(){await this.sessionManager.removeSession()}async getBackstageIdentity(e={}){const t=await this.sessionManager.getSession(e);return null==t?void 0:t.backstageIdentity}async getProfile(e={}){const t=await this.sessionManager.getSession(e);return null==t?void 0:t.profile}}const rt={id:"auth0",title:"Auth0",icon:l.a};const it={id:"microsoft",title:"Microsoft",icon:l.a};const ot={id:"onelogin",title:"onelogin",icon:l.a},st=new Set(["openid","profile","email","phone","address","groups","offline_access"]);class lt{constructor(e){this.themes=e,this.subject=new Be(void 0)}static createWithStorage(e){var t;const a=new lt(e);if(!window.localStorage)return a;const n=null!=(t=window.localStorage.getItem("theme"))?t:void 0;return a.setActiveThemeId(n),a.activeThemeId$().subscribe(e=>{e?window.localStorage.setItem("theme",e):window.localStorage.removeItem("theme")}),window.addEventListener("storage",e=>{var t;if("theme"===e.key){const e=null!=(t=localStorage.getItem("theme"))?t:void 0;a.setActiveThemeId(e)}}),a}getInstalledThemes(){return this.themes.slice()}activeThemeId$(){return this.subject}getActiveThemeId(){return this.activeThemeId}setActiveThemeId(e){this.activeThemeId=e,this.subject.next(e)}}class ct{constructor(e){this.parts=e}static compile(e){const t=e.split(/\{\{\s*pluginId\s*\}\}/);try{const e=t.join("pluginId"),a=new URL(e);if(a.hash)throw new Error("URL must not have a hash");if(a.search)throw new Error("URL must not have a query");if(e.endsWith("/"))throw new Error("URL must not end with a slash")}catch(e){throw new Error("Invalid discovery URL pattern, "+e.message)}return new ct(t)}async getBaseUrl(e){return this.parts.join(e)}}class ut{constructor(e,t){this.alertApi=e,this.errorApi=t}post(e,t){return(null==t?void 0:t.hidden)||this.alertApi.post({message:e.message,severity:"error"}),this.errorApi.post(e,t)}error$(){return this.errorApi.error$()}}class dt{constructor(){this.subject=new Qe}post(e,t){this.subject.next({error:e,context:t})}error$(){return this.subject}}function mt(e){if(e.length<3)throw new Error(`The '${e}' feature flag must have a minimum length of three characters.`);if(e.length>150)throw new Error(`The '${e}' feature flag must not exceed 150 characters.`);if(!e.match(/^[a-z]+[a-z0-9-]+$/))throw new Error(`The '${e}' feature flag must start with a lowercase letter and only contain lowercase letters, numbers and hyphens. Examples: feature-flag-one, alpha, release-2020`)}class pt{constructor(){this.registeredFeatureFlags=[]}registerFlag(e){mt(e.name),this.registeredFeatureFlags.push(e)}getRegisteredFlags(){return this.registeredFeatureFlags.slice()}isActive(e){return this.flags||(this.flags=this.load()),this.flags.get(e)===Oe.Active}save(e){this.flags||(this.flags=this.load()),e.merge||this.flags.clear();for(const[t,a]of Object.entries(e.states))this.flags.set(t,a);const t=Array.from(this.flags.entries()).filter(([,e])=>e===Oe.Active);window.localStorage.setItem("featureFlags",JSON.stringify(Object.fromEntries(t)))}load(){try{const e=window.localStorage.getItem("featureFlags");if(!e)return new Map;const t=JSON.parse(e);if("object"!=typeof t||null===t||Array.isArray(t))return new Map;const a=Object.entries(t).filter(([e,t])=>(mt(e),t===Oe.Active));return new Map(a)}catch{return new Map}}}class gt{constructor(){this.requests=[],this.subject=new Be(this.getCurrentPending())}request(e){return new Promise((t,a)=>{this.requests.push({scopes:e,resolve:t,reject:a}),this.subject.next(this.getCurrentPending())})}resolve(e,t){this.requests=this.requests.filter(a=>!function(e,t){for(const a of t)if(!e.has(a))return!1;return!0}(e,a.scopes)||(a.resolve(t),!1)),this.subject.next(this.getCurrentPending())}reject(e){this.requests.forEach(t=>t.reject(e)),this.requests=[],this.subject.next(this.getCurrentPending())}pending(){return this.subject}getCurrentPending(){const e=0===this.requests.length?void 0:this.requests.slice(1).reduce((e,t)=>function(e,...t){const a=new Set(e);for(const e of t)for(const t of e)a.add(t);return a}(e,t.scopes),this.requests[0].scopes);return{scopes:e,resolve:t=>{e&&this.resolve(e,t)},reject:t=>{e&&this.reject(t)}}}}const ht=new Map;class ft{constructor(e,t){this.namespace=e,this.errorApi=t,this.subscribers=new Set,this.observable=new u.a(e=>(this.subscribers.add(e),()=>{this.subscribers.delete(e)}))}static create(e){var t;return new ft(null!=(t=e.namespace)?t:"",e.errorApi)}get(e){try{const t=JSON.parse(localStorage.getItem(this.getKeyName(e)));return null!=t?t:void 0}catch(t){this.errorApi.post(new Error("Error when parsing JSON config from storage for: "+e))}}forBucket(e){const t=`${this.namespace}/${e}`;return ht.has(t)||ht.set(t,new ft(t,this.errorApi)),ht.get(t)}async set(e,t){localStorage.setItem(this.getKeyName(e),JSON.stringify(t,null,2)),this.notifyChanges({key:e,newValue:t})}async remove(e){localStorage.removeItem(this.getKeyName(e)),this.notifyChanges({key:e,newValue:void 0})}observe$(e){return this.observable.filter(({key:t})=>t===e)}getKeyName(e){return`${this.namespace}/${encodeURIComponent(e)}`}notifyChanges(e){for(const t of this.subscribers)t.next(e)}}const yt=J("app-context",()=>Object(n.createContext)(void 0)),bt=({appContext:e,children:t})=>{const a=Object(n.useMemo)(()=>X({1:e}),[e]);return r.a.createElement(yt.Provider,{value:a,children:t})},Mt=()=>{const e=Object(n.useContext)(q("app-context"));if(!e)throw new Error("No app context available");const t=e.atVersion(1);if(!t)throw new Error("AppContext v1 not available");return t},It=Symbol("backstage-component-data"),jt=J("component-data-store",()=>new WeakMap);function vt(e,t,a){const n=e;let r=jt.get(e)||n[It];if(r||(r={map:new Map},jt.set(e,r),n[It]=r),r.map.has(t)){const a=e.displayName||e.name;throw new Error(`Attempted to attach duplicate data "${t}" to component "${a}"`)}r.map.set(t,a)}function Et(e,t){if(!e)return;const a=e.type;if(!a)return;const n=jt.get(a)||a[It];return n?n.map.get(t):void 0}const wt=J("route-ref-type",()=>Symbol("route-ref-type"));var Nt;class kt{constructor(e,t,a){this.id=e,this.params=t,this.optional=a,this[Nt]="external"}toString(){return`routeRef{type=external,id=${this.id}}`}}function xt(e){var t;return new kt(e.id,null!=(t=e.params)?t:[],Boolean(e.optional))}Nt=wt;const Dt=e=>{const t=Mt(),{NotFoundErrorPage:a}=t.getComponents(),i=function e(t){return n.Children.toArray(t).flatMap(t=>{var a;if(!Object(n.isValidElement)(t))return[];const{children:r}=t.props;if(t.type===n.Fragment)return e(r);let i=t.props.path;return""===i?[]:(i=null!=(a=null==i?void 0:i.replace(/\/\*$/,""))?a:"/",[{path:i,element:t,children:r&&[{path:"/*",element:r}]}])})}(e.children).sort((e,t)=>t.path.localeCompare(e.path)).map(e=>(e.path="/"===e.path?"/":e.path+"/*",e));return i.push({element:r.a.createElement(a,null),path:"/*"}),Object(I.p)(i)};var Ot;class St{constructor(e,t,a){this.id=e,this.params=t,this.config=a,this[Ot]="absolute"}get icon(){return this.config.icon}get path(){var e;return null!=(e=this.config.path)?e:""}get title(){var e;return null!=(e=this.config.title)?e:this.id}toString(){return`routeRef{type=absolute,id=${this.id}}`}}function At(e){var t;const a=e.id||e.title;if(!a)throw new Error("RouteRef must be provided a non-empty id");return new St(a,null!=(t=e.params)?t:[],e)}function Tt(e){return"absolute"===e[wt]}Ot=wt;function zt(e){return"sub"===e[wt]}function Ct(...e){const t=e.join("/").replace(/\/\/+/g,"/");return"/"!==t&&t.endsWith("/")?t.slice(0,-1):t}function Lt(e,t,a){let n,r="";if(Tt(e))n=e;else if(zt(e))n=e.parent,r=e.path;else{if("external"!==e[wt])throw e[wt]?new Error("Unknown or invalid route ref type, "+e[wt]):new Error("Unknown object passed to useRouteRef, got "+e);{const t=a.get(e);if(!t)return[void 0,""];if(Tt(t))n=t;else{if(!zt(t))throw new Error("ExternalRouteRef was bound to invalid target, "+t);n=t.parent,r=t.path}}}if(!n)return[void 0,""];const i=t.get(n);if(!i)return[void 0,""];return[n,Ct(i,r)]}class Pt{constructor(e,t,a,n){this.routePaths=e,this.routeParents=t,this.routeObjects=a,this.routeBindings=n}resolve(e,t){const[a,n]=Lt(e,this.routePaths,this.routeBindings);if(!a)return;const r=function(e,t,a,n,r){var i;const o=null!=(i=Object(I.h)(r,t))?i:[],s=Array();let l=-1;for(let t=e;t&&(l=o.findIndex(e=>e.route.routeRefs.has(t)),-1===l);t=n.get(t))s.unshift(t);return 0===s.length&&(l-=1),(-1===l?"":o[l].pathname)+Ct(...s.slice(0,-1).map(t=>{const n=a.get(t);if(!n)throw new Error("No path for "+t);if(n.includes(":"))throw new Error(`Cannot route to ${e} with parent ${t} as it has parameters`);return n}))}(a,t,this.routePaths,this.routeParents,this.routeObjects);return(...[e])=>r+Object(I.g)(n,e)}}const $t=J("routing-context",()=>Object(n.createContext)(void 0));function Rt(e){const t=Object(I.l)(),a=Object(n.useContext)(q("routing-context")),r=null==a?void 0:a.atVersion(1),i=Object(n.useMemo)(()=>r&&r.resolve(e,t),[r,e,t]);if(!a)throw new Error("useRouteRef used outside of routing context");if(!r)throw new Error("RoutingContext v1 not available");const o="optional"in e&&e.optional;if(!i&&!o)throw new Error("No path for "+e);return i}const Ut=({routePaths:e,routeParents:t,routeObjects:a,routeBindings:n,children:i})=>{const o=X({1:new Pt(e,t,a,n)});return r.a.createElement($t.Provider,{value:o},i)};function _t(e){return Object(I.n)()}function Qt(e){const{component:t,mountPoint:a}=e;return Yt({component:{lazy:()=>t().then(e=>{const t=t=>{try{Rt(a)}catch(e){if(null==e?void 0:e.message.startsWith("No path for "))throw new Error(`Routable extension component with mount point ${a} was not discovered in the app element tree. Routable extension components may not be rendered by other components and must be directly available as an element within the App provider component.`);throw e}return r.a.createElement(e,{...t})},n=e.displayName||e.name||"LazyComponent";return t.displayName=`RoutableExtension(${n})`,t},e=>t=>{const a=Mt(),{BootErrorPage:n}=a.getComponents();return r.a.createElement(n,{step:"load-chunk",error:e})})},data:{"core.mountPoint":a}})}function Bt(e){const{component:t}=e;return Yt({component:t})}function Yt(e){const{data:t={}}=e;let a;if("lazy"in e.component){const t=e.component.lazy;a=Object(n.lazy)(()=>t().then(e=>({default:e})))}else a=e.component.sync;const i=a.displayName||a.name||"Component";return{expose(e){const o=e=>r.a.createElement(n.Suspense,{fallback:"..."},r.a.createElement(a,{...e}));vt(o,"core.plugin",e);for(const[e,a]of Object.entries(t))vt(o,e,a);return o.displayName=`Extension(${i})`,o}}}const Gt={brokenImage:w.a,catalog:v.a,chat:k.a,dashboard:D.a,email:S.a,github:T.a,group:P.a,help:C.a,user:R.a,warning:_.a,docs:B.a},Zt=e=>t=>{const a=Mt().getSystemIcon(e);return a?r.a.createElement(a,{...t}):r.a.createElement(w.a,{...t})},Wt=(Zt("brokenImage"),Zt("chat"),Zt("dashboard"),Zt("email"),Zt("github"),Zt("group"),Zt("help"));Zt("user"),Zt("warning"),Zt("docs");class Ft{constructor(e){this.config=e}getId(){return this.config.id}getApis(){var e;return null!=(e=this.config.apis)?e:[]}get routes(){var e;return null!=(e=this.config.routes)?e:{}}get externalRoutes(){var e;return null!=(e=this.config.externalRoutes)?e:{}}output(){if(this.storedOutput)return this.storedOutput;if(!this.config.register)return[];const e=new Array;return this.config.register({router:{addRoute(t,a,n){e.push({type:"route",target:t,component:a,options:n})}},featureFlags:{register(t){e.push({type:"feature-flag",name:t})}}}),this.storedOutput=e,this.storedOutput}provide(e){return e.expose(this)}toString(){return`plugin{${this.config.id}}`}}function Vt(e){return new Ft(e)}function Ht(e,t){return()=>({accumulator:e(),visit:t})}function qt(e){var t;return null==(t=e.props)?void 0:t.children}function Jt(e){var t,a,n;if((null==(t=e.props)?void 0:t.path)&&(null==(a=e.props)?void 0:a.element))return null==(n=e.props)?void 0:n.element}const Xt=Ht(()=>new Set,(e,t)=>{const a=Et(t,"core.plugin");a&&e.add(a)});function Kt(e){var t;const a=null==(t=e.props)?void 0:t.element;let r=Et(e,"core.mountPoint");return!r&&Object(n.isValidElement)(a)&&(r=Et(a,"core.mountPoint")),r}const ea=Ht(()=>new Map,(e,t,a,n)=>{var r,i;let o=n;if((null==a?void 0:a.props.element)===t)return o;if(Et(t,"core.gatherMountPoints")){const e=null==(r=t.props)?void 0:r.path;if(!e)throw new Error("Mount point gatherer must have a path");o=e}const s=Kt(t);if(s){let a=null==(i=t.props)?void 0:i.path;if(o&&(a?o=void 0:a=o),!a)throw new Error("Mounted routable extension must have a path");e.set(s,a)}return o}),ta=Ht(()=>new Map,(e,t,a,n)=>{var r;if((null==a?void 0:a.props.element)===t)return n;let i=n;const o=Kt(t);return o&&(n&&"sticky"in n?(e.set(o,n.sticky),i=(null==(r=t.props)?void 0:r.path)?o:n):(e.set(o,n),i=o)),Et(t,"core.gatherMountPoints")?{sticky:i}:i}),aa={caseSensitive:!1,path:"/*",element:"match-all",routeRefs:new Set},na=Ht(()=>Array(),(e,t,a,n)=>{var r,i,o;const s=null!=(r=null==n?void 0:n.children)?r:e;if((null==a?void 0:a.props.element)===t)return n;const l=null==(i=t.props)?void 0:i.path,c=Boolean(null==(o=t.props)?void 0:o.caseSensitive),u=Kt(t);if(u){if(l){const e={caseSensitive:c,path:l,element:"mounted",routeRefs:new Set([u]),children:[aa]};return s.push(e),e}null==n||n.routeRefs.add(u)}if(Et(t,"core.gatherMountPoints")){if(!l)throw new Error("Mount point gatherer must have a path");const e={caseSensitive:c,path:l,element:"gathered",routeRefs:new Set,children:[aa]};return s.push(e),e}return n});class ra{constructor(){this.hasIdentity=!1}getUserId(){if(!this.hasIdentity)throw new Error("Tried to access IdentityApi userId before app was loaded");return this.userId}getProfile(){if(!this.hasIdentity)throw new Error("Tried to access IdentityApi profile before app was loaded");return this.profile}async getIdToken(){var e;if(!this.hasIdentity)throw new Error("Tried to access IdentityApi idToken before app was loaded");return null==(e=this.idTokenFunc)?void 0:e.call(this)}async signOut(){var e;if(!this.hasIdentity)throw new Error("Tried to access IdentityApi signOutFunc before app was loaded");await(null==(e=this.signOutFunc)?void 0:e.call(this)),location.reload()}setSignInResult(e){if(!this.hasIdentity){if(!e.userId)throw new Error("Invalid sign-in result, userId not set");if(!e.profile)throw new Error("Invalid sign-in result, profile not set");this.hasIdentity=!0,this.userId=e.userId,this.profile=e.profile,this.idTokenFunc=e.getIdToken,this.signOutFunc=e.signOut}}}function ia({children:e}){const t=ae(Ne),a=function(e,t,a){if(void 0!==e){const t=a.find(t=>t.id===e);if(t)return t}if(t){const e=a.find(e=>"dark"===e.variant);if(e)return e}const n=a.find(e=>"light"===e.variant);return n||a[0]}(Object(Y.a)(t.activeThemeId$(),t.getActiveThemeId()),!!Boolean(window.matchMedia)&&(()=>{const e=Object(n.useMemo)(()=>window.matchMedia("(prefers-color-scheme: dark)"),[]),[t,a]=Object(n.useState)(e.matches);return Object(n.useEffect)(()=>{const t=e=>{a(e.matches)};return e.addListener(t),()=>{e.removeListener(t)}},[e]),t})(),t.getInstalledThemes());if(!a)throw new Error("App has no themes");return r.a.createElement(Z.a,{theme:a.theme},r.a.createElement(W.a,null,e))}function oa(e){const t=new Map;if(e){e({bind:(e,a)=>{for(const[n,r]of Object.entries(a)){const a=e[n];if(!a)throw new Error(`Key ${n} is not an existing external route`);if(!r&&!a.optional)throw new Error(`External route ${n} is required but was undefined`);r&&t.set(a,r)}}})}return t}class sa{constructor(e){this.app=e}getPlugins(){return console.warn("appContext.getPlugins() is deprecated and will be removed"),this.app.getPlugins()}getSystemIcon(e){return this.app.getSystemIcon(e)}getComponents(){return this.app.getComponents()}getProvider(){return console.warn("appContext.getProvider() is deprecated and will be removed"),this.app.getProvider()}getRouter(){return console.warn("appContext.getRouter() is deprecated and will be removed"),this.app.getRouter()}getRoutes(){return console.warn("appContext.getRoutes() is deprecated and will be removed"),this.app.getRoutes()}}var la=Object.freeze({__proto__:null,PrivateAppImpl:class{constructor(e){this.identityApi=new ra,this.apis=e.apis,this.icons=e.icons,this.plugins=new Set(e.plugins),this.components=e.components,this.themes=e.themes,this.configLoader=e.configLoader,this.defaultApis=e.defaultApis,this.bindRoutes=e.bindRoutes}getPlugins(){return Array.from(this.plugins)}getSystemIcon(e){return this.icons[e]}getComponents(){return this.components}getRoutes(){const e=new Array,{NotFoundErrorPage:t}=this.components;for(const t of this.plugins.values())for(const a of t.output())switch(a.type){case"legacy-route":{const{path:t,component:n}=a;e.push(r.a.createElement(I.d,{key:t,path:t,element:r.a.createElement(n,null)}));break}case"route":{const{target:n,component:i}=a;e.push(r.a.createElement(I.d,{key:`${t.getId()}-${n.path}`,path:n.path,element:r.a.createElement(i,null)}));break}case"legacy-redirect-route":{const{path:t,target:n}=a;e.push(r.a.createElement(I.b,{key:t,to:n}));break}case"redirect-route":{const{from:t,to:n}=a;e.push(r.a.createElement(I.b,{key:t.path,to:n.path}));break}}return e.push(r.a.createElement(I.d,{key:"not-found-error-page",path:"/*",element:r.a.createElement(t,null)})),e}getProvider(){const e=new sa(this);return({children:t})=>{const a=Object(n.useMemo)(()=>lt.createWithStorage(this.themes),[]),{routePaths:i,routeParents:o,routeObjects:s}=Object(n.useMemo)(()=>{const e=function(e){const t={};for(const a in e.collectors)e.collectors.hasOwnProperty(a)&&(t[a]=e.collectors[a]());const a=[{node:n.Children.toArray(e.root),parent:void 0,contexts:{}}];for(;0!==a.length;){const{node:r,parent:i,contexts:o}=a.shift();n.Children.forEach(r,r=>{if(!Object(n.isValidElement)(r))return;const s={};for(const e in t)if(t.hasOwnProperty(e)){const a=t[e];s[e]=a.visit(a.accumulator,r,i,o[e])}for(const t of e.discoverers){const e=t(r);e&&a.push({node:e,parent:r,contexts:s})}})}return Object.fromEntries(Object.entries(t).map(([e,t])=>[e,t.accumulator]))}({root:t,discoverers:[qt,Jt],collectors:{routePaths:ea,routeParents:ta,routeObjects:na,collectedPlugins:Xt}});return function(e,t){const a=new Set(t.values());a.delete(void 0);for(const n of t.keys()){if(a.has(n))continue;let r=n,i="";for(;r;){const a=e.get(r);if(!a)throw new Error("No path for "+r);i=`${a}${i}`,r=t.get(r)}const o=i.match(/:(\w+)/g);if(o)for(let e=0;e<o.length;e++)for(let t=e+1;t<o.length;t++)if(o[t]===o[e])throw new Error(`Parameter ${o[t]} is duplicated in path ${i}`)}}(e.routePaths,e.routeParents),e.collectedPlugins.forEach(e=>this.plugins.add(e)),this.verifyPlugins(this.plugins),this.getApiHolder(),e},[t]),l=function(e,t,a){var n;const i=Boolean(e),o=Object(G.a)(e||(()=>Promise.resolve([])));let s=void 0;if(i&&o.loading){const{Progress:e}=t;s=r.a.createElement(e,null)}else if(o.error){const{BootErrorPage:e}=t;s=r.a.createElement(e,{step:"load-config",error:o.error})}return s?{node:r.a.createElement(ee,{apis:re.from([[Ne,a]])},r.a.createElement(ia,null,s))}:{api:M.fromConfigs(null!=(n=o.value)?n:[])}}(this.configLoader,this.components,a),c="api"in l;if(c){const{api:e}=l;this.configApi=e}return Object(n.useEffect)(()=>{if(c){const e=this.getApiHolder().get(Ae);for(const t of this.plugins.values())for(const a of t.output())switch(a.type){case"feature-flag":e.registerFlag({name:a.name,pluginId:t.getId()})}}},[c,l]),"node"in l?l.node:r.a.createElement(ee,{apis:this.getApiHolder()},r.a.createElement(bt,{appContext:e},r.a.createElement(ia,null,r.a.createElement(Ut,{routePaths:i,routeParents:o,routeObjects:s,routeBindings:oa(this.bindRoutes)},t))))}}getRouter(){const{Router:e,SignInPage:t}=this.components,a=({component:e,children:t})=>{const[a,i]=Object(n.useState)();return a?(this.identityApi.setSignInResult(a),t):r.a.createElement(e,{onResult:i})};return({children:n})=>{var i;const o=ae(ke);let{pathname:s}=new URL(null!=(i=o.getOptionalString("app.baseUrl"))?i:"/","http://dummy.dev");return s.endsWith("/")&&(s=s.replace(/\/$/,"")),t?r.a.createElement(e,null,r.a.createElement(a,{component:t},r.a.createElement(I.f,null,r.a.createElement(I.d,{path:s+"/*",element:r.a.createElement(r.a.Fragment,null,n)})))):(this.identityApi.setSignInResult({userId:"guest",profile:{email:"guest@example.com",displayName:"Guest"}}),r.a.createElement(e,null,r.a.createElement(I.f,null,r.a.createElement(I.d,{path:s+"/*",element:r.a.createElement(r.a.Fragment,null,n)}))))}}getApiHolder(){if(this.apiHolder)return this.apiHolder;const e=new ue;e.register("static",{api:Ne,deps:{},factory:()=>lt.createWithStorage(this.themes)}),e.register("static",{api:ke,deps:{},factory:()=>{if(!this.configApi)throw new Error("Tried to access config API before config was loaded");return this.configApi}}),e.register("static",{api:Te,deps:{},factory:()=>this.identityApi}),e.register("default",{api:Ae,deps:{},factory:()=>new pt});for(const t of this.defaultApis)e.register("default",t);for(const t of this.plugins)for(const a of t.getApis())if(!e.register("default",a))throw new Error(`Plugin ${t.getId()} tried to register duplicate or forbidden API factory for ${a.api}`);for(const t of this.apis)if(!e.register("app",t))throw new Error(`Duplicate or forbidden API factory for ${t.api} in app`);return ie.validateFactories(e,e.getAllApis()),this.apiHolder=new ie(e),this.apiHolder}verify(){}verifyPlugins(e){const t=new Set;for(const a of e){const e=a.getId();if(t.has(e))throw new Error(`Duplicate plugin found '${e}'`);t.add(e)}}}}),ca=a(58),ua=a(1240),da=a.n(ua),ma=a(1241),pa=a.n(ma),ga=a(39),ha=a(35),fa=a(18),ya=a(294),ba=a(430),Ma=a(2823),Ia=a(134),ja=a(538),va=a(2771),Ea=a(61),wa=a(106),Na=a(42),ka=a(1327),xa=a(1328),Da=a(2751),Oa=a(180),Sa=a(126),Aa=a(81),Ta=a(362),za=a(2754),Ca=a(2821),La=a(773),Pa=a(777),$a=a(1326),Ra=a(775),Ua=a(141),_a=a(9),Qa=a(2752),Ba=a(292),Ya=a(592),Ga=a(293),Za=a(591),Wa=a(771),Fa=a(728),Va=a(579),Ha=a(435),qa=a(286),Ja=a(291),Xa=(a(2760),a(2757),a(243),a(2759),a(89)),Ka=a(542),en=a(724),tn=a(177),an=a(1324),nn=a(2829),rn=a(2816),on=a(776),sn=(a(2817),a(52)),ln=a(2833),cn=(a(2753),a(2818)),un=a(287),dn=a(514),mn=(a(241),a(112)),pn=a(228),gn=a.n(pn),hn=a(1335),fn=a(2826),yn=(a(2830),a(2827),a(410)),bn=a(586),Mn=a.n(bn),In=a(202),jn=a(1228),vn=a.n(jn),En=a(1214),wn=a(748),Nn=a(1242),kn=a.n(Nn),xn=a(1316),Dn=a(2812),On=a(1244),Sn=a.n(On),An=a(742),Tn=a.n(An),zn=a(743),Cn=a.n(zn),Ln=a(587),Pn=a.n(Ln),$n=a(2828),Rn=a(2825),Un=a(744),_n=a.n(Un),Qn=a(68),Bn=a.n(Qn),Yn=(a(2756),a(1245)),Gn=a.n(Yn),Zn=a(233),Wn=a.n(Zn),Fn=(a(34),a(546)),Vn=a.n(Fn),Hn=a(749),qn=a.n(Hn),Jn=a(588),Xn=a.n(Jn),Kn=a(1232),er=a.n(Kn),tr=a(1233),ar=a.n(tr),nr=a(1234),rr=a.n(nr),ir=a(1246),or=a.n(ir),sr=(a(769),a(745)),lr=a.n(sr),cr=a(272),ur=a(1247),dr=a.n(ur),mr=a(958),pr=a.n(mr),gr=a(957),hr=a.n(gr),fr=a(306),yr=a.n(fr),br=a(1248),Mr=a.n(br),Ir=a(307),jr=a.n(Ir),vr=a(320),Er=a.n(vr),wr=a(1250),Nr=a.n(wr),kr=a(1251),xr=a.n(kr),Dr=a(959),Or=a.n(Dr),Sr=a(1249),Ar=a.n(Sr),Tr=a(308),zr=a.n(Tr),Cr=a(1252),Lr=a.n(Cr),Pr=a(349),$r=a.n(Pr),Rr=a(547),Ur=a.n(Rr),_r=a(288),Qr=(a(1253),a(1254),a(747),a(4));a(353),a(661);const Br=Object(ga.a)(e=>({micDrop:{maxWidth:"60%",position:"absolute",bottom:e.spacing(2),right:e.spacing(2),[e.breakpoints.down("xs")]:{maxWidth:"96%",position:"relative",bottom:"unset",right:"unset",margin:`${e.spacing(10)}px auto ${e.spacing(4)}px`}}})),Yr=()=>{const e=Br();return r.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NjUiIGhlaWdodD0iNTQ5IiBmaWxsPSJub25lIiB2aWV3Qm94PSIwIDAgNzY1IDU0OSI+PHBhdGggZmlsbD0iIzlCRjBFMSIgZD0iTTIzMy4yNTQgMTguMTEyM0MyODcuNjEzIDEyLjk0MDYgMzQ4Ljk1MyAtMTkuNzk0MSAzOTAuNzM3IDE3LjkwMzVDNDMzLjI2MiA1Ni4yNjgyIDQxOS44MyAxMjcuMzk2IDQyMC40OTUgMTg3LjAzOEM0MjEuMTczIDI0Ny44MzQgNDI5LjcyNCAzMTIuNjI2IDM5NC41NTUgMzYwLjI3MkMzNTYuMjcyIDQxMi4xMzcgMjk0Ljc4MiA0NDQuNDMzIDIzMy4yNTQgNDQwLjcwOUMxNzQuMDg4IDQzNy4xMjggMTMwLjc5MyAzODcuMDg0IDg5LjE2MTkgMzQxLjc5QzQ3LjkyNDcgMjk2LjkyNCAtMi41MDQ1NCAyNTAuMDE4IDAuMDk2NjI5NyAxODcuMDM4QzIuNjQ5ODggMTI1LjIxNyA1My42MzYyIDgwLjAzNzcgMTAxLjQwMiA0NS40MzA5QzEzOS45NzcgMTcuNDgyNyAxODYuOTAzIDIyLjUyMjEgMjMzLjI1NCAxOC4xMTIzWiIgY2xpcFJ1bGU9ImV2ZW5vZGQiIGZpbGxSdWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzY5RERDNyIgZD0iTTUxMy4zODUgMjAuNDQzOUM1NjYuNjkzIDE0Ljg5MzggNjEzLjgwOSA2Mi4zODY3IDY1MC43NDYgMTA2LjgxNEM2ODMuMjg1IDE0NS45NTIgNjg3Ljg0NyAyMDEuOTI5IDcwNS44MzIgMjUxLjkxOEM3MjUuOTAyIDMwNy42OTYgNzc3Ljc1NiAzNTguNjkyIDc2Mi4wOTcgNDE2LjI5OEM3NDYuNDU2IDQ3My44NDEgNjgyLjQ4NSA0OTAuMjkxIDYzNC40MTQgNTE0LjY1OEM1OTUuODQyIDUzNC4yMSA1NTUuNDkyIDUzOS43MDMgNTEzLjM4NSA1NDIuMzY5QzQ2OC41MDUgNTQ1LjIxMSA0MTguNTUgNTYxLjAwNiAzODIuMjQxIDUzMC42MjRDMzQ1Ljk0MyA1MDAuMjUxIDM1MS40NTYgNDM3Ljc0NSAzMzIuNTA5IDM5MS4wMjJDMzA5LjY1MyAzMzQuNjYgMjQ1LjkwNiAyODkuMjMzIDI2MC4wMTcgMjI5LjIxOEMyNzMuOTc5IDE2OS44MzUgMzQ5LjQ2OSAxNjkuNTM1IDM5My4wMjMgMTMzLjY0N0M0MzYuMjE4IDk4LjA1MzcgNDYwLjQxMyAyNS45NTkgNTEzLjM4NSAyMC40NDM5WiIgY2xpcFJ1bGU9ImV2ZW5vZGQiIGZpbGxSdWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzAwMCIgc3Ryb2tlPSIjMDAwIiBkPSJNNTg0LjM4NCAzMzEuMjYyTDYxOC40MzcgMzYyLjM3QzYyMC4wOTYgMzYzLjg4NiA2MjIuNjc3IDM2My43MzggNjI0LjE1MiAzNjIuMDQyTDYyNS43NDcgMzYwLjIwOUM2MjcuMjE2IDM1OC41MjEgNjI3LjAxNCAzNTUuOTU2IDYyNS4yOTkgMzU0LjUxOUw1OTAuMTgzIDMyNS4wNzZDNTg5LjQ1OSAzMjQuNDY5IDU4OC41MzQgMzI0LjA5MyA1ODcuNjA2IDMyNC4yNjZDNTg0LjQ0NCAzMjQuODU0IDU4My4zMTQgMzI3LjMyNSA1ODMuMzcxIDMyOS4zNTVDNTgzLjM5MiAzMzAuMTA1IDU4My44MyAzMzAuNzU2IDU4NC4zODQgMzMxLjI2MloiLz48Y2lyY2xlIGN4PSI2MzAuNTQiIGN5PSIzNjYuMDA2IiByPSIxMS42NjIiIGZpbGw9IiM2MTYxNjEiIHRyYW5zZm9ybT0icm90YXRlKDEzMS4wMjEgNjMwLjU0IDM2Ni4wMDYpIi8+PHJlY3Qgd2lkdGg9IjI1LjQ0NCIgaGVpZ2h0PSIzLjE4IiB4PSI2MzkuNjkiIHk9IjM1Ny4xMDMiIGZpbGw9IiMyODI4MjgiIHJ4PSIxLjU5IiB0cmFuc2Zvcm09InJvdGF0ZSgxMzEuMDIxIDYzOS42OSAzNTcuMTAzKSIvPjxwYXRoIGZpbGw9IiMxODE4MTgiIGQ9Ik0zMzEuMDgxIDYwLjI5MDJDMzM0LjUyOCA3Mi45OTIzIDMzOS4wMiAxMDEuNTQ0IDMzNC40MzYgMTA2LjAyMkgzMDUuNDM2QzMwNS40MzMgMTA1Ljk3MSAzMDUuNDMgMTA1LjkyIDMwNS40MjcgMTA1Ljg2OEMyOTQuNjc5IDEwNC42NzkgMjg2LjMxOSA5NS41NjU4IDI4Ni4zMTkgODQuNVY2My41QzI4Ni4zMTkgNTEuNjI1OSAyOTUuOTQ1IDQyIDMwNy44MTkgNDJIMzA5LjgxOUMzMjAuNjAyIDQyIDMyOS41MzEgNDkuOTM4NSAzMzEuMDgxIDYwLjI5MDJaIiBjbGlwUnVsZT0iZXZlbm9kZCIgZmlsbFJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBmaWxsPSIjRURCNzk1IiBkPSJNMjk3LjU4MSA4MC40OTAxQzI5Mi45NzMgNzUuMDgxNCAyODkuODU0IDY4LjQ1MjkgMjkwLjM3NiA2MS4wMjU1QzI5MS44NzcgMzkuNjI1IDMyMS42NjcgNDQuMzMyOCAzMjcuNDYyIDU1LjEzMzlDMzMzLjI1NyA2NS45MzUxIDMzMi41NjggOTMuMzMzIDMyNS4wNzkgOTUuMjYzNUMzMjIuMDkyIDk2LjAzMzMgMzE1LjczIDk0LjE0NzUgMzA5LjI1NCA5MC4yNDQzTDMxMy4zMTkgMTE5SDI4OS4zMTlMMjk3LjU4MSA4MC40OTAxWiIgY2xpcFJ1bGU9ImV2ZW5vZGQiIGZpbGxSdWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzE4MTgxOCIgZD0iTTMwNC4wNjkgNzYuODc0OEMzMDUuMTc1IDg4Ljc1MjggMzA0LjczMiAxMDIuMzE3IDMwMS40MzYgMTA1LjUzN0gyNzIuNDM2QzI3MC44MiA3Ny40NjM1IDI4Ni40MzYgODguMzM0OSAyODYuNDM2IDYxLjkwMjhDMjg3LjQxIDYwLjk1MTUgMjg4LjMzIDYwLjAxIDI4OS4yNCA1OS4xOTgxTDI4OS4yMDggNTguNDIwN0MyOTQuMjI5IDQ4LjE0MDIgMzAwLjYgNDMgMzA4LjMyIDQzQzMxOS45IDQzIDMyMy41NTUgNDguMzg4MyAzMjYuNjY4IDUyLjk2MzFDMzI0LjM0IDYwLjk0ODIgMzE1LjMwOSA2Mi4xMzIyIDMwNy4yODUgNjcuMTA5NUMzMDYuMzM5IDY2LjM0MSAzMDUuMTMzIDY1Ljg4MDQgMzAzLjgxOSA2NS44ODA0QzMwMC43ODEgNjUuODgwNCAyOTguMzE5IDY4LjM0MjggMjk4LjMxOSA3MS4zODA0QzI5OC4zMTkgNzQuNDE4IDMwMC43ODEgNzYuODgwNCAzMDMuODE5IDc2Ljg4MDRDMzAzLjkwMyA3Ni44ODA0IDMwMy45ODYgNzYuODc4NSAzMDQuMDY5IDc2Ljg3NDhaIiBjbGlwUnVsZT0iZXZlbm9kZCIgZmlsbFJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBmaWxsPSIjQzUyQjg2IiBkPSJNMjUwLjcyNyAzMDAuMDg4QzI3NC43MTYgMzA2Ljc5OCAyOTUuNDEzIDMxMC4xNTMgMzEyLjgxOCAzMTAuMTUzQzMzMC4yMjQgMzEwLjE1MyAzNDYuMzkgMzA0Ljk4NiAzNjEuMzE5IDI5NC42NTNDMzM3Ljg0MyAyODcuNzY2IDMxOC41MSAyODQuMzIzIDMwMy4zMTkgMjg0LjMyM0MyODguMTI4IDI4NC4zMjMgMjcwLjU5NyAyODkuNTc4IDI1MC43MjcgMzAwLjA4OFoiIGNsaXBSdWxlPSJldmVub2RkIiBmaWxsUnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiNFN0IyOTEiIGQ9Ik0zMzMuNTg2IDMxOS44MjRDMzMzLjM1NCAzMTkuNDc3IDMzMy4xNTkgMzE5LjA5OCAzMzMuMDA0IDMxOC42ODlDMzI5Ljc5NyAzMTAuMjA4IDI3OC40MzYgMjE4LjcyNiAyNzMuMzE5IDIwMkgzMzEuMTQ1QzMzNS4wMzUgMjE0LjcxNyAzNTIuNTQ2IDI5NC41MiAzNTUuMDEgMzEwLjQ0MkMzNjIuNzg1IDMzNS41NTcgMzc4Ljc5NCA0MTYuODk1IDM4MC44MzggNDIyLjUzQzM4Mi45ODggNDI4LjQ1OCAzNzAuODkxIDQzNC42MzMgMzY3LjY2OCA0MjcuMzQ2QzM2Mi41MzkgNDE1Ljc1IDM1MC4zMTcgMzgzLjY2NSAzNDQuODc2IDM2NC4wNzRDMzM5Ljc3NSAzNDUuNzA4IDMzNS42MjEgMzI5LjE4NCAzMzMuNTg2IDMxOS44MjRaIiBjbGlwUnVsZT0iZXZlbm9kZCIgZmlsbFJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBmaWxsPSIjRURCNzk1IiBkPSJNMjg2LjI3NiAzMzAuOTk0QzI2Mi43OTQgMzM2LjkyOCAxNzYuOTAzIDM0Ny42NTggMTcxLjAwOSAzNDkuMzQxQzE2NC45NDUgMzUxLjA3MiAxNTkuNjI5IDMzOC41NzQgMTY3LjEyNCAzMzUuODY3QzE3OS4wNDkgMzMxLjU1OSAyMTEuOTA4IDMyMS42MDYgMjMxLjgzMSAzMTcuNTQ0QzI0Ny44NTUgMzE0LjI3NyAyNjIuNDc4IDMxMS42MTEgMjcyLjI5NSAzMTAuMDVDMjcxLjQ2NCAyODIuNDczIDI2Ny42NjIgMjE2LjI5NCAyNzAuMTU0IDIwMkgzMjEuMzE5QzMxOC45MjkgMjE1LjcwNyAyOTguNzI5IDMxNS43MTggMjk0Ljk3NSAzMjUuNzI5QzI5My43ODMgMzI5LjMwMiAyOTAuMjI4IDMzMC44ODIgMjg2LjI3NiAzMzAuOTk0WiIgY2xpcFJ1bGU9ImV2ZW5vZGQiIGZpbGxSdWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTE2Ny42NjggMzMyLjUzOUMxNjQuNTMyIDMzMS45NTYgMTYyLjIzNSAzMzEuNzkzIDE2MC43NzQgMzMyLjA1QzE1OC45OTggMzMyLjM2MyAxNTYuNDU5IDMzMy4xMTYgMTUzLjE1NiAzMzQuMzA5QzE1My41MiAzMzYuMzY5IDE1Ni43ODQgMzU0Ljg4NCAxNjIuOTUxIDM4OS44NTRDMTY3Ljk3NyAzOTAuNDU2IDE3MC40MDYgMzg5LjE2OCAxNzAuMjM4IDM4NS45OTFDMTcwLjA3IDM4Mi44MTQgMTY5Ljk1OSAzODAuMTcgMTY5LjkwMiAzNzguMDU5TDE3Ni44NTkgMzUwLjIxM0MxNzYuOTkzIDM0OS42NzcgMTc2LjY2NyAzNDkuMTM0IDE3Ni4xMzIgMzQ5QzE3Ni4xMjMgMzQ4Ljk5OCAxNzYuMTEzIDM0OC45OTYgMTc2LjEwNCAzNDguOTk0TDE3MS43ODYgMzQ4LjA0NEMxNjkuOTM1IDM0NS40MDIgMTY4Ljg1MSAzNDMuMTgxIDE2OC41MzQgMzQxLjM4MUMxNjguMjc2IDMzOS45MTkgMTY4LjUxIDMzNy43OTUgMTY5LjIzNyAzMzUuMDFMMTY5LjIzNyAzMzUuMDFDMTY5LjUxNiAzMzMuOTQxIDE2OC44NzYgMzMyLjg0OSAxNjcuODA3IDMzMi41N0MxNjcuNzYxIDMzMi41NTggMTY3LjcxNCAzMzIuNTQ4IDE2Ny42NjggMzMyLjUzOVoiIGNsaXBSdWxlPSJldmVub2RkIiBmaWxsUnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0zNjMuOTk3IDQyNi40MDJDMzYyLjg3OCA0MjkuMzg4IDM2Mi4zMTkgNDMxLjYyMyAzNjIuMzE5IDQzMy4xMDZDMzYyLjMxOSA0MzQuOTA5IDM2Mi42MTkgNDM3LjU0IDM2My4yMiA0NDFDMzY1LjMxMiA0NDEgMzg0LjExMyA0NDEgNDE5LjYyMiA0NDFDNDIxLjA4OCA0MzYuMTU1IDQyMC4yNDIgNDMzLjUzOSA0MTcuMDg0IDQzMy4xNTJDNDEzLjkyNiA0MzIuNzY2IDQxMS4zMDMgNDMyLjQxNyA0MDkuMjE0IDQzMi4xMDZMMzgyLjk5OSA0MjAuNDE5QzM4Mi40OTQgNDIwLjE5NCAzODEuOTAzIDQyMC40MjEgMzgxLjY3OCA0MjAuOTI1QzM4MS42NzQgNDIwLjkzNCAzODEuNjcxIDQyMC45NDIgMzgxLjY2NyA0MjAuOTUxTDM3OS45ODIgNDI1LjAzOUMzNzcuMDU5IDQyNi40MDMgMzc0LjY4MyA0MjcuMDg1IDM3Mi44NTYgNDI3LjA4NUMzNzEuMzcxIDQyNy4wODUgMzY5LjMyIDQyNi40ODUgMzY2LjcwMyA0MjUuMjg2TDM2Ni43MDMgNDI1LjI4NUMzNjUuNjk5IDQyNC44MjUgMzY0LjUxMiA0MjUuMjY2IDM2NC4wNTIgNDI2LjI3QzM2NC4wMzIgNDI2LjMxMyAzNjQuMDE0IDQyNi4zNTcgMzYzLjk5NyA0MjYuNDAyWiIgY2xpcFJ1bGU9ImV2ZW5vZGQiIGZpbGxSdWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iI0YwMzhBNSIgZD0iTTI3MC4zMTkgMjAyQzI5Mi44NjYgMTk1LjU0OSAzMTQuMTk5IDE5NS41NDkgMzM0LjMxOSAyMDJDMzQxLjMxOSAyMzMuOTM3IDM1OC4zMjggMjQ2LjYxMyAzNjEuMzE5IDI5NS41NzlDMzI3LjMxOSAzMTIuNDczIDI4NS4zMTkgMjgzLjUzIDI1MC4zMTkgMzAwLjAwNUMyNDAuMzE5IDI3Ni45NjEgMjU0LjMxOSAyMjEuNDY0IDI3MC4zMTkgMjAyWiIgY2xpcFJ1bGU9ImV2ZW5vZGQiIGZpbGxSdWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iI0VEQjc5NSIgZD0iTTM2Ny4zMTkgMTYyLjMxMUw0MDYuODAyIDE1Ni45MjVDNDE0LjcgMTUyLjUzMiA0MjEuOTY2IDE0OS41NTggNDI4LjU5OSAxNDguMDAzQzQzMC40NjYgMTQ3Ljk0OCA0MzMuNDM2IDE0OC42MjcgNDI5LjAxMiAxNTIuMzE1QzQyNC41ODggMTU2LjAwMyA0MjAuMDk5IDE2MC4wODMgNDIwLjg4NyAxNjIuMDUxQzQyMS42NzUgMTY0LjAyIDQyNS43OSAxNjMuMjg3IDQyNi40NzEgMTY2LjMxNUM0MjYuOTI2IDE2OC4zMzMgNDIwLjI0OCAxNjguNjYxIDQwNi40NCAxNjcuMjk5TDM3NC40MDMgMTgwTDM2Ny4zMTkgMTYyLjMxMVpNMjQzLjI4OCAxNzEuNDVMMjY1LjE4NiAxNzEuNTMyQzI0MS4xNzUgMjI1LjU2NiAyMjguNjU1IDI1My44NTcgMjI3LjYyNyAyNTYuNDA2QzIyNS4zMTMgMjYyLjE0IDIzMC4yMDkgMjcwLjg3NCAyMzIuMzAzIDI3NS41NjdDMjI1LjQ4MyAyNzguNjE5IDIyNi4yMSAyNjcuMzE3IDIxNy42MDcgMjcxLjMxOUMyMDkuNzU0IDI3NC45NzMgMjAzLjc4IDI4MS41OTIgMTk0LjcwOCAyNzUuOTk0QzE5My41OTIgMjc1LjMwNiAxOTIuMzcgMjcyLjcxNSAxOTUuMzIzIDI3MC42OUMyMDIuNjgxIDI2NS42NDUgMjEzLjI4NCAyNTYuODE1IDIxNC43MTcgMjUzLjkwOEMyMTYuNjcgMjQ5Ljk0NSAyMjYuMTk0IDIyMi40NTkgMjQzLjI4OCAxNzEuNDVaIiBjbGlwUnVsZT0iZXZlbm9kZCIgZmlsbFJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBmaWxsPSIjRUVFIiBkPSJNMzAzLjI2OCAxMDJMMzIwLjQxMyAxMDMuMTQyQzMyNC42MzUgMTQxLjM0MyAzNDcuNjM1IDE2NS40NzMgMzk5LjEzIDE1Ny4zMDRMNDA1Ljk3MSAyMDYuNDk5QzM1Ny44NDEgMjEyLjcxOSAzMTUuNjMyIDE5My40NSAzMDYuOTgxIDE0MS4yNzhDMzA0Ljc0MiAxMjcuNzczIDMwMi45NzMgMTEzLjcxOCAzMDMuMjY4IDEwMloiIGNsaXBSdWxlPSJldmVub2RkIiBmaWxsUnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0yOTQuODA5IDk3LjAxNTlMMzIwLjc4NiAxMDIuOTY1QzMyMC43ODYgMTQ3LjY0NCAzMzUuMDE5IDE3Ni4xNSAzNDIuMzE5IDIwOUgyNzIuMTYyQzI3MS4xNzQgMjIwLjM1MSAyNzAuNTY3IDIzMi4wMTggMjcwLjI1MSAyNDRIMjE3LjcyQzIyOS42MjQgMTgwLjY2NCAyNTQuNzQ5IDEzMS42NjQgMjkzLjA5NCA5N0gyOTQuNzk2TDI5NC44MDkgOTcuMDE1OVoiIGNsaXBSdWxlPSJldmVub2RkIiBmaWxsUnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiNFRUUiIGQ9Ik0yODMuMjMxIDE0NS4yNTlDMjgxLjQyMyAxNzMuMTAxIDI4Mi40ODYgMTk0LjM0NyAyODYuNDIxIDIwOUgyNzIuMTYyQzI3NC4xMiAxODYuNTE0IDI3Ny41NzUgMTY1LjI2NyAyODMuMjMxIDE0NS4yNTlWMTQ1LjI1OVoiIGNsaXBSdWxlPSJldmVub2RkIiBmaWxsUnVsZT0iZXZlbm9kZCIvPjxwYXRoIHN0cm9rZT0iI0Y5RjlGOSIgZD0iTTQyMCAxODRDNDM4LjE3NCAyMDguOTM5IDQ3My4wNDcgMjg3Ljc3MiA0NjcuMTQ0IDQwMy41OTJDNDY5Ljc0IDM3My45NTcgNDgxLjY1NiAzMTUuMzY2IDUwOC41NDggMzE4LjA4N0M1MzUuNDQxIDMyMC44MDggNTMxLjUwNSA0MDEuMTYzIDUyNi4xNzYgNDQxQzUzMi4wNTIgMzg1LjI5MiA1NTIuMzM0IDM1NS4wODcgNTczLjUgMzUxIiBzdHJva2VEYXNoYXJyYXk9IjEwIDE1IiBzdHJva2VMaW5lY2FwPSJyb3VuZCIgc3Ryb2tlV2lkdGg9IjQiLz48L3N2Zz4=",className:e.micDrop,alt:"Girl dropping mic from her hands"})};function Gr(e){return gn.a.parse(e,{ignoreQueryPrefix:!0,strictNullHandling:!0})}function Zr(e,t){return Gr(e)[t]}function Wr(e,t,a){return function(e){return gn.a.stringify(e,{strictNullHandling:!0})}({...Gr(e),[t]:a})}function Fr(e,t=250){const[a,r]=Object(ca.d)(),i=a.toString(),[o,s]=Object(n.useState)(Zr(i,e));return Object(n.useEffect)(()=>{const t=Zr(i,e);s(e=>Object(mn.isEqual)(t,e)?e:t)},[i,s,e]),Object(hn.a)(()=>{const t=Wr(i,e,o);i!==t&&r(t,{replace:!0})},t,[r,o,i,e]),[o,s]}const Vr={url:"https://github.com/backstage/backstage/issues",items:[{title:"Support Not Configured",icon:"warning",links:[{title:"Add `app.support` config key",url:"https://github.com/andrewthauer/backstage/blob/master/app-config.yaml"}]}]};function Hr(){const e=ae(ke).getOptionalConfig("app.support");return e?{url:e.getString("url"),items:e.getConfigArray("items").flatMap(e=>{var t;return{title:e.getString("title"),icon:e.getOptionalString("icon"),links:(null!=(t=e.getOptionalConfigArray("links"))?t:[]).flatMap(e=>({url:e.getString("url"),title:e.getString("title")}))}})}:Vr}const qr=Object(ga.a)(e=>({container:{padding:e.spacing(8),[e.breakpoints.down("xs")]:{padding:e.spacing(2)}},title:{paddingBottom:e.spacing(5),[e.breakpoints.down("xs")]:{paddingBottom:e.spacing(4),fontSize:32}},subtitle:{color:e.palette.textSubtle}})),Jr=({status:e,statusMessage:t,additionalInfo:a})=>{const n=qr(),i=Object(I.m)(),o=Hr();return r.a.createElement(ha.a,{container:!0,spacing:0,className:n.container},r.a.createElement(Yr,null),r.a.createElement(ha.a,{item:!0,xs:12,sm:8,md:4},r.a.createElement(fa.a,{variant:"body1",className:n.subtitle},"ERROR ",e,": ",t),r.a.createElement(fa.a,{variant:"body1",className:n.subtitle},a),r.a.createElement(fa.a,{variant:"h2",className:n.title},"Looks like someone dropped the mic!"),r.a.createElement(fa.a,{variant:"h6"},r.a.createElement(ya.a,{"data-testid":"go-back-link",onClick:()=>i(-1)},"Go back"),"... or please"," ",r.a.createElement(ya.a,{href:o.url,rel:"noopener noreferrer"},"contact support")," ","if you think this is a bug.")))},Xr=e=>{const[t,a]=Object(n.useState)(!1);return Object(n.useEffect)(()=>{const e=setTimeout(()=>a(!0),250);return()=>clearTimeout(e)},[]),t?r.a.createElement(ba.a,{...e,"data-testid":"progress"}):r.a.createElement("div",{style:{display:"none"}})},Kr=[pe({api:xe,deps:{configApi:ke},factory:({configApi:e})=>ct.compile(e.getString("backend.baseUrl")+"/api/{{ pluginId }}")}),pe(we,new class{constructor(){this.subject=new Qe}post(e){this.subject.next(e)}alert$(){return this.subject}}),pe({api:De,deps:{alertApi:we},factory:({alertApi:e})=>new ut(e,new dt)}),pe({api:Ce,deps:{errorApi:De},factory:({errorApi:e})=>ft.create({errorApi:e})}),pe(ze,new class{constructor(){this.subject=new Be([]),this.currentRequests=[],this.handlerCount=0}createAuthRequester(e){const t=new gt,a=this.handlerCount;return this.handlerCount++,t.pending().subscribe({next:t=>{const n=this.currentRequests.slice(),r=this.makeAuthRequest(t,e);r?n[a]=r:delete n[a],this.currentRequests=n,this.subject.next(n.filter(Boolean))}}),e=>t.request(e)}makeAuthRequest(e,t){const{scopes:a}=e;if(a)return{provider:t.provider,trigger:async()=>{const n=await t.onAuthRequest(a);e.resolve(n)},reject:()=>{const t=new Error("Login failed, rejected by user");t.name="RejectedError",e.reject(t)}}}authRequest$(){return this.subject}}),pe({api:ge,deps:{discoveryApi:xe,oauthRequestApi:ze,configApi:ke},factory:({discoveryApi:e,oauthRequestApi:t,configApi:a})=>class{static create({discoveryApi:e,oauthRequestApi:t,environment:a="development",provider:n=Xe,defaultScopes:r=["openid",Ke+"userinfo.email",Ke+"userinfo.profile"]}){return qe.create({discoveryApi:e,oauthRequestApi:t,provider:n,environment:a,defaultScopes:r,scopeTransform:e=>e.map(e=>"openid"===e?e:"profile"===e||"email"===e?`${Ke}userinfo.${e}`:e.startsWith(Ke)?e:`${Ke}${e}`)})}}.create({discoveryApi:e,oauthRequestApi:t,environment:a.getOptionalString("auth.environment")})}),pe({api:Me,deps:{discoveryApi:xe,oauthRequestApi:ze,configApi:ke},factory:({discoveryApi:e,oauthRequestApi:t,configApi:a})=>class{static create({environment:e="development",provider:t=it,oauthRequestApi:a,discoveryApi:n,defaultScopes:r=["openid","offline_access","profile","email","User.Read"]}){return qe.create({discoveryApi:n,oauthRequestApi:a,provider:t,environment:e,defaultScopes:r})}}.create({discoveryApi:e,oauthRequestApi:t,environment:a.getOptionalString("auth.environment")})}),pe({api:he,deps:{discoveryApi:xe,oauthRequestApi:ze,configApi:ke},factory:({discoveryApi:e,oauthRequestApi:t,configApi:a})=>Ve.create({discoveryApi:e,oauthRequestApi:t,defaultScopes:["read:user"],environment:a.getOptionalString("auth.environment")})}),pe({api:fe,deps:{discoveryApi:xe,oauthRequestApi:ze,configApi:ke},factory:({discoveryApi:e,oauthRequestApi:t,configApi:a})=>class{static create({discoveryApi:e,environment:t="development",provider:a=et,oauthRequestApi:n,defaultScopes:r=["openid","email","profile","offline_access"]}){return qe.create({discoveryApi:e,oauthRequestApi:n,provider:a,environment:t,defaultScopes:r,scopeTransform:e=>e.map(e=>tt.has(e)||e.startsWith("okta.")?e:"okta."+e)})}}.create({discoveryApi:e,oauthRequestApi:t,environment:a.getOptionalString("auth.environment")})}),pe({api:ye,deps:{discoveryApi:xe,oauthRequestApi:ze,configApi:ke},factory:({discoveryApi:e,oauthRequestApi:t,configApi:a})=>class{static create({discoveryApi:e,environment:t="development",provider:a=Je,oauthRequestApi:n,defaultScopes:r=["read_user"]}){return qe.create({discoveryApi:e,oauthRequestApi:n,provider:a,environment:t,defaultScopes:r})}}.create({discoveryApi:e,oauthRequestApi:t,environment:a.getOptionalString("auth.environment")})}),pe({api:be,deps:{discoveryApi:xe,oauthRequestApi:ze,configApi:ke},factory:({discoveryApi:e,oauthRequestApi:t,configApi:a})=>class{static create({discoveryApi:e,environment:t="development",provider:a=rt,oauthRequestApi:n,defaultScopes:r=["openid","email","profile"]}){return qe.create({discoveryApi:e,oauthRequestApi:n,provider:a,environment:t,defaultScopes:r})}}.create({discoveryApi:e,oauthRequestApi:t,environment:a.getOptionalString("auth.environment")})}),pe({api:Ie,deps:{discoveryApi:xe,oauthRequestApi:ze,configApi:ke},factory:({discoveryApi:e,oauthRequestApi:t,configApi:a})=>qe.create({discoveryApi:e,oauthRequestApi:t,environment:a.getOptionalString("auth.environment")})}),pe({api:ve,deps:{discoveryApi:xe,configApi:ke},factory:({discoveryApi:e,configApi:t})=>nt.create({discoveryApi:e,environment:t.getOptionalString("auth.environment")})}),pe({api:Ee,deps:{discoveryApi:xe,oauthRequestApi:ze,configApi:ke},factory:({discoveryApi:e,oauthRequestApi:t,configApi:a})=>class{static create({discoveryApi:e,environment:t="development",provider:a=ot,oauthRequestApi:n}){return qe.create({discoveryApi:e,oauthRequestApi:n,provider:a,environment:t,defaultScopes:["openid","email","profile","offline_access"],scopeTransform:e=>e.map(e=>st.has(e)||e.startsWith("onelogin.")?e:"onelogin."+e)})}}.create({discoveryApi:e,oauthRequestApi:t,environment:a.getOptionalString("auth.environment")})}),pe({api:je,deps:{discoveryApi:xe,oauthRequestApi:ze,configApi:ke},factory:({discoveryApi:e,oauthRequestApi:t,configApi:a})=>qe.create({discoveryApi:e,oauthRequestApi:t,provider:{id:"oidc",title:"Your Identity Provider",icon:l.a},environment:a.getOptionalString("auth.environment")})})],{PrivateAppImpl:ei}=la,ti=async(e=/*__APP_INJECTED_CONFIG_MARKER__*/"[{\"context\":\"app\",\"data\":{\"app\":{\"title\":\"Scaffolded Backstage App\",\"baseUrl\":\"http://localhost:3000\"},\"organization\":{\"name\":\"My Company\"},\"backend\":{\"baseUrl\":\"http://localhost:7000\"},\"integrations\":{\"github\":[{\"host\":\"github.com\"}]},\"techdocs\":{\"builder\":\"local\"},\"auth\":{\"environment\":\"development\",\"providers\":{\"github\":{}}}}}]"/*__INJECTED_END__*/)=>{const t=[{context:"app-config.yaml",data:{app:{title:"Scaffolded Backstage App",baseUrl:"http://localhost:3000"},organization:{name:"My Company"},backend:{baseUrl:"http://localhost:7000"},integrations:{github:[{host:"github.com"}]},techdocs:{builder:"local"},auth:{environment:"development",providers:{github:{}}}}}];if(!t)throw new Error("No static configuration provided");if(!Array.isArray(t))throw new Error("Static configuration has invalid format");const a=t.slice();if(e!=="__app_injected_runtime_config__".toLocaleUpperCase("en-US"))try{const t=JSON.parse(e);Array.isArray(t)?a.push(...t):a.push({data:t,context:"env"})}catch(e){throw new Error("Failed to load runtime configuration, "+e)}const n=window.__APP_CONFIG__;return n&&a.push({context:"window",data:n}),a};function ai({children:e}){return Object(I.k)()?r.a.createElement(r.a.Fragment,null,e):r.a.createElement(I.a,null,e)}function ni(e){var t,a,n,i;const o=null!=(t=null==e?void 0:e.apis)?t:[],s={...Gt,...null==e?void 0:e.icons},l=null!=(a=null==e?void 0:e.plugins)?a:[],c={NotFoundErrorPage:()=>r.a.createElement(Jr,{status:"404",statusMessage:"PAGE NOT FOUND"}),BootErrorPage:({step:e,error:t})=>{let a="";return"load-config"===e?a="The configuration failed to load, someone should have a look at this error: "+t.message:"load-chunk"===e&&(a="Lazy loaded chunk failed to load, try to reload the page: "+t.message),r.a.createElement(ai,null,r.a.createElement(Jr,{status:"501",statusMessage:a}))},Progress:Xr,Router:ca.a,...null==e?void 0:e.components},u=null!=(n=null==e?void 0:e.themes)?n:[{id:"light",title:"Light Theme",variant:"light",theme:yn.c,icon:r.a.createElement(da.a,null)},{id:"dark",title:"Dark Theme",variant:"dark",theme:yn.a,icon:r.a.createElement(pa.a,null)}],d=null!=(i=null==e?void 0:e.configLoader)?i:ti,m=new ei({apis:o,icons:s,plugins:l,components:c,themes:u,configLoader:d,defaultApis:Kr,bindRoutes:null==e?void 0:e.bindRoutes});return m.verify(),m}const ri=()=>{const[e,t]=Object(n.useState)([]),a=ae(we);if(Object(n.useEffect)(()=>{const e=a.alert$().subscribe(e=>t(t=>t.concat(e)));return()=>{e.unsubscribe()}},[a]),0===e.length)return null;const[i]=e;return r.a.createElement(Ma.a,{open:!0,anchorOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(In.a,{action:r.a.createElement(Ia.a,{color:"inherit",size:"small",onClick:()=>{t(e=>e.filter(e=>e!==i))},"data-testid":"error-button-close"},r.a.createElement(Mn.a,null)),severity:i.severity},r.a.createElement("span",null,i.message.toString(),e.length>1&&r.a.createElement("em",null,` (${e.length-1} older ${vn()("message",e.length-1)})`))))};function ii(e){let t=0;for(let a=0;a<e.length;a++)t=e.charCodeAt(a)+((t<<5)-t);let a="#";for(let e=0;e<3;e++){a+=("00"+(t>>8*e&255).toString(16)).substr(-2)}return a}const oi=Object(ga.a)(e=>Object(ja.a)({avatar:{width:"4rem",height:"4rem",color:"#fff",fontWeight:e.typography.fontWeightBold,letterSpacing:"1px",textTransform:"uppercase"}})),si=({displayName:e,picture:t,customStyles:a})=>{const n=oi();return r.a.createElement(va.a,{alt:e,src:t,className:n.avatar,style:{backgroundColor:ii(e||t||""),...a}},e&&e.match(/\b\w/g).join("").substring(0,2))},li=r.a.forwardRef((e,t)=>r.a.createElement(Ea.a,{ref:t,component:ca.b,...e})),ci={tooltipDelay:1e3,tooltipText:"Text copied to clipboard"},ui=e=>{const{text:t,tooltipDelay:a,tooltipText:i}={...ci,...e},o=ae(De),s=Object(n.useRef)(null),[l,c]=Object(n.useState)(!1);return r.a.createElement(r.a.Fragment,null,r.a.createElement("textarea",{ref:s,style:{position:"absolute",top:-9999,left:-9999},defaultValue:t}),r.a.createElement(wa.a,{id:"copy-test-tooltip",title:i,placement:"top",leaveDelay:a,onClose:()=>c(!1),open:l},r.a.createElement(Ia.a,{onClick:e=>{e.stopPropagation(),c(!0);try{s.current&&(s.current.select(),document.execCommand("copy"))}catch(e){o.post(e)}}},r.a.createElement(kn.a,null))))};ui.propTypes={text:o.a.string.isRequired,tooltipDelay:o.a.number,tooltipText:o.a.string};const di=({text:e,language:t,showLineNumbers:a=!1,showCopyCodeButton:n=!1,highlightedNumbers:i,customStyle:o})=>{const s=Object(Na.a)(),l="dark"===s.palette.type?wn.dark:wn.docco,c="dark"===s.palette.type?"#256bf3":"#e6ffed";return r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(En.a,{customStyle:o,language:t,style:l,showLineNumbers:a,wrapLines:!0,lineNumberStyle:{color:s.palette.textVerySubtle},lineProps:e=>(null==i?void 0:i.includes(e))?{style:{backgroundColor:c}}:{}},e),n&&r.a.createElement("div",{style:{position:"absolute",top:0,right:0}},r.a.createElement(ui,{text:e})))};var mi,pi,gi,hi,fi,yi,bi,Mi;(pi=mi||(mi={})).TOP_BOTTOM="TB",pi.BOTTOM_TOP="BT",pi.LEFT_RIGHT="LR",pi.RIGHT_LEFT="RL",(hi=gi||(gi={})).UP_LEFT="UL",hi.UP_RIGHT="UR",hi.DOWN_LEFT="DL",hi.DOWN_RIGHT="DR",(yi=fi||(fi={})).NETWORK_SIMPLEX="network-simplex",yi.TIGHT_TREE="tight-tree",yi.LONGEST_PATH="longest-path",(Mi=bi||(bi={})).LEFT="l",Mi.RIGHT="r",Mi.CENTER="c";var Ii=Object.freeze({__proto__:null,get Direction(){return mi},get Alignment(){return gi},get Ranker(){return fi},get LabelPosition(){return bi}});const ji=Object(ga.a)(e=>({node:{fill:e.palette.background.paper,stroke:e.palette.border},text:{fill:e.palette.textContrast}}));function vi({node:{id:e}}){const t=ji(),[a,n]=r.a.useState(0),[i,o]=r.a.useState(0),s=r.a.useRef(null);r.a.useLayoutEffect(()=>{if(s.current){let{height:e,width:t}=s.current.getBBox();e=Math.round(e),t=Math.round(t),e===i&&t===a||(n(t),o(e))}},[a,i]);const l=a+20,c=i+20;return r.a.createElement("g",null,r.a.createElement("rect",{className:t.node,width:l,height:c,rx:10}),r.a.createElement("text",{ref:s,className:t.text,y:c/2,x:l/2,textAnchor:"middle",alignmentBaseline:"middle"},e))}const Ei=Pn()(e=>({node:{transition:e.transitions.duration.shortest+"ms"}})),wi=e=>r.a.createElement(vi,{...e});function Ni({render:e=wi,setNode:t,node:a}){const{width:n,height:i,x:o=0,y:s=0,...l}=a,c=Ei(),u=r.a.useRef(null);return r.a.useLayoutEffect(()=>{if(u.current){let{height:e,width:r}=u.current.getBBox();e=Math.round(e),r=Math.round(r),e===i&&r===n||t(a.id,{...a,height:e,width:r})}},[a,n,i,t]),r.a.createElement("g",{ref:u,"data-testid":"node",className:c.node,transform:`translate(${o-n/2},${s-i/2})`},e({node:l}))}const ki=Pn()(e=>({text:{fill:e.palette.textContrast}}));function xi({edge:{label:e}}){const t=ki();return r.a.createElement("text",{className:t.text,textAnchor:"middle"},e)}const Di=Pn()(e=>({path:{strokeWidth:2,stroke:e.palette.textSubtle,fill:"none",transition:e.transitions.duration.shortest+"ms"},label:{transition:e.transitions.duration.shortest+"ms"}})),Oi=e=>r.a.createElement(xi,{...e}),Si=Object($n.a)().x(e=>e.x).y(e=>e.y).curve(Rn.a);function Ai({render:e=Oi,setEdge:t,id:a,edge:n}){const{x:i=0,y:o=0,width:s,height:l,points:c,...u}=n,d=Di(),m=r.a.useRef(null);r.a.useLayoutEffect(()=>{if(m.current){let{height:e,width:r}=m.current.getBBox();e=Math.round(e),r=Math.round(r),e===l&&r===s||t(a,{...n,height:e,width:r})}},[n,l,s,t,a]);let p="";if(c){const e=c.filter(e=>_n()(e.x)&&_n()(e.y));p=Si(e)||""}return r.a.createElement(r.a.Fragment,null,p&&r.a.createElement("path",{"data-testid":"edge",className:d.path,markerEnd:"url(#arrow-marker)",d:p}),u.label?r.a.createElement("g",{ref:m,"data-testid":"label",className:d.label,transform:`translate(${i},${o})`},e({edge:u})):null)}function Ti({edges:e,nodes:t,renderNode:a,direction:n=mi.TOP_BOTTOM,align:i,nodeMargin:o=50,edgeMargin:s=10,rankMargin:l=50,paddingX:c=0,paddingY:u=0,acyclicer:d,ranker:m=fi.NETWORK_SIMPLEX,labelPosition:p=bi.RIGHT,labelOffset:g=10,edgeRanks:h=1,edgeWeight:f=1,renderLabel:y,defs:b,...M}){var I,j;const v=Sn()(),[E,w]=r.a.useState(100),[N,k]=r.a.useState(100),x=r.a.useRef(new Tn.a.graphlib.Graph),[D,O]=r.a.useState((null==(I=x.current.graph())?void 0:I.width)||0),[S,A]=r.a.useState((null==(j=x.current.graph())?void 0:j.height)||0),[T,z]=r.a.useState([]),[C,L]=r.a.useState([]),P=Math.max(D,E),$=Math.max(S,N),R=r.a.useMemo(()=>Cn()(e=>{if(!e)return;const t=Object(Dn.a)(e),a=Object(Dn.a)(e.getElementById("workspace")),n=Object(xn.a)().scaleExtent([1,10]).on("zoom",e=>{e.transform.x=Math.min(0,Math.max(e.transform.x,P-P*e.transform.k)),e.transform.y=Math.min(0,Math.max(e.transform.y,$-$*e.transform.k)),a.attr("transform",e.transform)});t.call(n);const{width:r,height:i}=e.getBoundingClientRect();E!==r&&w(r),N!==i&&k(i)},100),[N,E,P,$]),U=r.a.useCallback(()=>{const a=x.current.nodes(),n=x.current.edges();a.forEach(e=>{t.some(t=>t.id===e)||x.current.removeNode(e)}),n.forEach(t=>{e.some(e=>e.from===t.v&&e.to===t.w)||x.current.removeEdge(t.v,t.w)}),t.forEach(e=>{const t=x.current.nodes().find(t=>e.id===t);if(t){const{width:a,height:n,x:r,y:i}=x.current.node(t);x.current.setNode(t,{...e,width:a,height:n,x:r,y:i})}else x.current.setNode(e.id,{...e,width:0,height:0})}),e.forEach(e=>{x.current.setEdge(e.from,e.to,{...e,label:e.label,width:0,height:0,labelpos:p,labeloffset:g,weight:f,minlen:h})})},[e,t,p,g,f,h]),_=r.a.useMemo(()=>Cn()(()=>{Tn.a.layout(x.current);const{height:e,width:t}=x.current.graph(),a=Math.max(0,e||0),n=Math.max(0,t||0);O(n),A(a),z(x.current.nodes()),L(x.current.edges())},250,{leading:!0}),[]);function Q(e,t){return x.current.setNode(e,t),_(),x.current}function B(e,t){return x.current.setEdge(e,t),_(),x.current}return r.a.useEffect(()=>(x.current.setGraph({rankdir:n,align:i,nodesep:o,edgesep:s,ranksep:l,marginx:c,marginy:u,acyclicer:d,ranker:m}),U(),_(),_.cancel),[d,i,n,s,c,u,o,l,m,U,_]),r.a.createElement("svg",{ref:R,...M,width:P,height:$,viewBox:`0 0 ${P} ${$}`},r.a.createElement("defs",null,r.a.createElement("marker",{id:"arrow-marker",viewBox:"0 0 24 24",markerWidth:"14",markerHeight:"14",refX:"16",refY:"12",orient:"auto",markerUnits:"strokeWidth"},r.a.createElement("path",{fill:v.palette.textSubtle,d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})),b),r.a.createElement("g",{id:"workspace"},r.a.createElement("svg",{width:D,height:S,y:$/2-S/2,x:P/2-D/2,viewBox:`0 0 ${D} ${S}`},C.map(e=>{const t=x.current.edge(e);return t?r.a.createElement(Ai,{key:`${e.v}-${e.w}`,id:e,setEdge:B,render:y,edge:t}):null}),T.map(e=>{const t=x.current.node(e);return t?r.a.createElement(Ni,{key:e,setNode:Q,render:a,node:t}):null}))))}Object(ga.a)(e=>({root:{padding:e.spacing(0),marginBottom:e.spacing(0),marginTop:e.spacing(0),display:"flex",flexFlow:"row nowrap"},topPosition:{position:"relative",marginBottom:e.spacing(6),marginTop:-e.spacing(3),zIndex:"unset"},icon:{fontSize:20},content:{width:"100%",maxWidth:"inherit"},message:{display:"flex",alignItems:"center",color:e.palette.banner.text,"& a":{color:e.palette.banner.link}},info:{backgroundColor:e.palette.banner.info},error:{backgroundColor:e.palette.banner.error}}));const zi=Object(ga.a)({generalImg:{width:"95%",zIndex:2,position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, 15%)"}}),Ci=({missing:e})=>{const t=zi();switch(e){case"field":return r.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2ODciIGhlaWdodD0iNDIxIiBmaWxsPSJub25lIiB2aWV3Qm94PSIwIDAgNjg3IDQyMSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMDUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQwLjA1MTQgMTA5LjkxNEMyNi44OTU1IDExMi4zNjYgMTguMjE3OSAxMjUuMDE4IDIwLjY2OTUgMTM4LjE3NEMyMy4xMjEgMTUxLjMzIDM1Ljc3MzMgMTYwLjAwNyA0OC45MjkyIDE1Ny41NTZMNjcuMDU0OSAxNTQuMTc4QzYyLjAwOCAxNTkuNjA5IDU5LjUwOTcgMTY3LjI3OCA2MC45NzIyIDE3NS4xMjdDNjMuNDIzNyAxODguMjgzIDc2LjA3NiAxOTYuOTYgODkuMjMxOSAxOTQuNTA5TDIxOC4yNzkgMTcwLjQ2MkMyMTguMzA1IDE3MC42MTcgMjE4LjMzMyAxNzAuNzczIDIxOC4zNjIgMTcwLjkyOUMyMTkuODI0IDE3OC43NzggMjI0LjkxNyAxODUuMDMyIDIzMS41ODIgMTg4LjI4MUwyMjMuNjYzIDE4OS43NTdDMjEwLjUwNyAxOTIuMjA4IDIwMS44MyAyMDQuODYxIDIwNC4yODEgMjE4LjAxNkMyMDYuNzMzIDIzMS4xNzIgMjE5LjM4NSAyMzkuODUgMjMyLjU0MSAyMzcuMzk4TDYwOC42NTggMTY3LjMxMUM2MjEuODE0IDE2NC44NiA2MzAuNDkyIDE1Mi4yMDggNjI4LjA0IDEzOS4wNTJDNjI2LjU3OCAxMzEuMjAzIDYyMS40ODUgMTI0Ljk0OSA2MTQuODIxIDEyMS43TDYyNy40ODkgMTE5LjMzOUM2NDAuNjQ1IDExNi44ODggNjQ5LjMyMiAxMDQuMjM2IDY0Ni44NzEgOTEuMDc5N0M2NDQuNDE5IDc3LjkyMzggNjMxLjc2NyA2OS4yNDYyIDYxOC42MTEgNzEuNjk3N0wzOTMuMDIgMTEzLjczNUMzOTIuOTk0IDExMy41NzkgMzkyLjk2NiAxMTMuNDIzIDM5Mi45MzcgMTEzLjI2N0MzOTEuNDc1IDEwNS40MTkgMzg2LjM4MiA5OS4xNjQzIDM3OS43MTcgOTUuOTE1Nkw0MDEuNjE5IDkxLjgzNDNDNDE0Ljc3NSA4OS4zODI4IDQyMy40NTMgNzYuNzMwNSA0MjEuMDAxIDYzLjU3NDZDNDE4LjU1IDUwLjQxODcgNDA1Ljg5NyA0MS43NDExIDM5Mi43NDIgNDQuMTkyN0w0MC4wNTE0IDEwOS45MTRaTTU5LjE0NiAyOTguMjI0QzU2LjY5NDUgMjg1LjA2OCA2NS4zNzIxIDI3Mi40MTYgNzguNTI4IDI2OS45NjRMNDY0LjQ4MyAxOTguMDQ0QzQ3Ny42MzkgMTk1LjU5MiA0OTAuMjkyIDIwNC4yNyA0OTIuNzQzIDIxNy40MjZDNDk1LjE5NSAyMzAuNTgyIDQ4Ni41MTcgMjQzLjIzNCA0NzMuMzYxIDI0NS42ODVMNDYyLjMwOSAyNDcuNzQ1QzQ2My41OTkgMjQ4LjM3NCA0NjQuODMgMjQ5LjExNSA0NjUuOTg3IDI0OS45NTlMNTk5LjczMSAyMjUuMDM3QzYxMi44ODcgMjIyLjU4NSA2MjUuNTM5IDIzMS4yNjMgNjI3Ljk5MSAyNDQuNDE5QzYyOS40NTMgMjUyLjI2NyA2MjYuOTU1IDI1OS45MzcgNjIxLjkwOCAyNjUuMzY4TDYyNC42MDEgMjY0Ljg2NkM2MzcuNzU3IDI2Mi40MTQgNjUwLjQxIDI3MS4wOTIgNjUyLjg2MSAyODQuMjQ4QzY1NS4zMTMgMjk3LjQwNCA2NDYuNjM1IDMxMC4wNTYgNjMzLjQ3OSAzMTIuNTA3TDIzMi41NjEgMzg3LjIxNkMyMTkuNDA1IDM4OS42NjcgMjA2Ljc1MiAzODAuOTkgMjA0LjMwMSAzNjcuODM0QzIwMS44NDkgMzU0LjY3OCAyMTAuNTI3IDM0Mi4wMjYgMjIzLjY4MyAzMzkuNTc0TDI1Mi45NTggMzM0LjExOUMyNTEuNjY4IDMzMy40OSAyNTAuNDM3IDMzMi43NDkgMjQ5LjI3OSAzMzEuOTA1TDcwLjgyMDUgMzY1LjE1OUM1Ny42NjQ2IDM2Ny42MTEgNDUuMDEyMyAzNTguOTMzIDQyLjU2MDggMzQ1Ljc3N0M0MC4xMDkzIDMzMi42MjEgNDguNzg2OSAzMTkuOTY5IDYxLjk0MjggMzE3LjUxOEw3Mi4zNjU3IDMxNS41NzVDNjUuNzAxNCAzMTIuMzI3IDYwLjYwODUgMzA2LjA3MiA1OS4xNDYgMjk4LjIyNFoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxnIGZpbHRlcj0idXJsKCNmaWx0ZXIwX2QpIj48cGF0aCBmaWxsPSIjOUU5RTlFIiBkPSJNNTY2Ljc5NSA3Ni4wMjg4SDEyNC44NDJDMTE5LjYwNCA3Ni4wMjg4IDExNS4zNTggODAuMjcgMTE1LjM1OCA4NS41MDE4VjExMy45MjFDMTE1LjM1OCAxMTkuMTUzIDExOS42MDQgMTIzLjM5NCAxMjQuODQyIDEyMy4zOTRINTY2Ljc5NUM1NzIuMDMzIDEyMy4zOTQgNTc2LjI3OSAxMTkuMTUzIDU3Ni4yNzkgMTEzLjkyMVY4NS41MDE4QzU3Ni4yNzkgODAuMjcgNTcyLjAzMyA3Ni4wMjg4IDU2Ni43OTUgNzYuMDI4OFoiLz48bWFzayBpZD0ibWFzazAiIHdpZHRoPSI0NjIiIGhlaWdodD0iMjc3IiB4PSIxMTUiIHk9Ijc2IiBtYXNrLXR5cGU9ImFscGhhIiBtYXNrVW5pdHM9InVzZXJTcGFjZU9uVXNlIj48cGF0aCBmaWxsPSIjNDA0MDQwIiBkPSJNNTY2Ljc5NSA3Ni4wMjg4SDEyNC44NDJDMTE5LjYwNCA3Ni4wMjg4IDExNS4zNTggODAuMjcgMTE1LjM1OCA4NS41MDE4VjM0My4xNjdDMTE1LjM1OCAzNDguMzk5IDExOS42MDQgMzUyLjY0IDEyNC44NDIgMzUyLjY0SDU2Ni43OTVDNTcyLjAzMyAzNTIuNjQgNTc2LjI3OSAzNDguMzk5IDU3Ni4yNzkgMzQzLjE2N1Y4NS41MDE4QzU3Ni4yNzkgODAuMjcgNTcyLjAzMyA3Ni4wMjg4IDU2Ni43OTUgNzYuMDI4OFoiLz48L21hc2s+PGcgbWFzaz0idXJsKCNtYXNrMCkiPjxwYXRoIGZpbGw9IiNFRUUiIGQ9Ik01ODMuODY2IDEwMi41NTNIMTE1LjM1OFYzNjUuOTAySDU4My44NjZWMTAyLjU1M1oiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNNTIzLjE2OSAxODQuMDIxSDE4Ny40MzZDMTg1LjM0MSAxODQuMDIxIDE4My42NDMgMTg1LjcxNyAxODMuNjQzIDE4Ny44MUMxODMuNjQzIDE4OS45MDMgMTg1LjM0MSAxOTEuNTk5IDE4Ny40MzYgMTkxLjU5OUg1MjMuMTY5QzUyNS4yNjQgMTkxLjU5OSA1MjYuOTYyIDE4OS45MDMgNTI2Ljk2MiAxODcuODFDNTI2Ljk2MiAxODUuNzE3IDUyNS4yNjQgMTg0LjAyMSA1MjMuMTY5IDE4NC4wMjFaIi8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTM5NC4xODcgMjAxLjA3MkgxODcuNDM2QzE4NS4zNDEgMjAxLjA3MiAxODMuNjQzIDIwMi43NjkgMTgzLjY0MyAyMDQuODYxQzE4My42NDMgMjA2Ljk1NCAxODUuMzQxIDIwOC42NTEgMTg3LjQzNiAyMDguNjUxSDM5NC4xODdDMzk2LjI4MiAyMDguNjUxIDM5Ny45OCAyMDYuOTU0IDM5Ny45OCAyMDQuODYxQzM5Ny45OCAyMDIuNzY5IDM5Ni4yODIgMjAxLjA3MiAzOTQuMTg3IDIwMS4wNzJaIi8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTI3NC42ODkgMTQ5LjkxOEgxODcuNDM2QzE4NS4zNDEgMTQ5LjkxOCAxODMuNjQzIDE1MS42MTUgMTgzLjY0MyAxNTMuNzA3QzE4My42NDMgMTU1LjggMTg1LjM0MSAxNTcuNDk3IDE4Ny40MzYgMTU3LjQ5N0gyNzQuNjg5QzI3Ni43ODQgMTU3LjQ5NyAyNzguNDgyIDE1NS44IDI3OC40ODIgMTUzLjcwN0MyNzguNDgyIDE1MS42MTUgMjc2Ljc4NCAxNDkuOTE4IDI3NC42ODkgMTQ5LjkxOFoiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMjEwLjE5OCAxMTUuODE1SDE0OS41QzE0Ny40MDUgMTE1LjgxNSAxNDUuNzA3IDExNy41MTIgMTQ1LjcwNyAxMTkuNjA1QzE0NS43MDcgMTIxLjY5NyAxNDcuNDA1IDEyMy4zOTQgMTQ5LjUgMTIzLjM5NEgyMTAuMTk4QzIxMi4yOTMgMTIzLjM5NCAyMTMuOTkxIDEyMS42OTcgMjEzLjk5MSAxMTkuNjA1QzIxMy45OTEgMTE3LjUxMiAyMTIuMjkzIDExNS44MTUgMjEwLjE5OCAxMTUuODE1WiIvPjxwYXRoIGZpbGw9IiNGOEY4RjgiIGQ9Ik0xMzIuNDI5IDExOS42MDVDMTMyLjQyOSAxMTcuNTEyIDEzMC43MzEgMTE1LjgxNSAxMjguNjM2IDExNS44MTVDMTI2LjU0IDExNS44MTUgMTI0Ljg0MiAxMTcuNTEyIDEyNC44NDIgMTE5LjYwNUMxMjQuODQyIDEyMS42OTcgMTI2LjU0IDEyMy4zOTQgMTI4LjYzNiAxMjMuMzk0QzEzMC43MzEgMTIzLjM5NCAxMzIuNDI5IDEyMS42OTcgMTMyLjQyOSAxMTkuNjA1WiIvPjxwYXRoIGZpbGw9IiNGOEY4RjgiIGQ9Ik0xMzIuNDI5IDEzNi42NTZDMTMyLjQyOSAxMzQuNTYzIDEzMC43MzEgMTMyLjg2NyAxMjguNjM2IDEzMi44NjdDMTI2LjU0IDEzMi44NjcgMTI0Ljg0MiAxMzQuNTYzIDEyNC44NDIgMTM2LjY1NkMxMjQuODQyIDEzOC43NDkgMTI2LjU0IDE0MC40NDUgMTI4LjYzNiAxNDAuNDQ1QzEzMC43MzEgMTQwLjQ0NSAxMzIuNDI5IDEzOC43NDkgMTMyLjQyOSAxMzYuNjU2WiIvPjxwYXRoIGZpbGw9IiNGOEY4RjgiIGQ9Ik0xMzIuNDI5IDE1My43MDdDMTMyLjQyOSAxNTEuNjE1IDEzMC43MzEgMTQ5LjkxOCAxMjguNjM2IDE0OS45MThDMTI2LjU0IDE0OS45MTggMTI0Ljg0MiAxNTEuNjE1IDEyNC44NDIgMTUzLjcwN0MxMjQuODQyIDE1NS44IDEyNi41NCAxNTcuNDk3IDEyOC42MzYgMTU3LjQ5N0MxMzAuNzMxIDE1Ny40OTcgMTMyLjQyOSAxNTUuOCAxMzIuNDI5IDE1My43MDdaIi8+PHBhdGggZmlsbD0iI0Y4RjhGOCIgZD0iTTEzMi40MjkgMTcwLjc1OUMxMzIuNDI5IDE2OC42NjYgMTMwLjczMSAxNjYuOTY5IDEyOC42MzYgMTY2Ljk2OUMxMjYuNTQgMTY2Ljk2OSAxMjQuODQyIDE2OC42NjYgMTI0Ljg0MiAxNzAuNzU5QzEyNC44NDIgMTcyLjg1MSAxMjYuNTQgMTc0LjU0OCAxMjguNjM2IDE3NC41NDhDMTMwLjczMSAxNzQuNTQ4IDEzMi40MjkgMTcyLjg1MSAxMzIuNDI5IDE3MC43NTlaIi8+PHBhdGggZmlsbD0iI0Y4RjhGOCIgZD0iTTEzMi40MjkgMTg5LjcwNUMxMzIuNDI5IDE4Ny42MTIgMTMwLjczMSAxODUuOTE2IDEyOC42MzYgMTg1LjkxNkMxMjYuNTQgMTg1LjkxNiAxMjQuODQyIDE4Ny42MTIgMTI0Ljg0MiAxODkuNzA1QzEyNC44NDIgMTkxLjc5NyAxMjYuNTQgMTkzLjQ5NCAxMjguNjM2IDE5My40OTRDMTMwLjczMSAxOTMuNDk0IDEzMi40MjkgMTkxLjc5NyAxMzIuNDI5IDE4OS43MDVaIi8+PHBhdGggZmlsbD0iI0Y4RjhGOCIgZD0iTTEzMi40MjkgMjA0Ljg2MUMxMzIuNDI5IDIwMi43NjkgMTMwLjczMSAyMDEuMDcyIDEyOC42MzYgMjAxLjA3MkMxMjYuNTQgMjAxLjA3MiAxMjQuODQyIDIwMi43NjkgMTI0Ljg0MiAyMDQuODYxQzEyNC44NDIgMjA2Ljk1NCAxMjYuNTQgMjA4LjY1MSAxMjguNjM2IDIwOC42NTFDMTMwLjczMSAyMDguNjUxIDEzMi40MjkgMjA2Ljk1NCAxMzIuNDI5IDIwNC44NjFaIi8+PHBhdGggZmlsbD0iI0Y4RjhGOCIgZD0iTTEzMi40MjkgMjIxLjkxM0MxMzIuNDI5IDIxOS44MiAxMzAuNzMxIDIxOC4xMjQgMTI4LjYzNiAyMTguMTI0QzEyNi41NCAyMTguMTI0IDEyNC44NDIgMjE5LjgyIDEyNC44NDIgMjIxLjkxM0MxMjQuODQyIDIyNC4wMDUgMTI2LjU0IDIyNS43MDIgMTI4LjYzNiAyMjUuNzAyQzEzMC43MzEgMjI1LjcwMiAxMzIuNDI5IDIyNC4wMDUgMTMyLjQyOSAyMjEuOTEzWiIvPjxwYXRoIGZpbGw9IiNGOEY4RjgiIGQ9Ik0xMzIuNDI5IDIzOC45NjRDMTMyLjQyOSAyMzYuODcyIDEzMC43MzEgMjM1LjE3NSAxMjguNjM2IDIzNS4xNzVDMTI2LjU0IDIzNS4xNzUgMTI0Ljg0MiAyMzYuODcyIDEyNC44NDIgMjM4Ljk2NEMxMjQuODQyIDI0MS4wNTcgMTI2LjU0IDI0Mi43NTMgMTI4LjYzNiAyNDIuNzUzQzEzMC43MzEgMjQyLjc1MyAxMzIuNDI5IDI0MS4wNTcgMTMyLjQyOSAyMzguOTY0WiIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik01MjMuMTY5IDE2Ni45NjlIMTg3LjQzNkMxODUuMzQxIDE2Ni45NjkgMTgzLjY0MyAxNjguNjY2IDE4My42NDMgMTcwLjc1OUMxODMuNjQzIDE3Mi44NTEgMTg1LjM0MSAxNzQuNTQ4IDE4Ny40MzYgMTc0LjU0OEg1MjMuMTY5QzUyNS4yNjQgMTc0LjU0OCA1MjYuOTYyIDE3Mi44NTEgNTI2Ljk2MiAxNzAuNzU5QzUyNi45NjIgMTY4LjY2NiA1MjUuMjY0IDE2Ni45NjkgNTIzLjE2OSAxNjYuOTY5WiIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0yMDguMzAxIDIzNS4xNzVIMTQ5LjVDMTQ3LjQwNSAyMzUuMTc1IDE0NS43MDcgMjM2Ljg3MiAxNDUuNzA3IDIzOC45NjRDMTQ1LjcwNyAyNDEuMDU3IDE0Ny40MDUgMjQyLjc1MyAxNDkuNSAyNDIuNzUzSDIwOC4zMDFDMjEwLjM5NiAyNDIuNzUzIDIxMi4wOTQgMjQxLjA1NyAyMTIuMDk0IDIzOC45NjRDMjEyLjA5NCAyMzYuODcyIDIxMC4zOTYgMjM1LjE3NSAyMDguMzAxIDIzNS4xNzVaIi8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTMzNS4zODYgMjE4LjEyNEgxNjguNDY4QzE2Ni4zNzMgMjE4LjEyNCAxNjQuNjc1IDIxOS44MiAxNjQuNjc1IDIyMS45MTNDMTY0LjY3NSAyMjQuMDA1IDE2Ni4zNzMgMjI1LjcwMiAxNjguNDY4IDIyNS43MDJIMzM1LjM4NkMzMzcuNDgxIDIyNS43MDIgMzM5LjE4IDIyNC4wMDUgMzM5LjE4IDIyMS45MTNDMzM5LjE4IDIxOS44MiAzMzcuNDgxIDIxOC4xMjQgMzM1LjM4NiAyMTguMTI0WiIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0yNDYuMjM3IDEzMi44NjdIMTY4LjQ2OEMxNjYuMzczIDEzMi44NjcgMTY0LjY3NSAxMzQuNTYzIDE2NC42NzUgMTM2LjY1NkMxNjQuNjc1IDEzOC43NDkgMTY2LjM3MyAxNDAuNDQ1IDE2OC40NjggMTQwLjQ0NUgyNDYuMjM3QzI0OC4zMzIgMTQwLjQ0NSAyNTAuMDMgMTM4Ljc0OSAyNTAuMDMgMTM2LjY1NkMyNTAuMDMgMTM0LjU2MyAyNDguMzMyIDEzMi44NjcgMjQ2LjIzNyAxMzIuODY3WiIvPjxwYXRoIGZpbGw9IiNEOUQ5RDkiIGQ9Ik0xMjguNjM2IDkzLjA3NzFDMTMwLjczMSA5My4wNzcxIDEzMi40MjkgOTEuMzgxMyAxMzIuNDI5IDg5LjI4OTRDMTMyLjQyOSA4Ny4xOTc1IDEzMC43MzEgODUuNTAxNyAxMjguNjM2IDg1LjUwMTdDMTI2LjU0IDg1LjUwMTcgMTI0Ljg0MiA4Ny4xOTc1IDEyNC44NDIgODkuMjg5NEMxMjQuODQyIDkxLjM4MTMgMTI2LjU0IDkzLjA3NzEgMTI4LjYzNiA5My4wNzcxWiIgb3BhY2l0eT0iLjQiLz48cGF0aCBmaWxsPSIjRDlEOUQ5IiBkPSJNMTQyLjEyIDkzLjA3NzFDMTQ0LjIxNSA5My4wNzcxIDE0NS45MTMgOTEuMzgxMyAxNDUuOTEzIDg5LjI4OTRDMTQ1LjkxMyA4Ny4xOTc1IDE0NC4yMTUgODUuNTAxNyAxNDIuMTIgODUuNTAxN0MxNDAuMDI1IDg1LjUwMTcgMTM4LjMyNiA4Ny4xOTc1IDEzOC4zMjYgODkuMjg5NEMxMzguMzI2IDkxLjM4MTMgMTQwLjAyNSA5My4wNzcxIDE0Mi4xMiA5My4wNzcxWiIgb3BhY2l0eT0iLjQiLz48cGF0aCBmaWxsPSIjRDlEOUQ5IiBkPSJNMTU1LjE5MSA5My4wNzcxQzE1Ny4yODYgOTMuMDc3MSAxNTguOTg0IDkxLjM4MTMgMTU4Ljk4NCA4OS4yODk0QzE1OC45ODQgODcuMTk3NSAxNTcuMjg2IDg1LjUwMTcgMTU1LjE5MSA4NS41MDE3QzE1My4wOTYgODUuNTAxNyAxNTEuMzk3IDg3LjE5NzUgMTUxLjM5NyA4OS4yODk0QzE1MS4zOTcgOTEuMzgxMyAxNTMuMDk2IDkzLjA3NzEgMTU1LjE5MSA5My4wNzcxWiIgb3BhY2l0eT0iLjMiLz48L2c+PC9nPjxkZWZzPjxmaWx0ZXIgaWQ9ImZpbHRlcjBfZCIgd2lkdGg9IjUwMC45MjEiIGhlaWdodD0iMzE2LjYxMSIgeD0iOTcuMzU4IiB5PSI2MC4wMjkiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiIgZmlsdGVyVW5pdHM9InVzZXJTcGFjZU9uVXNlIj48ZmVGbG9vZCBmbG9vZC1vcGFjaXR5PSIwIiByZXN1bHQ9IkJhY2tncm91bmRJbWFnZUZpeCIvPjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIi8+PGZlT2Zmc2V0IGR4PSIyIiBkeT0iNCIvPjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjEwIi8+PGZlQ29sb3JNYXRyaXggdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAuMjUgMCIvPjxmZUJsZW5kIGluMj0iQmFja2dyb3VuZEltYWdlRml4IiBtb2RlPSJub3JtYWwiIHJlc3VsdD0iZWZmZWN0MV9kcm9wU2hhZG93Ii8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iZWZmZWN0MV9kcm9wU2hhZG93IiBtb2RlPSJub3JtYWwiIHJlc3VsdD0ic2hhcGUiLz48L2ZpbHRlcj48L2RlZnM+PC9zdmc+",className:t.generalImg,alt:"annotation is missing"});case"info":return r.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNjciIGhlaWdodD0iMTcyIiBmaWxsPSJub25lIiB2aWV3Qm94PSIwIDAgMjY3IDE3MiI+PGcgZmlsdGVyPSJ1cmwoI2ZpbHRlcjBfZCkiPjxyZWN0IHdpZHRoPSIxMzkiIGhlaWdodD0iMTA0LjkwNiIgeD0iMTAiIHk9IjUwLjE2NSIgZmlsbD0iI0VFRSIgcng9IjUiLz48L2c+PG1hc2sgaWQ9Im1hc2swIiB3aWR0aD0iMTIxIiBoZWlnaHQ9Ijk4IiB4PSIxOSIgeT0iNTgiIG1hc2stdHlwZT0iYWxwaGEiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiPjxyZWN0IHdpZHRoPSI5LjE3OSIgaGVpZ2h0PSI3MC4xNTYiIHg9IjE5LjgzNSIgeT0iODUuNTcxIiBmaWxsPSIjZmZmIiByeD0iNC41OSIvPjxyZWN0IHdpZHRoPSI5LjE3OSIgaGVpZ2h0PSI3OC42NzkiIHg9IjM4LjE5NCIgeT0iNzcuMDQ3IiBmaWxsPSIjZmZmIiByeD0iNC41OSIvPjxyZWN0IHdpZHRoPSI5LjE3OSIgaGVpZ2h0PSI5Ny42OTMiIHg9IjU2LjU1MiIgeT0iNTguMDMzIiBmaWxsPSIjZmZmIiByeD0iNC41OSIvPjxyZWN0IHdpZHRoPSI5LjE3OSIgaGVpZ2h0PSI4MS45NTciIHg9Ijc0LjkxIiB5PSI3My43NjkiIGZpbGw9IiNmZmYiIHJ4PSI0LjU5Ii8+PHJlY3Qgd2lkdGg9IjkuMTc5IiBoZWlnaHQ9IjYwLjMyMSIgeD0iOTMuMjY5IiB5PSI5NS40MDYiIGZpbGw9IiNmZmYiIHJ4PSI0LjU5Ii8+PHJlY3Qgd2lkdGg9IjkuMTc5IiBoZWlnaHQ9Ijc0LjA5IiB4PSIxMTEuNjI3IiB5PSI4MS42MzciIGZpbGw9IiNmZmYiIHJ4PSI0LjU5Ii8+PHJlY3Qgd2lkdGg9IjkuMTc5IiBoZWlnaHQ9IjkzLjEwNCIgeD0iMTI5Ljk4NiIgeT0iNjIuNjIzIiBmaWxsPSIjZmZmIiByeD0iNC41OSIvPjwvbWFzaz48ZyBtYXNrPSJ1cmwoI21hc2swKSI+PHJlY3Qgd2lkdGg9IjEzOSIgaGVpZ2h0PSIxMDAuMzE2IiB4PSIxMC42NTYiIHk9IjUwLjE2NSIgZmlsbD0iI0M0QzRDNCIvPjwvZz48ZyBmaWx0ZXI9InVybCgjZmlsdGVyMV9kKSI+PHJlY3Qgd2lkdGg9IjE0NCIgaGVpZ2h0PSIxMDguNjc5IiB4PSIxMDkiIHk9IjgiIGZpbGw9IiNFRUUiIHJ4PSI1Ii8+PC9nPjxwYXRoIGZpbGw9IiNEOUQ5RDkiIGQ9Ik0xNzMuODUgNjIuMTE5MkMxNDQuNjA3IDM3LjMyMTUgMTI5Ljk5MyA2NS4xOTkxIDEyMC4wNzcgODAuNTk4NFYxMDYuNTg1SDI0MS45MjNWMjUuNzM4NEMyMDguMTcyIDI0LjU4MzQgMjEyLjU2OSA5NC45NTM4IDE3My44NSA2Mi4xMTkyWiIvPjxwYXRoIHN0cm9rZT0iIzlFOUU5RSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJNMTIwLjA3NyA4MC41OTg0QzEyOS45OTMgNjUuMTk5MSAxNDQuNjA3IDM3LjMyMTUgMTczLjg1IDYyLjExOTJDMjEyLjU2OSA5NC45NTM5IDIwOC4xNzIgMjQuNTgzNCAyNDEuOTIzIDI1LjczODQiLz48ZGVmcz48ZmlsdGVyIGlkPSJmaWx0ZXIwX2QiIHdpZHRoPSIxNjMiIGhlaWdodD0iMTI4LjkwNiIgeD0iMCIgeT0iNDIuMTY1IiBjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnM9InNSR0IiIGZpbHRlclVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PGZlRmxvb2QgZmxvb2Qtb3BhY2l0eT0iMCIgcmVzdWx0PSJCYWNrZ3JvdW5kSW1hZ2VGaXgiLz48ZmVDb2xvck1hdHJpeCBpbj0iU291cmNlQWxwaGEiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAxMjcgMCIvPjxmZU9mZnNldCBkeD0iMiIgZHk9IjQiLz48ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSI2Ii8+PGZlQ29sb3JNYXRyaXggdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAuMjUgMCIvPjxmZUJsZW5kIGluMj0iQmFja2dyb3VuZEltYWdlRml4IiBtb2RlPSJub3JtYWwiIHJlc3VsdD0iZWZmZWN0MV9kcm9wU2hhZG93Ii8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iZWZmZWN0MV9kcm9wU2hhZG93IiBtb2RlPSJub3JtYWwiIHJlc3VsdD0ic2hhcGUiLz48L2ZpbHRlcj48ZmlsdGVyIGlkPSJmaWx0ZXIxX2QiIHdpZHRoPSIxNjgiIGhlaWdodD0iMTMyLjY3OSIgeD0iOTkiIHk9IjAiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiIgZmlsdGVyVW5pdHM9InVzZXJTcGFjZU9uVXNlIj48ZmVGbG9vZCBmbG9vZC1vcGFjaXR5PSIwIiByZXN1bHQ9IkJhY2tncm91bmRJbWFnZUZpeCIvPjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIi8+PGZlT2Zmc2V0IGR4PSIyIiBkeT0iNCIvPjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjYiLz48ZmVDb2xvck1hdHJpeCB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMC4yNSAwIi8+PGZlQmxlbmQgaW4yPSJCYWNrZ3JvdW5kSW1hZ2VGaXgiIG1vZGU9Im5vcm1hbCIgcmVzdWx0PSJlZmZlY3QxX2Ryb3BTaGFkb3ciLz48ZmVCbGVuZCBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJlZmZlY3QxX2Ryb3BTaGFkb3ciIG1vZGU9Im5vcm1hbCIgcmVzdWx0PSJzaGFwZSIvPjwvZmlsdGVyPjwvZGVmcz48L3N2Zz4=",alt:"no Information",className:t.generalImg});case"content":return r.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2OTMiIGhlaWdodD0iNDI1IiBmaWxsPSJub25lIiB2aWV3Qm94PSIwIDAgNjkzIDQyNSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMDUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQwLjQzODcgMTEwLjk3N0MyNy4xNTU2IDExMy40NTIgMTguMzk0MSAxMjYuMjI3IDIwLjg2OTMgMTM5LjUxQzIzLjM0NDUgMTUyLjc5MyAzNi4xMTkyIDE2MS41NTUgNDkuNDAyMyAxNTkuMDc5TDY3LjcwMzYgMTU1LjY2OUM2Mi42MDc4IDE2MS4xNTMgNjAuMDg1NCAxNjguODk2IDYxLjU2MiAxNzYuODJDNjQuMDM3MiAxOTAuMTAzIDc2LjgxMTggMTk4Ljg2NSA5MC4wOTQ5IDE5Ni4zOUwyMjAuMzkgMTcyLjExQzIyMC40MTYgMTcyLjI2NyAyMjAuNDQ0IDE3Mi40MjUgMjIwLjQ3MyAxNzIuNTgyQzIyMS45NSAxODAuNTA3IDIyNy4wOTIgMTg2LjgyMiAyMzMuODIxIDE5MC4xMDJMMjI1LjgyNiAxOTEuNTkyQzIxMi41NDIgMTk0LjA2NyAyMDMuNzgxIDIwNi44NDEgMjA2LjI1NiAyMjAuMTI1QzIwOC43MzEgMjMzLjQwOCAyMjEuNTA2IDI0Mi4xNjkgMjM0Ljc4OSAyMzkuNjk0TDYxNC41NDQgMTY4LjkyOUM2MjcuODI3IDE2Ni40NTQgNjM2LjU4OCAxNTMuNjc5IDYzNC4xMTMgMTQwLjM5NkM2MzIuNjM2IDEzMi40NzIgNjI3LjQ5NCAxMjYuMTU3IDYyMC43NjUgMTIyLjg3N0w2MzMuNTU2IDEyMC40OTNDNjQ2LjgzOSAxMTguMDE4IDY1NS42MDEgMTA1LjI0NCA2NTMuMTI2IDkxLjk2MDRDNjUwLjY1IDc4LjY3NzMgNjM3Ljg3NiA2OS45MTU4IDYyNC41OTMgNzIuMzkxMUwzOTYuODIgMTE0LjgzNUMzOTYuNzk0IDExNC42NzggMzk2Ljc2NiAxMTQuNTIgMzk2LjczNyAxMTQuMzYzQzM5NS4yNiAxMDYuNDM4IDM5MC4xMTggMTAwLjEyMyAzODMuMzg5IDk2Ljg0MzFMNDA1LjUwMyA5Mi43MjI0QzQxOC43ODYgOTAuMjQ3MSA0MjcuNTQ3IDc3LjQ3MjUgNDI1LjA3MiA2NC4xODk0QzQyMi41OTcgNTAuOTA2MyA0MDkuODIyIDQyLjE0NDggMzk2LjUzOSA0NC42Mkw0MC40Mzg3IDExMC45NzdaTTU5LjcxOCAzMDEuMTA3QzU3LjI0MjggMjg3LjgyNCA2Ni4wMDQzIDI3NS4wNSA3OS4yODc0IDI3Mi41NzRMNDY4Ljk3NSAxOTkuOTU5QzQ4Mi4yNTggMTk3LjQ4NCA0OTUuMDMyIDIwNi4yNDUgNDk3LjUwOCAyMTkuNTI4QzQ5OS45ODMgMjMyLjgxMSA0OTEuMjIxIDI0NS41ODYgNDc3LjkzOCAyNDguMDYxTDQ2Ni43NzkgMjUwLjE0MUM0NjguMDgyIDI1MC43NzYgNDY5LjMyNSAyNTEuNTI0IDQ3MC40OTMgMjUyLjM3Nkw2MDUuNTMgMjI3LjIxM0M2MTguODEzIDIyNC43MzggNjMxLjU4OCAyMzMuNDk5IDYzNC4wNjMgMjQ2Ljc4MkM2MzUuNTQgMjU0LjcwNyA2MzMuMDE3IDI2Mi40NSA2MjcuOTIyIDI2Ny45MzRMNjMwLjY0MSAyNjcuNDI3QzY0My45MjQgMjY0Ljk1MiA2NTYuNjk5IDI3My43MTMgNjU5LjE3NCAyODYuOTk2QzY2MS42NDkgMzAwLjI3OSA2NTIuODg4IDMxMy4wNTQgNjM5LjYwNCAzMTUuNTI5TDIzNC44MDkgMzkwLjk2QzIyMS41MjYgMzkzLjQzNSAyMDguNzUxIDM4NC42NzQgMjA2LjI3NiAzNzEuMzkxQzIwMy44MDEgMzU4LjEwOCAyMTIuNTYzIDM0NS4zMzMgMjI1Ljg0NiAzNDIuODU4TDI1NS40MDQgMzM3LjM1QzI1NC4xMDEgMzM2LjcxNSAyNTIuODU4IDMzNS45NjYgMjUxLjY5IDMzNS4xMTRMNzEuNTA1MyAzNjguNjlDNTguMjIyMiAzNzEuMTY1IDQ1LjQ0NzYgMzYyLjQwNCA0Mi45NzIzIDM0OS4xMjFDNDAuNDk3MSAzMzUuODM4IDQ5LjI1ODYgMzIzLjA2MyA2Mi41NDE3IDMyMC41ODhMNzMuMDY1NSAzMTguNjI3QzY2LjMzNjcgMzE1LjM0NyA2MS4xOTQ2IDMwOS4wMzIgNTkuNzE4IDMwMS4xMDdaIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48ZyBmaWx0ZXI9InVybCgjZmlsdGVyMF9kKSI+PHBhdGggZmlsbD0iIzlFOUU5RSIgZD0iTTU2Ny40MzcgNzBIMTI1LjQ4NEMxMjAuMjQ2IDcwIDExNiA3NC4yNDEyIDExNiA3OS40NzNWMTA3Ljg5MkMxMTYgMTEzLjEyNCAxMjAuMjQ2IDExNy4zNjUgMTI1LjQ4NCAxMTcuMzY1SDU2Ny40MzdDNTcyLjY3NSAxMTcuMzY1IDU3Ni45MjEgMTEzLjEyNCA1NzYuOTIxIDEwNy44OTJWNzkuNDczQzU3Ni45MjEgNzQuMjQxMiA1NzIuNjc1IDcwIDU2Ny40MzcgNzBaIi8+PG1hc2sgaWQ9Im1hc2swIiB3aWR0aD0iNDYxIiBoZWlnaHQ9IjI3NyIgeD0iMTE2IiB5PSI3MCIgbWFzay10eXBlPSJhbHBoYSIgbWFza1VuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZmlsbD0iIzQwNDA0MCIgZD0iTTU2Ny40MzcgNzBIMTI1LjQ4NEMxMjAuMjQ2IDcwIDExNiA3NC4yNDEyIDExNiA3OS40NzNWMzM3LjEzOEMxMTYgMzQyLjM3IDEyMC4yNDYgMzQ2LjYxMSAxMjUuNDg0IDM0Ni42MTFINTY3LjQzN0M1NzIuNjc1IDM0Ni42MTEgNTc2LjkyMSAzNDIuMzcgNTc2LjkyMSAzMzcuMTM4Vjc5LjQ3M0M1NzYuOTIxIDc0LjI0MTIgNTcyLjY3NSA3MCA1NjcuNDM3IDcwWiIvPjwvbWFzaz48ZyBtYXNrPSJ1cmwoI21hc2swKSI+PHBhdGggZmlsbD0iI0VFRSIgZD0iTTU3NyA5Ni41MjQ0SDExNlYzNDdINTc3Vjk2LjUyNDRaIi8+PHBhdGggZmlsbD0iI0Q5RDlEOSIgZD0iTTEyOS4yNzggODcuMDQ4M0MxMzEuMzczIDg3LjA0ODMgMTMzLjA3MSA4NS4zNTI1IDEzMy4wNzEgODMuMjYwNkMxMzMuMDcxIDgxLjE2ODcgMTMxLjM3MyA3OS40NzI5IDEyOS4yNzggNzkuNDcyOUMxMjcuMTgyIDc5LjQ3MjkgMTI1LjQ4NCA4MS4xNjg3IDEyNS40ODQgODMuMjYwNkMxMjUuNDg0IDg1LjM1MjUgMTI3LjE4MiA4Ny4wNDgzIDEyOS4yNzggODcuMDQ4M1oiIG9wYWNpdHk9Ii40Ii8+PHBhdGggZmlsbD0iI0Q5RDlEOSIgZD0iTTE0Mi43NjIgODcuMDQ4M0MxNDQuODU3IDg3LjA0ODMgMTQ2LjU1NSA4NS4zNTI1IDE0Ni41NTUgODMuMjYwNkMxNDYuNTU1IDgxLjE2ODcgMTQ0Ljg1NyA3OS40NzI5IDE0Mi43NjIgNzkuNDcyOUMxNDAuNjY3IDc5LjQ3MjkgMTM4Ljk2OCA4MS4xNjg3IDEzOC45NjggODMuMjYwNkMxMzguOTY4IDg1LjM1MjUgMTQwLjY2NyA4Ny4wNDgzIDE0Mi43NjIgODcuMDQ4M1oiIG9wYWNpdHk9Ii40Ii8+PHBhdGggZmlsbD0iI0Q5RDlEOSIgZD0iTTE1NS44MzMgODcuMDQ4M0MxNTcuOTI4IDg3LjA0ODMgMTU5LjYyNiA4NS4zNTI1IDE1OS42MjYgODMuMjYwNkMxNTkuNjI2IDgxLjE2ODcgMTU3LjkyOCA3OS40NzI5IDE1NS44MzMgNzkuNDcyOUMxNTMuNzM4IDc5LjQ3MjkgMTUyLjAzOSA4MS4xNjg3IDE1Mi4wMzkgODMuMjYwNkMxNTIuMDM5IDg1LjM1MjUgMTUzLjczOCA4Ny4wNDgzIDE1NS44MzMgODcuMDQ4M1oiIG9wYWNpdHk9Ii4zIi8+PHJlY3Qgd2lkdGg9IjI3IiBoZWlnaHQ9IjI1MSIgeD0iMTE2IiB5PSI5NiIgZmlsbD0iIzYxNjE2MSIvPjxyZWN0IHdpZHRoPSI0MzQiIGhlaWdodD0iMzEiIHg9IjE0MyIgeT0iOTYiIGZpbGw9IiNEOUQ5RDkiLz48cmVjdCB3aWR0aD0iNjAiIGhlaWdodD0iNyIgeD0iMTUzIiB5PSIxMzYiIGZpbGw9IiNmZmYiIHJ4PSIzLjUiLz48cmVjdCB3aWR0aD0iMTE4IiBoZWlnaHQ9IjciIHg9IjE1MyIgeT0iMTQ4IiBmaWxsPSIjZmZmIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjUyIiBoZWlnaHQ9IjE2IiB4PSI1MTUiIHk9IjEzNiIgZmlsbD0iI0JEQkRCRCIgcng9IjIiLz48cmVjdCB3aWR0aD0iMTIxIiBoZWlnaHQ9Ijk0IiB4PSIxNTQuNSIgeT0iMTY2LjUiIHN0cm9rZT0iI0Q5RDlEOSIgc3Ryb2tlLWRhc2hhcnJheT0iNSA1IiBzdHJva2Utd2lkdGg9IjMiIHJ4PSIzLjUiLz48cmVjdCB3aWR0aD0iMTI4IiBoZWlnaHQ9Ijk0IiB4PSIyOTIuNSIgeT0iMTY2LjUiIHN0cm9rZT0iI0Q5RDlEOSIgc3Ryb2tlLWRhc2hhcnJheT0iNSA1IiBzdHJva2Utd2lkdGg9IjMiIHJ4PSIzLjUiLz48cmVjdCB3aWR0aD0iMTI4IiBoZWlnaHQ9Ijk0IiB4PSI0MzcuNSIgeT0iMTY2LjUiIHN0cm9rZT0iI0Q5RDlEOSIgc3Ryb2tlLWRhc2hhcnJheT0iNSA1IiBzdHJva2Utd2lkdGg9IjMiIHJ4PSIzLjUiLz48cmVjdCB3aWR0aD0iMTk3IiBoZWlnaHQ9Ijc4IiB4PSIxNTQuNSIgeT0iMjc2LjUiIHN0cm9rZT0iI0Q5RDlEOSIgc3Ryb2tlLWRhc2hhcnJheT0iNSA1IiBzdHJva2Utd2lkdGg9IjMiIHJ4PSIzLjUiLz48cmVjdCB3aWR0aD0iMTk3IiBoZWlnaHQ9Ijc4IiB4PSIzNjguNSIgeT0iMjc2LjUiIHN0cm9rZT0iI0Q5RDlEOSIgc3Ryb2tlLWRhc2hhcnJheT0iNSA1IiBzdHJva2Utd2lkdGg9IjMiIHJ4PSIzLjUiLz48L2c+PC9nPjxkZWZzPjxmaWx0ZXIgaWQ9ImZpbHRlcjBfZCIgd2lkdGg9IjUwMC45MjEiIGhlaWdodD0iMzE2LjYxMSIgeD0iOTgiIHk9IjU0IiBjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnM9InNSR0IiIGZpbHRlclVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PGZlRmxvb2QgZmxvb2Qtb3BhY2l0eT0iMCIgcmVzdWx0PSJCYWNrZ3JvdW5kSW1hZ2VGaXgiLz48ZmVDb2xvck1hdHJpeCBpbj0iU291cmNlQWxwaGEiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAxMjcgMCIvPjxmZU9mZnNldCBkeD0iMiIgZHk9IjQiLz48ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIxMCIvPjxmZUNvbG9yTWF0cml4IHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwLjI1IDAiLz48ZmVCbGVuZCBpbjI9IkJhY2tncm91bmRJbWFnZUZpeCIgbW9kZT0ibm9ybWFsIiByZXN1bHQ9ImVmZmVjdDFfZHJvcFNoYWRvdyIvPjxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9ImVmZmVjdDFfZHJvcFNoYWRvdyIgbW9kZT0ibm9ybWFsIiByZXN1bHQ9InNoYXBlIi8+PC9maWx0ZXI+PC9kZWZzPjwvc3ZnPg==",alt:"create Component",className:t.generalImg});case"data":return r.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2OTMiIGhlaWdodD0iNDI1IiBmaWxsPSJub25lIiB2aWV3Qm94PSIwIDAgNjkzIDQyNSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMDUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQwLjQzODcgMTEwLjk3N0MyNy4xNTU2IDExMy40NTIgMTguMzk0MSAxMjYuMjI3IDIwLjg2OTMgMTM5LjUxQzIzLjM0NDUgMTUyLjc5MyAzNi4xMTkyIDE2MS41NTUgNDkuNDAyMyAxNTkuMDc5TDY3LjcwMzYgMTU1LjY2OUM2Mi42MDc4IDE2MS4xNTMgNjAuMDg1NCAxNjguODk2IDYxLjU2MiAxNzYuODJDNjQuMDM3MiAxOTAuMTAzIDc2LjgxMTggMTk4Ljg2NSA5MC4wOTQ5IDE5Ni4zOUwyMjAuMzkgMTcyLjExQzIyMC40MTYgMTcyLjI2NyAyMjAuNDQ0IDE3Mi40MjUgMjIwLjQ3MyAxNzIuNTgyQzIyMS45NSAxODAuNTA3IDIyNy4wOTIgMTg2LjgyMiAyMzMuODIxIDE5MC4xMDJMMjI1LjgyNiAxOTEuNTkyQzIxMi41NDIgMTk0LjA2NyAyMDMuNzgxIDIwNi44NDEgMjA2LjI1NiAyMjAuMTI1QzIwOC43MzEgMjMzLjQwOCAyMjEuNTA2IDI0Mi4xNjkgMjM0Ljc4OSAyMzkuNjk0TDYxNC41NDQgMTY4LjkyOUM2MjcuODI3IDE2Ni40NTQgNjM2LjU4OCAxNTMuNjc5IDYzNC4xMTMgMTQwLjM5NkM2MzIuNjM2IDEzMi40NzIgNjI3LjQ5NCAxMjYuMTU3IDYyMC43NjUgMTIyLjg3N0w2MzMuNTU2IDEyMC40OTNDNjQ2LjgzOSAxMTguMDE4IDY1NS42MDEgMTA1LjI0NCA2NTMuMTI2IDkxLjk2MDRDNjUwLjY1IDc4LjY3NzMgNjM3Ljg3NiA2OS45MTU4IDYyNC41OTMgNzIuMzkxMUwzOTYuODIgMTE0LjgzNUMzOTYuNzk0IDExNC42NzggMzk2Ljc2NiAxMTQuNTIgMzk2LjczNyAxMTQuMzYzQzM5NS4yNiAxMDYuNDM4IDM5MC4xMTggMTAwLjEyMyAzODMuMzg5IDk2Ljg0MzFMNDA1LjUwMyA5Mi43MjI0QzQxOC43ODYgOTAuMjQ3MSA0MjcuNTQ3IDc3LjQ3MjUgNDI1LjA3MiA2NC4xODk0QzQyMi41OTcgNTAuOTA2MyA0MDkuODIyIDQyLjE0NDggMzk2LjUzOSA0NC42Mkw0MC40Mzg3IDExMC45NzdaTTU5LjcxOCAzMDEuMTA3QzU3LjI0MjggMjg3LjgyNCA2Ni4wMDQzIDI3NS4wNSA3OS4yODc0IDI3Mi41NzRMNDY4Ljk3NSAxOTkuOTU5QzQ4Mi4yNTggMTk3LjQ4NCA0OTUuMDMyIDIwNi4yNDUgNDk3LjUwOCAyMTkuNTI4QzQ5OS45ODMgMjMyLjgxMSA0OTEuMjIxIDI0NS41ODYgNDc3LjkzOCAyNDguMDYxTDQ2Ni43NzkgMjUwLjE0MUM0NjguMDgyIDI1MC43NzYgNDY5LjMyNSAyNTEuNTI0IDQ3MC40OTMgMjUyLjM3Nkw2MDUuNTMgMjI3LjIxM0M2MTguODEzIDIyNC43MzggNjMxLjU4OCAyMzMuNDk5IDYzNC4wNjMgMjQ2Ljc4MkM2MzUuNTQgMjU0LjcwNyA2MzMuMDE3IDI2Mi40NSA2MjcuOTIyIDI2Ny45MzRMNjMwLjY0MSAyNjcuNDI3QzY0My45MjQgMjY0Ljk1MiA2NTYuNjk5IDI3My43MTMgNjU5LjE3NCAyODYuOTk2QzY2MS42NDkgMzAwLjI3OSA2NTIuODg4IDMxMy4wNTQgNjM5LjYwNCAzMTUuNTI5TDIzNC44MDkgMzkwLjk2QzIyMS41MjYgMzkzLjQzNSAyMDguNzUxIDM4NC42NzQgMjA2LjI3NiAzNzEuMzkxQzIwMy44MDEgMzU4LjEwOCAyMTIuNTYzIDM0NS4zMzMgMjI1Ljg0NiAzNDIuODU4TDI1NS40MDQgMzM3LjM1QzI1NC4xMDEgMzM2LjcxNSAyNTIuODU4IDMzNS45NjYgMjUxLjY5IDMzNS4xMTRMNzEuNTA1MyAzNjguNjlDNTguMjIyMiAzNzEuMTY1IDQ1LjQ0NzYgMzYyLjQwNCA0Mi45NzIzIDM0OS4xMjFDNDAuNDk3MSAzMzUuODM4IDQ5LjI1ODYgMzIzLjA2MyA2Mi41NDE3IDMyMC41ODhMNzMuMDY1NSAzMTguNjI3QzY2LjMzNjcgMzE1LjM0NyA2MS4xOTQ2IDMwOS4wMzIgNTkuNzE4IDMwMS4xMDdaIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48ZyBmaWx0ZXI9InVybCgjZmlsdGVyMF9kKSI+PHJlY3Qgd2lkdGg9IjQ2MSIgaGVpZ2h0PSIyODYiIHg9IjEyMiIgeT0iNzAiIGZpbGw9IiNGOEY4RjgiIHJ4PSIxMCIvPjxyZWN0IHdpZHRoPSI1NSIgaGVpZ2h0PSI3IiB4PSIxNTAiIHk9Ijk2IiBmaWxsPSIjRDlEOUQ5IiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjQyIiBoZWlnaHQ9IjciIHg9IjE1MCIgeT0iMTM1IiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjY1IiBoZWlnaHQ9IjciIHg9IjE1MCIgeT0iMTc0IiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjYwIiBoZWlnaHQ9IjciIHg9IjE1MCIgeT0iMjEzIiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9Ijg0IiBoZWlnaHQ9IjciIHg9IjE1MCIgeT0iMjUyIiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjQyIiBoZWlnaHQ9IjciIHg9IjE1MCIgeT0iMjkxIiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjY1IiBoZWlnaHQ9IjciIHg9IjE1MCIgeT0iMzMwIiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjM1IiBoZWlnaHQ9IjciIHg9IjI4MiIgeT0iOTYiIGZpbGw9IiNEOUQ5RDkiIHJ4PSIzLjUiLz48cmVjdCB3aWR0aD0iMTAyIiBoZWlnaHQ9IjciIHg9IjI4MiIgeT0iMTM1IiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9Ijc3IiBoZWlnaHQ9IjciIHg9IjI4MiIgeT0iMTc0IiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjkzIiBoZWlnaHQ9IjciIHg9IjI4MiIgeT0iMjEzIiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjQyIiBoZWlnaHQ9IjciIHg9IjI4MiIgeT0iMjUyIiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjY5IiBoZWlnaHQ9IjciIHg9IjI4MiIgeT0iMjkxIiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9Ijk3IiBoZWlnaHQ9IjciIHg9IjI4MiIgeT0iMzMwIiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjkyIiBoZWlnaHQ9IjciIHg9IjQyMiIgeT0iOTYiIGZpbGw9IiNEOUQ5RDkiIHJ4PSIzLjUiLz48cmVjdCB3aWR0aD0iNjIiIGhlaWdodD0iNyIgeD0iNDIyIiB5PSIxMzUiIGZpbGw9IiNCREJEQkQiIHJ4PSIzLjUiLz48cmVjdCB3aWR0aD0iMjEiIGhlaWdodD0iNyIgeD0iNDIyIiB5PSIxNzQiIGZpbGw9IiNCREJEQkQiIHJ4PSIzLjUiLz48cmVjdCB3aWR0aD0iMzkiIGhlaWdodD0iNyIgeD0iNDIyIiB5PSIyMTMiIGZpbGw9IiNCREJEQkQiIHJ4PSIzLjUiLz48cmVjdCB3aWR0aD0iMTEyIiBoZWlnaHQ9IjciIHg9IjQyMiIgeT0iMjUyIiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjY1IiBoZWlnaHQ9IjciIHg9IjQyMiIgeT0iMjkxIiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjMwIiBoZWlnaHQ9IjciIHg9IjQyMiIgeT0iMzMwIiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PGxpbmUgeDE9IjEzOCIgeDI9IjU2NyIgeTE9IjExOC41IiB5Mj0iMTE4LjUiIHN0cm9rZT0iI0VFRSIvPjxsaW5lIHgxPSIxMzgiIHgyPSI1NjciIHkxPSIxNTcuNSIgeTI9IjE1Ny41IiBzdHJva2U9IiNFRUUiLz48bGluZSB4MT0iMTM4IiB4Mj0iNTY3IiB5MT0iMTk2LjUiIHkyPSIxOTYuNSIgc3Ryb2tlPSIjRUVFIi8+PGxpbmUgeDE9IjEzOCIgeDI9IjU2NyIgeTE9IjIzNS41IiB5Mj0iMjM1LjUiIHN0cm9rZT0iI0VFRSIvPjxsaW5lIHgxPSIxMzgiIHgyPSI1NjciIHkxPSIyNzQuNSIgeTI9IjI3NC41IiBzdHJva2U9IiNFRUUiLz48bGluZSB4MT0iMTM4IiB4Mj0iNTY3IiB5MT0iMzEzLjUiIHkyPSIzMTMuNSIgc3Ryb2tlPSIjRUVFIi8+PC9nPjxkZWZzPjxmaWx0ZXIgaWQ9ImZpbHRlcjBfZCIgd2lkdGg9IjQ4NSIgaGVpZ2h0PSIzMTAiIHg9IjExMiIgeT0iNjIiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiIgZmlsdGVyVW5pdHM9InVzZXJTcGFjZU9uVXNlIj48ZmVGbG9vZCBmbG9vZC1vcGFjaXR5PSIwIiByZXN1bHQ9IkJhY2tncm91bmRJbWFnZUZpeCIvPjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIi8+PGZlT2Zmc2V0IGR4PSIyIiBkeT0iNCIvPjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjYiLz48ZmVDb2xvck1hdHJpeCB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMC4yNSAwIi8+PGZlQmxlbmQgaW4yPSJCYWNrZ3JvdW5kSW1hZ2VGaXgiIG1vZGU9Im5vcm1hbCIgcmVzdWx0PSJlZmZlY3QxX2Ryb3BTaGFkb3ciLz48ZmVCbGVuZCBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJlZmZlY3QxX2Ryb3BTaGFkb3ciIG1vZGU9Im5vcm1hbCIgcmVzdWx0PSJzaGFwZSIvPjwvZmlsdGVyPjwvZGVmcz48L3N2Zz4=",alt:"no Build",className:t.generalImg});default:return null}},Li=Object(ga.a)(e=>({root:{backgroundColor:e.palette.background.default,padding:e.spacing(2,0,0,0)},action:{marginTop:e.spacing(2)},imageContainer:{position:"relative"}})),Pi=({title:e,description:t,missing:a,action:n})=>{const i=Li();return r.a.createElement(ha.a,{container:!0,direction:"row",justify:"space-around",alignItems:"flex-start",className:i.root,spacing:2},r.a.createElement(ha.a,{item:!0,container:!0,direction:"column",xs:12,md:6},r.a.createElement(ha.a,{item:!0},r.a.createElement(fa.a,{variant:"h5"},e)),r.a.createElement(ha.a,{item:!0},r.a.createElement(fa.a,{variant:"body1"},t)),r.a.createElement(ha.a,{item:!0,className:i.action},n)),r.a.createElement(ha.a,{item:!0,xs:12,md:6,className:i.imageContainer},r.a.createElement(Ci,{missing:a})))},$i="apiVersion: backstage.io/v1alpha1\nkind: Component\nmetadata:\n  name: example\n  description: example.com\n  annotations:\n    ANNOTATION: value\nspec:\n  type: website\n  lifecycle: production\n  owner: user:guest",Ri=Object(ga.a)(e=>({code:{borderRadius:6,margin:e.spacing(2)+"px 0px",background:"dark"===e.palette.type?"#444":"#fff"}})),Ui=({annotation:e})=>{const t=Ri(),a=r.a.createElement(r.a.Fragment,null,"The ",r.a.createElement("code",null,e)," annotation is missing. You need to add the annotation to your component if you want to enable this tool.");return r.a.createElement(Pi,{missing:"field",title:"Missing Annotation",description:a,action:r.a.createElement(r.a.Fragment,null,r.a.createElement(fa.a,{variant:"body1"},"Add the annotation to your component YAML as shown in the highlighted example below:"),r.a.createElement("div",{className:t.code},r.a.createElement(di,{text:$i.replace("ANNOTATION",e),language:"yaml",showLineNumbers:!0,highlightedNumbers:[6,7],customStyle:{background:"inherit",fontSize:"115%"}})),r.a.createElement(Ea.a,{variant:"contained",color:"primary",href:"https://backstage.io/docs/features/software-catalog/well-known-annotations"},"Read more"))})},_i=Object(ga.a)(e=>({root:{marginRight:e.spacing(1),fill:e.palette.warningText}})),Qi=()=>{const e=_i();return r.a.createElement(Gn.a,{classes:e})},Bi=()=>{const e=_i();return r.a.createElement(Wn.a,{classes:e})},Yi=Object(ga.a)(e=>({panel:{backgroundColor:e.palette.warningBackground,color:e.palette.warningText,verticalAlign:"middle"},summary:{display:"flex",flexDirection:"row"},summaryText:{color:e.palette.warningText,fontWeight:"bold"},message:{width:"100%",display:"block",color:e.palette.warningText,backgroundColor:e.palette.warningBackground},details:{width:"100%",display:"block",color:e.palette.textContrast,backgroundColor:e.palette.background.default,border:"1px solid "+e.palette.border,padding:e.spacing(2),fontFamily:"sans-serif"}})),Gi=e=>{const t=Yi(e),{severity:a,title:n,message:i,children:o}=e,s=(a?(l=a).charAt(0).toLocaleUpperCase("en-US")+l.slice(1):"Warning")+(n?": "+n:"");var l;return r.a.createElement(ka.a,{className:t.panel},r.a.createElement(xa.a,{expandIcon:r.a.createElement(Bi,null),className:t.summary},r.a.createElement(Qi,null),r.a.createElement(fa.a,{className:t.summaryText,variant:"subtitle1"},s)),(i||o)&&r.a.createElement(Da.a,null,r.a.createElement(ha.a,{container:!0},i&&r.a.createElement(ha.a,{item:!0,xs:12},r.a.createElement(fa.a,{className:t.message,variant:"body1"},i)),o&&r.a.createElement(ha.a,{item:!0,xs:12,className:t.details},o))))},Zi=Object(ga.a)(e=>({text:{fontFamily:"monospace",whiteSpace:"pre",overflowX:"auto",marginRight:e.spacing(2)},divider:{margin:e.spacing(2)}})),Wi=({error:e,request:t,message:a,stack:n,json:i})=>{const o=Zi();return r.a.createElement(Oa.a,{dense:!0},r.a.createElement(Sa.a,{alignItems:"flex-start"},r.a.createElement(Aa.a,{classes:{secondary:o.text},primary:"Error",secondary:e}),r.a.createElement(ui,{text:e})),r.a.createElement(Sa.a,{alignItems:"flex-start"},r.a.createElement(Aa.a,{classes:{secondary:o.text},primary:"Message",secondary:a}),r.a.createElement(ui,{text:a})),t&&r.a.createElement(Sa.a,{alignItems:"flex-start"},r.a.createElement(Aa.a,{classes:{secondary:o.text},primary:"Request",secondary:t}),r.a.createElement(ui,{text:t})),n&&r.a.createElement(Sa.a,{alignItems:"flex-start"},r.a.createElement(Aa.a,{classes:{secondary:o.text},primary:"Stack Trace",secondary:n}),r.a.createElement(ui,{text:n})),i&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ta.a,{component:"li",className:o.divider}),r.a.createElement(Sa.a,{alignItems:"flex-start"},r.a.createElement(Aa.a,{classes:{secondary:o.text},primary:"Full Error as JSON",secondary:r.a.createElement(di,{language:"json",text:i})}),r.a.createElement(ui,{text:i}))))},Fi=({error:e})=>{var t;if("ResponseError"!==e.name)return r.a.createElement(Wi,{error:e.name,message:e.message,stack:e.stack});const{data:a,cause:n}=e,{request:i,response:o}=a,s=`${o.statusCode}: ${n.name}`,l=i&&`${i.method} ${i.url}`,c=n.message.replace(/\\n/g,"\n"),u=null==(t=n.stack)?void 0:t.replace(/\\n/g,"\n"),d=JSON.stringify(a,void 0,2);return r.a.createElement(Wi,{error:s,message:c,request:l,stack:u,json:d})},Vi=({error:e})=>r.a.createElement(Gi,{title:e.message},r.a.createElement(Fi,{error:e}));Object(ga.a)({"@keyframes pulsateSlightly":{"0%":{transform:"scale(1.0)"},"100%":{transform:"scale(1.1)"}},"@keyframes pulsateAndFade":{"0%":{transform:"scale(1.0)",opacity:.9},"100%":{transform:"scale(1.5)",opacity:0}},featureWrapper:{position:"relative"},backdrop:{zIndex:2e3,position:"fixed",overflow:"hidden",left:0,right:0,top:0,bottom:0},dot:{position:"absolute",backgroundColor:"transparent",borderRadius:"100%",border:"1px solid rgba(103, 146, 180, 0.98)",boxShadow:"0px 0px 0px 20000px rgba(0, 0, 0, 0.5)",zIndex:2001,transformOrigin:"center center",animation:"$pulsateSlightly 1744ms 1.2s cubic-bezier(0.4, 0, 0.2, 1) alternate infinite"},pulseCircle:{width:"100%",height:"100%",backgroundColor:"transparent",borderRadius:"100%",border:"2px solid white",zIndex:2001,transformOrigin:"center center",animation:"$pulsateAndFade 872ms 1.2s cubic-bezier(0.4, 0, 0.2, 1) infinite"},text:{position:"absolute",color:"white",zIndex:2003}});const Hi=r.a.forwardRef((e,t)=>{const a=String(e.to);return/^([a-z+.-]+):/.test(a)?r.a.createElement(ya.a,{ref:t,href:a,...e}):r.a.createElement(ya.a,{ref:t,component:ca.b,...e})}),qi=Object(ga.a)(e=>({link:{display:"grid",justifyItems:"center",gridGap:4,textAlign:"center"},disabled:{color:"gray",cursor:"default"},primary:{color:e.palette.primary.main},secondary:{color:e.palette.secondary.main},label:{fontSize:"0.7rem",textTransform:"uppercase",fontWeight:600,letterSpacing:1.2}}));function Ji({color:e="primary",disabled:t=!1,href:a="#",icon:n=r.a.createElement(Vn.a,null),label:i,onClick:o,title:s}){const l=qi();return t?r.a.createElement(ya.a,{title:s,className:Bn()(l.link,l.disabled),underline:"none"},n,r.a.createElement("span",{className:l.label},i)):r.a.createElement(ya.a,{title:s,className:Bn()(l.link,l[e]),to:a,component:Hi,onClick:o},n,r.a.createElement("span",{className:l.label},i))}const Xi=Object(ga.a)(e=>({links:{margin:e.spacing(2,0),display:"grid",gridAutoFlow:"column",gridAutoColumns:"min-content",gridGap:e.spacing(3)}})),Ki=({links:e})=>{const t=Xi();return r.a.createElement("nav",{className:t.links},e.map((e,t)=>r.a.createElement(Ji,{key:t+1,...e})))},eo=e=>{const t="dark"===e?"16%":"97%";return`\n    hsl(0, 0%, ${t}) 0%,\n    hsla(0, 0%, ${t}, 0.987) 8.1%,\n    hsla(0, 0%, ${t}, 0.951) 15.5%,\n    hsla(0, 0%, ${t}, 0.896) 22.5%,\n    hsla(0, 0%, ${t}, 0.825) 29%,\n    hsla(0, 0%, ${t}, 0.741) 35.3%,\n    hsla(0, 0%, ${t}, 0.648) 41.2%,\n    hsla(0, 0%, ${t}, 0.55) 47.1%,\n    hsla(0, 0%, ${t}, 0.45) 52.9%,\n    hsla(0, 0%, ${t}, 0.352) 58.8%,\n    hsla(0, 0%, ${t}, 0.259) 64.7%,\n    hsla(0, 0%, ${t}, 0.175) 71%,\n    hsla(0, 0%, ${t}, 0.104) 77.5%,\n    hsla(0, 0%, ${t}, 0.049) 84.5%,\n    hsla(0, 0%, ${t}, 0.013) 91.9%,\n    hsla(0, 0%, ${t}, 0) 100%\n  `};Object(ga.a)(e=>({root:{position:"relative",display:"flex",flexFlow:"row nowrap",alignItems:"center"},container:{overflow:"auto",scrollbarWidth:0,"&::-webkit-scrollbar":{display:"none"}},fade:{position:"absolute",width:100,height:"calc(100% + 10px)",transition:"opacity 300ms",pointerEvents:"none"},fadeLeft:{left:-10,background:`linear-gradient(90deg, ${eo(e.palette.type)})`},fadeRight:{right:-10,background:`linear-gradient(270deg, ${eo(e.palette.type)})`},fadeHidden:{opacity:0},button:{position:"absolute"},buttonLeft:{left:-e.spacing(2)},buttonRight:{right:-e.spacing(2)}}));const to=Object(ga.a)({alpha:{color:"#ffffff",fontFamily:"serif",fontWeight:"normal",fontStyle:"italic"},beta:{color:"#4d65cc",fontFamily:"serif",fontWeight:"normal",fontStyle:"italic"}}),ao=e=>{const t=to(e),{shorthand:a,alpha:n}=e;return a?r.a.createElement("span",{className:t[n?"alpha":"beta"],style:{fontSize:"120%"}},n?r.a.createElement(r.a.Fragment,null,"α"):r.a.createElement(r.a.Fragment,null,"β")):r.a.createElement("span",{className:t[n?"alpha":"beta"]},n?"Alpha":"Beta")},no=Object(ga.a)(e=>({markdown:{"& table":{borderCollapse:"collapse",border:"1px solid "+e.palette.border},"& th, & td":{border:"1px solid "+e.palette.border,padding:e.spacing(1)},"& td":{wordBreak:"break-word",overflow:"hidden",verticalAlign:"middle",lineHeight:"1",margin:0,padding:e.spacing(3,2,3,2.5),borderBottom:0},"& th":{backgroundColor:e.palette.background.paper},"& tr":{backgroundColor:e.palette.background.paper},"& tr:nth-child(odd)":{backgroundColor:e.palette.background.default},"& a":{color:e.palette.link},"& img":{maxWidth:"100%"}}})),ro={code:({language:e,value:t})=>r.a.createElement(di,{language:e,text:t})},io=({content:e,dialect:t="gfm"})=>{const a=no();return r.a.createElement(er.a,{plugins:"gfm"===t?[ar.a]:[],className:a.markdown,children:e,renderers:ro})},oo=Object(ga.a)(e=>({root:{paddingLeft:e.spacing(3)}})),so=({request:e,busy:t,setBusy:a})=>{const i=oo(),[o,s]=Object(n.useState)(),l=e.provider.icon;return r.a.createElement(Sa.a,{button:!0,disabled:t,onClick:async()=>{a(!0);try{await e.trigger()}catch(e){s(e)}finally{a(!1)}},classes:{root:i.root}},r.a.createElement(Ca.a,null,r.a.createElement(l,{fontSize:"large"})),r.a.createElement(Aa.a,{primary:e.provider.title,secondary:o&&r.a.createElement(fa.a,{color:"error"},o.message||"An unspecified error occurred")}))},lo=Object(ga.a)(e=>({dialog:{paddingTop:e.spacing(1)},title:{minWidth:0},contentList:{padding:0}})),co=()=>{const e=lo(),[t,a]=Object(n.useState)(!1),i=ae(ze),o=Object(Y.a)(Object(n.useMemo)(()=>i.authRequest$(),[i]),[]);return r.a.createElement(La.a,{open:Boolean(o.length),fullWidth:!0,maxWidth:"xs",classes:{paper:e.dialog}},r.a.createElement(Pa.a,{classes:{root:e.title}},"Login Required"),r.a.createElement($a.a,{classes:{root:e.contentList}},r.a.createElement(Oa.a,null,o.map(e=>r.a.createElement(so,{key:e.provider.title,request:e,busy:t,setBusy:a})))),r.a.createElement(Ra.a,null,r.a.createElement(Ea.a,{onClick:()=>{o.forEach(e=>e.reject())}},"Reject All")))},uo=Object(ga.a)({container:{overflow:"visible !important"}}),mo=e=>{var t;const[a,i]=Object(n.useState)(!1),o=uo();return r.a.createElement(wa.a,{title:null!=(t=e.title)?t:e.text||"",placement:e.placement,disableHoverListener:!a},r.a.createElement(rr.a,{text:e.text,line:e.line,onToggled:e=>{i(e)},containerClassName:o.container}))},po=({slackChannel:e})=>r.a.createElement("div",{role:"alert"},"Something went wrong here."," ",e&&r.a.createElement(r.a.Fragment,null,"Please contact ",e," for help.")),go=class extends n.Component{constructor(e){super(e),this.state={error:void 0,errorInfo:void 0}}componentDidCatch(e,t){console.error(`ErrorBoundary, error: ${e}, info: ${t}`),this.setState({error:e,errorInfo:t})}render(){const{slackChannel:e}=this.props,{error:t,errorInfo:a}=this.state;return a?r.a.createElement(po,{error:t,slackChannel:e}):this.props.children}},ho=Object(ga.a)(e=>({root:{maxWidth:"fit-content",padding:e.spacing(2,2,2,2.5)},boxTitle:{margin:0,color:e.palette.textSubtle},arrow:{color:e.palette.textSubtle}})),fo=({link:e,title:t,onClick:a})=>{const n=ho();return r.a.createElement("div",null,r.a.createElement(Ta.a,null),r.a.createElement(Hi,{to:e,onClick:a,underline:"none"},r.a.createElement(Sa.a,{className:n.root},r.a.createElement(Aa.a,null,r.a.createElement(sn.a,{className:n.boxTitle,fontWeight:"fontWeightBold",m:1},t)),r.a.createElement(Ua.a,null,r.a.createElement(or.a,{className:n.arrow})))))},yo=Object(ga.a)(e=>({noPadding:{padding:0,"&:last-child":{paddingBottom:0}},header:{display:"inline-block",padding:e.spacing(2,2,2,2.5)},headerTitle:{fontWeight:700},headerSubheader:{paddingTop:e.spacing(1)},headerAvatar:{},headerAction:{},headerContent:{}})),bo=Object(_a.a)(e=>({root:{display:"inline-block",padding:e.spacing(8,8,0,0),float:"right"}}))(Qa.a),Mo={flex:{display:"flex",flexDirection:"column"},fullHeight:{display:"flex",flexDirection:"column",height:"100%"},gridItem:{display:"flex",flexDirection:"column",height:"calc(100% - 10px)",marginBottom:"10px"}},Io={fullHeight:{flex:1},gridItem:{flex:1}},jo=({title:e,subheader:t,divider:a=!0,deepLink:n,slackChannel:i="#backstage",variant:o,children:s,headerStyle:l,headerProps:c,actionsClassName:u,actions:d,cardClassName:m,actionsTopRight:p,className:g,noPadding:h,titleTypographyProps:f})=>{const y=yo();let b={},M={};if(o){o.split(/[\s]+/g).forEach(e=>{b={...b,...Mo[e]},M={...M,...Io[e]}})}return r.a.createElement(Ba.a,{style:b,className:g},r.a.createElement(go,{slackChannel:i},e&&r.a.createElement(Ya.a,{classes:{root:y.header,title:y.headerTitle,subheader:y.headerSubheader,avatar:y.headerAvatar,action:y.headerAction,content:y.headerContent},title:e,subheader:t,style:{...l},titleTypographyProps:f,...c}),p&&r.a.createElement(bo,null,p),a&&r.a.createElement(Ta.a,null),r.a.createElement(Ga.a,{className:Bn()(m,{[y.noPadding]:h}),style:M},s),d&&r.a.createElement(Qa.a,{className:u},d),n&&r.a.createElement(fo,{...n})))};Object(ga.a)(e=>({root:{position:"relative",lineHeight:0},overlay:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -60%)",fontSize:45,fontWeight:"bold",color:e.palette.textContrast},circle:{width:"80%",transform:"translate(10%, 0)"},colorUnknown:{}}));Object(ga.a)({root:{height:"100%",width:250}});const vo=Object(ga.a)(()=>Object(ja.a)({icon:{position:"absolute",right:"4px",pointerEvents:"none"}})),Eo=()=>{const e=vo();return r.a.createElement(Za.a,{className:e.icon,fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M7.5 8L6 9.5L12.0703 15.5703L18.1406 9.5L16.6406 8L12.0703 12.5703L7.5 8Z",fill:"#616161"}))},wo=Object(ga.a)(()=>Object(ja.a)({icon:{position:"absolute",right:"4px",pointerEvents:"none"}})),No=()=>{const e=wo();return r.a.createElement(Za.a,{className:e.icon,fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M16.5 16L18 14.5L11.9297 8.42969L5.85938 14.5L7.35938 16L11.9297 11.4297L16.5 16Z",fill:"#616161"}))},ko=Object(_a.a)(e=>Object(ja.a)({root:{"label + &":{marginTop:e.spacing(3)}},input:{borderRadius:4,position:"relative",backgroundColor:e.palette.background.paper,border:"1px solid #ced4da",fontSize:16,padding:"10px 26px 10px 12px",transition:e.transitions.create(["border-color","box-shadow"]),fontFamily:"Helvetica Neue","&:focus":{background:e.palette.background.paper,borderRadius:4}}}))(Wa.a),xo=Object(ga.a)(e=>Object(ja.a)({formControl:{margin:e.spacing(1)+" 0px",maxWidth:300},label:{transform:"initial",fontWeight:"bold",fontSize:14,fontFamily:e.typography.fontFamily,color:e.palette.text.primary,"&.Mui-focused":{color:e.palette.text.primary}},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},checkbox:{},root:{display:"flex",flexDirection:"column"}})),Do=({multiple:e,items:t,label:a,placeholder:i,selected:o,onChange:s,triggerReset:l})=>{const c=xo(),[u,d]=Object(n.useState)(o||(e?[]:"")),[m,p]=Object(n.useState)(!1);Object(n.useEffect)(()=>{d(e?[]:"")},[l,e]),Object(n.useEffect)(()=>{void 0!==o&&d(o)},[o]);const g=e=>()=>{const t=u.filter(t=>t!==e);d(t),s(t)};return r.a.createElement("div",{className:c.root},r.a.createElement(fa.a,{variant:"button"},a),r.a.createElement(za.a,{onClickAway:()=>{p(!1)}},r.a.createElement(Fa.a,{className:c.formControl},r.a.createElement(Va.a,{value:u,"data-testid":"select",displayEmpty:!0,multiple:e,onChange:e=>{d(e.target.value),s(e.target.value)},onClick:t=>{p(a=>!(!e||t.target instanceof HTMLElement)||!a)},open:m,input:r.a.createElement(ko,null),renderValue:a=>{var n;return e&&0!==u.length?r.a.createElement("div",{className:c.chips},a.map(e=>{var a,n;return r.a.createElement(Ha.a,{key:null==(a=t.find(t=>t.value===e))?void 0:a.value,label:null==(n=t.find(t=>t.value===e))?void 0:n.label,clickable:!0,onDelete:g(e),className:c.chip})})):r.a.createElement(fa.a,null,0===u.length?i||"":null==(n=t.find(e=>e.value===a))?void 0:n.label)},IconComponent:()=>m?r.a.createElement(No,null):r.a.createElement(Eo,null),MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null}},i&&!e&&r.a.createElement(qa.a,{value:[]},i),t&&t.map(t=>r.a.createElement(qa.a,{key:t.value,value:t.value},e&&r.a.createElement(Ja.a,{color:"primary",checked:u.includes(t.value)||!1,className:c.checkbox}),t.label))))))},Oo=()=>{},So=(r.a.createContext({stepperLength:0,stepIndex:0,setStepIndex:Oo,stepHistory:[],setStepHistory:Oo,onStepChange:Oo}),Object(ga.a)(e=>({root:{marginTop:e.spacing(3),"& button":{marginRight:e.spacing(1)}}})),Object(ga.a)(e=>({end:{padding:e.spacing(3)}})),Object(ga.a)(e=>({status:{fontWeight:500,"&::before":{width:"0.7em",height:"0.7em",display:"inline-block",marginRight:8,borderRadius:"50%",content:'""'}},ok:{"&::before":{backgroundColor:e.palette.status.ok}},warning:{"&::before":{backgroundColor:e.palette.status.warning}},error:{"&::before":{backgroundColor:e.palette.status.error}},pending:{"&::before":{backgroundColor:e.palette.status.pending}},running:{"&::before":{backgroundColor:e.palette.status.running}},aborted:{"&::before":{backgroundColor:e.palette.status.aborted}}}))),Ao=e=>{const t=So(e);return r.a.createElement("span",{className:Bn()(t.status,t.ok),"aria-label":"Status ok",...e})},To=e=>{const t=So(e);return r.a.createElement("span",{className:Bn()(t.status,t.warning),"aria-label":"Status warning",...e})},zo=e=>{const t=So(e);return r.a.createElement("span",{className:Bn()(t.status,t.error),"aria-label":"Status error",...e})},Co=e=>{const t=So(e);return r.a.createElement("span",{className:Bn()(t.status,t.pending),"aria-label":"Status pending",...e})},Lo=e=>{const t=So(e);return r.a.createElement("span",{className:Bn()(t.status,t.running),"aria-label":"Status running",...e})},Po=e=>{const t=So(e);return r.a.createElement("span",{className:Bn()(t.status,t.aborted),"aria-label":"Status aborted",...e})},$o=Object(_a.a)(e=>Object(ja.a)({root:{fontWeight:"bolder",whiteSpace:"nowrap",paddingRight:e.spacing(4),border:"0",verticalAlign:"top"}}))(Xa.a),Ro=Object(_a.a)({root:{border:"0",verticalAlign:"top"}})(Xa.a),Uo=({dense:e,children:t})=>r.a.createElement(Ka.a,{size:e?"small":"medium"},r.a.createElement(en.a,null,t)),_o=({title:e,children:t,...a})=>r.a.createElement(tn.a,null,e&&r.a.createElement($o,null,e),r.a.createElement(Ro,{colSpan:e?1:2,...a},t)),Qo=Object(_a.a)(e=>Object(ja.a)({root:{listStyle:"none",margin:e.spacing(0,0,-1,0),padding:"0"}}))(({classes:e,children:t})=>r.a.createElement("ul",{className:e.root},t)),Bo=Object(_a.a)(e=>Object(ja.a)({root:{padding:e.spacing(0,0,1,0)},random:{}}))(({classes:e,children:t})=>r.a.createElement("li",{className:e.root},t)),Yo=Object(ja.a)({root:{margin:"0 0",listStyleType:"none"}}),Go=Object(_a.a)(Yo)(({classes:e,children:t})=>r.a.createElement(Qo,{classes:e},t)),Zo=Object(_a.a)(e=>Object(ja.a)({root:{...Yo.root,paddingLeft:e.spacing(1)}}))(({classes:e,children:t})=>r.a.createElement(Qo,{classes:e},t));function Wo(e,t,a){return r.a.isValidElement(e)?r.a.createElement(n.Fragment,null,e):"object"!=typeof e||Array.isArray(e)?Array.isArray(e)?function(e,t){const a=e.map((e,t)=>r.a.createElement(Bo,{key:t},Wo(e)));return t?r.a.createElement(Zo,null,a):r.a.createElement(Go,null,a)}(e,a):"boolean"==typeof e?r.a.createElement(n.Fragment,null,e?"✅":"❌"):r.a.createElement(n.Fragment,null,e):function(e,t,a){const n=Object.keys(e).map(t=>{const n=Wo(e[t],!0),i=a&&a.titleFormat?a.titleFormat(t):lr()(t);return r.a.createElement(Bo,{key:t},i+": ",n)});return t?r.a.createElement(Zo,null,n):r.a.createElement(Go,null,n)}(e,t,a)}const Fo=({value:e,options:t})=>r.a.createElement(n.Fragment,null,Wo(e,t)),Vo=({title:e,value:t,options:a})=>r.a.createElement(_o,{title:a&&a.titleFormat?a.titleFormat(e):lr()(e)},r.a.createElement(Fo,{value:t,options:a}));const Ho=({metadata:e,dense:t=!0,options:a})=>{const n=function(e,t){return Object.keys(e).map(a=>r.a.createElement(Vo,{key:a,title:a,value:e[a],options:t}))}(e,a||{});return r.a.createElement(Uo,{dense:t},n)},qo=Object(ga.a)(e=>({leftIcon:{marginRight:e.spacing(1)},popoverList:{minWidth:260,maxWidth:400}})),Jo=({icon:e})=>{var t;const a=Mt(),n=e&&null!=(t=a.getSystemIcon(e))?t:Wt;return r.a.createElement(n,null)},Xo=({link:e})=>{var t;return r.a.createElement(Hi,{to:e.url,target:"_blank",rel:"noreferrer noopener"},null!=(t=e.title)?t:e.url)},Ko=({item:e})=>{var t;return r.a.createElement(Sa.a,null,r.a.createElement(Ua.a,null,r.a.createElement(Jo,{icon:e.icon})),r.a.createElement(Aa.a,{primary:e.title,secondary:null==(t=e.links)?void 0:t.reduce((e,t,a)=>[...e,a>0&&r.a.createElement("br",{key:a}),r.a.createElement(Xo,{link:t,key:t.url})],[])}))},es=({children:e})=>{const{items:t}=Hr(),[a,i]=Object(n.useState)(!1),[o,s]=Object(n.useState)(null),l=qo(),c=()=>{i(!1)};return r.a.createElement(n.Fragment,null,r.a.createElement(Ea.a,{"data-testid":"support-button",color:"primary",onClick:e=>{s(e.currentTarget),i(!0)}},r.a.createElement(Wt,{className:l.leftIcon}),"Support"),r.a.createElement(an.a,{"data-testid":"support-button-popover",open:a,anchorEl:o,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClose:c},r.a.createElement(Oa.a,{className:l.popoverList},r.a.Children.map(e,(e,t)=>r.a.createElement(Sa.a,{alignItems:"flex-start",key:t},e)),t&&t.map((e,t)=>r.a.createElement(Ko,{item:e,key:t}))),r.a.createElement(Ra.a,null,r.a.createElement(Ea.a,{color:"primary",onClick:c},"Close"))))},ts=Object(ga.a)(e=>({root:{gridArea:"pageContent",minWidth:0,paddingTop:e.spacing(3),paddingBottom:e.spacing(3),...e.mixins.gutters({})},stretch:{display:"flex",flexDirection:"column",flexGrow:1},noPadding:{padding:0}})),as=({className:e,stretch:t,noPadding:a,children:n,...i})=>{const o=ts();return r.a.createElement("article",{...i,className:Bn()(o.root,e,{[o.stretch]:t,[o.noPadding]:a})},n)},ns=Object(ga.a)(e=>({tabsWrapper:{gridArea:"pageSubheader",backgroundColor:e.palette.background.paper,paddingLeft:e.spacing(3)},defaultTab:{padding:e.spacing(3,3),...e.typography.caption,textTransform:"uppercase",fontWeight:"bold",color:e.palette.text.secondary},selected:{color:e.palette.text.primary}})),rs=({tabs:e,onChange:t,selectedIndex:a})=>{const[i,o]=Object(n.useState)(null!=a?a:0),s=ns();return Object(n.useEffect)(()=>{void 0!==a&&o(a)},[a]),r.a.createElement("div",{className:s.tabsWrapper},r.a.createElement(nn.a,{indicatorColor:"primary",textColor:"inherit",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example",onChange:(e,n)=>{void 0===a&&o(n),t&&t(n)},value:i},e.map((e,t)=>r.a.createElement(rn.a,{...e.tabProps,label:e.label,key:e.id,value:t,className:s.defaultTab,classes:{selected:s.selected}}))))};const is=({routes:e})=>{const t=Object(I.m)(),{index:a,route:i,element:o}=function(e){var t,a,n;const r=Object(I.n)(),i=e.map(({path:e,children:t})=>({caseSensitive:!1,path:e+"/*",element:t})),o=null!=(t=Object(I.p)(i))?t:e[0].children,[s]=null!=(a=Object(I.h)(i,"/"+r["*"]))?a:[],l=s?e.findIndex(e=>e.path+"/*"===s.route.path):0;return{index:-1===l?0:l,element:o,route:null!=(n=e[l])?n:e[0]}}(e),s=Object(n.useMemo)(()=>e.map(e=>({id:e.path,label:e.title,tabProps:e.tabProps})),[e]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(rs,{tabs:s,selectedIndex:a,onChange:a=>t(e[a].path.replace(/\/\*$/,"").replace(/^\//,""))}),r.a.createElement(as,null,r.a.createElement(cr.a,{title:i.title}),o))},os=()=>null;vt(os,"core.gatherMountPoints",!0);const ss=({children:e})=>{const t=function e(t){const a=r.a.createElement(os,{path:"",title:""},r.a.createElement("div",null)).type;return n.Children.toArray(t).flatMap(t=>{if(!Object(n.isValidElement)(t))return[];if(t.type===n.Fragment)return e(t.props.children);if(t.type!==a)throw new Error("Child of TabbedLayout must be an TabbedLayout.Route");const{path:r,title:i,children:o,tabProps:s}=t.props;return[{path:r,title:i,children:o,tabProps:s}]})}(e);return r.a.createElement(is,{routes:t})};ss.Route=os;const ls=Object(ga.a)(e=>({value:{marginBottom:"6px"},subvalue:{color:e.palette.textSubtle,fontWeight:"normal"}})),cs=({value:e,subvalue:t})=>{const a=ls();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:a.value},e),r.a.createElement("div",{className:a.subvalue},t))},us=Object(ga.a)(e=>Object(ja.a)({root:{width:"100%",minWidth:10,maxWidth:360,backgroundColor:"transparent","&:hover":{backgroundColor:"transparent"},"&:active":{animation:"none",transform:"none"}},nested:{paddingLeft:e.spacing(5),height:"32px","&:hover":{backgroundColor:"transparent"}},listItemIcon:{minWidth:10},listItem:{"&:hover":{backgroundColor:"transparent"}},text:{"& span, & svg":{fontWeight:"normal",fontSize:14}}})),ds=(e,t)=>{switch(t.type){case"checkOption":return Object(_r.a)(e,e=>{const a=e[t.payload.subCategoryLabel],n=a.options[t.payload.optionLabel];n.isChecked=!n.isChecked,a.isChecked=Object.values(a.options).every(e=>e.isChecked)});case"checkCategory":return Object(_r.a)(e,e=>{const a=e[t.payload],n=a.options;a.isChecked=!a.isChecked;for(const e in n)n[e].isChecked=a.isChecked});case"toggleCategory":return Object(_r.a)(e,e=>{const a=e[t.payload];a.isOpen=!a.isOpen});case"triggerReset":return Object(_r.a)(e,e=>{for(const t in e){e[t].isChecked=!1;for(const a in e[t].options)e[t].options[a].isChecked=e[t].isChecked}});case"updateCategories":return Object(_r.a)(e,a=>{for(const e in a)delete a[e];for(const n in t.payload)a[n]=t.payload[n],e[n]&&(a[n].isChecked=e[n].isChecked,a[n].isOpen=e[n].isOpen)});case"updateSelected":return Object(_r.a)(e,e=>{var a;for(const n in e){const r=t.payload.find(e=>e.category===n);if(r){e[n].isChecked=!0;for(const t in e[n].options)e[n].options[t].isChecked=(null==(a=r.selectedChildren)?void 0:a.includes(t))||!1}}});default:return e}},ms=e=>e.reduce((e,t)=>t.options?{...e,[t.label]:{label:t.label,isChecked:t.isChecked||!1,isOpen:!1,options:ms(t.options)}}:{...e,[t.label]:{...t,isChecked:t.isChecked||!1}},{}),ps=({subCategories:e,label:t,selected:a,onChange:i,triggerReset:o})=>{const s=us(),[l,c]=Object(n.useReducer)(ds,ms(e)),u=(e,t)=>{e.stopPropagation(),c({type:"toggleCategory",payload:t})},d=Object(fn.a)(e);return Object(n.useEffect)(()=>{const e=Object.values(l).map(e=>({category:e.isChecked?e.label:void 0,selectedChildren:Object.values(e.options).filter(e=>e.isChecked).map(e=>e.label)}));i(e)},[l]),Object(n.useEffect)(()=>{c({type:"triggerReset"})},[o]),Object(n.useEffect)(()=>{a&&c({type:"updateSelected",payload:a})},[a]),Object(n.useEffect)(()=>{Object(mn.isEqual)(e,d)||c({type:"updateCategories",payload:ms(e)})},[e,d]),r.a.createElement("div",null,r.a.createElement(fa.a,{variant:"button"},t),r.a.createElement(Oa.a,{className:s.root},Object.values(l).map(e=>r.a.createElement("div",{key:e.label},r.a.createElement(Sa.a,{className:s.listItem,dense:!0,button:!0,onClick:()=>c({type:"checkCategory",payload:e.label})},r.a.createElement(Ua.a,{className:s.listItemIcon},r.a.createElement(Ja.a,{color:"primary",edge:"start",checked:e.isChecked,tabIndex:-1,disableRipple:!0})),r.a.createElement(Aa.a,{className:s.text,primary:e.label}),Object.values(e.options).length?r.a.createElement(r.a.Fragment,null,e.isOpen?r.a.createElement(Ur.a,{"data-testid":"expandable",onClick:t=>u(t,e.label)}):r.a.createElement(Wn.a,{"data-testid":"expandable",onClick:t=>u(t,e.label)})):null),r.a.createElement(on.a,{in:e.isOpen,timeout:"auto",unmountOnExit:!0},r.a.createElement(Oa.a,{component:"div",disablePadding:!0},Object.values(e.options).map(t=>r.a.createElement(Sa.a,{button:!0,key:t.label,className:s.nested,onClick:()=>c({type:"checkOption",payload:{subCategoryLabel:e.label,optionLabel:t.label}})},r.a.createElement(Ua.a,{className:s.listItemIcon},r.a.createElement(Ja.a,{color:"primary",edge:"start",checked:t.isChecked,tabIndex:-1,disableRipple:!0})),r.a.createElement(Aa.a,{className:s.text,primary:t.label})))))))))},gs=Object(ga.a)(e=>({root:{height:"100%",width:"315px",display:"flex",flexDirection:"column",marginRight:e.spacing(3)},value:{fontWeight:"bold",fontSize:18},header:{display:"flex",alignItems:"center",height:"60px",justifyContent:"space-between",borderBottom:"1px solid "+e.palette.grey[500]},filters:{display:"flex",flexDirection:"column","& > *":{marginTop:e.spacing(2)}}})),hs=e=>{var t;const a=gs(),{onChangeFilters:i}=e,[o,s]=Object(n.useState)({...e.selectedFilters}),[l,c]=Object(n.useState)(!1);return Object(n.useEffect)(()=>{i(o)},[o,i]),r.a.createElement("div",{className:a.root},r.a.createElement("div",{className:a.header},r.a.createElement("div",{className:a.value},"Filters"),r.a.createElement(Ea.a,{color:"primary",onClick:()=>{s({}),c(e=>!e)}},"Clear all")),r.a.createElement("div",{className:a.filters},(null==(t=e.filters)?void 0:t.length)&&e.filters.map(e=>"checkbox-tree"===e.type?r.a.createElement(ps,{triggerReset:l,key:e.element.label,...e.element,selected:o[e.element.label]?o[e.element.label].map(e=>({category:e})):void 0,onChange:t=>s({...o,[e.element.label]:t.filter(e=>e.category||e.selectedChildren.length).map(e=>e.category?[...e.selectedChildren,e.category]:e.selectedChildren).flat()})}):r.a.createElement(Do,{triggerReset:l,key:e.element.label,...e.element,selected:o[e.element.label],onChange:t=>s({...o,[e.element.label]:t})}))))},fs={Add:Object(n.forwardRef)((e,t)=>r.a.createElement(dr.a,{...e,ref:t})),Check:Object(n.forwardRef)((e,t)=>r.a.createElement(hr.a,{...e,ref:t})),Clear:Object(n.forwardRef)((e,t)=>r.a.createElement(yr.a,{...e,ref:t})),Delete:Object(n.forwardRef)((e,t)=>r.a.createElement(Mr.a,{...e,ref:t})),DetailPanel:Object(n.forwardRef)((e,t)=>r.a.createElement(Xn.a,{...e,ref:t})),Edit:Object(n.forwardRef)((e,t)=>r.a.createElement(jr.a,{...e,ref:t})),Export:Object(n.forwardRef)((e,t)=>r.a.createElement(Ar.a,{...e,ref:t})),Filter:Object(n.forwardRef)((e,t)=>r.a.createElement(Er.a,{...e,ref:t})),FirstPage:Object(n.forwardRef)((e,t)=>r.a.createElement(Nr.a,{...e,ref:t})),LastPage:Object(n.forwardRef)((e,t)=>r.a.createElement(xr.a,{...e,ref:t})),NextPage:Object(n.forwardRef)((e,t)=>r.a.createElement(Xn.a,{...e,ref:t})),PreviousPage:Object(n.forwardRef)((e,t)=>r.a.createElement(qn.a,{...e,ref:t})),ResetSearch:Object(n.forwardRef)((e,t)=>r.a.createElement(yr.a,{...e,ref:t})),Search:Object(n.forwardRef)((e,t)=>r.a.createElement(zr.a,{...e,ref:t})),SortArrow:Object(n.forwardRef)((e,t)=>r.a.createElement(pr.a,{...e,ref:t})),ThirdStateCheck:Object(n.forwardRef)((e,t)=>r.a.createElement(Or.a,{...e,ref:t})),ViewColumn:Object(n.forwardRef)((e,t)=>r.a.createElement(Lr.a,{...e,ref:t}))};function ys(e,t){const a=t.split(".");let n=e[a[0]];for(let e=1;e<a.length;++e){if(void 0===n)return n;n=n[a[e]]}return n}const bs=Object(_a.a)(e=>({header:{padding:e.spacing(1,2,1,2.5),borderTop:"1px solid "+e.palette.grey.A100,borderBottom:"1px solid "+e.palette.grey.A100,color:e.palette.textSubtle,fontWeight:e.typography.fontWeightBold,position:"static",wordBreak:"normal"}}))(Pr.MTableHeader),Ms=Object(_a.a)(e=>({root:{padding:e.spacing(3,0,2.5,2.5)},title:{"& > h6":{fontWeight:"bold"}},searchField:{paddingRight:e.spacing(2)}}))(Pr.MTableToolbar),Is=Object(ga.a)(()=>({root:{display:"flex",alignItems:"center",justifyContent:"space-between"},title:{fontWeight:"bold",fontSize:18,whiteSpace:"nowrap"}})),js=Object(ga.a)(()=>({root:{display:"flex",alignItems:"start"}}));const vs={search:"",filtersOpen:!1,filters:{}};function Es(e){const{toolbarRef:t,setSearch:a,hasFilters:i,selectedFiltersLength:o,toggleFilters:s}=e,l=Is(),c=Object(n.useCallback)(t=>{e.onSearchChanged(t),a(t)},[e,a]);return i?r.a.createElement("div",{className:l.root},r.a.createElement("div",{className:l.root},r.a.createElement(Ia.a,{onClick:s,"aria-label":"filter list"},r.a.createElement(Er.a,null)),r.a.createElement(fa.a,{className:l.title},"Filters (",o,")")),r.a.createElement(Ms,{...e,ref:t,onSearchChanged:c})):r.a.createElement(Ms,{...e,ref:t,onSearchChanged:c})}function ws({columns:e,options:t,title:a,subtitle:i,filters:o,initialState:s,emptyContent:l,onStateChange:c,...u}){const d=js(),{data:m,...p}=u,g=Object(Na.a)(),h={...vs,...s},[f,y]=Object(n.useState)(h.filtersOpen),b=Object(n.useCallback)(()=>y(e=>!e),[y]),[M,I]=Object(n.useState)(0),[j,v]=Object(n.useState)(m),[E,w]=Object(n.useState)(h.filters),N=function(e,t){return e.map(e=>{const a={},n="object"==typeof e.cellStyle?e.cellStyle:{};return e.highlight&&(a.color=t.palette.textContrast,n.fontWeight=t.typography.fontWeightBold),{...e,headerStyle:a,cellStyle:n}})}(e,g),[k,x]=Object(n.useState)(h.search),D=Object(n.useRef)();Object(n.useEffect)(()=>{D.current&&D.current.onSearchChange(k)},[k,D]),Object(n.useEffect)(()=>{if(c){const e=function(e,t){return Object(mn.transform)(e,(e,a,n)=>{Object(mn.isEqual)(a,t[n])||(e[n]=a)})}({search:k,filtersOpen:f,filters:E},vs);c(e)}},[k,f,E,c]);const O=Object(n.useCallback)(t=>{var a;return null==(a=e.find(e=>e.title===t))?void 0:a.field},[e]);Object(n.useEffect)(()=>{if("function"==typeof m)return;if(!E)return void v(m);const e=Object.values(E);if(m&&e.flat().length){const e=m.filter(e=>!!Object.entries(E).filter(([,e])=>!!e.length).every(([t,a])=>{const n=ys(e,O(t));return Array.isArray(n)&&Array.isArray(a)?n.some(e=>a.includes(e)):Array.isArray(n)?n.includes(a):Array.isArray(a)?a.includes(n):n===a}));v(e)}else v(m);I(e.flat().length)},[m,E,O]);const S=!!(null==o?void 0:o.length),A=Object(n.useCallback)(e=>r.a.createElement(Es,{toolbarRef:D,setSearch:x,hasFilters:S,selectedFiltersLength:M,toggleFilters:b,...e}),[b,S,M,x,D]),T="function"!=typeof m&&0===m.length,z=e.length,C=Object(n.useCallback)(e=>l&&T?r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:z},l))):r.a.createElement(Pr.MTableBody,{...e}),[T,l,z]);return r.a.createElement("div",{className:d.root},f&&m&&"function"!=typeof m&&(null==o?void 0:o.length)&&r.a.createElement(hs,{filters:((e,t)=>{const a=e=>{const a=new Set,n=e=>{null!=e&&a.add(e)};return t&&t.forEach(t=>{const a=ys(t,O(e));Array.isArray(a)?a.forEach(n):n(a)}),a},n=e=>({label:e.column,subCategories:[...a(e.column)].map(e=>({label:e,options:[]}))}),r=e=>({placeholder:"All results",label:e.column,multiple:"multiple-select"===e.type,items:[...a(e.column)].sort().map(e=>({label:e,value:e}))});return e.map(e=>({type:e.type,element:"checkbox-tree"===e.type?n(e):r(e)}))})(o,m),selectedFilters:E,onChangeFilters:w}),r.a.createElement($r.a,{components:{Header:bs,Toolbar:A,Body:C},options:{headerStyle:{textTransform:"uppercase"},...t},columns:N,icons:fs,title:r.a.createElement(r.a.Fragment,null,r.a.createElement(fa.a,{variant:"h5"},a),i&&r.a.createElement(fa.a,{color:"textSecondary",variant:"body1"},i)),data:"function"==typeof m?m:j,style:{width:"100%"},...p}))}Object(ga.a)(()=>({root:{color:"#6E6E6E",overflow:"visible",fontSize:"1.5rem",textAlign:"center",borderRadius:"50%",backgroundColor:"#E6E6E6",marginLeft:e=>e.isNext?"auto":"0",marginRight:e=>e.isNext?"0":"10px","&:hover":{backgroundColor:"#E6E6E6",opacity:"1"}}})),Object(ga.a)(e=>({root:{textTransform:"none",height:"64px",fontWeight:e.typography.fontWeightBold,fontSize:e.typography.pxToRem(13),color:e.palette.textSubtle,marginLeft:e=>{return t=e.isFirstNav,e.isFirstIndex?t?"20px":"0":"40px";var t},width:"130px",minWidth:"130px","&:hover":{outline:"none",backgroundColor:"transparent",color:e.palette.textSubtle}}})),Object(ga.a)(e=>({indicator:{display:"flex",justifyContent:"center",backgroundColor:e.palette.tabbar.indicator,height:"4px"},flexContainer:{alignItems:"center"},root:{"&:last-child":{marginLeft:"auto"}}})),Object(ga.a)(e=>({root:{flexGrow:1,width:"100%"},styledTabs:{backgroundColor:e.palette.background.paper},appbar:{boxShadow:"none",backgroundColor:e.palette.background.paper,paddingLeft:"10px",paddingRight:"10px"}}));const Ns=({title:e="Unknown page",className:t})=>r.a.createElement(fa.a,{variant:"h4",component:"h2",className:t,"data-testid":"header-title"},e),ks=({description:e,title:t,titleComponent:a,children:i,textAlign:o="left"})=>{const s=(l={textAlign:o},Object(ga.a)(e=>({container:{width:"100%",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-end",alignItems:"center",marginBottom:e.spacing(1),textAlign:l.textAlign},leftItemsBox:{flex:"1 1 auto",marginBottom:e.spacing(1),minWidth:0,overflow:"visible"},rightItemsBox:{flex:"0 1 auto",display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center",marginLeft:e.spacing(1),marginBottom:e.spacing(1),minWidth:0,overflow:"visible"},description:{},title:{display:"inline-flex"}})))();var l;const c=a?r.a.createElement(a,null):r.a.createElement(Ns,{title:t,className:s.title});return r.a.createElement(n.Fragment,null,r.a.createElement(cr.a,{title:t}),r.a.createElement("div",{className:s.container},r.a.createElement("div",{className:s.leftItemsBox},c,e&&r.a.createElement(fa.a,{className:s.description,variant:"body2"},e)),r.a.createElement("div",{className:s.rightItemsBox},i)))},xs=Object(_a.a)({root:{textDecoration:"underline",cursor:"pointer"}})(fa.a),Ds=Object(_a.a)({root:{textDecoration:"underline",color:"inherit"}})(sn.a),Os=({children:e,...t})=>{const[a,i]=r.a.useState(null),o=r.a.Children.toArray(e),[s,l,...c]=o,u=c.length?c.pop():o[o.length-1],d=o.length>3,m=Boolean(a);return r.a.createElement(n.Fragment,null,r.a.createElement(ln.a,{"aria-label":"breadcrumb",...t},o.length>1&&r.a.createElement(Ds,{clone:!0},s),o.length>2&&r.a.createElement(Ds,{clone:!0},l),d&&r.a.createElement(xs,{onClick:e=>{i(e.currentTarget)}},"..."),r.a.createElement(sn.a,{style:{fontStyle:"italic"}},u)),r.a.createElement(an.a,{open:m,anchorEl:a,onClose:()=>{i(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},r.a.createElement(Oa.a,null,c.map((e,t)=>r.a.createElement(Sa.a,{key:t,button:!0},r.a.createElement(Ds,{clone:!0},e))))))},Ss=Object(ga.a)(e=>({header:{gridArea:"pageHeader",padding:e.spacing(3),minHeight:118,width:"100%",boxShadow:"0 0 8px 3px rgba(20, 20, 20, 0.3)",position:"relative",zIndex:100,display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-end",alignItems:"center",backgroundImage:e.page.backgroundImage,backgroundPosition:"center",backgroundSize:"cover"},leftItemsBox:{flex:"1 1 auto"},rightItemsBox:{flex:"0 1 auto",display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center",marginRight:e.spacing(1)},title:{color:e.palette.bursts.fontColor,lineHeight:"1.0em",wordBreak:"break-all",fontSize:"calc(24px + 6 * ((100vw - 320px) / 680))",marginBottom:e.spacing(1)},subtitle:{color:"rgba(255, 255, 255, 0.8)",lineHeight:"1.0em"},type:{textTransform:"uppercase",fontSize:11,opacity:.8,marginBottom:e.spacing(1),color:e.palette.bursts.fontColor},breadcrumb:{fontSize:"calc(15px + 1 * ((100vw - 320px) / 680))",color:e.palette.bursts.fontColor},breadcrumbType:{fontSize:"inherit",opacity:.7,marginRight:-e.spacing(.3),marginBottom:e.spacing(.3)},breadcrumbTitle:{fontSize:"inherit",marginLeft:-e.spacing(.3),marginBottom:e.spacing(.3)}})),As=({type:e,typeLink:t,classes:a,pageTitle:n})=>e?t?r.a.createElement(Os,{className:a.breadcrumb},r.a.createElement(Hi,{to:t},e),r.a.createElement(fa.a,null,n)):r.a.createElement(fa.a,{className:a.type},e):null,Ts=({pageTitle:e,classes:t,tooltip:a})=>{const n=r.a.createElement(fa.a,{className:t.title,variant:"h1"},e);return a?r.a.createElement(wa.a,{title:a,placement:"top-start"},n):n},zs=({classes:e,subtitle:t})=>t?"string"!=typeof t?r.a.createElement(r.a.Fragment,null,t):r.a.createElement(fa.a,{className:e.subtitle,variant:"subtitle2",component:"span"},t):null,Cs=({children:e,pageTitleOverride:t,style:a,subtitle:n,title:i,tooltip:o,type:s,typeLink:l})=>{const c=Ss(),u=t||i,d=i||t,m=u+" | %s | Backstage",p=u+" | Backstage";return r.a.createElement(r.a.Fragment,null,r.a.createElement(cr.a,{titleTemplate:m,defaultTitle:p}),r.a.createElement("header",{style:a,className:c.header},r.a.createElement("div",{className:c.leftItemsBox},r.a.createElement(As,{classes:c,type:s,typeLink:l,pageTitle:d}),r.a.createElement(Ts,{classes:c,pageTitle:d,tooltip:o}),r.a.createElement(zs,{classes:c,subtitle:n})),r.a.createElement("div",{className:c.rightItemsBox},e)))},Ls=Object(ga.a)(e=>({root:{textAlign:"left",margin:e.spacing(2),display:"inline-block"},label:{color:"#FFFFFF",fontWeight:"bold",lineHeight:"16px",letterSpacing:0,fontSize:14,height:"16px",marginBottom:2},value:{color:"rgba(255, 255, 255, 0.8)",lineHeight:"16px",fontSize:14,height:"16px"}})),Ps=({value:e,className:t})=>r.a.createElement(fa.a,{className:t},e),$s=({label:e,value:t,url:a})=>{const n=Ls(),i=r.a.createElement(Ps,{className:n.value,value:t||"<Unknown>"});return r.a.createElement("span",{className:n.root},r.a.createElement(fa.a,{className:n.label},e),a?r.a.createElement(ya.a,{href:a},i):i)};const Rs=Object(ga.a)(e=>Object(ja.a)({root:{color:e.palette.common.white,padding:e.spacing(2,2,3),backgroundImage:"linear-gradient(-137deg,  #4BB8A5 0%,  #187656 100%)",backgroundPosition:0,backgroundSize:"inherit"}})),Us=e=>{const{title:t,subtitle:a,children:n}=e,i=Rs(e);return r.a.createElement("div",{className:i.root},a&&r.a.createElement(fa.a,{variant:"subtitle2",component:"h3"},a),t&&r.a.createElement(fa.a,{variant:"h6",component:"h4"},t),n)},_s=Object(ga.a)(e=>Object(ja.a)({root:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(22em, 1fr))",gridAutoRows:"1fr",gridGap:e.spacing(2)}})),Qs=e=>{const{children:t,...a}=e,n=_s(a);return r.a.createElement("div",{role:"grid",className:n.root,...a},t)},Bs=Object(ga.a)(()=>({root:{display:"grid",gridTemplateAreas:"'pageHeader pageHeader pageHeader' 'pageSubheader pageSubheader pageSubheader' 'pageNav pageContent pageSidebar'",gridTemplateRows:"auto auto 1fr",gridTemplateColumns:"auto 1fr auto",minHeight:"100vh"}})),Ys=({themeId:e,children:t})=>{const a=Bs();return r.a.createElement(Z.a,{theme:t=>({...t,page:t.getPageTheme({themeId:e})})},r.a.createElement("div",{className:a.root},t))},Gs={drawerWidthClosed:72,drawerWidthOpen:224,defaultOpenDelayMs:300,defaultCloseDelayMs:0,defaultFadeDuration:200,logoHeight:32,iconContainerWidth:72,iconSize:24,iconPadding:24,selectedIndicatorWidth:3,userBadgePadding:18,userBadgeDiameter:36},Zs=Object(n.createContext)({isOpen:!1});var Ws;(Ws||(Ws={})).SIDEBAR_PIN_STATE="sidebarPinState";const Fs={getSidebarPinState(){let e;try{e=JSON.parse(window.localStorage.getItem(Ws.SIDEBAR_PIN_STATE)||"false")}catch{return!1}return!!e},setSidebarPinState:e=>window.localStorage.setItem(Ws.SIDEBAR_PIN_STATE,JSON.stringify(e))},Vs=Object(ga.a)({root:{width:"100%",minHeight:"100%",transition:"padding-left 0.1s ease-out",paddingLeft:({isPinned:e})=>e?Gs.drawerWidthOpen:Gs.drawerWidthClosed}}),Hs=Object(n.createContext)({isPinned:!1,toggleSidebarPinState:()=>{}}),qs=e=>{const[t,a]=Object(n.useState)(()=>Fs.getSidebarPinState());Object(n.useEffect)(()=>{Fs.setSidebarPinState(t)},[t]);const i=Vs({isPinned:t});return r.a.createElement(Hs.Provider,{value:{isPinned:t,toggleSidebarPinState:()=>a(!t)}},r.a.createElement("div",{className:i.root},e.children))},Js=Object(ga.a)(e=>({root:{zIndex:1e3,position:"relative",overflow:"visible",width:e.spacing(7)+1},drawer:{display:"flex",flexFlow:"column nowrap",alignItems:"flex-start",position:"fixed",left:0,top:0,bottom:0,padding:0,background:e.palette.navigation.background,overflowX:"hidden",msOverflowStyle:"none",scrollbarWidth:"none",width:Gs.drawerWidthClosed,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.shortest}),"& > *":{flexShrink:0},"&::-webkit-scrollbar":{display:"none"}},drawerOpen:{width:Gs.drawerWidthOpen,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.shorter})},drawerPeek:{width:Gs.drawerWidthClosed+4}}));var Xs,Ks;(Ks=Xs||(Xs={}))[Ks.Closed=0]="Closed",Ks[Ks.Peek=1]="Peek",Ks[Ks.Open=2]="Open";const el=({openDelayMs:e=Gs.defaultOpenDelayMs,closeDelayMs:t=Gs.defaultCloseDelayMs,children:a})=>{const i=Js(),[o,s]=Object(n.useState)(0),l=Object(n.useRef)(),{isPinned:c}=Object(n.useContext)(Hs),u=()=>{c||(l.current&&(clearTimeout(l.current),l.current=void 0),2!==o&&(l.current=window.setTimeout(()=>{l.current=void 0,s(2)},e),s(1)))},d=()=>{c||(l.current&&(clearTimeout(l.current),l.current=void 0),1===o?s(0):2===o&&(l.current=window.setTimeout(()=>{l.current=void 0,s(0)},t)))};return r.a.createElement("div",{className:i.root,onMouseEnter:u,onFocus:u,onMouseLeave:d,onBlur:d,"data-testid":"sidebar-root"},r.a.createElement(Zs.Provider,{value:{isOpen:2===o||c}},r.a.createElement("div",{className:Object(Qr.a)(i.drawer,{[i.drawerPeek]:1===o,[i.drawerOpen]:2===o||c})},a)))},tl=Object(ga.a)(e=>{const{selectedIndicatorWidth:t,drawerWidthClosed:a,drawerWidthOpen:n,iconContainerWidth:r,iconSize:i}=Gs;return{root:{color:e.palette.navigation.color,display:"flex",flexFlow:"row nowrap",alignItems:"center",height:48,cursor:"pointer"},buttonItem:{background:"none",border:"none",width:"auto",margin:0,padding:0,textAlign:"inherit",font:"inherit"},closed:{width:a,justifyContent:"center"},open:{width:n},label:{fontWeight:"bold",whiteSpace:"nowrap",lineHeight:"auto",flex:"3 1 auto",width:"110px",overflow:"hidden","text-overflow":"ellipsis"},iconContainer:{boxSizing:"border-box",height:"100%",width:r,marginRight:-e.spacing(2),display:"flex",alignItems:"center",justifyContent:"center"},icon:{width:i,height:i},searchRoot:{marginBottom:12},searchField:{color:"#b5b5b5",fontWeight:"bold",fontSize:e.typography.fontSize},searchContainer:{width:n-r},secondaryAction:{width:e.spacing(6),textAlign:"center",marginRight:e.spacing(1)},selected:{"&$root":{borderLeft:`solid ${t}px ${e.palette.navigation.indicator}`,color:e.palette.navigation.selectedColor},"&$closed":{width:a-t},"& $iconContainer":{marginLeft:-t}}}});function al(e){return void 0===e.to}const nl=Object(n.forwardRef)((e,t)=>{const{icon:a,text:i,hasNotifications:o=!1,onClick:s,children:l,className:c,...u}=e,d=tl(),{isOpen:m}=Object(n.useContext)(Zs),p=r.a.createElement(cn.a,{color:"secondary",variant:"dot",overlap:"circle",invisible:!o},r.a.createElement(a,{fontSize:"small",className:d.icon})),g=p,h=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{"data-testid":"login-button",className:d.iconContainer},p),i&&r.a.createElement(fa.a,{variant:"subtitle2",className:d.label},i),r.a.createElement("div",{className:d.secondaryAction},l)),f=m?h:g,y={onClick:s,className:Object(Qr.a)(c,d.root,m?d.open:d.closed,al(e)&&d.buttonItem)};return al(e)?r.a.createElement("button",{...y,ref:t},f):r.a.createElement(ca.c,{...y,activeClassName:d.selected,to:e.to,ref:t,...u},f)}),rl=e=>{const[t,a]=Object(n.useState)(""),i=tl(),o=()=>{e.onSearch(t),a("")};return r.a.createElement("div",{className:i.searchRoot},r.a.createElement(nl,{icon:zr.a,to:e.to,onClick:e=>{o(),e.preventDefault()}},r.a.createElement(un.a,{placeholder:"Search",value:t,onClick:e=>{e.preventDefault(),e.stopPropagation()},onChange:e=>{a(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&o()},className:i.searchContainer,InputProps:{disableUnderline:!0,className:i.searchField}})))},il=Object(dn.a)("div")({flex:1}),ol=(Object(dn.a)("div")({height:8}),Object(dn.a)("hr")({height:1,width:"100%",background:"#383838",border:"none",margin:"12px 0px"}));Object(ga.a)(e=>({introCard:{color:"#b5b5b5",fontSize:12,width:Gs.drawerWidthOpen,marginTop:18,marginBottom:12,paddingLeft:Gs.iconPadding,paddingRight:Gs.iconPadding},introDismiss:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginTop:12},introDismissLink:{color:"#dddddd",display:"flex",alignItems:"center",marginBottom:4,"&:hover":{color:e.palette.linkHover,transition:e.transitions.create("color",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.shortest})}},introDismissText:{fontSize:"0.7rem",fontWeight:"bold",textTransform:"uppercase",letterSpacing:1},introDismissIcon:{width:18,height:18,marginRight:12}})),Object(ga.a)({container:{padding:0,listStyle:"none"},item:{display:"flex",flexDirection:"column",width:"100%",maxWidth:"400px",margin:0,padding:0}}),Object(ga.a)(e=>({form:{display:"flex",flexFlow:"column nowrap"},button:{alignSelf:"center",marginTop:e.spacing(2)}}));const sl=Object(ga.a)(e=>({root:{padding:e.spacing(0,2,0,2.5),minHeight:e.spacing(3)},indicator:{backgroundColor:e.palette.info.main,height:e.spacing(.3)}})),ll=Object(_a.a)(e=>({root:{padding:e.spacing(2,2,2,2.5),display:"inline-block"},title:{fontWeight:700},subheader:{paddingTop:e.spacing(1)}}))(Ya.a),cl=({slackChannel:e="#backstage",children:t,title:a,deepLink:i,value:o,onChange:s})=>{const l=sl(),[c,u]=Object(n.useState)(0),d=s||((e,t)=>u(t));let m;return o?r.a.Children.map(t,e=>{(null==e?void 0:e.props.value)===o&&(m=null==e?void 0:e.props.children)}):r.a.Children.map(t,(e,t)=>{t===c&&(m=null==e?void 0:e.props.children)}),r.a.createElement(Ba.a,null,r.a.createElement(go,{slackChannel:e},a&&r.a.createElement(ll,{title:a}),r.a.createElement(nn.a,{classes:l,value:o||c,onChange:d},t),r.a.createElement(Ta.a,null),r.a.createElement(Ga.a,null,m),i&&r.a.createElement(fo,{...i})))},ul=Object(ga.a)(e=>({root:{minWidth:e.spacing(6),minHeight:e.spacing(3),margin:e.spacing(0,2,0,0),padding:e.spacing(.5,0,.5,0),textTransform:"none"},selected:{fontWeight:"bold"}})),dl=({children:e,...t})=>{const a=ul();return r.a.createElement(rn.a,{disableRipple:!0,classes:a,...t})}},309:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applySubschema=t.Type=void 0;const n=a(147),r=a(65),i=a(41);var o;!function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(o=t.Type||(t.Type={})),t.applySubschema=function(e,t,a){const s=function(e,{keyword:t,schemaProp:a,schema:n,schemaPath:o,errSchemaPath:s,topSchemaRef:l}){if(void 0!==t&&void 0!==n)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==t){const n=e.schema[t];return void 0===a?{schema:n,schemaPath:i._`${e.schemaPath}${i.getProperty(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:n[a],schemaPath:i._`${e.schemaPath}${i.getProperty(t)}${i.getProperty(a)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${r.escapeFragment(a)}`}}if(void 0!==n){if(void 0===o||void 0===s||void 0===l)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:o,topSchemaRef:l,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}(e,t);!function(e,t,{dataProp:a,dataPropType:n,data:s,dataTypes:l,propertyName:c}){if(void 0!==s&&void 0!==a)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:u}=t;if(void 0!==a){const{errorPath:s,dataPathArr:l,opts:c}=t;d(u.let("data",i._`${t.data}${i.getProperty(a)}`,!0)),e.errorPath=i.str`${s}${function(e,t,a){if(e instanceof i.Name){const n=t===o.Num;return a?n?i._`"[" + ${e} + "]"`:i._`"['" + ${e} + "']"`:n?i._`"/" + ${e}`:i._`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return a?i.getProperty(e).toString():"/"+r.escapeJsonPointer(e)}(a,n,c.jsPropertySyntax)}`,e.parentDataProperty=i._`${a}`,e.dataPathArr=[...l,e.parentDataProperty]}if(void 0!==s){d(s instanceof i.Name?s:u.let("data",s,!0)),void 0!==c&&(e.propertyName=c)}l&&(e.dataTypes=l);function d(a){e.data=a,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,a]}}(s,e,t),function(e,{jtdDiscriminator:t,jtdMetadata:a,compositeRule:n,createErrors:r,allErrors:i}){void 0!==n&&(e.compositeRule=n);void 0!==r&&(e.createErrors=r);void 0!==i&&(e.allErrors=i);e.jtdDiscriminator=t,e.jtdMetadata=a}(s,t);const l={...e,...s,items:void 0,props:void 0};return n.subschemaCode(l,a),l}},318:function(e,t,a){"use strict";a.d(t,"a",(function(){return C})),a.d(t,"b",(function(){return L})),a.d(t,"c",(function(){return P})),a.d(t,"d",(function(){return $})),a.d(t,"e",(function(){return B})),a.d(t,"f",(function(){return _})),a.d(t,"g",(function(){return H})),a.d(t,"h",(function(){return G}));var n=a(3),r=a(28),i=a(12),o=a(39),s=a(538),l=a(35),c=a(52),u=a(18),d=a(294),m=a(180),p=a(126),g=a(141),h=a(106),f=a(81),y=a(2764),b=a(0),M=a.n(b),I=a(58),j=a(19),v=a(73),E=a(1209),w=a.n(E),N=a(421),k=a.n(N),x=a(346),D=a.n(x),O=a(202),S=a(323),A=a.n(S),T=a(410);const z=Object(n.lb)({id:"org"}),C=z.provide(Object(n.jb)({component:{lazy:()=>a.e(0).then(a.bind(null,620)).then(e=>e.GroupProfileCard)}})),L=z.provide(Object(n.jb)({component:{lazy:()=>a.e(0).then(a.bind(null,620)).then(e=>e.MembersListCard)}})),P=z.provide(Object(n.jb)({component:{lazy:()=>a.e(0).then(a.bind(null,620)).then(e=>e.OwnershipCard)}})),$=z.provide(Object(n.jb)({component:{lazy:()=>a.e(0).then(a.bind(null,620)).then(e=>e.UserProfileCard)}})),R=Object(o.a)(e=>Object(s.a)({card:{border:"1px solid "+e.palette.divider,boxShadow:e.shadows[2],borderRadius:"4px",overflow:"visible",position:"relative",margin:e.spacing(4,1,1),flex:"1",minWidth:"0px"}})),U=({member:e})=>{var t;const a=R(),{metadata:{name:r},spec:{profile:o}}=e,s=null!=(t=null==o?void 0:o.displayName)?t:r;return M.a.createElement(l.a,{item:!0,container:!0,xs:12,sm:6,md:4,xl:2},M.a.createElement(c.a,{className:a.card},M.a.createElement(c.a,{display:"flex",flexDirection:"column",m:3,alignItems:"center",justifyContent:"center"},M.a.createElement(n.b,{displayName:s,picture:null==o?void 0:o.picture,customStyles:{position:"absolute",top:"-2rem"}}),M.a.createElement(c.a,{pt:2,textAlign:"center"},M.a.createElement(u.a,{variant:"h5"},M.a.createElement(d.a,{component:I.b,to:Object(j.g)("/catalog/:namespace/user/"+r,Object(i.h)(e))},s)),M.a.createElement(u.a,{variant:"caption"},null==o?void 0:o.email)))))},_=e=>{var t;const{entity:a}=Object(i.n)(),{metadata:{name:o,namespace:s},spec:{profile:d}}=a,m=Object(n.Ab)(i.e),p=null!=(t=null==d?void 0:d.displayName)?t:o,g=s||r.b,[h,f]=M.a.useState(1),{loading:b,error:I,value:j}=Object(v.a)(async()=>(await m.getEntities({filter:{kind:"User"}})).items.filter(e=>{var t;return null==(t=null==e?void 0:e.relations)?void 0:t.some(e=>e.type===r.k&&e.target.name.toLocaleLowerCase("en-US")===o.toLocaleLowerCase("en-US")&&e.target.namespace.toLocaleLowerCase("en-US")===g.toLocaleLowerCase("en-US"))}),[m,a]);if(b)return M.a.createElement(n.C,null);if(I)return M.a.createElement(n.D,{error:I});const E=Math.ceil(((null==j?void 0:j.length)||0)/50),w=E<2?"":`, page ${h} of ${E}`,N=M.a.createElement(y.a,{count:E,page:h,onChange:(e,t)=>{f(t)},showFirstButton:!0,showLastButton:!0});return M.a.createElement(l.a,{item:!0},M.a.createElement(n.s,{title:`Members (${(null==j?void 0:j.length)||0}${w})`,subheader:"of "+p,actions:N},M.a.createElement(l.a,{container:!0,spacing:3},j&&j.length>0?j.slice(50*(h-1),50*h).map(e=>M.a.createElement(U,{member:e,key:e.metadata.uid})):M.a.createElement(c.a,{p:2},M.a.createElement(u.a,null,"This group has no members.")))))},Q=({title:e})=>M.a.createElement(c.a,{display:"flex",alignItems:"center"},M.a.createElement(D.a,{fontSize:"inherit"}),M.a.createElement(c.a,{ml:1},e)),B=({variant:e})=>{var t;const{entity:a}=Object(i.n)();if(!a)return M.a.createElement(O.a,{severity:"error"},"Group not found");const{metadata:{name:o,description:s},spec:{profile:c}}=a,u=Object(i.k)(a,r.m,{kind:"Group"}),y=Object(i.k)(a,r.g,{kind:"group"}),b=null!=(t=null==c?void 0:c.displayName)?t:o,I=(null==c?void 0:c.email)?"mailto:"+c.email:void 0;return M.a.createElement(n.s,{title:M.a.createElement(Q,{title:b}),subheader:s,variant:e},M.a.createElement(l.a,{container:!0,spacing:3},M.a.createElement(l.a,{item:!0,xs:12,sm:2,xl:1},M.a.createElement(n.b,{displayName:b,picture:null==c?void 0:c.picture})),M.a.createElement(l.a,{item:!0,md:10,xl:11},M.a.createElement(m.a,null,(null==c?void 0:c.email)&&M.a.createElement(p.a,null,M.a.createElement(g.a,null,M.a.createElement(h.a,{title:"Email"},M.a.createElement(k.a,null))),M.a.createElement(f.a,null,M.a.createElement(d.a,{href:I},c.email))),y.length?M.a.createElement(p.a,null,M.a.createElement(g.a,null,M.a.createElement(h.a,{title:"Parent Group"},M.a.createElement(w.a,null))),M.a.createElement(f.a,null,M.a.createElement(i.c,{entityRefs:y,defaultKind:"Group"}))):null,u.length?M.a.createElement(p.a,null,M.a.createElement(g.a,null,M.a.createElement(h.a,{title:"Child Groups"},M.a.createElement(D.a,null))),M.a.createElement(f.a,null,M.a.createElement(i.c,{entityRefs:u,defaultKind:"Group"}))):null))))},Y=({title:e})=>e?M.a.createElement(c.a,{display:"flex",alignItems:"center"},M.a.createElement(A.a,{fontSize:"inherit"}),M.a.createElement(c.a,{ml:1},e)):null,G=({variant:e})=>{var t;const{entity:a}=Object(i.n)();if(!a)return M.a.createElement(O.a,{severity:"error"},"User not found");const{metadata:{name:o},spec:{profile:s}}=a,c=null!=(t=null==s?void 0:s.displayName)?t:o,u=(null==s?void 0:s.email)?"mailto:"+s.email:void 0,y=Object(i.k)(a,r.k,{kind:"Group"});return M.a.createElement(n.s,{title:M.a.createElement(Y,{title:c}),variant:e},M.a.createElement(l.a,{container:!0,spacing:3,alignItems:"flex-start"},M.a.createElement(l.a,{item:!0,xs:12,sm:2,xl:1},M.a.createElement(n.b,{displayName:c,picture:null==s?void 0:s.picture})),M.a.createElement(l.a,{item:!0,md:10,xl:11},M.a.createElement(m.a,null,(null==s?void 0:s.email)&&M.a.createElement(p.a,null,M.a.createElement(g.a,null,M.a.createElement(h.a,{title:"Email"},M.a.createElement(k.a,null))),M.a.createElement(f.a,null,M.a.createElement(d.a,{href:u},s.email))),M.a.createElement(p.a,null,M.a.createElement(g.a,null,M.a.createElement(h.a,{title:"Member of"},M.a.createElement(D.a,null))),M.a.createElement(f.a,null,M.a.createElement(i.c,{entityRefs:y,defaultKind:"Group"})))))))},Z=(e,t,a)=>{const{colors:n}=e.getPageTheme({themeId:a}),{shape:r}=e.getPageTheme({themeId:t});return Object(T.b)(n,r).backgroundImage},W=Object(o.a)(e=>Object(s.a)({card:{border:"1px solid "+e.palette.divider,boxShadow:e.shadows[2],borderRadius:"4px",padding:e.spacing(2),color:"#fff",transition:e.transitions.duration.standard+"ms","&:hover":{boxShadow:e.shadows[4]}},bold:{fontWeight:e.typography.fontWeightBold},service:{background:Z(e,"home","service")},website:{background:Z(e,"home","website")},library:{background:Z(e,"home","library")},documentation:{background:Z(e,"home","documentation")},api:{background:Z(e,"home","home")},tool:{background:Z(e,"home","tool")}})),F=(e,t,a)=>e.filter(e=>{var n;return e.kind===t&&(!a||(null==(n=null==e?void 0:e.spec)?void 0:n.type)===a)}).length,V=({counter:e,className:t,name:a})=>{const n=W();return M.a.createElement(c.a,{className:`${n.card} ${n[t]}`,display:"flex",flexDirection:"column",alignItems:"center"},M.a.createElement(u.a,{className:n.bold,variant:"h6"},e),M.a.createElement(u.a,{className:n.bold,variant:"h6"},a))},H=({variant:e})=>{const{entity:t}=Object(i.n)(),a=Object(n.Ab)(i.e),{loading:r,error:o,value:s}=Object(v.a)(async()=>{const e=(await a.getEntities({filter:{kind:["Component","API"]},fields:["kind","metadata.name","metadata.namespace","spec.type","relations"]})).items.filter(e=>Object(i.l)(t,e));return[{counter:F(e,"Component","service"),className:"service",name:"Services"},{counter:F(e,"Component","documentation"),className:"documentation",name:"Documentation"},{counter:F(e,"API"),className:"api",name:"APIs"},{counter:F(e,"Component","library"),className:"library",name:"Libraries"},{counter:F(e,"Component","website"),className:"website",name:"Websites"},{counter:F(e,"Component","tool"),className:"tool",name:"Tools"}]},[a,t]);return r?M.a.createElement(n.C,null):o?M.a.createElement(n.D,{error:o}):M.a.createElement(n.s,{title:"Ownership",variant:e},M.a.createElement(l.a,{container:!0},null==s?void 0:s.map(e=>M.a.createElement(l.a,{item:!0,xs:6,md:6,lg:4,key:e.name},M.a.createElement(V,{counter:e.counter,className:e.className,name:e.name})))))}},358:function(e,t,a){"use strict";a.d(t,"a",(function(){return G})),a.d(t,"b",(function(){return Y}));var n=a(3),r=a(159),i=a(139),o=a(18),s=a(42),l=a(106),c=a(134),u=a(292),d=a(2753),m=a(293),p=a(2752),g=a(39),h=a(202),f=a(0),y=a.n(f),b=a(19),M=a(427),I=a(1331),j=a(73),v=a(2768),E=a(1308),w=a.n(E),N=a(34),k=a.n(N),x=a(1309),D=a.n(x),O=a(12),S=a(1310),A=a.n(S),T=a(28),z=a(374),C=a.n(z);const L=Object(n.hb)({id:"plugin.techdocs.storageservice",description:"Used to make requests towards the techdocs storage"}),P=Object(n.hb)({id:"plugin.techdocs.service",description:"Used to make requests towards techdocs API"});class ${constructor({configApi:e,discoveryApi:t,identityApi:a}){this.configApi=e,this.discoveryApi=t,this.identityApi=a}async getApiOrigin(){var e;return null!=(e=this.configApi.getOptionalString("techdocs.requestUrl"))?e:await this.discoveryApi.getBaseUrl("techdocs")}async getTechDocsMetadata(e){const{kind:t,namespace:a,name:n}=e,r=`${await this.getApiOrigin()}/metadata/techdocs/${a}/${t}/${n}`,i=await this.identityApi.getIdToken(),o=await fetch(""+r,{headers:i?{Authorization:"Bearer "+i}:{}});return await o.json()}async getEntityMetadata(e){const{kind:t,namespace:a,name:n}=e,r=`${await this.getApiOrigin()}/metadata/entity/${a}/${t}/${n}`,i=await this.identityApi.getIdToken(),o=await fetch(""+r,{headers:i?{Authorization:"Bearer "+i}:{}});return await o.json()}}class R{constructor({configApi:e,discoveryApi:t,identityApi:a}){this.configApi=e,this.discoveryApi=t,this.identityApi=a}async getApiOrigin(){var e;return null!=(e=this.configApi.getOptionalString("techdocs.requestUrl"))?e:await this.discoveryApi.getBaseUrl("techdocs")}async getStorageUrl(){var e;return null!=(e=this.configApi.getOptionalString("techdocs.storageUrl"))?e:await this.discoveryApi.getBaseUrl("techdocs")+"/static/docs"}async getBuilder(){return this.configApi.getString("techdocs.builder")}async getEntityDocs(e,t){const{kind:a,namespace:n,name:i}=e,o=`${await this.getStorageUrl()}/${n}/${a}/${i}/${t}`,s=await this.identityApi.getIdToken(),l=await fetch((o.endsWith("/")?o:o+"/")+"index.html",{headers:s?{Authorization:"Bearer "+s}:{}});let c="";switch(l.status){case 404:throw c="Page not found. ",t||(c+="This could be because there is no index.md file in the root of the docs directory of this repository."),new r.a(c);case 500:throw c="Could not generate documentation or an error in the TechDocs backend. ",new Error(c)}return l.text()}async syncEntityDocs(e){const{kind:t,namespace:a,name:n}=e,i=`${await this.getApiOrigin()}/sync/${a}/${t}/${n}`,o=await this.identityApi.getIdToken();let s,l=0;for(;!s||408===s.status&&l<5;)l++,s=await fetch(i,{headers:o?{Authorization:"Bearer "+o}:{}});switch(s.status){case 404:throw new r.a((await s.json()).error);case 200:case 201:case 304:return!0;case 408:default:return!1}}async getBaseUrl(e,t,a){const{kind:n,namespace:r,name:i}=t,o=await this.getApiOrigin();return new URL(e,`${o}/static/docs/${r}/${n}/${i}/${a}`).toString()}}const U=Object(n.nb)({path:"",title:"TechDocs Landing Page"}),_=Object(n.nb)({path:":namespace/:kind/:name/*",title:"Docs"}),Q=Object(n.nb)({path:"*",title:"Docs"}),B=Object(n.lb)({id:"techdocs",apis:[Object(n.gb)({api:L,deps:{configApi:n.fb,discoveryApi:n.ob,identityApi:n.ub},factory:({configApi:e,discoveryApi:t,identityApi:a})=>new R({configApi:e,discoveryApi:t,identityApi:a})}),Object(n.gb)({api:P,deps:{configApi:n.fb,discoveryApi:n.ob,identityApi:n.ub},factory:({configApi:e,discoveryApi:t,identityApi:a})=>new $({configApi:e,discoveryApi:t,identityApi:a})})],routes:{root:U,entityContent:Q}}),Y=B.provide(Object(n.mb)({component:()=>Promise.resolve().then((function(){return fe})).then(e=>e.Router),mountPoint:U})),G=B.provide(Object(n.mb)({component:()=>Promise.resolve().then((function(){return fe})).then(e=>e.EmbeddedDocsRouter),mountPoint:Q})),Z=(B.provide(Object(n.jb)({component:{lazy:()=>Promise.resolve().then((function(){return oe})).then(e=>e.DocsCardGrid)}})),B.provide(Object(n.jb)({component:{lazy:()=>Promise.resolve().then((function(){return re})).then(e=>e.DocsTable)}})),B.provide(Object(n.mb)({component:()=>Promise.resolve().then((function(){return ue})).then(e=>e.TechDocsCustomHome),mountPoint:U})),B.provide(Object(n.mb)({component:()=>Promise.resolve().then((function(){return ge})).then(e=>e.TechDocsPage),mountPoint:_})),({techdocsStorageApi:e,entityId:t,path:a})=>n=>{const r=(n,r)=>{Array.from(n).filter(e=>!!e.getAttribute(r)).forEach(async n=>{const i=n.getAttribute(r);i&&n.setAttribute(r,await e.getBaseUrl(i,t,a))})};return r(n.querySelectorAll("img"),"src"),r(n.querySelectorAll("script"),"src"),r(n.querySelectorAll("link"),"href"),n}),W=e=>t=>{const a=t.querySelector('[title="Edit this page"]');if(!a||!a.href)return t;const n=new URL(a.href),r=e.byUrl(n);if("github"!==(null==r?void 0:r.type)&&"gitlab"!==(null==r?void 0:r.type))return t;const i=t.querySelector("article>h1").childNodes[0].textContent,o=encodeURIComponent("Documentation Feedback: "+i),s=encodeURIComponent(`Page source:\n${a.href}\n\nFeedback:`),l=n.pathname.split("/").slice(0,3).join("/"),c=a.cloneNode();switch(null==r?void 0:r.type){case"gitlab":c.href=`${n.origin}${l}/issues/new?issue[title]=${o}&issue[description]=${s}`;break;case"github":c.href=`${n.origin}${l}/issues/new?title=${o}&body=${s}`;break;default:return t}return k.a.render(y.a.createElement(w.a),c),c.style.paddingLeft="5px",c.title="Leave feedback for this page",c.id="git-feedback-link",null==a||a.insertAdjacentElement("beforebegin",c),t},F=()=>e=>{var t,a;return t=Array.from(e.getElementsByTagName("a")),a="href",Array.from(t).filter(e=>e.hasAttribute(a)).forEach(e=>{const t=e.getAttribute(a);if(t){t.match(/^https?:\/\//i)&&e.setAttribute("target","_blank");const n=function(e){const t=new URL(e);return t.pathname.endsWith("/")||(t.pathname+="/"),t.toString()}(window.location.href);e.setAttribute(a,new URL(t,n).toString())}}),e};const V=({baseUrl:e,onClick:t})=>a=>(Array.from(a.getElementsByTagName("a")).forEach(a=>{a.addEventListener("click",n=>{const r=a.getAttribute("href");r&&r.startsWith(e)&&(n.preventDefault(),t(n,r))})}),a),H=({docStorageUrl:e,onLoading:t,onLoaded:a})=>n=>{const r=Array.from(n.querySelectorAll('head > link[rel="stylesheet"]')).filter(async t=>{var a;return null==(a=t.getAttribute("href"))?void 0:a.startsWith(await e)});let i=r.length;return i>0&&t(n),r.forEach(e=>e.addEventListener("load",()=>{i-=1,0===i&&a(n)})),n},q=["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr","svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","object","path","pattern","polygon","polyline","radialgradient","rect","stop","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","#text","iframe"],J={"*":["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","data","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan","accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns","xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink","data-*"]},X=({css:e})=>t=>(t.getElementsByTagName("head")[0].insertAdjacentHTML("beforeend",`<style>${e}</style>`),t),K=(e,t)=>{let a;if("string"==typeof e)a=(new DOMParser).parseFromString(e,"text/html").documentElement;else{if(!(e instanceof Element))throw new Error("dom is not a recognized type");a=e}return t.forEach(e=>{a=e(a)}),a},ee=({errorMessage:e})=>{let t="";return"local"!==Object(n.Ab)(n.fb).getOptionalString("techdocs.builder")&&(t="Note that techdocs.builder is not set to 'local' in your config, which means this Backstage app will not generate docs if they are not found. Make sure the project's docs are generated and published by some external process (e.g. CI/CD pipeline). Or change techdocs.builder to 'local' to generate docs from this Backstage instance."),y.a.createElement(n.l,{status:"404",statusMessage:e||"Documentation not found",additionalInfo:t})},te=()=>{const e=Object(M.a)(),[t,a]=Object(f.useState)(!1);return Object(f.useEffect)(()=>{setTimeout(()=>{e()&&a(!0)},5e3)}),y.a.createElement(y.a.Fragment,null,t?y.a.createElement(o.a,{"data-testid":"delay-reason"},"Docs are still loading...Backstage takes some extra time to load docs\n  for the first time. The subsequent loads are much faster."):null,y.a.createElement(n.C,null))};const ae=({entityId:e,onReady:t})=>{const{kind:a,namespace:r,name:o}=e,{"*":l}=Object(b.n)(),c=Object(s.a)(),u=Object(n.Ab)(L),[d,m]=Object(f.useState)(),p=Object(b.m)(),g=Object(f.useRef)(null),[M,v]=Object(f.useState)(""),[E,w]=Object(f.useState)(!0),[N,k]=Object(f.useState)(!1),x=Object(n.Ab)(i.b),{value:O,loading:S,error:A}=Object(j.a)(async()=>"local"!==await u.getBuilder()?Promise.resolve({value:!0,loading:null,error:null}):u.syncEntityDocs({kind:a,namespace:r,name:o}),[u,a,r,o]),{value:T,loading:z,error:C,retry:P}=function(e,t,a,r){const i=Object(n.Ab)(L);return Object(I.a)(async()=>({content:await i.getEntityDocs({kind:t,namespace:a,name:r},e),path:e,entityId:{kind:t,name:r,namespace:a}}),[i,t,a,r,e])}(l,a,r,o);if(Object(f.useEffect)(()=>{O&&N&&l!==M&&P()}),Object(f.useEffect)(()=>{const e=()=>{if(g.current&&d){const e=g.current.querySelector(".md-container > .md-tabs");d.forEach(t=>{const a=Math.max(g.current.getBoundingClientRect().top,0);t.style.top=e?a+e.getBoundingClientRect().height+"px":a+"px"})}};return e(),window.addEventListener("scroll",e),window.addEventListener("resize",e),()=>{window.removeEventListener("scroll",e),window.removeEventListener("resize",e)}},[g,d]),Object(f.useEffect)(()=>{T&&v(l)},[T,l]),Object(f.useEffect)(()=>{!1!==E&&setTimeout(()=>{w(!1)},5e3)}),Object(f.useEffect)(()=>{!E&&T&&S&&k(!0)},[E,T,S]),Object(f.useEffect)(()=>{if(!T||!g.current)return;t&&t();const e=K(T.content,[e=>{const t=D()(e.innerHTML,{allowedTags:q,allowedAttributes:J,allowedSchemes:["http","https","ftp","mailto","data","blob"]});return(new DOMParser).parseFromString(t,"text/html").documentElement},Z({techdocsStorageApi:u,entityId:T.entityId,path:T.path}),F(),e=>{var t;return null==(t=e.querySelector(".md-header"))||t.remove(),e},e=>{var t;return null==(t=e.querySelector(".md-footer-copyright"))||t.remove(),e},W(x),X({css:`\n        body {\n          font-family: ${c.typography.fontFamily};\n          --md-text-color: ${c.palette.text.primary};\n          --md-text-link-color: ${c.palette.primary.main};\n\n          --md-code-fg-color: ${c.palette.text.primary};\n          --md-code-bg-color: ${c.palette.background.paper};\n        }\n        .md-main__inner { margin-top: 0; }\n        .md-sidebar {  position: fixed; bottom: 100px; width: 20rem; }\n        .md-sidebar--secondary { right: 2rem; }\n        .md-content { margin-bottom: 50px }\n        .md-footer { position: fixed; bottom: 0px; width: 100vw; }\n        .md-footer-nav__link { width: 20rem;}\n        .md-content { margin-left: 20rem; max-width: calc(100% - 20rem * 2 - 3rem); }\n        .md-typeset { font-size: 1rem; }\n        .md-nav { font-size: 1rem; }\n        .md-grid { max-width: 90vw; margin: 0 }\n        .md-typeset table:not([class]) {\n          font-size: 1rem;\n          border: 1px solid ${c.palette.text.primary};\n          border-bottom: none;\n          border-collapse: collapse;\n        }\n        .md-typeset table:not([class]) td, .md-typeset table:not([class]) th {\n          border-bottom: 1px solid ${c.palette.text.primary};\n        }\n        .md-typeset table:not([class]) th { font-weight: bold; }\n        @media screen and (max-width: 76.1875em) {\n          .md-nav { \n            background-color: ${c.palette.background.default}; \n            transition: none !important\n          }\n          .md-sidebar--secondary { display: none; }\n          .md-sidebar--primary { left: 72px; width: 10rem }\n          .md-content { margin-left: 10rem; max-width: calc(100% - 10rem); }\n          .md-content__inner { font-size: 0.9rem }\n          .md-footer { \n            position: static; \n            margin-left: 10rem; \n            width: calc(100% - 10rem); \n          }\n          .md-nav--primary .md-nav__title {  \n            white-space: normal;\n            height: auto;\n            line-height: 1rem;\n            cursor: auto;\n          }\n          .md-nav--primary > .md-nav__title [for="none"] {\n            padding-top: 0;\n          }\n        }\n      `}),X({css:"\n        .md-nav__link, .md-typeset a, .md-typeset a::before, .md-typeset .headerlink {\n          transition: none;\n        }\n        "}),X({css:'\n        :host {\n          --md-admonition-icon--note: url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>\');\n          --md-admonition-icon--abstract: url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 5h16v2H4V5m0 4h16v2H4V9m0 4h16v2H4v-2m0 4h10v2H4v-2z"/></svg>\');\n          --md-admonition-icon--info: url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 9h-2V7h2m0 10h-2v-6h2m-1-9A10 10 0 002 12a10 10 0 0010 10 10 10 0 0010-10A10 10 0 0012 2z"/></svg>\');\n          --md-admonition-icon--tip: url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17.55 11.2c-.23-.3-.5-.56-.76-.82-.65-.6-1.4-1.03-2.03-1.66C13.3 7.26 13 4.85 13.91 3c-.91.23-1.75.75-2.45 1.32-2.54 2.08-3.54 5.75-2.34 8.9.04.1.08.2.08.33 0 .22-.15.42-.35.5-.22.1-.46.04-.64-.12a.83.83 0 01-.15-.17c-1.1-1.43-1.28-3.48-.53-5.12C5.89 10 5 12.3 5.14 14.47c.04.5.1 1 .27 1.5.14.6.4 1.2.72 1.73 1.04 1.73 2.87 2.97 4.84 3.22 2.1.27 4.35-.12 5.96-1.6 1.8-1.66 2.45-4.32 1.5-6.6l-.13-.26c-.2-.46-.47-.87-.8-1.25l.05-.01m-3.1 6.3c-.28.24-.73.5-1.08.6-1.1.4-2.2-.16-2.87-.82 1.19-.28 1.89-1.16 2.09-2.05.17-.8-.14-1.46-.27-2.23-.12-.74-.1-1.37.18-2.06.17.38.37.76.6 1.06.76 1 1.95 1.44 2.2 2.8.04.14.06.28.06.43.03.82-.32 1.72-.92 2.27h.01z"/></svg>\');\n          --md-admonition-icon--success: url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>\');\n          --md-admonition-icon--question: url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.07 11.25l-.9.92C13.45 12.89 13 13.5 13 15h-2v-.5c0-1.11.45-2.11 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41a2 2 0 00-2-2 2 2 0 00-2 2H8a4 4 0 014-4 4 4 0 014 4 3.2 3.2 0 01-.93 2.25M13 19h-2v-2h2M12 2A10 10 0 002 12a10 10 0 0010 10 10 10 0 0010-10c0-5.53-4.5-10-10-10z"/></svg>\');\n          --md-admonition-icon--warning: url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14h-2v-4h2m0 8h-2v-2h2M1 21h22L12 2 1 21z"/></svg>\');\n          --md-admonition-icon--failure: url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2c5.53 0 10 4.47 10 10s-4.47 10-10 10S2 17.53 2 12 6.47 2 12 2m3.59 5L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41 15.59 7z"/></svg>\');\n          --md-admonition-icon--danger: url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11.5 20l4.86-9.73H13V4l-5 9.73h3.5V20M12 2c2.75 0 5.1 1 7.05 2.95C21 6.9 22 9.25 22 12s-1 5.1-2.95 7.05C17.1 21 14.75 22 12 22s-5.1-1-7.05-2.95C3 17.1 2 14.75 2 12s1-5.1 2.95-7.05C6.9 3 9.25 2 12 2z"/></svg>\');\n          --md-admonition-icon--bug: url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14 12h-4v-2h4m0 6h-4v-2h4m6-6h-2.81a5.985 5.985 0 00-1.82-1.96L17 4.41 15.59 3l-2.17 2.17a6.002 6.002 0 00-2.83 0L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8z"/></svg>\');\n          --md-admonition-icon--example: url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 13v-2h14v2H7m0 6v-2h14v2H7M7 7V5h14v2H7M3 8V5H2V4h2v4H3m-1 9v-1h3v4H2v-1h2v-.5H3v-1h1V17H2m2.25-7a.75.75 0 01.75.75c0 .2-.08.39-.21.52L3.12 13H5v1H2v-.92L4 11H2v-1h2.25z"/></svg>\');\n          --md-admonition-icon--quote: url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14 17h3l2-4V7h-6v6h3M6 17h3l2-4V7H5v6h3l-2 4z"/></svg>\');\n        }\n        :host {\n          --md-footnotes-icon: url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 7v4H5.83l3.58-3.59L8 6l-6 6 6 6 1.41-1.42L5.83 13H21V7h-2z"/></svg>\');\n        }\n        :host {\n          --md-details-icon: url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>\');\n        }\n        :host {\n          --md-tasklist-icon: url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 002 12a10 10 0 0010 10 10 10 0 0010-10A10 10 0 0012 2z"/></svg>\');\n          --md-tasklist-icon--checked: url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>\');\n        }\n        '})]);if(!e)return;const a=g.current,n=a.shadowRoot||a.attachShadow({mode:"open"});Array.from(n.children).forEach(e=>n.removeChild(e)),n.appendChild(e),window.scroll({top:0}),K(n.children[0],[e=>(setTimeout(()=>{var e;if(window.location.hash){const t=window.location.hash.slice(1);null==(e=null==n?void 0:n.getElementById(t))||e.scrollIntoView()}},200),e),V({baseUrl:window.location.origin,onClick:(e,t)=>{var a;const r=new URL(t);N&&O&&k(!1),r.hash?(p(`${r.pathname}${r.hash}`),null==(a=null==n?void 0:n.getElementById(r.hash.slice(1)))||a.scrollIntoView()):p(r.pathname)}}),H({docStorageUrl:u.getApiOrigin(),onLoading:e=>{e.style.setProperty("opacity","0")},onLoaded:e=>{var t;e.style.removeProperty("opacity"),null==(t=e.querySelector(".md-nav__title"))||t.removeAttribute("for");const a=Array.from(n.querySelectorAll(".md-sidebar"));m(a);const r=e.getBoundingClientRect().top,i=e.querySelector(".md-container > .md-tabs");a.forEach(e=>{e.style.top=i?r+i.getBoundingClientRect().height+"px":r+"px"})}})])},[T,p,t,g,u,c.typography.fontFamily,c.palette.text.primary,c.palette.primary.main,c.palette.background.paper,c.palette.background.default,N,O,x]),C&&!S&&!z||A){let e="";return C&&(e+=" Load error: "+C),A&&(e+=" Build error: "+A),y.a.createElement(ee,{errorMessage:e})}return y.a.createElement(y.a.Fragment,null,N&&!O?y.a.createElement(h.a,{variant:"outlined",severity:"info"},"A newer version of this documentation is being prepared and will be available shortly."):null,N&&O?y.a.createElement(h.a,{variant:"outlined",severity:"success"},"A newer version of this documentation is now available, please refresh to view."):null,z||C&&S?y.a.createElement(te,null):null,y.a.createElement("div",{"data-testid":"techdocs-content-shadowroot",ref:g}))};const ne=({entities:e,title:t})=>{const[,a]=Object(v.a)();if(!e)return null;const r=e.map(e=>{var t,a,n;return{name:e.metadata.name,description:e.metadata.description,owner:null==(t=null==e?void 0:e.spec)?void 0:t.owner,type:null==(a=null==e?void 0:e.spec)?void 0:a.type,docsUrl:Object(b.g)(_.path,{namespace:null!=(n=e.metadata.namespace)?n:"default",kind:e.kind,name:e.metadata.name})}}),i=[{title:"Document",field:"name",highlight:!0,render:e=>y.a.createElement(n.V,{value:y.a.createElement(n.w,{to:e.docsUrl},e.name),subvalue:e.description})},{title:"Owner",field:"owner"},{title:"Type",field:"type"},{title:"Actions",width:"10%",render:e=>y.a.createElement(l.a,{title:"Click to copy documentation link to clipboard"},y.a.createElement(c.a,{onClick:()=>a(`${window.location.href}/${e.docsUrl}`)},y.a.createElement(A.a,null)))}];return y.a.createElement(y.a.Fragment,null,r&&r.length>0?y.a.createElement(n.Z,{options:{paging:!0,pageSize:20,search:!0},data:r,columns:i,title:t?`${t} (${r.length})`:`All (${r.length})`}):y.a.createElement(n.k,{missing:"data",title:"No documents to show",description:"Create your own document. Check out our Getting Started Information",action:y.a.createElement(n.d,{color:"primary",href:"#",to:"https://backstage.io/docs/features/techdocs/getting-started",variant:"contained"},"DOCS")}))};var re=Object.freeze({__proto__:null,DocsTable:ne});const ie=({entities:e})=>e?y.a.createElement(n.t,{"data-testid":"docs-explore"},(null==e?void 0:e.length)?e.map((e,t)=>{var a;return y.a.createElement(u.a,{key:t},y.a.createElement(d.a,null,y.a.createElement(n.u,{title:e.metadata.name})),y.a.createElement(m.a,null,e.metadata.description),y.a.createElement(p.a,null,y.a.createElement(n.d,{to:Object(b.g)(_.path,{namespace:null!=(a=e.metadata.namespace)?a:"default",kind:e.kind,name:e.metadata.name}),color:"primary"},"Read Docs")))}):null):null;var oe=Object.freeze({__proto__:null,DocsCardGrid:ie});const se={DocsTable:ne,DocsCardGrid:ie},le=({config:e,entities:t,index:a})=>{const r=Object(g.a)({panelContainer:{marginBottom:"2rem",...e.panelCSS?e.panelCSS:{}}})(),i=se[e.panelType],o=t.filter(e.filterPredicate);return y.a.createElement(y.a.Fragment,null,y.a.createElement(n.h,{title:e.title,description:e.description},0===a?y.a.createElement(n.W,null,"Discover documentation in your ecosystem."):null),y.a.createElement("div",{className:r.panelContainer},y.a.createElement(i,{entities:o})))},ce=({tabsConfig:e})=>{var t;const[a,r]=Object(f.useState)(0),i=Object(n.Ab)(O.e),o=Object(n.Ab)(n.fb),{value:s,loading:l,error:c}=Object(j.a)(async()=>(await i.getEntities()).items.filter(e=>{var t;return!!(null==(t=e.metadata.annotations)?void 0:t["backstage.io/techdocs-ref"])})),u="Documentation available in "+(null!=(t=o.getOptionalString("organization.name"))?t:"Backstage"),d=e[a];return l?y.a.createElement(n.B,{themeId:"documentation"},y.a.createElement(n.o,{title:"Documentation",subtitle:u}),y.a.createElement(n.g,null,y.a.createElement(n.C,null))):c?y.a.createElement(n.B,{themeId:"documentation"},y.a.createElement(n.o,{title:"Documentation",subtitle:u}),y.a.createElement(n.g,null,y.a.createElement(n.ab,{severity:"error",title:"Could not load available documentation."},y.a.createElement(n.f,{language:"text",text:c.toString()})))):y.a.createElement(n.B,{themeId:"documentation"},y.a.createElement(n.o,{title:"Documentation",subtitle:u}),y.a.createElement(n.r,{selectedIndex:a,onChange:e=>r(e),tabs:e.map(({label:e},t)=>({id:t.toString(),label:e}))}),y.a.createElement(n.g,null,d.panels.map((e,t)=>y.a.createElement(le,{key:t,config:e,entities:s||[],index:t}))))};var ue=Object.freeze({__proto__:null,TechDocsCustomHome:ce});const de=()=>{const{value:e}=function(){const e=Object(n.Ab)(O.e),t=Object(n.Ab)(n.ub);return Object(j.a)(()=>e.getEntityByName({kind:"User",namespace:"default",name:t.getUserId()}),[e,t])}(),t=[{label:"Overview",panels:[{title:"Overview",description:"Explore your internal technical ecosystem through documentation.",panelType:"DocsCardGrid",filterPredicate:()=>!0}]},{label:"Owned Documents",panels:[{title:"Owned documents",description:"Access your documentation.",panelType:"DocsTable",filterPredicate:t=>!!e&&Object(O.l)(e,t)}]}];return y.a.createElement(ce,{tabsConfig:t})},me=({entityId:e,metadataRequest:t})=>{const{techdocs:a,entity:r}=t,{value:i}=a,{value:o}=r,{name:s}=e,{site_name:l,site_description:c}=i||{},{locationMetadata:u,spec:{lifecycle:d}}=o||{spec:{}},m=o?Object(O.k)(o,T.l):[],p=Object(n.Db)(U)(),g=y.a.createElement(y.a.Fragment,null,y.a.createElement(n.q,{label:"Component",value:y.a.createElement(O.b,{color:"inherit",entityRef:e,defaultKind:"Component"})}),m.length>0&&y.a.createElement(n.q,{label:"Owner",value:y.a.createElement(O.c,{color:"inherit",entityRefs:m,defaultKind:"group"})}),d?y.a.createElement(n.q,{label:"Lifecycle",value:d}):null,u&&"dir"!==u.type&&"file"!==u.type?y.a.createElement(n.q,{label:"",value:y.a.createElement("a",{href:u.target,target:"_blank",rel:"noopener noreferrer"},y.a.createElement(C.a,{style:{marginTop:"-25px",fill:"#fff"}}))}):null);return y.a.createElement(n.o,{title:l||".",pageTitleOverride:l||s,subtitle:c&&"None"!==c?c:"",type:"Docs",typeLink:p},g)},pe=()=>{const[e,t]=Object(f.useState)(!1),{namespace:a,kind:r,name:i}=Object(b.n)(),o=Object(n.Ab)(P),s=Object(j.a)(()=>e?o.getTechDocsMetadata({kind:r,namespace:a,name:i}):Promise.resolve(void 0),[r,a,i,o,e]),l=Object(j.a)(()=>o.getEntityMetadata({kind:r,namespace:a,name:i}),[r,a,i,o]),c=Object(f.useCallback)(()=>{t(!0)},[t]);return y.a.createElement(n.B,{themeId:"documentation"},y.a.createElement(me,{metadataRequest:{techdocs:s,entity:l},entityId:{kind:r,namespace:a,name:i}}),y.a.createElement(n.g,{"data-testid":"techdocs-content"},y.a.createElement(ae,{onReady:c,entityId:{kind:r,namespace:a,name:i}})))};var ge=Object.freeze({__proto__:null,TechDocsPage:pe});const he=({entity:e})=>{var t;return y.a.createElement(ae,{entityId:{kind:e.kind,namespace:null!=(t=e.metadata.namespace)?t:"default",name:e.metadata.name}})};var fe=Object.freeze({__proto__:null,Router:()=>y.a.createElement(b.f,null,y.a.createElement(b.d,{path:"/"+U.path,element:y.a.createElement(de,null)}),y.a.createElement(b.d,{path:"/"+_.path,element:y.a.createElement(pe,null)})),EmbeddedDocsRouter:e=>{var t;const{entity:a}=Object(O.n)();return(null==(t=a.metadata.annotations)?void 0:t["backstage.io/techdocs-ref"])?y.a.createElement(b.f,null,y.a.createElement(b.d,{path:"/"+Q.path,element:y.a.createElement(he,{entity:a})})):y.a.createElement(n.y,{annotation:"backstage.io/techdocs-ref"})}})},395:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const n=a(962),r=a(963),i=a(491),o=a(41),s=a(65);var l;function c(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(n.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}!function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(l=t.DataType||(t.DataType={})),t.getSchemaTypes=function(e){const t=c(e.type);if(t.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},t.getJSONTypes=c,t.coerceAndCheckDataType=function(e,t){const{gen:a,data:n,opts:i}=e,s=function(e,t){return t?e.filter(e=>u.has(e)||"array"===t&&"array"===e):[]}(t,i.coerceTypes),c=t.length>0&&!(0===s.length&&1===t.length&&r.schemaHasRulesForType(e,t[0]));if(c){const r=m(t,n,i.strict,l.Wrong);a.if(r,()=>{s.length?function(e,t,a){const{gen:n,data:r,opts:i}=e,s=n.let("dataType",o._`typeof ${r}`),l=n.let("coerced",o._`undefined`);"array"===i.coerceTypes&&n.if(o._`${s} == 'object' && Array.isArray(${r}) && ${r}.length == 1`,()=>n.assign(r,o._`${r}[0]`).assign(s,o._`typeof ${r}`).if(m(t,r,i.strict),()=>n.assign(l,r)));n.if(o._`${l} !== undefined`);for(const e of a)(u.has(e)||"array"===e&&"array"===i.coerceTypes)&&c(e);function c(e){switch(e){case"string":return void n.elseIf(o._`${s} == "number" || ${s} == "boolean"`).assign(l,o._`"" + ${r}`).elseIf(o._`${r} === null`).assign(l,o._`""`);case"number":return void n.elseIf(o._`${s} == "boolean" || ${r} === null
              || (${s} == "string" && ${r} && ${r} == +${r})`).assign(l,o._`+${r}`);case"integer":return void n.elseIf(o._`${s} === "boolean" || ${r} === null
              || (${s} === "string" && ${r} && ${r} == +${r} && !(${r} % 1))`).assign(l,o._`+${r}`);case"boolean":return void n.elseIf(o._`${r} === "false" || ${r} === 0 || ${r} === null`).assign(l,!1).elseIf(o._`${r} === "true" || ${r} === 1`).assign(l,!0);case"null":return n.elseIf(o._`${r} === "" || ${r} === 0 || ${r} === false`),void n.assign(l,null);case"array":n.elseIf(o._`${s} === "string" || ${s} === "number"
              || ${s} === "boolean" || ${r} === null`).assign(l,o._`[${r}]`)}}n.else(),g(e),n.endIf(),n.if(o._`${l} !== undefined`,()=>{n.assign(r,l),function({gen:e,parentData:t,parentDataProperty:a},n){e.if(o._`${t} !== undefined`,()=>e.assign(o._`${t}[${a}]`,n))}(e,l)})}(e,t,s):g(e)})}return c};const u=new Set(["string","number","integer","boolean","null"]);function d(e,t,a,n=l.Correct){const r=n===l.Correct?o.operators.EQ:o.operators.NEQ;let i;switch(e){case"null":return o._`${t} ${r} null`;case"array":i=o._`Array.isArray(${t})`;break;case"object":i=o._`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":i=s(o._`!(${t} % 1) && !isNaN(${t})`);break;case"number":i=s();break;default:return o._`typeof ${t} ${r} ${e}`}return n===l.Correct?i:o.not(i);function s(e=o.nil){return o.and(o._`typeof ${t} == "number"`,e,a?o._`isFinite(${t})`:o.nil)}}function m(e,t,a,n){if(1===e.length)return d(e[0],t,a,n);let r;const i=s.toHash(e);if(i.array&&i.object){const e=o._`typeof ${t} != "object"`;r=i.null?e:o._`!${t} || ${e}`,delete i.null,delete i.array,delete i.object}else r=o.nil;i.number&&delete i.integer;for(const e in i)r=o.and(r,d(e,t,a,n));return r}t.checkDataType=d,t.checkDataTypes=m;const p={message:({schema:e})=>o.str`should be ${e}`,params:({schema:e,schemaValue:t})=>"string"==typeof e?o._`{type: ${e}}`:o._`{type: ${t}}`};function g(e){const t=function(e){const{gen:t,data:a,schema:n}=e,r=s.schemaRefOrVal(e,n,"type");return{gen:t,keyword:"type",data:a,schema:n.type,schemaCode:r,schemaValue:r,parentSchema:n,params:{},it:e}}(e);i.reportError(t,p)}t.reportTypeError=g},41:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const n=a(675),r=a(964);var i=a(675);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return i._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return i.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return i.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return i.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return i.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return i.stringify}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return i.Name}});var o=a(964);Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return o.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return o.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return o.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return o.varKinds}}),t.operators={GT:new n._Code(">"),GTE:new n._Code(">="),LT:new n._Code("<"),LTE:new n._Code("<="),EQ:new n._Code("==="),NEQ:new n._Code("!=="),NOT:new n._Code("!"),OR:new n._Code("||"),AND:new n._Code("&&"),ADD:new n._Code("+")};class s{optimizeNodes(){return this}optimizeNames(e,t){return this}}class l extends s{constructor(e,t,a){super(),this.varKind=e,this.name=t,this.rhs=a}render({es5:e,_n:t}){const a=e?r.varKinds.var:this.varKind,n=void 0===this.rhs?"":" = "+this.rhs;return`${a} ${this.name}${n};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=A(this.rhs,e,t)),this}get names(){return this.rhs instanceof n._CodeOrName?this.rhs.names:{}}}class c extends s{constructor(e,t,a){super(),this.lhs=e,this.rhs=t,this.sideEffects=a}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof n.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=A(this.rhs,e,t),this}get names(){return S(this.lhs instanceof n.Name?{}:{...this.lhs.names},this.rhs)}}class u extends c{constructor(e,t,a,n){super(e,a,n),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class d extends s{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return this.label+":"+e}}class m extends s{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?" "+this.label:""};`+e}}class p extends s{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class g extends s{constructor(e){super(),this.code=e}render({_n:e}){return this.code+";"+e}optimizeNodes(){return""+this.code?this:void 0}optimizeNames(e,t){return this.code=A(this.code,e,t),this}get names(){return this.code instanceof n._CodeOrName?this.code.names:{}}}class h extends s{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((t,a)=>t+a.render(e),"")}optimizeNodes(){const{nodes:e}=this;let t=e.length;for(;t--;){const a=e[t].optimizeNodes();Array.isArray(a)?e.splice(t,1,...a):a?e[t]=a:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){const{nodes:a}=this;let n=a.length;for(;n--;){const r=a[n];r.optimizeNames(e,t)||(T(e,r.names),a.splice(n,1))}return a.length>0?this:void 0}get names(){return this.nodes.reduce((e,t)=>O(e,t.names),{})}}class f extends h{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class y extends h{}class b extends f{}b.kind="else";class M extends f{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new b(e):e}return t?!1===e?t instanceof M?t:t.nodes:this.nodes.length?this:new M(z(e),t instanceof M?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var a;if(this.else=null===(a=this.else)||void 0===a?void 0:a.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=A(this.condition,e,t),this}get names(){const e=super.names;return S(e,this.condition),this.else&&O(e,this.else.names),e}}M.kind="if";class I extends f{}I.kind="for";class j extends I{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=A(this.iteration,e,t),this}get names(){return O(super.names,this.iteration.names)}}class v extends I{constructor(e,t,a,n){super(),this.varKind=e,this.name=t,this.from=a,this.to=n}render(e){const t=e.es5?r.varKinds.var:this.varKind,{name:a,from:n,to:i}=this;return`for(${t} ${a}=${n}; ${a}<${i}; ${a}++)`+super.render(e)}get names(){const e=S(super.names,this.from);return S(e,this.to)}}class E extends I{constructor(e,t,a,n){super(),this.loop=e,this.varKind=t,this.name=a,this.iterable=n}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=A(this.iterable,e,t),this}get names(){return O(super.names,this.iterable.names)}}class w extends f{constructor(e,t,a){super(),this.name=e,this.args=t,this.async=a}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}}w.kind="func";class N extends h{render(e){return"return "+super.render(e)}}N.kind="return";class k extends f{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var a,n;return super.optimizeNames(e,t),null===(a=this.catch)||void 0===a||a.optimizeNames(e,t),null===(n=this.finally)||void 0===n||n.optimizeNames(e,t),this}get names(){const e=super.names;return this.catch&&O(e,this.catch.names),this.finally&&O(e,this.finally.names),e}}class x extends f{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}x.kind="catch";class D extends f{render(e){return"finally"+super.render(e)}}D.kind="finally";function O(e,t){for(const a in t)e[a]=(e[a]||0)+(t[a]||0);return e}function S(e,t){return t instanceof n._CodeOrName?O(e,t.names):e}function A(e,t,a){return e instanceof n.Name?i(e):(r=e)instanceof n._Code&&r._items.some(e=>e instanceof n.Name&&1===t[e.str]&&void 0!==a[e.str])?new n._Code(e._items.reduce((e,t)=>(t instanceof n.Name&&(t=i(t)),t instanceof n._Code?e.push(...t._items):e.push(t),e),[])):e;var r;function i(e){const n=a[e.str];return void 0===n||1!==t[e.str]?e:(delete t[e.str],n)}}function T(e,t){for(const a in t)e[a]=(e[a]||0)-(t[a]||0)}function z(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:n._`!${$(e)}`}t.CodeGen=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new r.Scope({parent:e}),this._nodes=[new y]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const a=this._extScope.value(e,t);return(this._values[a.prefix]||(this._values[a.prefix]=new Set)).add(a),a}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,a,n){const r=this._scope.toName(t);return void 0!==a&&n&&(this._constants[r.str]=a),this._leafNode(new l(e,r,a)),r}const(e,t,a){return this._def(r.varKinds.const,e,t,a)}let(e,t,a){return this._def(r.varKinds.let,e,t,a)}var(e,t,a){return this._def(r.varKinds.var,e,t,a)}assign(e,t,a){return this._leafNode(new c(e,t,a))}add(e,a){return this._leafNode(new u(e,t.operators.ADD,a))}code(e){return"function"==typeof e?e():e!==n.nil&&this._leafNode(new g(e)),this}object(...e){const t=["{"];for(const[a,r]of e)t.length>1&&t.push(","),t.push(a),(a!==r||this.opts.es5)&&(t.push(":"),n.addCodeArg(t,r));return t.push("}"),new n._Code(t)}if(e,t,a){if(this._blockNode(new M(e)),t&&a)this.code(t).else().code(a).endIf();else if(t)this.code(t).endIf();else if(a)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new M(e))}else(){return this._elseNode(new b)}endIf(){return this._endBlockNode(M,b)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new j(e),t)}forRange(e,t,a,n,i=(this.opts.es5?r.varKinds.var:r.varKinds.let)){const o=this._scope.toName(e);return this._for(new v(i,o,t,a),()=>n(o))}forOf(e,t,a,i=r.varKinds.const){const o=this._scope.toName(e);if(this.opts.es5){const e=t instanceof n.Name?t:this.var("_arr",t);return this.forRange("_i",0,n._`${e}.length`,t=>{this.var(o,n._`${e}[${t}]`),a(o)})}return this._for(new E("of",i,o,t),()=>a(o))}forIn(e,t,a,i=(this.opts.es5?r.varKinds.var:r.varKinds.const)){if(this.opts.ownProperties)return this.forOf(e,n._`Object.keys(${t})`,a);const o=this._scope.toName(e);return this._for(new E("in",i,o,t),()=>a(o))}endFor(){return this._endBlockNode(I)}label(e){return this._leafNode(new d(e))}break(e){return this._leafNode(new m(e))}return(e){const t=new N;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(N)}try(e,t,a){if(!t&&!a)throw new Error('CodeGen: "try" without "catch" and "finally"');const n=new k;if(this._blockNode(n),this.code(e),t){const e=this.name("e");this._currNode=n.catch=new x(e),t(e)}return a&&(this._currNode=n.finally=new D,this.code(a)),this._endBlockNode(x,D)}throw(e){return this._leafNode(new p(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){const t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");const a=this._nodes.length-t;if(a<0||void 0!==e&&a!==e)throw new Error(`CodeGen: wrong number of nodes: ${a} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=n.nil,a,r){return this._blockNode(new w(e,t,a)),r&&this.code(r).endFunc(),this}endFunc(){return this._endBlockNode(w)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){const a=this._currNode;if(a instanceof e||t&&a instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof M))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}},t.not=z;const C=P(t.operators.AND);t.and=function(...e){return e.reduce(C)};const L=P(t.operators.OR);function P(e){return(t,a)=>t===n.nil?a:a===n.nil?t:n._`${$(t)} ${e} ${$(a)}`}function $(e){return e instanceof n.Name?e:n._`(${e})`}t.or=function(...e){return e.reduce(L)}},410:function(e,t,a){"use strict";a.d(t,"a",(function(){return I})),a.d(t,"b",(function(){return h})),a.d(t,"c",(function(){return M})),a.d(t,"d",(function(){return f}));var n=a(278),r=a(274),i=a(527);const o={wave:"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='1368' height='400' fill='none'%3e%3cmask id='a' width='1368' height='401' x='0' y='0' maskUnits='userSpaceOnUse'%3e%3cpath fill='url(%23paint0_linear)' d='M437 116C223 116 112 0 112 0h1256v400c-82 0-225-21-282-109-112-175-436-175-649-175z'/%3e%3cpath fill='url(%23paint1_linear)' d='M1368 400V282C891-29 788 40 711 161 608 324 121 372 0 361v39h1368z'/%3e%3cpath fill='url(%23paint2_linear)' d='M1368 244v156H0V94c92-24 198-46 375 0l135 41c176 51 195 109 858 109z'/%3e%3cpath fill='url(%23paint3_linear)' d='M1252 400h116c-14-7-35-14-116-16-663-14-837-128-1013-258l-85-61C98 28 46 8 0 0v400h1252z'/%3e%3c/mask%3e%3cg mask='url(%23a)'%3e%3cpath fill='white' d='M-172-98h1671v601H-172z'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient id='paint0_linear' x1='602' x2='1093.5' y1='-960.5' y2='272' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint1_linear' x1='482' x2='480' y1='1058.5' y2='70.5' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint2_linear' x1='424' x2='446.1' y1='-587.5' y2='274.6' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint3_linear' x1='587' x2='349' y1='-1120.5' y2='341' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e\")",wave2:"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='1368' height='400' fill='none'%3e%3cmask id='a' width='1764' height='479' x='-229' y='-6' maskUnits='userSpaceOnUse'%3e%3cpath fill='url(%23paint0_linear)' d='M0 400h1350C1321 336 525 33 179-2c-345-34-395 236-408 402H0z'/%3e%3cpath fill='url(%23paint1_linear)' d='M1378 177v223H0V217s219 75 327 52C436 246 717-35 965 45s254 144 413 132z'/%3e%3cpath fill='url(%23paint2_linear)' d='M26 400l-78-16c-170 205-44-6-137-30l-4-1 4 1 137 30c37-45 89-110 159-201 399-514-45 238 1176-50 275-65 354-39 91 267H26z'/%3e%3c/mask%3e%3cg mask='url(%23a)'%3e%3cpath fill='white' d='M0 0h1368v400H0z'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient id='paint0_linear' x1='431' x2='397.3' y1='-599' y2='372.8' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint1_linear' x1='236.5' x2='446.6' y1='-586' y2='381.5' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint2_linear' x1='851.8' x2='640.4' y1='-867.2' y2='363.7' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e\")",round:"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='1368' height='400' fill='none'%3e%3cmask id='a' width='2269' height='1408' x='-610' y='-509' maskUnits='userSpaceOnUse'%3e%3ccircle cx='1212.8' cy='74.8' r='317.5' fill='url(%23paint0_linear)' transform='rotate(-52 1213 75)'/%3e%3ccircle cx='737.8' cy='445.8' r='317.5' fill='url(%23paint1_linear)' transform='rotate(-116 738 446)'/%3e%3ccircle cx='601.8' cy='52.8' r='418.6' fill='url(%23paint2_linear)' transform='rotate(-117 602 53)'/%3e%3ccircle cx='999.8' cy='364' r='389.1' fill='url(%23paint3_linear)' transform='rotate(31 1000 364)'/%3e%3cellipse cx='-109.2' cy='263.5' fill='url(%23paint4_linear)' rx='429.2' ry='465.8' transform='rotate(-85 -109 264)'/%3e%3c/mask%3e%3cg mask='url(%23a)'%3e%3cpath fill='white' d='M0 0h1368v400H0z'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient id='paint0_linear' x1='1301.2' x2='161.4' y1='-1879.7' y2='-969.6' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint1_linear' x1='826.2' x2='-313.6' y1='-1508.7' y2='-598.6' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint2_linear' x1='718.4' x2='-784.3' y1='-2524' y2='-1324.2' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint3_linear' x1='1108.2' x2='-288.6' y1='-2031.1' y2='-915.9' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint4_linear' x1='10.4' x2='-1626.5' y1='-2603.8' y2='-1399.5' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e\")"},s=["#171717","#383838"],l=["#006D8F","#0049A1"],c=["#0027AF","#270094"],u=["#98002B","#8D1134"],d=["#BE2200","#A41D00"],m=["#8912CA","#3E00EA"],p=["#005B4B"],g=["#C8077A","#C2297D"];function h(e,t){return{colors:e,shape:t,backgroundImage:`${t},  ${`linear-gradient(90deg, ${(1===e.length?[e[0],e[0]]:e).join(", ")})`}`}}const f={home:h(p,o.wave),documentation:h(g,o.wave2),tool:h(m,o.round),service:h(l,o.wave),website:h(c,o.wave),library:h(u,o.wave),other:h(s,o.wave),app:h(d,o.wave),apis:h(p,o.wave2)},y='"Helvetica Neue", Helvetica, Roboto, Arial, sans-serif';function b(e){const t=function(e){const{palette:t,fontFamily:a=y,defaultPageTheme:n,pageTheme:r=f}=e;if(!r[n])throw new Error(n+" is not defined in pageTheme.");return{palette:t,props:{MuiGrid:{spacing:2},MuiSwitch:{color:"primary"}},typography:{fontFamily:a,h5:{fontWeight:700},h4:{fontWeight:700,fontSize:28,marginBottom:6},h3:{fontSize:32,fontWeight:700,marginBottom:6},h2:{fontSize:40,fontWeight:700,marginBottom:8},h1:{fontSize:54,fontWeight:700,marginBottom:10}},page:r[n],getPageTheme:({themeId:e})=>{var t;return null!=(t=r[e])?t:r[n]}}}(e),a=Object(n.a)(t),i=function(e){return{MuiCssBaseline:{"@global":{html:{height:"100%",fontFamily:e.typography.fontFamily},body:{height:"100%",fontFamily:e.typography.fontFamily,"overscroll-behavior-y":"none"},a:{color:"inherit",textDecoration:"none"}}},MuiTableRow:{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}},hover:{"&:hover":{cursor:"pointer"}},head:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.paper}}},MuiTableCell:{root:{wordBreak:"break-word",overflow:"hidden",verticalAlign:"middle",lineHeight:"1",margin:0,padding:e.spacing(3,2,3,2.5),borderBottom:0},sizeSmall:{padding:e.spacing(1.5,2,1.5,2.5)},head:{wordBreak:"break-word",overflow:"hidden",color:"rgb(179, 179, 179)",fontWeight:"normal",lineHeight:"1"}},MuiTabs:{root:{minHeight:24}},MuiTab:{root:{color:e.palette.link,minHeight:24,textTransform:"initial",letterSpacing:"0.07em","&:hover":{color:Object(r.darken)(e.palette.link,.3),background:Object(r.lighten)(e.palette.link,.95)},[e.breakpoints.up("md")]:{minWidth:120,fontSize:e.typography.pxToRem(14),fontWeight:500}},textColorPrimary:{color:e.palette.link}},MuiTableSortLabel:{root:{color:"inherit","&:hover":{color:"inherit"},"&:focus":{color:"inherit"}},active:{fontWeight:"bold",color:"inherit"}},MuiListItemText:{dense:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},MuiButton:{text:{padding:void 0}},MuiChip:{root:{backgroundColor:"#D9D9D9",marginRight:e.spacing(1),marginBottom:e.spacing(1),color:e.palette.grey[900]},outlined:{color:e.palette.text.primary},label:{lineHeight:e.spacing(2.5)+"px",fontWeight:e.typography.fontWeightMedium,fontSize:e.spacing(1.75)+"px"},labelSmall:{fontSize:e.spacing(1.5)+"px"},deleteIcon:{color:e.palette.grey[500],width:e.spacing(3)+"px",height:e.spacing(3)+"px",margin:`0 ${e.spacing(.75)}px 0 -${e.spacing(.75)}px`},deleteIconSmall:{width:e.spacing(2)+"px",height:e.spacing(2)+"px",margin:`0 ${e.spacing(.5)}px 0 -${e.spacing(.5)}px`}},MuiCard:{root:{display:"flex",flexDirection:"column"}},MuiCardHeader:{root:{paddingBottom:0}},MuiCardContent:{root:{flexGrow:1,"&:last-child":{paddingBottom:void 0}}},MuiCardActions:{root:{justifyContent:"flex-end"}}}}(a);return{...a,overrides:i}}const M=b({palette:{type:"light",background:{default:"#F8F8F8"},status:{ok:"#1DB954",warning:"#FF9800",error:"#E22134",running:"#2E77D0",pending:"#FFED51",aborted:"#757575"},bursts:{fontColor:"#FEFEFE",slackChannelText:"#ddd",backgroundColor:{default:"#7C3699"}},primary:{main:"#2E77D0"},banner:{info:"#2E77D0",error:"#E22134",text:"#FFFFFF",link:"#000000"},border:"#E6E6E6",textContrast:"#000000",textVerySubtle:"#DDD",textSubtle:"#6E6E6E",highlight:"#FFFBCC",errorBackground:"#FFEBEE",warningBackground:"#F59B23",infoBackground:"#ebf5ff",errorText:"#CA001B",infoText:"#004e8a",warningText:"#000000",linkHover:"#2196F3",link:"#0A6EBE",gold:i.a.A700,navigation:{background:"#171717",indicator:"#9BF0E1",color:"#b5b5b5",selectedColor:"#FFF"},pinSidebarButton:{icon:"#181818",background:"#BDBDBD"},tabbar:{indicator:"#9BF0E1"}},defaultPageTheme:"home",pageTheme:f}),I=b({palette:{type:"dark",background:{default:"#333333"},status:{ok:"#71CF88",warning:"#FFB84D",error:"#F84C55",running:"#3488E3",pending:"#FEF071",aborted:"#9E9E9E"},bursts:{fontColor:"#FEFEFE",slackChannelText:"#ddd",backgroundColor:{default:"#7C3699"}},primary:{main:"#9CC9FF",dark:"#82BAFD"},secondary:{main:"#FF88B2"},banner:{info:"#2E77D0",error:"#E22134",text:"#FFFFFF",link:"#000000"},border:"#E6E6E6",textContrast:"#FFFFFF",textVerySubtle:"#727272",textSubtle:"#CCCCCC",highlight:"#FFFBCC",errorBackground:"#FFEBEE",warningBackground:"#F59B23",infoBackground:"#ebf5ff",errorText:"#CA001B",infoText:"#004e8a",warningText:"#000000",linkHover:"#82BAFD",link:"#9CC9FF",gold:i.a.A700,navigation:{background:"#424242",indicator:"#9BF0E1",color:"#b5b5b5",selectedColor:"#FFF"},pinSidebarButton:{icon:"#404040",background:"#BDBDBD"},tabbar:{indicator:"#9BF0E1"}},defaultPageTheme:"home",pageTheme:f})},437:function(e,t,a){"use strict";a(3),a(139),a(159),a(276);var n=a(296);a.d(t,"a",(function(){return n.a})),a.d(t,"b",(function(){return n.c}))},490:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getData=void 0;const n=a(395),r=a(65),i=a(491),o=a(41),s=a(185),l=a(309);t.default=class{constructor(e,t,a){if(function({schema:e,opts:t,self:a},n,r){if(Array.isArray(n.keyword)?!n.keyword.includes(r):n.keyword!==r)throw new Error("ajv implementation error");const i=n.dependencies;if(null==i?void 0:i.some(t=>!Object.prototype.hasOwnProperty.call(e,t)))throw new Error(`parent schema must have dependencies of ${r}: ${i.join(",")}`);if(n.validateSchema){if(!n.validateSchema(e[r])){const e="keyword value is invalid: "+a.errorsText(n.validateSchema.errors);if("log"!==t.validateSchema)throw new Error(e);a.logger.error(e)}}}(e,t,a),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=a,this.data=e.data,this.schema=e.schema[a],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=r.schemaRefOrVal(e,this.schema,a,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",d(this.$data,e));else if(this.schemaCode=this.schemaValue,!function(e,t,a=!1){return!t.length||t.some(t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||a&&void 0===e)}(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${a} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",s.default.errors))}result(e,t,a){this.gen.if(o.not(e)),a?a():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.result(e,void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail(o._`${t} !== undefined && (${o.or(this.invalid$data(),e)})`)}error(e){(e?i.reportExtraError:i.reportError)(this,this.def.error)}$dataError(){i.reportError(this,this.def.$dataError||i.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');i.resetErrorsCount(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,a=o.nil){this.gen.block(()=>{this.check$data(e,a),t()})}check$data(e=o.nil,t=o.nil){if(!this.$data)return;const{gen:a,schemaCode:n,schemaType:r,def:i}=this;a.if(o.or(o._`${n} === undefined`,t)),e!==o.nil&&a.assign(e,!0),(r.length||i.validateSchema)&&(a.elseIf(this.invalid$data()),this.$dataError(),e!==o.nil&&a.assign(e,!1)),a.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:a,def:r,it:i}=this;return o.or(function(){if(a.length){if(!(t instanceof o.Name))throw new Error("ajv implementation error");const e=Array.isArray(a)?a:[a];return o._`${n.checkDataTypes(e,t,i.opts.strict,n.DataType.Wrong)}`}return o.nil}(),function(){if(r.validateSchema){const a=e.scopeValue("validate$data",{ref:r.validateSchema});return o._`!${a}(${t})`}return o.nil}())}subschema(e,t){return l.applySubschema(this.it,e,t)}mergeEvaluated(e,t){const{it:a,gen:n}=this;a.opts.unevaluated&&(!0!==a.props&&void 0!==e.props&&(a.props=r.mergeEvaluated.props(n,e.props,a.props,t)),!0!==a.items&&void 0!==e.items&&(a.items=r.mergeEvaluated.items(n,e.items,a.items,t)))}mergeValidEvaluated(e,t){const{it:a,gen:n}=this;if(a.opts.unevaluated&&(!0!==a.props||!0!==a.items))return n.if(t,()=>this.mergeEvaluated(e,o.Name)),!0}};const c=/^\/(?:[^~]|~0|~1)*$/,u=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function d(e,{dataLevel:t,dataNames:a,dataPathArr:n}){let i,l;if(""===e)return s.default.rootData;if("/"===e[0]){if(!c.test(e))throw new Error("Invalid JSON-pointer: "+e);i=e,l=s.default.rootData}else{const r=u.exec(e);if(!r)throw new Error("Invalid JSON-pointer: "+e);const o=+r[1];if(i=r[2],"#"===i){if(o>=t)throw new Error(p("property/index",o));return n[t-o]}if(o>t)throw new Error(p("data",o));if(l=a[t-o],!i)return l}let d=l;const m=i.split("/");for(const e of m)e&&(l=o._`${l}${o.getProperty(r.unescapeJsonPointer(e))}`,d=o._`${d} && ${l}`);return d;function p(e,a){return`Cannot access ${e} ${a} levels up, current level is ${t}`}}t.getData=d},491:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const n=a(41),r=a(185);function i(e,t){const a=e.const("err",t);e.if(n._`${r.default.vErrors} === null`,()=>e.assign(r.default.vErrors,n._`[${a}]`),n._`${r.default.vErrors}.push(${a})`),e.code(n._`${r.default.errors}++`)}function o(e,t){const{gen:a,validateName:r,schemaEnv:i}=e;i.$async?a.throw(n._`new ${e.ValidationError}(${t})`):(a.assign(n._`${r}.errors`,t),a.return(!1))}t.keywordError={message:({keyword:e})=>n.str`should pass "${e}" keyword validation`},t.keyword$DataError={message:({keyword:e,schemaType:t})=>t?n.str`"${e}" keyword must be ${t} ($data)`:n.str`"${e}" keyword is invalid ($data)`},t.reportError=function(e,a=t.keywordError,r){const{it:s}=e,{gen:c,compositeRule:u,allErrors:d}=s,m=l(e,a);(null!=r?r:u||d)?i(c,m):o(s,n._`[${m}]`)},t.reportExtraError=function(e,a=t.keywordError){const{it:n}=e,{gen:s,compositeRule:c,allErrors:u}=n;i(s,l(e,a)),c||u||o(n,r.default.vErrors)},t.resetErrorsCount=function(e,t){e.assign(r.default.errors,t),e.if(n._`${r.default.vErrors} !== null`,()=>e.if(t,()=>e.assign(n._`${r.default.vErrors}.length`,t),()=>e.assign(r.default.vErrors,null)))},t.extendErrors=function({gen:e,keyword:t,schemaValue:a,data:i,errsCount:o,it:s}){if(void 0===o)throw new Error("ajv implementation error");const l=e.name("err");e.forRange("i",o,r.default.errors,o=>{e.const(l,n._`${r.default.vErrors}[${o}]`),e.if(n._`${l}.dataPath === undefined`,()=>e.assign(n._`${l}.dataPath`,n.strConcat(r.default.dataPath,s.errorPath))),e.assign(n._`${l}.schemaPath`,n.str`${s.errSchemaPath}/${t}`),s.opts.verbose&&(e.assign(n._`${l}.schema`,a),e.assign(n._`${l}.data`,i))})};const s={keyword:new n.Name("keyword"),schemaPath:new n.Name("schemaPath"),params:new n.Name("params"),propertyName:new n.Name("propertyName"),message:new n.Name("message"),schema:new n.Name("schema"),parentSchema:new n.Name("parentSchema"),instancePath:new n.Name("instancePath")};function l(e,t){const{createErrors:a,opts:r}=e.it;return!1===a?n._`{}`:(r.jtd&&!r.ajvErrors?c:u)(e,t)}function c(e,{message:t}){const{gen:a,keyword:i,it:o}=e,{errorPath:l,errSchemaPath:c,opts:u}=o,d=[[s.instancePath,n.strConcat(r.default.dataPath,l)],[s.schemaPath,n.str`${c}/${i}`]];return u.messages&&d.push([s.message,"function"==typeof t?t(e):t]),a.object(...d)}function u(e,t){const{gen:a,keyword:i,data:o,schemaValue:l,it:c}=e,{topSchemaRef:u,schemaPath:d,errorPath:m,errSchemaPath:p,propertyName:g,opts:h}=c,{params:f,message:y}=t,b=[[s.keyword,i],[r.default.dataPath,n.strConcat(r.default.dataPath,m)],[s.schemaPath,n.str`${p}/${i}`],[s.params,"function"==typeof f?f(e):f||n._`{}`]];return g&&b.push([s.propertyName,g]),h.messages&&b.push([s.message,"function"==typeof y?y(e):y]),h.verbose&&b.push([s.schema,l],[s.parentSchema,n._`${u}${d}`],[r.default.data,o]),a.object(...b)}},492:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;const n=a(65),r=a(225),i=a(2030),o=a(676),s=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);t.inlineRef=function(e,t=!0){return"boolean"==typeof e||(!0===t?!c(e):!!t&&function e(t){let a=0;for(const r in t){if("$ref"===r)return 1/0;if(a++,!s.has(r)&&("object"==typeof t[r]&&n.eachItem(t[r],t=>a+=e(t)),a===1/0))return 1/0}return a}(e)<=t)};const l=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function c(e){for(const t in e){if(l.has(t))return!0;const a=e[t];if(Array.isArray(a)&&a.some(c))return!0;if("object"==typeof a&&c(a))return!0}return!1}function u(e="",t){!1!==t&&(e=p(e));return d(o.parse(e))}function d(e){return o.serialize(e).split("#")[0]+"#"}t.getFullPath=u,t._getFullPath=d;const m=/#\/?$/;function p(e){return e?e.replace(m,""):""}t.normalizeId=p,t.resolveUrl=function(e,t){return t=p(t),o.resolve(e,t)};const g=/^[a-z_][-a-z0-9._]*$/i;t.getSchemaRefs=function(e){if("boolean"==typeof e)return{};const t=p(e.$id),a={"":t},n=u(t,!1),s={},l=new Set;return i(e,{allKeys:!0},(e,t,r,i)=>{if(void 0===i)return;const u=n+t;let m=a[i];function h(t){if(t=p(m?o.resolve(m,t):t),l.has(t))throw d(t);l.add(t);let a=this.refs[t];return"string"==typeof a&&(a=this.refs[a]),"object"==typeof a?c(e,a.schema,t):t!==p(u)&&("#"===t[0]?(c(e,s[t],t),s[t]=e):this.refs[t]=u),t}function f(e){if("string"==typeof e){if(!g.test(e))throw new Error(`invalid anchor "${e}"`);h.call(this,"#"+e)}}"string"==typeof e.$id&&(m=h.call(this,e.$id)),f.call(this,e.$anchor),f.call(this,e.$dynamicAnchor),a[t]=m}),s;function c(e,t,a){if(void 0!==t&&!r(e,t))throw d(a)}function d(e){return new Error(`reference "${e}" resolves to more than one schema`)}}},56:function(e,t,a){"use strict";a.d(t,"a",(function(){return be})),a.d(t,"b",(function(){return ut})),a.d(t,"c",(function(){return dt})),a.d(t,"d",(function(){return Ae})),a.d(t,"e",(function(){return ht})),a.d(t,"f",(function(){return gt})),a.d(t,"g",(function(){return pt})),a.d(t,"h",(function(){return ft})),a.d(t,"i",(function(){return bt})),a.d(t,"j",(function(){return yt})),a.d(t,"k",(function(){return Mt})),a.d(t,"l",(function(){return Fe})),a.d(t,"m",(function(){return He})),a.d(t,"n",(function(){return qe}));var n=a(28),r=a(3),i=a(139),o=a(12),s=a(39),l=a(18),c=a(35),u=a(435),d=a(292),m=a(592),p=a(134),g=a(362),h=a(293),f=a(286),y=a(141),b=a(81),M=a(1324),I=a(1325),j=a(9),v=a(106),E=a(52),w=a(61),N=a(242),k=a(773),x=a(777),D=a(1326),O=a(775),S=a(180),A=a(363),T=a(126),z=a(291),C=(a(294),a(252)),L=a.n(C),P=a(307),$=a.n(P),R=a(271),U=a.n(R),_=a(0),Q=a.n(_),B=a(374),Y=a.n(B),G=a(251),Z=a.n(G),W=a(202),F=a(19),V=a(600),H=a.n(V),q=a(375),J=a.n(q),X=a(601),K=a.n(X),ee=a(150),te=a.n(ee),ae=a(73),ne=a(740),re=a(272),ie=a(609),oe=a.n(ie),se=a(376),le=a.n(se),ce=a(58),ue=(a(607),a(608));function de(e){var t;return null==(t=e.metadata.annotations)?void 0:t[n.a]}const me=Object(s.a)(e=>({value:{fontWeight:"bold",overflow:"hidden",lineHeight:"24px",wordBreak:"break-word"},label:{color:e.palette.text.secondary,textTransform:"uppercase",fontSize:"10px",fontWeight:"bold",letterSpacing:.5,overflow:"hidden",whiteSpace:"nowrap"}})),pe=({label:e,value:t,gridSizes:a,children:n})=>{const r=me(),i=Q.a.Children.count(n)?n:Q.a.createElement(l.a,{variant:"body2",className:r.value},t||"unknown");return Q.a.createElement(c.a,{item:!0,...a},Q.a.createElement(l.a,{variant:"subtitle2",className:r.label},e),i)},ge=Object(s.a)({description:{wordBreak:"break-word"}}),he=({entity:e})=>{var t,a,r,i;const s=ge(),d="system"===e.kind.toLocaleLowerCase("en-US"),m="domain"===e.kind.toLocaleLowerCase("en-US"),p="resource"===e.kind.toLocaleLowerCase("en-US"),g="component"===e.kind.toLocaleLowerCase("en-US"),h=Object(o.k)(e,n.n,{kind:"system"}),f=Object(o.k)(e,n.n,{kind:"component"}),y=Object(o.k)(e,n.n,{kind:"domain"}),b=Object(o.k)(e,n.l);return Q.a.createElement(c.a,{container:!0},Q.a.createElement(pe,{label:"Description",gridSizes:{xs:12}},Q.a.createElement(l.a,{variant:"body2",paragraph:!0,className:s.description},(null==(t=null==e?void 0:e.metadata)?void 0:t.description)||"No description")),Q.a.createElement(pe,{label:"Owner",gridSizes:{xs:12,sm:6,lg:4}},Q.a.createElement(o.c,{entityRefs:b,defaultKind:"group"})),d&&Q.a.createElement(pe,{label:"Domain",value:"No Domain",gridSizes:{xs:12,sm:6,lg:4}},Q.a.createElement(o.c,{entityRefs:y,defaultKind:"domain"})),!d&&!m&&Q.a.createElement(pe,{label:"System",value:"No System",gridSizes:{xs:12,sm:6,lg:4}},Q.a.createElement(o.c,{entityRefs:h,defaultKind:"system"})),g&&f.length>0&&Q.a.createElement(pe,{label:"Parent Component",value:"No Parent Component",gridSizes:{xs:12,sm:6,lg:4}},Q.a.createElement(o.c,{entityRefs:f,defaultKind:"component"})),!d&&!m&&Q.a.createElement(pe,{label:"Type",value:null==(a=null==e?void 0:e.spec)?void 0:a.type,gridSizes:{xs:12,sm:6,lg:4}}),!d&&!m&&!p&&Q.a.createElement(pe,{label:"Lifecycle",value:null==(r=null==e?void 0:e.spec)?void 0:r.lifecycle,gridSizes:{xs:12,sm:6,lg:4}}),Q.a.createElement(pe,{label:"Tags",value:"No Tags",gridSizes:{xs:12,sm:6,lg:4}},((null==(i=null==e?void 0:e.metadata)?void 0:i.tags)||[]).map(e=>Q.a.createElement(u.a,{key:e,size:"small",label:e}))))},fe=({type:e})=>{switch(e){case"github":return Q.a.createElement(Z.a,null);default:return Q.a.createElement(Y.a,null)}},ye=Object(s.a)({gridItemCard:{display:"flex",flexDirection:"column",height:"calc(100% - 10px)",marginBottom:"10px"},gridItemCardContent:{flex:1}});function be({variant:e}){var t;const a=ye(),{entity:s}=Object(o.n)(),l=function(e,t){var a;const r=null==(a=e.metadata.annotations)?void 0:a[n.p];if(r)try{const e=Object(n.u)(r),a=t.byUrl(e.target);return{locationTargetUrl:e.target,integrationType:null==a?void 0:a.type}}catch{return}}(s,Object(r.Ab)(i.b)),c=de(s),u=Object(o.k)(s,n.o),f=Object(o.k)(s,n.h),y=u.length>0||f.length>0,b={label:"View Source",disabled:!l,icon:Q.a.createElement(fe,{type:null==l?void 0:l.integrationType}),href:null==l?void 0:l.locationTargetUrl},M={label:"View TechDocs",disabled:!(null==(t=s.metadata.annotations)?void 0:t["backstage.io/techdocs-ref"]),icon:Q.a.createElement(L.a,null),href:`/docs/${s.metadata.namespace||n.b}/${s.kind}/${s.metadata.name}`},I={title:y?"":"No APIs available",label:"View API",disabled:!y,icon:Q.a.createElement(U.a,null),href:"api"};return Q.a.createElement(d.a,{className:"gridItem"===e?a.gridItemCard:""},Q.a.createElement(m.a,{title:"About",action:Q.a.createElement(p.a,{"aria-label":"Edit",disabled:!c,title:"Edit Metadata",onClick:()=>{window.open(null!=c?c:"#","_blank")}},Q.a.createElement($.a,null)),subheader:Q.a.createElement(r.p,{links:[b,M,I]})}),Q.a.createElement(g.a,null),Q.a.createElement(h.a,{className:"gridItem"===e?a.gridItemCardContent:""},Q.a.createElement(he,{entity:s})))}const Me=Object(s.a)({button:{color:"white"}}),Ie=({UNSTABLE_extraContextMenuItems:e,onUnregisterEntity:t})=>{const[a,n]=Object(_.useState)(),r=Me(),i=()=>{n(void 0)},o=e&&[...e.map(e=>Q.a.createElement(f.a,{key:e.title,onClick:()=>{i(),e.onClick()}},Q.a.createElement(y.a,null,Q.a.createElement(e.Icon,{fontSize:"small"})),Q.a.createElement(b.a,{primary:e.title}))),Q.a.createElement(g.a,{key:"the divider is here!"})];return Q.a.createElement(Q.a.Fragment,null,Q.a.createElement(p.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:e=>{n(e.currentTarget)},"data-testid":"menu-button",className:r.button},Q.a.createElement(J.a,null)),Q.a.createElement(M.a,{open:Boolean(a),onClose:i,anchorEl:a,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},Q.a.createElement(I.a,null,o,Q.a.createElement(f.a,{onClick:()=>{i(),t()}},Q.a.createElement(y.a,null,Q.a.createElement(H.a,{fontSize:"small"})),Q.a.createElement(b.a,{primary:"Unregister entity"})))))},je=Object(j.a)({root:{color:"#f3ba37"}})(te.a),ve=e=>e?"Remove from favorites":"Add to favorites",Ee=e=>e?Q.a.createElement(je,null):Q.a.createElement(K.a,null),we=e=>{const{toggleStarredEntity:t,isStarredEntity:a}=Object(o.r)(),n=a(e.entity);return Q.a.createElement(p.a,{color:"inherit",...e,onClick:()=>t(e.entity)},Q.a.createElement(v.a,{title:ve(n)},Ee(n)))};const Ne=Object(s.a)({advancedButton:{fontSize:"0.7em"}}),ke=({entity:e,onConfirm:t})=>{var a;const i=Object(r.Ab)(r.bb),s=Object(r.Ab)(r.fb),l=Ne(),c=function(e){var t;const a=Object(r.Ab)(o.e),i=null==(t=e.metadata.annotations)?void 0:t[n.d],s=e.metadata.uid,l="bootstrap:bootstrap"===i,c=Object(ae.a)(async()=>{const t=a.getOriginLocationByEntity(e);let r;if(i){const e="metadata.annotations."+n.d;r=a.getEntities({filter:{[e]:i},fields:["kind","metadata.uid","metadata.name","metadata.namespace"]}).then(e=>e.items)}else r=Promise.resolve([]);return Promise.all([t,r]).then(([e,t])=>({location:e,colocatedEntities:t}))},[a,e]),u=Object(_.useCallback)((async function(){const{location:e,colocatedEntities:t}=c.value;await a.removeLocationById(e.id),await Promise.allSettled(t.map(e=>a.removeEntityByUid(e.metadata.uid)))}),[a,c]),d=Object(_.useCallback)((async function(){await a.removeEntityByUid(s)}),[a,s]);if(l)return{type:"bootstrap",location:i,deleteEntity:d};const{loading:m,error:p,value:g}=c;if(m)return{type:"loading"};if(p)return{type:"error",error:p};const{location:h,colocatedEntities:f}=g;return h?{type:"unregister",location:i,colocatedEntities:f.map(n.r),unregisterLocation:u,deleteEntity:d}:{type:"only-delete",deleteEntity:d}}(e),[u,d]=Object(_.useState)(!1),[m,p]=Object(_.useState)(!1),h=null!=(a=s.getOptionalString("app.title"))?a:"Backstage",f=Object(_.useCallback)((async function(){if("unregisterLocation"in c){p(!0);try{await c.unregisterLocation(),t()}catch(e){i.post({message:e.message})}finally{p(!1)}}}),[i,t,c]),y=Object(_.useCallback)((async function(){if("deleteEntity"in c){p(!0);try{await c.deleteEntity(),t()}catch(e){i.post({message:e.message})}finally{p(!1)}}}),[i,t,c]);return"loading"===c.type?Q.a.createElement(r.C,null):"error"===c.type?Q.a.createElement(r.D,{error:c.error}):"bootstrap"===c.type?Q.a.createElement(Q.a.Fragment,null,Q.a.createElement(W.a,{severity:"info"},'You cannot unregister this entity, since it originates from a protected Backstage configuration (location "',c.location,'"). If you believe this is in error, please contact the ',h," ","integrator."),Q.a.createElement(E.a,{marginTop:2},!u&&Q.a.createElement(w.a,{variant:"text",size:"small",color:"primary",className:l.advancedButton,onClick:()=>d(!0)},"Advanced Options"),u&&Q.a.createElement(Q.a.Fragment,null,Q.a.createElement(N.a,null,"You have the option to delete the entity itself from the catalog. Note that this should only be done if you know that the catalog file has been deleted at, or moved from, its origin location. If that is not the case, the entity will reappear shortly as the next refresh round is performed by the catalog."),Q.a.createElement(w.a,{variant:"contained",color:"secondary",disabled:m,onClick:y},"Delete Entity")))):"only-delete"===c.type?Q.a.createElement(Q.a.Fragment,null,Q.a.createElement(N.a,null,"This entity does not seem to originate from a location. You therefore only have the option to delete it outright from the catalog."),Q.a.createElement(w.a,{variant:"contained",color:"secondary",disabled:m,onClick:y},"Delete Entity")):"unregister"===c.type?Q.a.createElement(Q.a.Fragment,null,Q.a.createElement(N.a,null,"This action will unregister the following entities:"),Q.a.createElement(N.a,{component:"ul"},c.colocatedEntities.map(e=>Q.a.createElement("li",{key:`${e.kind}:${e.namespace}/${e.name}`},Q.a.createElement(o.b,{entityRef:e})))),Q.a.createElement(N.a,null,"Located at the following location:"),Q.a.createElement(N.a,{component:"ul"},Q.a.createElement("li",null,c.location)),Q.a.createElement(N.a,null,"To undo, just re-register the entity in ",h,"."),Q.a.createElement(E.a,{marginTop:2},Q.a.createElement(w.a,{variant:"contained",color:"secondary",disabled:m,onClick:f},"Unregister Location"),!u&&Q.a.createElement(E.a,{component:"span",marginLeft:2},Q.a.createElement(w.a,{variant:"text",size:"small",color:"primary",className:l.advancedButton,onClick:()=>d(!0)},"Advanced Options"))),u&&Q.a.createElement(Q.a.Fragment,null,Q.a.createElement(E.a,{paddingTop:4,paddingBottom:4},Q.a.createElement(g.a,null)),Q.a.createElement(N.a,null,"You also have the option to delete the entity itself from the catalog. Note that this should only be done if you know that the catalog file has been deleted at, or moved from, its origin location. If that is not the case, the entity will reappear shortly as the next refresh round is performed by the catalog."),Q.a.createElement(w.a,{variant:"contained",color:"secondary",disabled:m,onClick:y},"Delete Entity"))):Q.a.createElement(W.a,{severity:"error"},"Internal error: Unknown state")},xe=({open:e,onConfirm:t,onClose:a,entity:n})=>Q.a.createElement(k.a,{open:e,onClose:a},Q.a.createElement(x.a,{id:"responsive-dialog-title"},"Are you sure you want to unregister this entity?"),Q.a.createElement(D.a,null,Q.a.createElement(ke,{entity:n,onConfirm:t})),Q.a.createElement(O.a,null,Q.a.createElement(w.a,{onClick:a,color:"primary"},"Cancel"))),De=()=>null;Object(r.db)(De,"core.gatherMountPoints",!0);const Oe=({entity:e,title:t})=>Q.a.createElement(E.a,{display:"inline-flex",alignItems:"center",height:"1em"},t,e&&Q.a.createElement(we,{entity:e})),Se=({entity:e})=>{var t;const a=Object(o.k)(e,n.l);return Q.a.createElement(Q.a.Fragment,null,a.length>0&&Q.a.createElement(r.q,{label:"Owner",value:Q.a.createElement(o.c,{entityRefs:a,defaultKind:"Group",color:"inherit"})}),(null==(t=e.spec)?void 0:t.lifecycle)&&Q.a.createElement(r.q,{label:"Lifecycle",value:e.spec.lifecycle}))},Ae=({UNSTABLE_extraContextMenuItems:e,children:t})=>{var a,i,s;const{kind:l,namespace:c,name:u}=Object(o.o)(),{entity:d,loading:m,error:p}=Object(_.useContext)(o.a),g=function e(t,a){const n=Q.a.createElement(De,{path:"",title:""},Q.a.createElement("div",null)).type;return _.Children.toArray(t).flatMap(t=>{if(!Object(_.isValidElement)(t))return[];if(t.type===_.Fragment)return e(t.props.children,a);if(t.type!==n)throw new Error("Child of EntityLayout must be an EntityLayout.Route");const{path:r,title:i,children:o,if:s,tabProps:l}=t.props;return s&&a&&!s(a)?[]:[{path:r,title:i,children:o,tabProps:l}]})}(t,d),{headerTitle:h,headerType:f}=((e,t,a,r)=>{var i,o,s;const l=null!=(i=null!=e?e:null==r?void 0:r.kind)?i:"",c=null!=(o=null!=t?t:null==r?void 0:r.metadata.namespace)?o:"";return{headerTitle:`${null!=(s=null!=a?a:null==r?void 0:r.metadata.name)?s:""}${c&&c!==n.b?" in "+c:""}`,headerType:(()=>{let e=l.toLocaleLowerCase("en-US");return r&&r.spec&&"type"in r.spec&&(e+=" — ",e+=r.spec.type.toLocaleLowerCase("en-US")),e})()}})(l,c,u,d),[y,b]=Object(_.useState)(!1),M=Object(F.m)();return Q.a.createElement(r.B,{themeId:null!=(s=null==(i=null==(a=null==d?void 0:d.spec)?void 0:a.type)?void 0:i.toString())?s:"home"},Q.a.createElement(r.o,{title:Q.a.createElement(Oe,{title:h,entity:d}),pageTitleOverride:h,type:f},d&&Q.a.createElement(Q.a.Fragment,null,Q.a.createElement(Se,{entity:d}),Q.a.createElement(Ie,{UNSTABLE_extraContextMenuItems:e,onUnregisterEntity:()=>b(!0)}))),m&&Q.a.createElement(r.C,null),d&&Q.a.createElement(r.E,{routes:g}),p&&Q.a.createElement(r.g,null,Q.a.createElement(W.a,{severity:"error"},p.toString())),Q.a.createElement(xe,{open:y,entity:d,onConfirm:async()=>{b(!1),M("/")},onClose:()=>b(!1)}))};Ae.Route=De;const Te={Layout:({children:e})=>{var t,a,n;const i=[],o=[],s=Object(F.n)(),l=Object(F.m)();Q.a.Children.forEach(e,e=>{if(!Q.a.isValidElement(e))return;if(e.type!==Te.Content)throw new Error("This component only accepts Content elements as direct children. Check the code of the EntityPage.");const t=e.props.path;o.push({id:t,label:e.props.title}),i.push({path:t,element:e.props.element})}),""!==(null!=(a=null==(t=null==i?void 0:i[0])?void 0:t.path)?a:"")&&i.push({path:"/*",element:Q.a.createElement(F.b,{to:i[0].path})});const[c]=null!=(n=Object(F.h)(i,"/"+s["*"]))?n:[],u=((e,t,a=0)=>{if(!e)return a;const n=t.findIndex(t=>t.id===e.route.path);return~n?n:a})(c,o),d=o[u],m=null==d?void 0:d.label,p=Object(F.p)(i);return d?Q.a.createElement(Q.a.Fragment,null,Q.a.createElement(r.r,{tabs:o,selectedIndex:u,onChange:e=>l(o[e].id.replace(/\/\*$/,"").replace(/^\//,""))}),Q.a.createElement(r.g,null,Q.a.createElement(re.a,{title:m}),p)):null},Content:e=>null},ze=({entity:e,title:t})=>Q.a.createElement(E.a,{display:"inline-flex",alignItems:"center",height:"1em"},t,e&&Q.a.createElement(we,{entity:e})),Ce=({entity:e})=>{var t;const a=Object(o.k)(e,n.l);return Q.a.createElement(Q.a.Fragment,null,a.length>0&&Q.a.createElement(r.q,{label:"Owner",value:Q.a.createElement(o.c,{entityRefs:a,defaultKind:"Group",color:"inherit"})}),(null==(t=e.spec)?void 0:t.lifecycle)&&Q.a.createElement(r.q,{label:"Lifecycle",value:e.spec.lifecycle}))},Le=({children:e,UNSTABLE_extraContextMenuItems:t})=>{var a,i,s;const{kind:l,namespace:c,name:u}=Object(o.o)(),{entity:d,loading:m,error:p}=Object(_.useContext)(o.a),{headerTitle:g,headerType:h}=((e,t,a,r)=>({headerTitle:`${a}${t&&t!==n.b?" in "+t:""}`,headerType:(()=>{let t=e.toLocaleLowerCase("en-US");return r&&r.spec&&"type"in r.spec&&(t+=" — ",t+=r.spec.type.toLocaleLowerCase("en-US")),t})()}))(l,c,u,d),[f,y]=Object(_.useState)(!1),b=Object(F.m)();return Q.a.createElement(r.B,{themeId:null!=(s=null==(i=null==(a=null==d?void 0:d.spec)?void 0:a.type)?void 0:i.toString())?s:"home"},Q.a.createElement(r.o,{title:Q.a.createElement(ze,{title:g,entity:d}),pageTitleOverride:g,type:h},d&&Q.a.createElement(Q.a.Fragment,null,Q.a.createElement(Ce,{entity:d}),Q.a.createElement(Ie,{UNSTABLE_extraContextMenuItems:t,onUnregisterEntity:()=>y(!0)}))),m&&Q.a.createElement(r.g,null,Q.a.createElement(r.C,null)),d&&Q.a.createElement(Te.Layout,null,e),p&&Q.a.createElement(r.g,null,Q.a.createElement(r.D,{error:p})),!m&&!p&&!d&&Q.a.createElement(r.g,null,Q.a.createElement(r.ab,{title:"Entity not found"},"There is no ",l," with the requested"," ",Q.a.createElement(r.w,{to:"https://backstage.io/docs/features/software-catalog/references"},"kind, namespace, and name"),".")),Q.a.createElement(xe,{open:f,entity:d,onConfirm:async()=>{y(!1),b("/")},onClose:()=>y(!1)}))};function Pe(){return{title:"Name",field:"resolved.name",highlight:!0,render:({entity:e})=>Q.a.createElement(o.b,{entityRef:e,defaultKind:"Component"})}}function $e(){return{title:"System",field:"resolved.partOfSystemRelationTitle",render:({resolved:e})=>Q.a.createElement(o.c,{entityRefs:e.partOfSystemRelations,defaultKind:"system"})}}function Re(){return{title:"Owner",field:"resolved.ownedByRelationsTitle",render:({resolved:e})=>Q.a.createElement(o.c,{entityRefs:e.ownedByRelations,defaultKind:"group"})}}function Ue(){return{title:"Type",field:"entity.spec.type",hidden:!0}}function _e(){return{title:"Lifecycle",field:"entity.spec.lifecycle"}}function Qe(){return{title:"Description",field:"entity.metadata.description",render:({entity:e})=>Q.a.createElement(r.A,{text:e.metadata.description,placement:"bottom-start"}),width:"auto"}}function Be(){return{title:"Tags",field:"entity.metadata.tags",cellStyle:{padding:"0px 16px 0px 20px"},render:({entity:e})=>Q.a.createElement(Q.a.Fragment,null,e.metadata.tags&&e.metadata.tags.map(e=>Q.a.createElement(u.a,{key:e,label:e,size:"small",variant:"outlined",style:{marginBottom:"0px"}})))}}Le.Content=Te.Content;var Ye=Object.freeze({__proto__:null,createNameColumn:Pe,createSystemColumn:$e,createOwnerColumn:Re,createSpecTypeColumn:Ue,createSpecLifecycleColumn:_e,createMetadataDescriptionColumn:Qe,createTagsColumn:Be});const Ge=[Pe(),$e(),Re(),{title:"Type",field:"entity.spec.type",hidden:!0},{title:"Lifecycle",field:"entity.spec.lifecycle"},Qe(),Be()],Ze=({entities:e,loading:t,error:a,titlePreamble:i,view:s,columns:l})=>{const{isStarredEntity:c,toggleStarredEntity:u}=Object(o.r)();if(a)return Q.a.createElement("div",null,Q.a.createElement(r.ab,{severity:"error",title:"Could not fetch catalog entities."},Q.a.createElement(r.f,{language:"text",text:a.toString()})));const d=[({entity:e})=>{const t=function(e){var t;return null==(t=e.metadata.annotations)?void 0:t[n.q]}(e);return{icon:()=>Q.a.createElement(oe.a,{fontSize:"small"}),tooltip:"View",disabled:!t,onClick:()=>{t&&window.open(t,"_blank")}}},({entity:e})=>{const t=de(e);return{icon:()=>Q.a.createElement($.a,{fontSize:"small"}),tooltip:"Edit",disabled:!t,onClick:()=>{t&&window.open(t,"_blank")}}},({entity:e})=>{const t=c(e);return{cellStyle:{paddingLeft:"1em"},icon:()=>Ee(t),tooltip:ve(t),onClick:()=>u(e)}}],m=e.map(e=>{const t=Object(o.k)(e,n.n,{kind:"system"}),a=Object(o.k)(e,n.l);return{entity:e,resolved:{name:Object(o.j)(e,{defaultKind:"Component"}),ownedByRelationsTitle:a.map(e=>Object(o.j)(e,{defaultKind:"group"})).join(", "),ownedByRelations:a,partOfSystemRelationTitle:t.map(e=>Object(o.j)(e,{defaultKind:"system"})).join(", "),partOfSystemRelations:t}}}),p=(l||Ge).find(e=>"Type"===e.title);return p&&(p.hidden="Other"!==s),Q.a.createElement(r.Z,{isLoading:t,columns:l||Ge,options:{paging:!0,pageSize:20,actionsColumnIndex:-1,loadingType:"linear",showEmptyDataSourceMessage:!t,padding:"dense",pageSizeOptions:[20,50,100]},title:`${i} (${e&&e.length||0})`,data:m,actions:d})};Ze.columns=Ye;const We=e=>null;const Fe=({children:e})=>{var t;const{entity:a}=Object(o.n)(),n=Object(_.useMemo)(()=>function e(t){return _.Children.toArray(t).flatMap(t=>{if(!Object(_.isValidElement)(t))return[];if(t.type===_.Fragment)return e(t.props.children);if(t.type!==We)throw new Error("Child of EntitySwitch is not an EntitySwitch.Case");const{if:a,children:n}=t.props;return[{if:a,children:n}]})}(e),[e]).find(e=>!e.if||e.if(a));return null!=(t=null==n?void 0:n.children)?t:null};function Ve(e,t){return Boolean(e&&(null==e?void 0:e.toLowerCase())===(null==t?void 0:t.toLowerCase()))}function He(e){return t=>Ve(null==t?void 0:t.kind,e)}function qe(e){return t=>{if(!Ve(null==t?void 0:t.kind,"component"))return!1;return Ve(t.spec.type,e)}}Fe.Case=We;const Je=Object(_.createContext)(void 0),Xe=({children:e})=>{const t=function(){const e=Object(r.Ab)(o.e),[{value:t,error:a},n]=Object(ne.a)(async()=>(await e.getEntities({filter:{kind:"Component"}})).items),i=Object(_.useRef)({}),s=Object(_.useRef)({}),l=Object(_.useRef)([]),[c,u]=Object(_.useState)({}),[d,m]=Object(_.useState)([]),[p,g]=Object(_.useState)([]),[h,f]=Object(_.useState)(!1);Object(_.useEffect)(()=>{n()},[n]);const y=Object(_.useCallback)(()=>{u(function(e,t,a,n,r){var i;if(r)return Object.fromEntries(Object.keys(e).map(e=>[e,{type:"error",error:r}]));if(!n)return Object.fromEntries(Object.keys(e).map(e=>[e,{type:"loading"}]));const o={};for(const[r,s]of Object.entries(e)){const l=Ke(e,t,a,n,r),c={filters:{}};for(const[e,a]of Object.entries(s.filters)){const n=!!(null==(i=t[r])?void 0:i.has(e)),o=l.filter(e=>a(e)).length;c.filters[e]={isSelected:n,matchCount:o}}o[r]={type:"ready",state:c}}return o}(i.current,s.current,l.current,t,a)),m(Ke(i.current,s.current,l.current,t)),g(function(e){const t=new Set;return(e||[]).forEach(e=>{e.metadata.tags&&e.metadata.tags.forEach(e=>t.add(e))}),Array.from(t).sort()}(t)),f(void 0!==t&&0===t.length)},[t,a]),b=Object(_.useCallback)((e,t,a)=>{i.current[e]=t,s.current[e]=new Set(null!=a?a:[]),y()},[y]),M=Object(_.useCallback)(e=>{delete i.current[e],delete s.current[e],y()},[y]),I=Object(_.useCallback)((e,t)=>{s.current[e]=new Set(t),y()},[y]),j=Object(_.useCallback)(e=>{l.current=e,y()},[y]),v=Object(_.useCallback)(async()=>{await n()},[n]);return{register:b,unregister:M,setGroupSelectedFilters:I,setSelectedTags:j,reload:v,loading:!a&&!t,error:a,filterGroupStates:c,matchingEntities:d,availableTags:p,isCatalogEmpty:h}}();return Q.a.createElement(Je.Provider,{value:t},e)};function Ke(e,t,a,n,r){var i,o;const s=[];for(const[a,n]of Object.entries(e)){if(r===a)continue;const e=[];for(const[r,o]of Object.entries(n.filters))(null==(i=t[a])?void 0:i.has(r))&&e.push(o);e.length&&s.push(t=>e.some(e=>e(t)))}return a.length>0&&s.push(e=>!!e.metadata.tags&&e.metadata.tags.some(e=>a.includes(e))),null!=(o=null==n?void 0:n.filter(e=>s.every(t=>t(e))))?o:[]}const et=(e,t,a)=>{const n=Object(_.useContext)(Je);if(!n)throw new Error("Must be used inside an EntityFilterGroupsProvider");const{register:r,unregister:i,setGroupSelectedFilters:o,filterGroupStates:s}=n,l=Object(_.useMemo)(()=>null==a?void 0:a.slice(),[a]);Object(_.useEffect)(()=>(r(e,t,l),()=>i(e)),[r,i,e,t]);const c=Object(_.useCallback)(t=>{o(e,t)},[o,e]);let u=s[e];return u||(u={type:"loading"}),{state:u,setSelectedFilters:c}};const tt=Object(r.kb)({id:"create-component",optional:!0}),at=Object(s.a)(e=>({root:{backgroundColor:"rgba(0, 0, 0, .11)",boxShadow:"none"},title:{margin:e.spacing(1,0,0,1),textTransform:"uppercase",fontSize:12,fontWeight:"bold"},listIcon:{minWidth:30,color:e.palette.text.primary},menuItem:{minHeight:e.spacing(6)},groupWrapper:{margin:e.spacing(1,1,2,1)},menuTitle:{fontWeight:500}})),nt=({buttonGroups:e,onChange:t,initiallySelected:a})=>{const n=at(),{currentFilter:r,setCurrentFilter:i,getFilterCount:o}=function(e,t){const[a,n]=Object(_.useState)(t),r=Object(_.useMemo)(()=>({filters:Object.fromEntries(e.flatMap(e=>e.items).map(e=>[e.id,e.filterFn]))}),[e]),{setSelectedFilters:i,state:o}=et("primary-sidebar",r,[t]),s=Object(_.useCallback)(e=>{n(e),i([e])},[n,i]),l=Object(_.useCallback)(e=>{if("ready"===o.type)return o.state.filters[e].matchCount},[o]);return{currentFilter:a,setCurrentFilter:s,getFilterCount:l}}(e,a),s=Object(_.useRef)();Object(_.useEffect)(()=>{s.current=t},[t]);const c=Object(_.useCallback)(e=>{var t;i(e.id),null==(t=s.current)||t.call(s,{id:e.id,label:e.label})},[i]);return Object(_.useEffect)(()=>{var t;const n=e.flatMap(e=>e.items),r=n.find(e=>e.id===a)||n[0];r&&(null==(t=s.current)||t.call(s,{id:r.id,label:r.label}))},[]),Q.a.createElement(d.a,{className:n.root},e.map(e=>Q.a.createElement(Q.a.Fragment,{key:e.name},Q.a.createElement(l.a,{variant:"subtitle2",className:n.title},e.name),Q.a.createElement(d.a,{className:n.groupWrapper},Q.a.createElement(S.a,{disablePadding:!0,dense:!0},e.items.map(e=>{var t;return Q.a.createElement(f.a,{key:e.id,button:!0,divider:!0,onClick:()=>c(e),selected:e.id===r,className:n.menuItem},e.icon&&Q.a.createElement(y.a,{className:n.listIcon},Q.a.createElement(e.icon,{fontSize:"small"})),Q.a.createElement(b.a,null,Q.a.createElement(l.a,{variant:"body1",className:n.menuTitle},e.label)),Q.a.createElement(A.a,null,null!=(t=o(e.id))?t:"-"))}))))))};const rt=Object(s.a)(e=>({filterBox:{display:"flex",margin:e.spacing(2,0,0,0)},filterBoxTitle:{margin:e.spacing(1,0,0,1),fontWeight:"bold",flex:1},title:{margin:e.spacing(1,0,0,1),textTransform:"uppercase",fontSize:12,fontWeight:"bold"},checkbox:{padding:e.spacing(0,1,0,1)}})),it=({availableTags:e})=>{const t=rt(),[a,n]=Object(_.useState)([]),r=Object(_.useContext)(Je);if(!r)throw new Error("Must be used inside an EntityFilterGroupsProvider");const i=null==r?void 0:r.setSelectedTags,o=Object(_.useCallback)(e=>{n(e),i(e)},[n,i]);return Q.a.createElement(Q.a.Fragment,null,Q.a.createElement("div",{className:t.filterBox},Q.a.createElement(l.a,{variant:"subtitle2",className:t.filterBoxTitle},"Refine Results")," ",Q.a.createElement(w.a,{onClick:()=>o([])},"Clear")),Q.a.createElement(g.a,null),Q.a.createElement(l.a,{variant:"subtitle2",className:t.title},"Tags"),Q.a.createElement(S.a,{disablePadding:!0,dense:!0},e.map(e=>{const n="checkbox-list-label-"+e;return Q.a.createElement(T.a,{key:e,dense:!0,button:!0,onClick:()=>o(a.includes(e)?a.filter(t=>t!==e):[...a,e])},Q.a.createElement(z.a,{edge:"start",color:"primary",checked:a.includes(e),tabIndex:-1,disableRipple:!0,className:t.checkbox,inputProps:{"aria-labelledby":n}}),Q.a.createElement(b.a,{id:n,primary:e}))})))};const ot=({children:e})=>{var t;const a=null!=(t=Object(r.Ab)(r.fb).getOptionalString("organization.name"))?t:"Backstage";return Q.a.createElement(r.B,{themeId:"home"},Q.a.createElement(r.o,{title:a+" Catalog",subtitle:"Catalog of software components at "+a,pageTitleOverride:"Home"}),e)},st=({tabs:e,onChange:t})=>{const a=Object(_.useMemo)(()=>{const t=e.map(e=>e.id).filter(e=>"other"!==e);return{filters:Object.fromEntries(e.map(e=>[e.id,a=>{var n;return"other"===e.id&&(e=>{var a;return!t.includes(null==(a=e.spec)?void 0:a.type)})(a)||(null==(n=a.spec)?void 0:n.type)===e.id}]))}},[e]),{setSelectedFilters:n}=et("type",a,[e[0].id]),[i,o]=Object(_.useState)(0),s=Object(_.useRef)();Object(_.useEffect)(()=>{s.current=t},[t]),Object(_.useEffect)(()=>{var t;null==(t=s.current)||t.call(s,e[i])},[e,i]);const l=Object(_.useCallback)(t=>{var a;const r=e[t];n([r.id]),o(t),null==(a=s.current)||a.call(s,r)},[e,n]);return Q.a.createElement(r.r,{tabs:e,onChange:l})},lt=Object(s.a)(e=>({contentWrapper:{display:"grid",gridTemplateAreas:"'filters' 'table'",gridTemplateColumns:"250px 1fr",gridColumnGap:e.spacing(2)},buttonSpacing:{marginLeft:e.spacing(2)}})),ct=e=>{var t,a,n,i;const s=lt(),{loading:l,error:c,reload:u,matchingEntities:d,availableTags:m,isCatalogEmpty:p}=function(){const e=Object(_.useContext)(Je);if(!e)throw new Error("Must be used inside an EntityFilterGroupsProvider");return{loading:e.loading,error:e.error,matchingEntities:e.matchingEntities,availableTags:e.availableTags,isCatalogEmpty:e.isCatalogEmpty,reload:e.reload}}(),g=Object(r.Ab)(r.fb),h=Object(r.Ab)(o.e),f=Object(r.Ab)(r.pb),{isStarredEntity:y}=Object(o.r)(),[b,M]=Object(_.useState)(),[I,j]=Object(_.useState)(),v=null!=(t=g.getOptionalString("organization.name"))?t:"Company",E=null!=(n=null!=(a=null==I?void 0:I.id)?a:e.initiallySelectedFilter)?n:"owned",N=Object(r.Db)(tt),k=Object(_.useCallback)(async()=>{try{const e=[],t=g.getConfig("catalog.exampleEntityLocations");for(const a of t.keys())for(const n of t.getStringArray(a))e.push(h.addLocation({target:n}));await Promise.all(e),await u()}catch(e){f.post(e)}},[h,g,f,u]),x=Object(_.useMemo)(()=>[{id:"service",label:"Services"},{id:"website",label:"Websites"},{id:"library",label:"Libraries"},{id:"documentation",label:"Documentation"},{id:"other",label:"Other"}],[]),{value:D}=function(){const e=Object(r.Ab)(o.e),t=Object(r.Ab)(r.ub);return Object(ae.a)(()=>e.getEntityByName({kind:"User",namespace:"default",name:t.getUserId()}),[e,t])}(),O=Object(_.useMemo)(()=>[{name:"Personal",items:[{id:"owned",label:"Owned",icon:le.a,filterFn:e=>void 0!==D&&Object(o.l)(D,e)},{id:"starred",label:"Starred",icon:te.a,filterFn:y}]},{name:v,items:[{id:"all",label:"All",filterFn:()=>!0}]}],[y,v,D]),S=g.has("catalog.exampleEntityLocations")&&p;return Q.a.createElement(ot,null,Q.a.createElement(st,{tabs:x,onChange:({label:e})=>M(e)}),Q.a.createElement(r.g,null,Q.a.createElement(r.h,{title:null!=b?b:""},N&&Q.a.createElement(w.a,{component:ce.b,variant:"contained",color:"primary",to:N()},"Create Component"),S&&Q.a.createElement(w.a,{className:s.buttonSpacing,variant:"outlined",color:"primary",onClick:k},"Add example components"),Q.a.createElement(r.W,null,"All your software catalog entities")),Q.a.createElement("div",{className:s.contentWrapper},Q.a.createElement("div",null,Q.a.createElement(nt,{buttonGroups:O,onChange:({label:e,id:t})=>j({label:e,id:t}),initiallySelected:E}),Q.a.createElement(it,{availableTags:m})),Q.a.createElement(Ze,{titlePreamble:null!=(i=null==I?void 0:I.label)?i:"",view:b,columns:e.columns,entities:d,loading:l,error:c}))))},ut=e=>Q.a.createElement(Xe,null,Q.a.createElement(ct,{...e})),dt=({children:e})=>{const{entity:t,loading:a,error:n}=Object(o.p)();return Q.a.createElement(o.a.Provider,{value:{entity:t,loading:a,error:n}},e)};Object(s.a)(e=>({illo:{maxWidth:"60%",top:100,right:20,position:"absolute",[e.breakpoints.down("xs")]:{maxWidth:"96%",position:"relative",top:"unset",right:"unset",margin:`${e.spacing(10)}px auto ${e.spacing(4)}px`}}})),Object(s.a)(e=>({container:{paddingTop:e.spacing(24),paddingLeft:e.spacing(8),[e.breakpoints.down("xs")]:{padding:e.spacing(2)}},title:{paddingBottom:e.spacing(2),[e.breakpoints.down("xs")]:{fontSize:32}},body:{paddingBottom:e.spacing(6),[e.breakpoints.down("xs")]:{paddingBottom:e.spacing(5)}}}));class mt{constructor(e){this.client=e.client,this.identityApi=e.identityApi}async getLocationById(e,t){var a;return await this.client.getLocationById(e,{token:null!=(a=null==t?void 0:t.token)?a:await this.identityApi.getIdToken()})}async getEntities(e,t){var a;return await this.client.getEntities(e,{token:null!=(a=null==t?void 0:t.token)?a:await this.identityApi.getIdToken()})}async getEntityByName(e,t){var a;return await this.client.getEntityByName(e,{token:null!=(a=null==t?void 0:t.token)?a:await this.identityApi.getIdToken()})}async addLocation(e,t){var a;return await this.client.addLocation(e,{token:null!=(a=null==t?void 0:t.token)?a:await this.identityApi.getIdToken()})}async getOriginLocationByEntity(e,t){var a;return await this.client.getOriginLocationByEntity(e,{token:null!=(a=null==t?void 0:t.token)?a:await this.identityApi.getIdToken()})}async getLocationByEntity(e,t){var a;return await this.client.getLocationByEntity(e,{token:null!=(a=null==t?void 0:t.token)?a:await this.identityApi.getIdToken()})}async removeLocationById(e,t){var a;return await this.client.removeLocationById(e,{token:null!=(a=null==t?void 0:t.token)?a:await this.identityApi.getIdToken()})}async removeEntityByUid(e,t){var a;return await this.client.removeEntityByUid(e,{token:null!=(a=null==t?void 0:t.token)?a:await this.identityApi.getIdToken()})}}const pt=Object(r.lb)({id:"catalog",apis:[Object(r.gb)({api:o.e,deps:{discoveryApi:r.ob,identityApi:r.ub},factory:({discoveryApi:e,identityApi:t})=>new mt({client:new ue.a({discoveryApi:e}),identityApi:t})})],routes:{catalogIndex:o.f,catalogEntity:o.i},externalRoutes:{createComponent:tt}}),gt=pt.provide(Object(r.mb)({component:()=>a.e(50).then(a.bind(null,2778)).then(e=>e.CatalogPage),mountPoint:o.f})),ht=pt.provide(Object(r.mb)({component:()=>a.e(49).then(a.bind(null,2779)).then(e=>e.CatalogEntityPage),mountPoint:o.i})),ft=pt.provide(Object(r.jb)({component:{lazy:()=>a.e(51).then(a.bind(null,2780)).then(e=>e.AboutCard)}})),yt=(pt.provide(Object(r.jb)({component:{lazy:()=>a.e(46).then(a.bind(null,2781)).then(e=>e.EntityLinksCard)}})),pt.provide(Object(r.jb)({component:{lazy:()=>a.e(41).then(a.bind(null,2782)).then(e=>e.HasSystemsCard)}}))),bt=pt.provide(Object(r.jb)({component:{lazy:()=>a.e(43).then(a.bind(null,2783)).then(e=>e.HasComponentsCard)}})),Mt=(pt.provide(Object(r.jb)({component:{lazy:()=>a.e(40).then(a.bind(null,2784)).then(e=>e.HasSubcomponentsCard)}})),pt.provide(Object(r.jb)({component:{lazy:()=>a.e(42).then(a.bind(null,2785)).then(e=>e.HasResourcesCard)}})),pt.provide(Object(r.jb)({component:{lazy:()=>a.e(39).then(a.bind(null,2786)).then(e=>e.DependsOnComponentsCard)}})),pt.provide(Object(r.jb)({component:{lazy:()=>a.e(45).then(a.bind(null,2787)).then(e=>e.DependsOnResourcesCard)}})),pt.provide(Object(r.jb)({component:{lazy:()=>a.e(44).then(a.bind(null,2788)).then(e=>e.SystemDiagramCard)}})))},571:function(e,t,a){"use strict";a(3),a(28),a(228);var n=a(164);a.d(t,"a",(function(){return n.c})),a.d(t,"b",(function(){return n.d}));a(12),a(0)},572:function(e,t,a){"use strict";a.d(t,"a",(function(){return P})),a.d(t,"b",(function(){return L}));var n=a(3),r=a(0),i=a.n(r),o=a(376),s=a.n(o),l=a(18),c=a(61),u=a(126),d=a(141),m=a(81),p=a(106),g=a(363),h=a(180),f=a(1329),y=a(39),b=a(2771),M=a(134),I=a(422),j=a(286),v=a(35),E=a(150),w=a.n(E),N=a(1311),k=a.n(N),x=a(375),D=a.n(x),O=a(1334),S=a(766),A=a.n(S),T=a(1332),z=a(2769);const C=Object(n.nb)({path:"/settings",title:"Settings"}),L=Object(n.lb)({id:"user-settings",routes:{settingsPage:C}}).provide(Object(n.mb)({component:()=>Promise.resolve().then((function(){return te})).then(e=>e.SettingsPage),mountPoint:C})),P=()=>i.a.createElement(n.J,{text:"Settings",to:C.path,icon:s.a}),$=()=>i.a.createElement(n.k,{missing:"content",title:"No Authentication Providers",description:"You can add Authentication Providers to Backstage which allows you to use these providers to authenticate yourself.",action:i.a.createElement(i.a.Fragment,null,i.a.createElement(l.a,{variant:"body1"},"Open ",i.a.createElement("code",null,"app-config.yaml")," and make the changes as highlighted below:"),i.a.createElement(n.f,{text:"auth:\n  providers:\n    google:\n      development:\n        clientId: ${AUTH_GOOGLE_CLIENT_ID}\n        clientSecret: ${AUTH_GOOGLE_CLIENT_SECRET}\n",language:"yaml",showLineNumbers:!0,highlightedNumbers:[3,4,5,6,7,8],customStyle:{background:"inherit",fontSize:"115%"}}),i.a.createElement(c.a,{variant:"contained",color:"primary",href:"https://backstage.io/docs/auth/add-auth-provider"},"Read More"))}),R=({title:e,description:t,icon:a,apiRef:o})=>{const s=Object(n.Ab)(o),[l,h]=Object(r.useState)(!1);return Object(r.useEffect)(()=>{let e=!1;const t=s.sessionState$().subscribe(t=>{e||h(t===n.F.SignedIn)});return()=>{e=!0,t.unsubscribe()}},[s]),i.a.createElement(u.a,null,i.a.createElement(d.a,null,i.a.createElement(a,null)),i.a.createElement(m.a,{primary:e,secondary:i.a.createElement(p.a,{placement:"top",arrow:!0,title:t},i.a.createElement("span",null,t)),secondaryTypographyProps:{noWrap:!0,style:{width:"80%"}}}),i.a.createElement(g.a,null,i.a.createElement(p.a,{placement:"top",arrow:!0,title:l?"Sign out from "+e:"Sign in to "+e},i.a.createElement(c.a,{variant:"outlined",color:"primary",onClick:()=>l?s.signOut():s.signIn()},l?"Sign out":"Sign in"))))},U=({configuredProviders:e})=>i.a.createElement(i.a.Fragment,null,e.includes("google")&&i.a.createElement(R,{title:"Google",description:"Provides authentication towards Google APIs and identities",apiRef:n.tb,icon:w.a}),e.includes("microsoft")&&i.a.createElement(R,{title:"Microsoft",description:"Provides authentication towards Microsoft APIs and identities",apiRef:n.vb,icon:w.a}),e.includes("github")&&i.a.createElement(R,{title:"GitHub",description:"Provides authentication towards GitHub APIs",apiRef:n.rb,icon:w.a}),e.includes("gitlab")&&i.a.createElement(R,{title:"GitLab",description:"Provides authentication towards GitLab APIs",apiRef:n.sb,icon:w.a}),e.includes("auth0")&&i.a.createElement(R,{title:"Auth0",description:"Provides authentication towards Auth0 APIs",apiRef:n.eb,icon:w.a}),e.includes("okta")&&i.a.createElement(R,{title:"Okta",description:"Provides authentication towards Okta APIs",apiRef:n.xb,icon:w.a}),e.includes("oauth2")&&i.a.createElement(R,{title:"YourOrg",description:"Example of how to use oauth2 custom provider",apiRef:n.wb,icon:w.a})),_=({providerSettings:e})=>{const t=Object(n.Ab)(n.fb).getOptionalConfig("auth.providers"),a=(null==t?void 0:t.keys())||[],r=null!=e?e:i.a.createElement(U,{configuredProviders:a});return e||(null==a?void 0:a.length)?i.a.createElement(n.s,{title:"Available Providers"},i.a.createElement(h.a,{dense:!0},r)):i.a.createElement($,null)},Q=()=>i.a.createElement(n.k,{missing:"content",title:"No Feature Flags",description:"Feature Flags make it possible for plugins to register features in Backstage for users to opt into. You can use this to split out logic in your code for manual A/B testing, etc.",action:i.a.createElement(i.a.Fragment,null,i.a.createElement(l.a,{variant:"body1"},"An example for how to add a feature flag is highlighted below:"),i.a.createElement(n.f,{text:"import { createPlugin } from '@backstage/core';\n\nexport default createPlugin({\n  id: 'plugin-name',\n  register({ router, featureFlags }) {\n    featureFlags.register('enable-example-feature');\n  },\n});\n",language:"typescript",showLineNumbers:!0,highlightedNumbers:[6],customStyle:{background:"inherit",fontSize:"115%"}}),i.a.createElement(c.a,{variant:"contained",color:"primary",href:"https://backstage.io/docs/api/utility-apis"},"Read More"))}),B=({flag:e,enabled:t,toggleHandler:a})=>i.a.createElement(u.a,null,i.a.createElement(m.a,{primary:e.name,secondary:`Registered in ${e.pluginId} plugin`}),i.a.createElement(g.a,null,i.a.createElement(p.a,{placement:"top",arrow:!0,title:t?"Disable":"Enable"},i.a.createElement(f.a,{color:"primary",checked:t,onChange:()=>a(e.name),name:e.name})))),Y=()=>{const e=Object(n.Ab)(n.qb),t=e.getRegisteredFlags(),a=Object.fromEntries(t.map(({name:t})=>[t,e.isActive(t)])),[o,s]=Object(r.useState)(a),l=Object(r.useCallback)(t=>{const a=e.isActive(t)?n.m.None:n.m.Active;e.save({states:{[t]:a},merge:!0}),s(e=>({...e,[t]:a===n.m.Active}))},[e]);return t.length?i.a.createElement(n.s,{title:"Feature Flags"},i.a.createElement(h.a,{dense:!0},t.map(e=>{const t=Boolean(o[e.name]);return i.a.createElement(B,{key:e.name,flag:e,enabled:t,toggleHandler:l})}))):i.a.createElement(Q,null)},G=()=>{const{isPinned:e,toggleSidebarPinState:t}=Object(r.useContext)(n.L);return i.a.createElement(u.a,null,i.a.createElement(m.a,{primary:"Pin Sidebar",secondary:"Prevent the sidebar from collapsing"}),i.a.createElement(g.a,null,i.a.createElement(p.a,{placement:"top",arrow:!0,title:(e?"Unpin":"Pin")+" Sidebar"},i.a.createElement(f.a,{color:"primary",checked:e,onChange:()=>t(),name:"pin",inputProps:{"aria-label":"Pin Sidebar Switch"}}))))},Z=()=>{var e;const t=Object(n.Ab)(n.ub),a=t.getUserId(),r=t.getProfile();return{profile:r,displayName:null!=(e=r.displayName)?e:a}},W=Object(y.a)(e=>({avatar:{width:({size:e})=>e,height:({size:e})=>e,fontSize:({size:e})=>.7*e,border:"1px solid "+e.palette.textSubtle}})),F=({size:e})=>{const{iconSize:t}=n.yb,a=W(e?{size:e}:{size:t}),{profile:r}=Z();return i.a.createElement(b.a,{src:r.picture,className:a.avatar})},V=()=>{const e=Object(n.Ab)(n.ub),[t,a]=i.a.useState(!1),[r,o]=i.a.useState(void 0);return i.a.createElement(i.a.Fragment,null,i.a.createElement(M.a,{"aria-label":"more",onClick:e=>{o(e.currentTarget),a(!0)}},i.a.createElement(D.a,null)),i.a.createElement(I.a,{anchorEl:r,open:t,onClose:()=>{o(void 0),a(!1)}},i.a.createElement(j.a,{onClick:()=>e.signOut()},i.a.createElement(d.a,null,i.a.createElement(k.a,null)),"Sign Out")))},H=()=>{const{profile:e,displayName:t}=Z();return i.a.createElement(n.s,{title:"Profile"},i.a.createElement(v.a,{container:!0,spacing:6},i.a.createElement(v.a,{item:!0},i.a.createElement(F,{size:96})),i.a.createElement(v.a,{item:!0,xs:12,sm:!0,container:!0},i.a.createElement(v.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:2},i.a.createElement(v.a,{item:!0,xs:!0},i.a.createElement(l.a,{variant:"subtitle1",gutterBottom:!0},t),i.a.createElement(l.a,{variant:"body2",color:"textSecondary"},e.email))),i.a.createElement(v.a,{item:!0},i.a.createElement(V,null)))))},q=({id:e,activeId:t,icon:a})=>a?Object(r.cloneElement)(a,{color:t===e?"primary":void 0}):i.a.createElement(A.a,{color:t===e?"primary":void 0}),J=Object(y.a)(e=>({list:{[e.breakpoints.down("xs")]:{padding:"0 0 12px"}},listItemText:{[e.breakpoints.down("xs")]:{paddingRight:0,paddingLeft:0}},listItemSecondaryAction:{[e.breakpoints.down("xs")]:{width:"100%",top:"auto",right:"auto",position:"relative",transform:"unset"}}})),X=({children:e,title:t,value:a,...n})=>i.a.createElement(p.a,{placement:"top",arrow:!0,title:t},i.a.createElement(T.a,{value:a,...n},e)),K=()=>{const e=J(),t=Object(n.Ab)(n.cb),a=Object(O.a)(t.activeThemeId$(),t.getActiveThemeId()),r=t.getInstalledThemes();return i.a.createElement(u.a,{className:e.list},i.a.createElement(m.a,{className:e.listItemText,primary:"Theme",secondary:"Change the theme mode"}),i.a.createElement(g.a,{className:e.listItemSecondaryAction},i.a.createElement(z.a,{exclusive:!0,size:"small",value:null!=a?a:"auto",onChange:(e,a)=>{r.some(e=>e.id===a)?t.setActiveThemeId(a):t.setActiveThemeId(void 0)}},r.map(e=>{var t;const n=null==(t=r.find(t=>t.id===e.id))?void 0:t.icon;return i.a.createElement(X,{key:e.id,title:"Select "+e.title,value:e.variant},i.a.createElement(i.a.Fragment,null,e.variant," ",i.a.createElement(q,{id:e.id,icon:n,activeId:a})))}),i.a.createElement(p.a,{placement:"top",arrow:!0,title:"Select auto theme"},i.a.createElement(T.a,{value:"auto",selected:void 0===a},"Auto ",i.a.createElement(A.a,{color:void 0===a?"primary":void 0}))))))},ee=()=>i.a.createElement(v.a,{container:!0,direction:"row",spacing:3},i.a.createElement(v.a,{item:!0,sm:12,md:6},i.a.createElement(H,null)),i.a.createElement(v.a,{item:!0,sm:12,md:6},i.a.createElement(n.s,{title:"Appearance"},i.a.createElement(h.a,{dense:!0},i.a.createElement(K,null),i.a.createElement(G,null)))));var te=Object.freeze({__proto__:null,SettingsPage:({providerSettings:e})=>i.a.createElement(n.B,{themeId:"home"},i.a.createElement(n.o,{title:"Settings"}),i.a.createElement(n.Y,null,i.a.createElement(n.Y.Route,{path:"general",title:"General"},i.a.createElement(ee,null)),i.a.createElement(n.Y.Route,{path:"auth-providers",title:"Authentication Providers"},i.a.createElement(_,{providerSettings:e})),i.a.createElement(n.Y.Route,{path:"feature-flags",title:"Feature Flags"},i.a.createElement(Y,null))))})},607:function(e,t,a){"use strict";t.a="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2ODciIGhlaWdodD0iNDIxIiBmaWxsPSJub25lIiB2aWV3Qm94PSIwIDAgNjg3IDQyMSI+PHJlY3Qgd2lkdGg9IjQwNy4yMjMiIGhlaWdodD0iNDguNDYyIiB4PSIxNi4yMzEiIHk9IjExNC4zNTMiIGZpbGw9IiNEOUQ5RDkiIHJ4PSIyNC4yMzEiIHRyYW5zZm9ybT0icm90YXRlKC0xMC41NTU2IDE2LjIzMSAxMTQuMzUzKSIvPjxyZWN0IHdpZHRoPSIzMzcuNjc5IiBoZWlnaHQ9IjQ4LjQ2MiIgeD0iNTYuNTMzIiB5PSIxNTEuMzA2IiBmaWxsPSIjRDlEOUQ5IiByeD0iMjQuMjMxIiB0cmFuc2Zvcm09InJvdGF0ZSgtMTAuNTU1NiA1Ni41MzMyIDE1MS4zMDYpIi8+PHJlY3Qgd2lkdGg9IjQ0MS4wNjEiIGhlaWdodD0iNDguNDYyIiB4PSI1NC43MDciIHk9IjI3NC40MDMiIGZpbGw9IiNEOUQ5RDkiIHJ4PSIyNC4yMzEiIHRyYW5zZm9ybT0icm90YXRlKC0xMC41NTU2IDU0LjcwNyAyNzQuNDAzKSIvPjxyZWN0IHdpZHRoPSI0NDAuNDIxIiBoZWlnaHQ9IjQ4LjQ2MiIgeD0iMzguMTIyIiB5PSIzMjEuOTU2IiBmaWxsPSIjRDlEOUQ5IiByeD0iMjQuMjMxIiB0cmFuc2Zvcm09InJvdGF0ZSgtMTAuNTU1NiAzOC4xMjIxIDMyMS45NTYpIi8+PHJlY3Qgd2lkdGg9IjQzNS44ODUiIGhlaWdodD0iNDguNDYyIiB4PSIyMTMuOTIzIiB5PSIxNDcuMTA5IiBmaWxsPSIjRDlEOUQ5IiByeD0iMjQuMjMxIiB0cmFuc2Zvcm09InJvdGF0ZSgtMTAuNTU1NiAyMTMuOTIzIDE0Ny4xMDkpIi8+PHJlY3Qgd2lkdGg9IjQzMS4wNTQiIGhlaWdodD0iNDguNDYyIiB4PSIxOTkuODQyIiB5PSIxOTQuMTk2IiBmaWxsPSIjRDlEOUQ5IiByeD0iMjQuMjMxIiB0cmFuc2Zvcm09InJvdGF0ZSgtMTAuNTU1NiAxOTkuODQyIDE5NC4xOTYpIi8+PHJlY3Qgd2lkdGg9IjM5NC45MzYiIGhlaWdodD0iNDguNDYyIiB4PSIyMzUuMjk5IiB5PSIyOTIuOTQ2IiBmaWxsPSIjRDlEOUQ5IiByeD0iMjQuMjMxIiB0cmFuc2Zvcm09InJvdGF0ZSgtMTAuNTU1NiAyMzUuMjk5IDI5Mi45NDYpIi8+PHJlY3Qgd2lkdGg9IjQ1Ni4yODIiIGhlaWdodD0iNDguNDYyIiB4PSIxOTkuODYyIiB5PSIzNDQuMDEzIiBmaWxsPSIjRDlEOUQ5IiByeD0iMjQuMjMxIiB0cmFuc2Zvcm09InJvdGF0ZSgtMTAuNTU1NiAxOTkuODYyIDM0NC4wMTMpIi8+PGcgZmlsdGVyPSJ1cmwoI2ZpbHRlcjBfZCkiPjxyZWN0IHdpZHRoPSI0NjEiIGhlaWdodD0iMjg2IiB4PSIxMjYiIHk9IjY3IiBmaWxsPSIjRjhGOEY4IiByeD0iMTAiLz48cmVjdCB3aWR0aD0iOTAiIGhlaWdodD0iNjcuMjgzIiB4PSIxNTQiIHk9IjkxIiBmaWxsPSIjRDlEOUQ5Ii8+PHJlY3Qgd2lkdGg9IjkwIiBoZWlnaHQ9IjY5LjI5MSIgeD0iMTU0IiB5PSIxNzUuMzU0IiBmaWxsPSIjRDlEOUQ5Ii8+PHJlY3Qgd2lkdGg9IjkwIiBoZWlnaHQ9IjY3LjI4MyIgeD0iMTU0IiB5PSIyNjEuNzE3IiBmaWxsPSIjRDlEOUQ5Ii8+PHJlY3Qgd2lkdGg9IjkwIiBoZWlnaHQ9IjY3LjI4MyIgeD0iMjU5IiB5PSI5MSIgZmlsbD0iI0Q5RDlEOSIvPjxyZWN0IHdpZHRoPSI5MCIgaGVpZ2h0PSI2Ny4yODMiIHg9IjM2NCIgeT0iOTEiIGZpbGw9IiNEOUQ5RDkiLz48cmVjdCB3aWR0aD0iOTAiIGhlaWdodD0iNjkuMjkxIiB4PSIzNjQiIHk9IjE3NS4zNTQiIGZpbGw9IiNFRUUiLz48cmVjdCB3aWR0aD0iOTAiIGhlaWdodD0iNjcuMjgzIiB4PSIzNjQiIHk9IjI2MS43MTciIGZpbGw9IiNEOUQ5RDkiLz48cmVjdCB3aWR0aD0iOTAiIGhlaWdodD0iNjkuMjkxIiB4PSIyNTkiIHk9IjE3NS4zNTQiIGZpbGw9IiNEOUQ5RDkiLz48cmVjdCB3aWR0aD0iOTAiIGhlaWdodD0iNjcuMjgzIiB4PSIyNTkiIHk9IjI2MS43MTciIGZpbGw9IiNEOUQ5RDkiLz48cmVjdCB3aWR0aD0iOTAiIGhlaWdodD0iNjcuMjgzIiB4PSI0NjkiIHk9IjkxIiBmaWxsPSIjRDlEOUQ5Ii8+PHJlY3Qgd2lkdGg9IjkwIiBoZWlnaHQ9IjY5LjI5MSIgeD0iNDY5IiB5PSIxNzUuMzU0IiBmaWxsPSIjRDlEOUQ5Ii8+PHJlY3Qgd2lkdGg9IjkwIiBoZWlnaHQ9IjY3LjI4MyIgeD0iNDY5IiB5PSIyNjEuNzE3IiBmaWxsPSIjRDlEOUQ5Ii8+PC9nPjxkZWZzPjxmaWx0ZXIgaWQ9ImZpbHRlcjBfZCIgd2lkdGg9IjQ4NSIgaGVpZ2h0PSIzMTAiIHg9IjExNiIgeT0iNTkiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiIgZmlsdGVyVW5pdHM9InVzZXJTcGFjZU9uVXNlIj48ZmVGbG9vZCBmbG9vZC1vcGFjaXR5PSIwIiByZXN1bHQ9IkJhY2tncm91bmRJbWFnZUZpeCIvPjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIi8+PGZlT2Zmc2V0IGR4PSIyIiBkeT0iNCIvPjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjYiLz48ZmVDb2xvck1hdHJpeCB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMC4yNSAwIi8+PGZlQmxlbmQgaW4yPSJCYWNrZ3JvdW5kSW1hZ2VGaXgiIG1vZGU9Im5vcm1hbCIgcmVzdWx0PSJlZmZlY3QxX2Ryb3BTaGFkb3ciLz48ZmVCbGVuZCBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJlZmZlY3QxX2Ryb3BTaGFkb3ciIG1vZGU9Im5vcm1hbCIgcmVzdWx0PSJzaGFwZSIvPjwvZmlsdGVyPjwvZGVmcz48L3N2Zz4="},608:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(28),r=a(159),i=a(196),o=a.n(i);class s{constructor(e){this.discoveryApi=e.discoveryApi}async getLocationById(e,t){return await this.requestOptional("GET","/locations/"+encodeURIComponent(e),t)}async getEntities(e,t){const{filter:a=[],fields:n=[]}=null!=e?e:{},r=[a].flat(),i=[];for(const e of r){const t=[];for(const[a,n]of Object.entries(e))for(const e of[n].flat())t.push(`${encodeURIComponent(a)}=${encodeURIComponent(e)}`);t.length&&i.push("filter="+t.join(","))}n.length&&i.push("fields="+n.map(encodeURIComponent).join(","));const o=i.length?"?"+i.join("&"):"";return{items:await this.requestRequired("GET","/entities"+o,t)}}async getEntityByName(e,t){const{kind:a,namespace:n="default",name:r}=e;return this.requestOptional("GET",`/entities/by-name/${encodeURIComponent(a)}/${encodeURIComponent(n)}/${encodeURIComponent(r)}`,t)}async addLocation({type:e="url",target:t,dryRun:a,presence:n},r){const i=await o()(`${await this.discoveryApi.getBaseUrl("catalog")}/locations${a?"?dryRun=true":""}`,{headers:{"Content-Type":"application/json",...(null==r?void 0:r.token)&&{Authorization:"Bearer "+(null==r?void 0:r.token)}},method:"POST",body:JSON.stringify({type:e,target:t,presence:n})});if(201!==i.status)throw new Error(await i.text());const{location:s,entities:l}=await i.json();if(!s)throw new Error("Location wasn't added: "+t);if(0===l.length)throw new Error("Location was added but has no entities specified yet: "+t);return{location:s,entities:l}}async getOriginLocationByEntity(e,t){var a;const r=null==(a=e.metadata.annotations)?void 0:a[n.d];if(!r)return;return(await this.requestRequired("GET","/locations",t)).map(e=>e.data).find(e=>r===Object(n.x)(e))}async getLocationByEntity(e,t){var a;const r=null==(a=e.metadata.annotations)?void 0:a[n.c];if(!r)return;return(await this.requestRequired("GET","/locations",t)).map(e=>e.data).find(e=>r===Object(n.x)(e))}async removeLocationById(e,t){await this.requestIgnored("DELETE","/locations/"+encodeURIComponent(e),t)}async removeEntityByUid(e,t){await this.requestIgnored("DELETE","/entities/by-uid/"+encodeURIComponent(e),t)}async requestIgnored(e,t,a){const n=`${await this.discoveryApi.getBaseUrl("catalog")}${t}`,i=(null==a?void 0:a.token)?{Authorization:"Bearer "+a.token}:{},s=await o()(n,{method:e,headers:i});if(!s.ok)throw await r.b.fromResponse(s)}async requestRequired(e,t,a){const n=`${await this.discoveryApi.getBaseUrl("catalog")}${t}`,i=(null==a?void 0:a.token)?{Authorization:"Bearer "+a.token}:{},s=await o()(n,{method:e,headers:i});if(!s.ok)throw await r.b.fromResponse(s);return await s.json()}async requestOptional(e,t,a){const n=`${await this.discoveryApi.getBaseUrl("catalog")}${t}`,i=(null==a?void 0:a.token)?{Authorization:"Bearer "+a.token}:{},s=await o()(n,{method:e,headers:i});if(!s.ok){if(404===s.status)return;throw await r.b.fromResponse(s)}return await s.json()}}},610:function(e,t,a){"use strict";a.d(t,"a",(function(){return ae})),a.d(t,"b",(function(){return we})),a.d(t,"c",(function(){return Ne})),a.d(t,"d",(function(){return ke})),a.d(t,"e",(function(){return Ie}));var n=a(3),r=a(215),i=a(277),o=a(0),s=a.n(o),l=a(12),c=a(19),u=a(39),d=a(430),m=a(1327),p=a(1328),g=a(18),h=a(350),f=a(106),y=a(2761),b=a(434),M=a(774),I=a(177),j=a(89),v=a(81),E=a(2751),w=a(1330),N=a(542),k=a(52),x=a(176),D=a(724),O=a(294),S=a(134),A=a(61),T=a(233),z=a.n(T),C=a(738),L=a.n(C),P=a(10),$=a.n(P),R=a(73),U=a(1331),_=a(252),Q=a.n(_),B=a(1207),Y=a.n(B),G=a(251),Z=a.n(G),W=a(58),F=a(1208),V=a.n(F);const H=Object(n.hb)({id:"plugin.githubactions.service",description:"Used by the GitHub Actions plugin to make requests"});class q{constructor(e){this.configApi=e.configApi,this.githubAuthApi=e.githubAuthApi}async getOctokit(e){var t;const a=await this.githubAuthApi.getAccessToken(["repo"]),n=Object(r.b)(null!=(t=this.configApi.getOptionalConfigArray("integrations.github"))?t:[]).find(t=>t.host===e),o=null==n?void 0:n.apiBaseUrl;return new i.a({auth:a,baseUrl:o})}async reRunWorkflow({hostname:e,owner:t,repo:a,runId:n}){return(await this.getOctokit(e)).actions.reRunWorkflow({owner:t,repo:a,run_id:n})}async listWorkflowRuns({hostname:e,owner:t,repo:a,pageSize:n=100,page:r=0,branch:i}){const o=await this.getOctokit(e);return(await o.actions.listWorkflowRunsForRepo({owner:t,repo:a,per_page:n,page:r,...i?{branch:i}:{}})).data}async getWorkflow({hostname:e,owner:t,repo:a,id:n}){const r=await this.getOctokit(e);return(await r.actions.getWorkflow({owner:t,repo:a,workflow_id:n})).data}async getWorkflowRun({hostname:e,owner:t,repo:a,id:n}){const r=await this.getOctokit(e);return(await r.actions.getWorkflowRun({owner:t,repo:a,run_id:n})).data}async downloadJobLogsForWorkflowRun({hostname:e,owner:t,repo:a,runId:n}){const r=await this.getOctokit(e);return(await r.actions.downloadJobLogsForWorkflowRun({owner:t,repo:a,job_id:n})).data}}var J,X;(X=J||(J={}))[X.success=0]="success",X[X.failure=1]="failure",X[X.pending=2]="pending",X[X.running=3]="running";const K=Object(n.nb)({path:"",title:"GitHub Actions"}),ee=Object(n.nb)({path:":id",params:["id"],title:"GitHub Actions Workflow Run"}),te=Object(n.lb)({id:"github-actions",apis:[Object(n.gb)({api:H,deps:{configApi:n.fb,githubAuthApi:n.rb},factory:({configApi:e,githubAuthApi:t})=>new q({configApi:e,githubAuthApi:t})})],routes:{entityContent:K}}),ae=te.provide(Object(n.mb)({component:()=>Promise.resolve().then((function(){return je})).then(e=>e.Router),mountPoint:K})),ne=(te.provide(Object(n.jb)({component:{lazy:()=>a.e(2).then(a.bind(null,827)).then(e=>e.LatestWorkflowRunCard)}})),te.provide(Object(n.jb)({component:{lazy:()=>a.e(2).then(a.bind(null,827)).then(e=>e.LatestWorkflowsForBranchCard)}})),te.provide(Object(n.jb)({component:{lazy:()=>a.e(2).then(a.bind(null,827)).then(e=>e.RecentWorkflowRunsCard)}})),e=>{const{value:t,loading:a,error:n}=Object(R.a)(async()=>{var t,a;return null!=(a=null==(t=null==e?void 0:e.metadata.annotations)?void 0:t["github.com/project-slug"])?a:""});return{value:t,loading:a,error:n}}),re=({status:e,conclusion:t})=>{if(void 0===e)return null;switch(e.toLocaleLowerCase("en-US")){case"queued":return s.a.createElement(s.a.Fragment,null,s.a.createElement(n.R,null)," Queued");case"in_progress":return s.a.createElement(s.a.Fragment,null,s.a.createElement(n.S,null)," In progress");case"completed":switch(null==t?void 0:t.toLocaleLowerCase("en-US")){case"skipped":return s.a.createElement(s.a.Fragment,null,s.a.createElement(n.O,null)," Aborted");case"timed_out":return s.a.createElement(s.a.Fragment,null,s.a.createElement(n.T,null)," Timed out");case"failure":return s.a.createElement(s.a.Fragment,null,s.a.createElement(n.P,null)," Error");default:return s.a.createElement(s.a.Fragment,null,s.a.createElement(n.Q,null)," Completed")}default:return s.a.createElement(s.a.Fragment,null,s.a.createElement(n.R,null)," Pending")}},ie=s.a.lazy(()=>a.e(3).then(a.t.bind(null,2772,7))),oe=s.a.lazy(()=>a.e(55).then(a.t.bind(null,2791,7))),se=Object(u.a)(()=>({button:{order:-1,marginRight:0,marginLeft:"-20px"},modal:{display:"flex",alignItems:"center",width:"85%",height:"85%",justifyContent:"center",margin:"auto"},normalLog:{height:"75vh",width:"100%"},modalLog:{height:"100%",width:"100%"}})),le=({jobLogs:e,className:t})=>s.a.createElement(o.Suspense,{fallback:s.a.createElement(d.a,null)},s.a.createElement("div",{className:t},s.a.createElement(ie,{text:null!=e?e:"No Values Found",extraLines:1,caseInsensitive:!0,enableSearch:!0,formatPart:e=>e.toLocaleLowerCase().includes("error")||e.toLocaleLowerCase().includes("failed")||e.toLocaleLowerCase().includes("failure")?s.a.createElement(oe,{style:{color:"red"},part:{text:e}}):e}))),ce=({entity:e,runId:t,inProgress:a})=>{var i;const o=Object(n.Ab)(n.fb),l=se(),c=ne(e),u=Object(r.b)(null!=(i=o.getOptionalConfigArray("integrations.github"))?i:[])[0].host,[d,I]=c.value?c.value.split("/"):[],j=(({hostname:e,owner:t,repo:a,id:r})=>{const i=Object(n.Ab)(H);return Object(R.a)(async()=>a&&t?i.downloadJobLogsForWorkflowRun({hostname:e,owner:t,repo:a,runId:parseInt(r,10)}):Promise.reject("No repo/owner provided"),[a,t,r])})({hostname:u,owner:d,repo:I,id:t}),[v,E]=s.a.useState(!1);return s.a.createElement(m.a,{TransitionProps:{unmountOnExit:!0},disabled:a},s.a.createElement(p.a,{expandIcon:s.a.createElement(z.a,null),"aria-controls":`panel-${name}-content`,id:`panel-${name}-header`,IconButtonProps:{className:l.button}},s.a.createElement(g.a,{variant:"button"},j.loading?s.a.createElement(h.a,null):"Job Log"),s.a.createElement(f.a,{title:"Open Log",TransitionComponent:y.a,arrow:!0},s.a.createElement(Q.a,{onClick:e=>{e.stopPropagation(),E(!0)},style:{marginLeft:"auto"}})),s.a.createElement(b.a,{className:l.modal,onClick:e=>e.stopPropagation(),open:v,onClose:()=>{E(!1)}},s.a.createElement(M.a,{in:v},s.a.createElement(le,{jobLogs:j.value||void 0,className:l.modalLog})))),j.value&&s.a.createElement(le,{jobLogs:j.value||void 0,className:l.normalLog}))},ue=Object(u.a)(e=>({root:{maxWidth:720,margin:e.spacing(2)},title:{padding:e.spacing(1,0,2,0)},table:{padding:e.spacing(1)},accordionDetails:{padding:0},button:{order:-1,marginRight:0,marginLeft:"-20px"},externalLinkIcon:{fontSize:"inherit",verticalAlign:"bottom"}})),de=(e,t)=>$()($()(t||$()()).diff($()(e))).format("m [minutes] s [seconds]"),me=({step:e})=>{var t;return s.a.createElement(I.a,null,s.a.createElement(j.a,null,s.a.createElement(v.a,{primary:e.name,secondary:de(e.started_at,e.completed_at)})),s.a.createElement(j.a,null,s.a.createElement(re,{status:e.status.toLocaleUpperCase("en-US"),conclusion:null==(t=e.conclusion)?void 0:t.toLocaleUpperCase("en-US")})))},pe=({job:e,className:t,entity:a})=>{const n=ue();return s.a.createElement(m.a,{TransitionProps:{unmountOnExit:!0},className:t},s.a.createElement(p.a,{expandIcon:s.a.createElement(z.a,null),"aria-controls":`panel-${name}-content`,id:`panel-${name}-header`,IconButtonProps:{className:n.button}},s.a.createElement(g.a,{variant:"button"},e.name," (",de(e.started_at,e.completed_at),")")),s.a.createElement(E.a,{className:n.accordionDetails},s.a.createElement(w.a,null,s.a.createElement(N.a,null,e.steps.map(e=>s.a.createElement(me,{key:e.number,step:e}))))),"queued"===e.status||"in_progress"===e.status?s.a.createElement(ce,{runId:e.id,inProgress:!0,entity:a}):s.a.createElement(ce,{runId:e.id,inProgress:!1,entity:a}))},ge=({jobs:e,entity:t})=>{const a=ue();return s.a.createElement(k.a,null,e&&e.total_count>0&&e.jobs.map(e=>s.a.createElement(pe,{key:e.id,job:e,className:"success"!==e.status?a.failed:a.success,entity:t})))},he=({entity:e})=>{var t,a,i,o,l,c,u,m,p,f,y,b,M,v,E,S,A;const T=Object(n.Ab)(n.fb),z=ne(e),C=Object(r.b)(null!=(t=T.getOptionalConfigArray("integrations.github"))?t:[])[0].host,[P,$]=z.value?z.value.split("/"):[],U=(({hostname:e,owner:t,repo:a})=>{const r=Object(n.Ab)(H),{id:i}=Object(n.Eb)(ee);return Object(R.a)(async()=>a&&t?r.getWorkflowRun({hostname:e,owner:t,repo:a,id:parseInt(i,10)}):Promise.reject("No repo/owner provided"),[a,t,i])})({hostname:C,owner:P,repo:$}),_=(Q=null==(a=U.value)?void 0:a.jobs_url,Object(R.a)(async()=>void 0===Q?{total_count:0,jobs:[]}:await fetch(Q).then(e=>e.json()),[Q]));var Q;const B=z.error||z.value&&U.error,Y=ue();return B?s.a.createElement(g.a,{variant:"h6",color:"error"},"Failed to load build, ",B.message):z.loading||U.loading?s.a.createElement(d.a,null):s.a.createElement("div",{className:Y.root},s.a.createElement(k.a,{mb:3},s.a.createElement(n.c,{"aria-label":"breadcrumb"},s.a.createElement(n.w,{to:".."},"Workflow runs"),s.a.createElement(g.a,null,"Workflow run details"))),s.a.createElement(w.a,{component:x.a,className:Y.table},s.a.createElement(N.a,null,s.a.createElement(D.a,null,s.a.createElement(I.a,null,s.a.createElement(j.a,null,s.a.createElement(g.a,{noWrap:!0},"Branch")),s.a.createElement(j.a,null,null==(i=U.value)?void 0:i.head_branch)),s.a.createElement(I.a,null,s.a.createElement(j.a,null,s.a.createElement(g.a,{noWrap:!0},"Message")),s.a.createElement(j.a,null,null==(l=null==(o=U.value)?void 0:o.head_commit)?void 0:l.message)),s.a.createElement(I.a,null,s.a.createElement(j.a,null,s.a.createElement(g.a,{noWrap:!0},"Commit ID")),s.a.createElement(j.a,null,null==(u=null==(c=U.value)?void 0:c.head_commit)?void 0:u.id)),s.a.createElement(I.a,null,s.a.createElement(j.a,null,s.a.createElement(g.a,{noWrap:!0},"Workflow")),s.a.createElement(j.a,null,null==(m=U.value)?void 0:m.name)),s.a.createElement(I.a,null,s.a.createElement(j.a,null,s.a.createElement(g.a,{noWrap:!0},"Status")),s.a.createElement(j.a,null,s.a.createElement(re,{status:(null==(p=U.value)?void 0:p.status)||void 0,conclusion:(null==(f=U.value)?void 0:f.conclusion)||void 0}))),s.a.createElement(I.a,null,s.a.createElement(j.a,null,s.a.createElement(g.a,{noWrap:!0},"Author")),s.a.createElement(j.a,null,`${null==(M=null==(b=null==(y=U.value)?void 0:y.head_commit)?void 0:b.author)?void 0:M.name} (${null==(S=null==(E=null==(v=U.value)?void 0:v.head_commit)?void 0:E.author)?void 0:S.email})`)),s.a.createElement(I.a,null,s.a.createElement(j.a,null,s.a.createElement(g.a,{noWrap:!0},"Links")),s.a.createElement(j.a,null,(null==(A=U.value)?void 0:A.html_url)&&s.a.createElement(O.a,{target:"_blank",href:U.value.html_url},"Workflow runs on GitHub"," ",s.a.createElement(L.a,{className:Y.externalLinkIcon})))),s.a.createElement(I.a,null,s.a.createElement(j.a,{colSpan:2},s.a.createElement(g.a,{noWrap:!0},"Jobs"),_.loading?s.a.createElement(h.a,null):s.a.createElement(ge,{jobs:_.value,entity:e})))))))};function fe({hostname:e,owner:t,repo:a,branch:r,initialPageSize:i=5}){const s=Object(n.Ab)(H),l=Object(n.Ab)(n.pb),[c,u]=Object(o.useState)(0),[d,m]=Object(o.useState)(0),[p,g]=Object(o.useState)(i),{loading:h,value:f,retry:y,error:b}=Object(U.a)(async()=>{const n=await s.listWorkflowRuns({hostname:e,owner:t,repo:a,pageSize:p,page:d+1,branch:r});return u(n.total_count),n.workflow_runs.map(n=>{var r,i;return{workflowName:n.name,message:n.head_commit.message,id:""+n.id,onReRunClick:async()=>{try{await s.reRunWorkflow({hostname:e,owner:t,repo:a,runId:n.id})}catch(e){l.post(e)}},source:{branchName:n.head_branch,commit:{hash:n.head_commit.id,url:null==(i=null==(r=n.head_repository)?void 0:r.branches_url)?void 0:i.replace("{/branch}",n.head_branch)}},status:n.status,conclusion:n.conclusion,url:n.url,githubUrl:n.html_url}})},[d,p,a,t]);return[{page:d,pageSize:p,loading:h,runs:f,projectName:`${t}/${a}`,total:c,error:b},{runs:f,setPage:m,setPageSize:g,retry:y}]}const ye=[{title:"ID",field:"id",type:"numeric",width:"150px"},{title:"Message",field:"message",highlight:!0,render:e=>s.a.createElement(O.a,{component:W.b,to:Object(c.g)(ee.path,{id:e.id})},e.message)},{title:"Source",render:e=>{var t,a;return s.a.createElement(g.a,{variant:"body2",noWrap:!0},s.a.createElement("p",null,null==(t=e.source)?void 0:t.branchName),s.a.createElement("p",null,null==(a=e.source)?void 0:a.commit.hash))}},{title:"Workflow",field:"workflowName"},{title:"Status",width:"150px",render:e=>s.a.createElement(k.a,{display:"flex",alignItems:"center"},s.a.createElement(re,{status:e.status,conclusion:e.conclusion}))},{title:"Actions",render:e=>s.a.createElement(f.a,{title:"Rerun workflow"},s.a.createElement(S.a,{onClick:e.onReRunClick},s.a.createElement(Y.a,null))),width:"10%"}],be=({projectName:e,loading:t,pageSize:a,page:r,retry:i,runs:o,onChangePage:l,onChangePageSize:c,total:u})=>s.a.createElement(n.Z,{isLoading:t,options:{paging:!0,pageSize:a,padding:"dense"},totalCount:u,page:r,actions:[{icon:()=>s.a.createElement(V.a,null),tooltip:"Reload workflow runs",isFreeAction:!0,onClick:()=>i()}],data:null!=o?o:[],onChangePage:l,onChangeRowsPerPage:c,style:{width:"100%"},title:s.a.createElement(k.a,{display:"flex",alignItems:"center"},s.a.createElement(Z.a,null),s.a.createElement(k.a,{mr:1}),s.a.createElement(g.a,{variant:"h6"},e)),columns:ye}),Me=({entity:e,branch:t})=>{var a;const i=Object(n.Ab)(n.fb),{value:o,loading:l}=ne(e),c=Object(r.b)(null!=(a=i.getOptionalConfigArray("integrations.github"))?a:[])[0].host,[u,d]=(null!=o?o:"/").split("/"),[{runs:m,...p},{retry:g,setPage:h,setPageSize:f}]=fe({hostname:c,owner:u,repo:d,branch:t}),y=c||"github.com";return m?s.a.createElement(be,{...p,runs:m,loading:l||p.loading,retry:g,onChangePageSize:f,onChangePage:h}):s.a.createElement(n.k,{missing:"data",title:"No Workflow Data",description:"This component has GitHub Actions enabled, but no data was found. Have you created any Workflows? Click the button below to create a new Workflow.",action:s.a.createElement(A.a,{variant:"contained",color:"primary",href:`https://${y}/${o}/actions/new`},"Create new Workflow")})},Ie=e=>{var t;return Boolean(null==(t=e.metadata.annotations)?void 0:t["github.com/project-slug"])};var je=Object.freeze({__proto__:null,isGithubActionsAvailable:Ie,Router:e=>{const{entity:t}=Object(l.n)();return Ie(t)?s.a.createElement(c.f,null,s.a.createElement(c.d,{path:"/"+K.path,element:s.a.createElement(Me,{entity:t})}),s.a.createElement(c.d,{path:"/"+ee.path,element:s.a.createElement(he,{entity:t})}),")"):s.a.createElement(n.y,{annotation:"github.com/project-slug"})}});const ve=Object(u.a)({externalLinkIcon:{fontSize:"inherit",verticalAlign:"bottom"}}),Ee=({error:e,loading:t,lastRun:a,branch:r})=>{const i=ve();return e?s.a.createElement(g.a,null,"Couldn't fetch latest ",r," run"):t?s.a.createElement(d.a,null):s.a.createElement(n.U,{metadata:{status:s.a.createElement(s.a.Fragment,null,s.a.createElement(re,{status:a.status,conclusion:a.conclusion})),message:a.message,url:s.a.createElement(O.a,{href:a.githubUrl,target:"_blank"},"See more on GitHub"," ",s.a.createElement(L.a,{className:i.externalLinkIcon}))}})},we=({branch:e="master",variant:t})=>{var a,i,c,u;const{entity:d}=Object(l.n)(),m=Object(n.Ab)(n.fb),p=Object(n.Ab)(n.pb),g=Object(r.b)(null!=(a=m.getOptionalConfigArray("integrations.github"))?a:[])[0].host,[h,f]=(null!=(c=null==(i=null==d?void 0:d.metadata.annotations)?void 0:i["github.com/project-slug"])?c:"/").split("/"),[{runs:y,loading:b,error:M}]=fe({hostname:g,owner:h,repo:f,branch:e}),I=null!=(u=null==y?void 0:y[0])?u:{};return Object(o.useEffect)(()=>{M&&p.post(M)},[M,p]),s.a.createElement(n.s,{title:`Last ${e} build`,variant:t},s.a.createElement(Ee,{error:M,loading:b,branch:e,lastRun:I}))},Ne=({branch:e="master",variant:t})=>{const{entity:a}=Object(l.n)();return s.a.createElement(n.s,{title:`Last ${e} build`,variant:t},s.a.createElement(Me,{branch:e,entity:a}))},ke=({branch:e,dense:t=!1,limit:a=5,variant:i})=>{var u,d,m;const{entity:p}=Object(l.n)(),h=Object(n.Ab)(n.fb),f=Object(n.Ab)(n.pb),y=Object(r.b)(null!=(u=h.getOptionalConfigArray("integrations.github"))?u:[])[0].host,[b,M]=(null!=(m=null==(d=null==p?void 0:p.metadata.annotations)?void 0:d["github.com/project-slug"])?m:"/").split("/"),[{runs:I=[],loading:j,error:v}]=fe({hostname:y,owner:b,repo:M,branch:e,initialPageSize:a});Object(o.useEffect)(()=>{v&&f.post(v)},[v,f]);const E=y||"github.com";return s.a.createElement(n.s,{title:"Recent Workflow Runs",subheader:e?"Branch: "+e:"All Branches",noPadding:!0,variant:i},I.length?s.a.createElement(n.Z,{isLoading:j,options:{search:!1,paging:!1,padding:t?"dense":"default",toolbar:!1},columns:[{title:"Commit Message",field:"message",render:e=>s.a.createElement(n.w,{component:W.b,to:Object(c.g)("./ci-cd/:id",{id:e.id})},e.message.split("\n")[0])},{title:"Branch",field:"source.branchName"},{title:"Status",field:"status",render:re}],data:I}):s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement(g.a,{variant:"body1"},"This component has GitHub Actions enabled, but no workflows were found."),s.a.createElement(g.a,{variant:"body2"},s.a.createElement(n.w,{to:`https://${E}/${b}/${M}/actions/new`},"Create a new workflow"))))}},64:function(e,t,a){"use strict";a.d(t,"a",(function(){return Z})),a.d(t,"b",(function(){return z})),a.d(t,"c",(function(){return V})),a.d(t,"d",(function(){return L})),a.d(t,"e",(function(){return P})),a.d(t,"f",(function(){return j})),a.d(t,"g",(function(){return S})),a.d(t,"h",(function(){return $})),a.d(t,"i",(function(){return O})),a.d(t,"j",(function(){return R})),a.d(t,"k",(function(){return W})),a.d(t,"l",(function(){return F})),a.d(t,"m",(function(){return H})),a.d(t,"n",(function(){return q})),a.d(t,"o",(function(){return K})),a.d(t,"p",(function(){return J})),a.d(t,"q",(function(){return X}));var n=a(3),r=a(12),i=a(202),o=a(0),s=a.n(o),l=a(602),c=(a(783),a(39)),u=a(23),d=(a(784),a(2762)),m=a(594),p=(a(785),a(28)),g=a(18),h=a(435),f=a(61),y=a(58),b=a(73);const M=Object(n.hb)({id:"plugin.api-docs.config",description:"Used to configure api-docs widgets"}),I=({definition:e,language:t})=>s.a.createElement(n.f,{text:e,language:t,showCopyCodeButton:!0}),j=e=>{const{entity:t}=Object(r.n)(),a=Object(n.Ab)(M),{getApiDefinitionWidget:o}=a;if(!t)return s.a.createElement(i.a,{severity:"error"},"Could not fetch the API");const l=o(t);return l?s.a.createElement(n.X,{title:t.metadata.name},s.a.createElement(n.e,{label:l.title,key:"widget"},l.component(t.spec.definition)),s.a.createElement(n.e,{label:"Raw",key:"raw"},s.a.createElement(I,{definition:t.spec.definition,language:l.rawLanguage||t.spec.type}))):s.a.createElement(n.X,{title:t.metadata.name,children:[s.a.createElement(n.e,{label:t.spec.type,key:"raw"},s.a.createElement(I,{definition:t.spec.definition,language:t.spec.type}))]})},v=Object(c.a)(e=>({root:{"& .asyncapi":{"font-family":"inherit",background:"none"},"& h2":{...e.typography.h6},"& .text-teal":{color:e.palette.primary.main},"& button":{...e.typography.button,background:"none",boxSizing:"border-box",minWidth:64,borderRadius:e.shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),padding:"5px 15px",color:e.palette.primary.main,border:"1px solid "+Object(u.d)(e.palette.primary.main,.5),"&:hover":{textDecoration:"none","&.Mui-disabled":{backgroundColor:"transparent"},border:"1px solid "+e.palette.primary.main,backgroundColor:Object(u.d)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&.Mui-disabled":{color:e.palette.action.disabled}},"& .asyncapi__collapse-button:hover":{color:e.palette.primary.main},"& button.asyncapi__toggle-button":{"min-width":"inherit"},"& .asyncapi__info-list li":{"border-color":e.palette.primary.main,"&:hover":{color:e.palette.text.primary,"border-color":e.palette.primary.main,"background-color":e.palette.primary.main}},"& .asyncapi__info-list li a":{color:e.palette.primary.main,"&:hover":{color:e.palette.getContrastText(e.palette.primary.main)}},"& .asyncapi__enum":{color:e.palette.secondary.main},"& .asyncapi__info, .asyncapi__channel, .asyncapi__channels > div, .asyncapi__schema, .asyncapi__channel-operations-list .asyncapi__messages-list-item .asyncapi__message, .asyncapi__message, .asyncapi__server, .asyncapi__servers > div, .asyncapi__messages > div, .asyncapi__schemas > div":{"background-color":"inherit"},"& .asyncapi__channel-parameters-header, .asyncapi__channel-operations-header, .asyncapi__channel-operation-oneOf-subscribe-header, .asyncapi__channel-operation-oneOf-publish-header, .asyncapi__channel-operation-message-header,  .asyncapi__message-header, .asyncapi__message-header-title, .asyncapi__message-header-title > h3, .asyncapi__bindings, .asyncapi__bindings-header, .asyncapi__bindings-header > h4":{"background-color":"inherit",color:e.palette.text.primary},"& .asyncapi__additional-properties-notice":{color:e.palette.text.hint},"& .asyncapi__code, .asyncapi__code-pre":{background:e.palette.background.default},"& .asyncapi__schema-example-header-title":{color:e.palette.text.secondary},"& .asyncapi__message-headers-header, .asyncapi__message-payload-header, .asyncapi__server-variables-header, .asyncapi__server-security-header":{"background-color":"inherit",color:e.palette.text.secondary},"& .asyncapi__table-header":{background:e.palette.background.default},"& .asyncapi__table-body":{color:e.palette.text.primary},"& .asyncapi__server-security-flow":{background:e.palette.background.default,border:"none"},"& .asyncapi__server-security-flows-list a":{color:e.palette.primary.main},"& .asyncapi__table-row--nested":{color:e.palette.text.secondary}}})),E=({definition:e})=>{const t=v();return s.a.createElement("div",{className:t.root},s.a.createElement(l.a,{schema:e}))},w=s.a.lazy(()=>a.e(38).then(a.bind(null,2793))),N=Object(c.a)(()=>({root:{height:"100%",display:"flex",flexFlow:"column nowrap"},graphiQlWrapper:{flex:1,"@global":{".graphiql-container":{boxSizing:"initial",height:"100%",minHeight:"600px",flex:"1 1 auto"}}}})),k=({definition:e})=>{const t=N(),a=Object(d.b)(e);return s.a.createElement(o.Suspense,{fallback:s.a.createElement(n.C,null)},s.a.createElement("div",{className:t.root},s.a.createElement("div",{className:t.graphiQlWrapper},s.a.createElement(w,{fetcher:()=>Promise.resolve(null),schema:a,docExplorerOpen:!0,defaultSecondaryEditorOpen:!1}))))},x=Object(c.a)(e=>({root:{"& .swagger-ui, .info h1, .info h2, .info h3, .info h4, .info h":{"font-family":"inherit",color:e.palette.text.primary},"& .scheme-container":{"background-color":e.palette.background.default},"& .opblock-tag, .opblock-tag small, table thead tr td, table thead tr th":{color:e.palette.text.primary,"border-color":e.palette.divider},"& section.models, section.models.is-open h4":{"border-color":e.palette.divider},"& .opblock .opblock-summary-description, .parameter__type, table.headers td, .model-title, .model .property.primitive, section h3":{color:e.palette.text.secondary},"& .opblock .opblock-summary-operation-id, .opblock .opblock-summary-path, .opblock .opblock-summary-path__deprecated, .opblock .opblock-section-header h4, .parameter__name, .response-col_status, .response-col_links, .responses-inner h4, .swagger-ui .responses-inner h5, .opblock-section-header .btn, .tab li, .info li, .info p, .info table, section.models h4, .info .title, table.model tr.description, .property-row":{color:e.palette.text.primary},"& .opblock .opblock-section-header, .model-box, section.models .model-container":{background:e.palette.background.default},"& .prop-format, .parameter__in":{color:e.palette.text.disabled},"& ":{color:e.palette.text.primary,"border-color":e.palette.divider},"& .opblock-description-wrapper p, .opblock-external-docs-wrapper p, .opblock-title_normal p, .response-control-media-type__accept-message, .opblock .opblock-section-header>label, .scheme-container .schemes>label, .info .base-url, .model":{color:e.palette.text.hint},"& .parameter__name.required:after":{color:e.palette.warning.dark},"& .prop-type":{color:e.palette.primary.main}}})),D=({definition:e})=>{const t=x(),[a,n]=Object(o.useState)("");return Object(o.useEffect)(()=>{const t=setTimeout(()=>n(e),0);return()=>clearTimeout(t)},[e,n]),s.a.createElement("div",{className:t.root},s.a.createElement(m.a,{spec:a}))};function O(){return[{type:"openapi",title:"OpenAPI",rawLanguage:"yaml",component:e=>s.a.createElement(D,{definition:e})},{type:"asyncapi",title:"AsyncAPI",rawLanguage:"yaml",component:e=>s.a.createElement(E,{definition:e})},{type:"graphql",title:"GraphQL",rawLanguage:"graphql",component:e=>s.a.createElement(k,{definition:e})}]}const S=({apiEntity:e})=>{const t=Object(n.Ab)(M).getApiDefinitionWidget(e),a=t?t.title:e.spec.type;return s.a.createElement("span",null,a)};function A(){return{title:"Type",field:"spec.type",render:e=>s.a.createElement(S,{apiEntity:e})}}const T=[r.d.columns.createEntityRefColumn({defaultKind:"API"}),r.d.columns.createSystemColumn(),r.d.columns.createOwnerColumn(),r.d.columns.createSpecLifecycleColumn(),A(),r.d.columns.createMetadataDescriptionColumn()],z=({variant:e="gridItem"})=>{const{entity:t}=Object(r.n)(),{entities:a,loading:i,error:o}=Object(r.q)(t,{type:p.h});return i?s.a.createElement(n.s,{variant:e,title:"Consumed APIs"},s.a.createElement(n.C,null)):o||!a?s.a.createElement(n.s,{variant:e,title:"Consumed APIs"},s.a.createElement(n.ab,{severity:"error",title:"Could not load APIs",message:s.a.createElement(n.f,{text:""+o,language:"text"})})):s.a.createElement(r.d,{title:"Consumed APIs",variant:e,emptyContent:s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement(g.a,{variant:"body1"},"This ",t.kind.toLocaleLowerCase("en-US")," does not consume any APIs."),s.a.createElement(g.a,{variant:"body2"},s.a.createElement(n.w,{to:"https://backstage.io/docs/features/software-catalog/descriptor-format#specconsumesapis-optional"},"Learn how to change this."))),columns:T,entities:a})},C=[r.d.columns.createEntityRefColumn({defaultKind:"API"}),r.d.columns.createOwnerColumn(),r.d.columns.createSpecLifecycleColumn(),A(),r.d.columns.createMetadataDescriptionColumn()],L=({variant:e="gridItem"})=>{const{entity:t}=Object(r.n)(),{entities:a,loading:i,error:o}=Object(r.q)(t,{type:p.j,kind:"API"});return i?s.a.createElement(n.s,{variant:e,title:"APIs"},s.a.createElement(n.C,null)):o||!a?s.a.createElement(n.s,{variant:e,title:"APIs"},s.a.createElement(n.ab,{severity:"error",title:"Could not load APIs",message:s.a.createElement(n.f,{text:""+o,language:"text"})})):s.a.createElement(r.d,{title:"APIs",variant:e,emptyContent:s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement(g.a,{variant:"body1"},"This ",t.kind.toLocaleLowerCase("en-US")," does not contain any APIs."),s.a.createElement(g.a,{variant:"body2"},s.a.createElement(n.w,{to:"https://backstage.io/docs/features/software-catalog/descriptor-format#kind-api"},"Learn how to change this."))),columns:C,entities:a})},P=({variant:e="gridItem"})=>{const{entity:t}=Object(r.n)(),{entities:a,loading:i,error:o}=Object(r.q)(t,{type:p.o});return i?s.a.createElement(n.s,{variant:e,title:"Provided APIs"},s.a.createElement(n.C,null)):o||!a?s.a.createElement(n.s,{variant:e,title:"Provided APIs"},s.a.createElement(n.ab,{severity:"error",title:"Could not load APIs",message:s.a.createElement(n.f,{text:""+o,language:"text"})})):s.a.createElement(r.d,{title:"Provided APIs",variant:e,emptyContent:s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement(g.a,{variant:"body1"},"This ",t.kind.toLocaleLowerCase("en-US")," does not provide any APIs."),s.a.createElement(g.a,{variant:"body2"},s.a.createElement(n.w,{to:"https://backstage.io/docs/features/software-catalog/descriptor-format#specprovidesapis-optional"},"Learn how to change this."))),columns:T,entities:a})},$=({variant:e="gridItem"})=>{const{entity:t}=Object(r.n)(),{entities:a,loading:i,error:o}=Object(r.q)(t,{type:p.e});return i?s.a.createElement(n.s,{variant:e,title:"Consumers"},s.a.createElement(n.C,null)):o||!a?s.a.createElement(n.s,{variant:e,title:"Consumers"},s.a.createElement(n.ab,{severity:"error",title:"Could not load components",message:s.a.createElement(n.f,{text:""+o,language:"text"})})):s.a.createElement(r.d,{title:"Consumers",variant:e,emptyContent:s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement(g.a,{variant:"body1"},"No component consumes this API."),s.a.createElement(g.a,{variant:"body2"},s.a.createElement(n.w,{to:"https://backstage.io/docs/features/software-catalog/descriptor-format#specconsumesapis-optional"},"Learn how to change this."))),columns:r.d.componentEntityColumns,entities:a})},R=({variant:e="gridItem"})=>{const{entity:t}=Object(r.n)(),{entities:a,loading:i,error:o}=Object(r.q)(t,{type:p.f});return i?s.a.createElement(n.s,{variant:e,title:"Providers"},s.a.createElement(n.C,null)):o||!a?s.a.createElement(n.s,{variant:e,title:"Providers"},s.a.createElement(n.ab,{severity:"error",title:"Could not load components",message:s.a.createElement(n.f,{text:""+o,language:"text"})})):s.a.createElement(r.d,{title:"Providers",variant:e,emptyContent:s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement(g.a,{variant:"body1"},"No component provides this API."),s.a.createElement(g.a,{variant:"body2"},s.a.createElement(n.w,{to:"https://backstage.io/docs/features/software-catalog/descriptor-format#specprovidesapis-optional"},"Learn how to change this."))),columns:r.d.componentEntityColumns,entities:a})},U=Object(n.nb)({icon:()=>null,path:"/api-docs",title:"APIs"}),_=Object(n.kb)({id:"create-component",optional:!0}),Q=[{title:"Name",field:"resolved.name",highlight:!0,render:({entity:e})=>s.a.createElement(r.b,{entityRef:e,defaultKind:"API"})},{title:"System",field:"resolved.partOfSystemRelationTitle",render:({resolved:e})=>s.a.createElement(r.c,{entityRefs:e.partOfSystemRelations,defaultKind:"system"})},{title:"Owner",field:"resolved.ownedByRelationsTitle",render:({resolved:e})=>s.a.createElement(r.c,{entityRefs:e.ownedByRelations,defaultKind:"group"})},{title:"Lifecycle",field:"entity.spec.lifecycle"},{title:"Type",field:"entity.spec.type",render:({entity:e})=>s.a.createElement(S,{apiEntity:e})},{title:"Description",field:"entity.metadata.description",render:({entity:e})=>s.a.createElement(n.A,{text:e.metadata.description,placement:"bottom-start"}),width:"auto"},{title:"Tags",field:"entity.metadata.tags",cellStyle:{padding:"0px 16px 0px 20px"},render:({entity:e})=>s.a.createElement(s.a.Fragment,null,e.metadata.tags&&e.metadata.tags.map(e=>s.a.createElement(h.a,{key:e,label:e,size:"small",variant:"outlined",style:{marginBottom:"0px"}})))}],B=[{column:"Owner",type:"select"},{column:"Type",type:"multiple-select"},{column:"Lifecycle",type:"multiple-select"},{column:"Tags",type:"checkbox-tree"}],Y=({entities:e,loading:t,error:a})=>{const[i,o]=Object(n.Cb)("apiTable");if(a)return s.a.createElement(n.ab,{severity:"error",title:"Could not fetch catalog entities."},s.a.createElement(n.f,{language:"text",text:a.toString()}));const l=e.map(e=>{const t=Object(r.k)(e,p.n,{kind:"system"}),a=Object(r.k)(e,p.l);return{entity:e,resolved:{name:Object(r.j)(e,{defaultKind:"API"}),ownedByRelationsTitle:a.map(e=>Object(r.j)(e,{defaultKind:"group"})).join(", "),ownedByRelations:a,partOfSystemRelationTitle:t.map(e=>Object(r.j)(e,{defaultKind:"system"})).join(", "),partOfSystemRelations:t}}});return s.a.createElement(n.Z,{isLoading:t,columns:Q,options:{paging:!1,actionsColumnIndex:-1,loadingType:"linear",padding:"dense",showEmptyDataSourceMessage:!t},data:l,filters:B,initialState:i,onStateChange:o})},G=({children:e})=>{var t;const a=(null!=(t=Object(n.Ab)(n.fb).getOptionalString("organization.name"))?t:"Backstage")+" API Explorer";return s.a.createElement(n.B,{themeId:"apis"},s.a.createElement(n.o,{title:"APIs",subtitle:a,pageTitleOverride:"APIs"}),e)},Z=()=>{var e;const t=Object(n.Db)(_),a=Object(n.Ab)(r.e),{loading:i,error:o,value:l}=Object(b.a)(()=>a.getEntities({filter:{kind:"API"},fields:["apiVersion","kind","metadata","relations","spec.lifecycle","spec.owner","spec.type","spec.system"]}),[a]);return s.a.createElement(G,null,s.a.createElement(n.g,null,s.a.createElement(n.h,{title:""},t&&s.a.createElement(f.a,{variant:"contained",color:"primary",component:y.b,to:t()},"Register Existing API"),s.a.createElement(n.W,null,"All your APIs")),s.a.createElement(Y,{entities:null!=(e=null==l?void 0:l.items)?e:[],loading:i,error:o})))},W=Object(n.lb)({id:"api-docs",routes:{root:U},apis:[Object(n.gb)({api:M,deps:{},factory:()=>{const e=O();return{getApiDefinitionWidget:t=>e.find(e=>e.type===t.spec.type)}}})],externalRoutes:{createComponent:_},register({router:e}){e.addRoute(U,Z)}}),F=W.provide(Object(n.mb)({component:()=>a.e(48).then(a.bind(null,2776)).then(e=>e.ApiExplorerPage),mountPoint:U})),V=W.provide(Object(n.jb)({component:{lazy:()=>a.e(47).then(a.bind(null,2777)).then(e=>e.ApiDefinitionCard)}})),H=W.provide(Object(n.jb)({component:{lazy:()=>a.e(1).then(a.bind(null,826)).then(e=>e.ConsumedApisCard)}})),q=W.provide(Object(n.jb)({component:{lazy:()=>a.e(4).then(a.bind(null,1378)).then(e=>e.ConsumingComponentsCard)}})),J=W.provide(Object(n.jb)({component:{lazy:()=>a.e(1).then(a.bind(null,826)).then(e=>e.ProvidedApisCard)}})),X=W.provide(Object(n.jb)({component:{lazy:()=>a.e(4).then(a.bind(null,1378)).then(e=>e.ProvidingComponentsCard)}})),K=W.provide(Object(n.jb)({component:{lazy:()=>a.e(1).then(a.bind(null,826)).then(e=>e.HasApisCard)}}))},65:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.func=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const n=a(41),r=a(147);function i(e,t=e.schema){const{opts:a,self:n}=e;if(!a.strict)return;if("boolean"==typeof t)return;const i=n.RULES.keywords;for(const a in t)i[a]||r.checkStrictMode(e,`unknown keyword: "${a}"`)}function o(e,t){if("boolean"==typeof e)return!e;for(const a in e)if(t[a])return!0;return!1}function s(e){return"number"==typeof e?""+e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function l(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function c({mergeNames:e,mergeToName:t,mergeValues:a,resultToName:r}){return(i,o,s,l)=>{const c=void 0===s?o:s instanceof n.Name?(o instanceof n.Name?e(i,o,s):t(i,o,s),s):o instanceof n.Name?(t(i,s,o),o):a(o,s);return l!==n.Name||c instanceof n.Name?c:r(i,c)}}function u(e,t){if(!0===t)return e.var("props",!0);const a=e.var("props",n._`{}`);return void 0!==t&&d(e,a,t),a}function d(e,t,a){Object.keys(a).forEach(a=>e.assign(n._`${t}${n.getProperty(a)}`,!0))}t.toHash=function(e){const t={};for(const a of e)t[a]=!0;return t},t.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(i(e,t),!o(t,e.self.RULES.all))},t.checkUnknownRules=i,t.schemaHasRules=o,t.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(const a in e)if("$ref"!==a&&t.all[a])return!0;return!1},t.schemaRefOrVal=function({topSchemaRef:e,schemaPath:t},a,r,i){if(!i){if("number"==typeof a||"boolean"==typeof a)return a;if("string"==typeof a)return n._`${a}`}return n._`${e}${t}${n.getProperty(r)}`},t.unescapeFragment=function(e){return l(decodeURIComponent(e))},t.escapeFragment=function(e){return encodeURIComponent(s(e))},t.escapeJsonPointer=s,t.unescapeJsonPointer=l,t.eachItem=function(e,t){if(Array.isArray(e))for(const a of e)t(a);else t(e)},t.mergeEvaluated={props:c({mergeNames:(e,t,a)=>e.if(n._`${a} !== true && ${t} !== undefined`,()=>{e.if(n._`${t} === true`,()=>e.assign(a,!0),()=>e.assign(a,n._`${a} || {}`).code(n._`Object.assign(${a}, ${t})`))}),mergeToName:(e,t,a)=>e.if(n._`${a} !== true`,()=>{!0===t?e.assign(a,!0):(e.assign(a,n._`${a} || {}`),d(e,a,t))}),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:u}),items:c({mergeNames:(e,t,a)=>e.if(n._`${a} !== true && ${t} !== undefined`,()=>e.assign(a,n._`${t} === true ? true : ${a} > ${t} ? ${a} : ${t}`)),mergeToName:(e,t,a)=>e.if(n._`${a} !== true`,()=>e.assign(a,!0===t||n._`${a} > ${t} ? ${a} : ${t}`)),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},t.evaluatedPropsToName=u,t.setEvaluated=d,t.func=function(e,t){return e.scopeValue("func",{ref:t,code:t.code})}},675:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class n{}t._CodeOrName=n,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends n{constructor(e){if(super(),!t.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class i extends n{constructor(e){super(),this._items="string"==typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce((e,t)=>`${e}${t}`,"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce((e,t)=>(t instanceof r&&(e[t.str]=(e[t.str]||0)+1),e),{})}}function o(e,...t){const a=[e[0]];let n=0;for(;n<t.length;)c(a,t[n]),a.push(e[++n]);return new i(a)}t._Code=i,t.nil=new i(""),t._=o;const s=new i("+");function l(e,...t){const a=[d(e[0])];let n=0;for(;n<t.length;)a.push(s),c(a,t[n]),a.push(s,d(e[++n]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===s){const a=u(e[t-1],e[t+1]);if(void 0!==a){e.splice(t-1,3,a);continue}e[t++]="+"}t++}}(a),new i(a)}function c(e,t){var a;t instanceof i?e.push(...t._items):t instanceof r?e.push(t):e.push("number"==typeof(a=t)||"boolean"==typeof a||null===a?a:d(Array.isArray(a)?a.join(","):a))}function u(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof r||'"'!==e[e.length-1])return;return"string"!=typeof t?`${e.slice(0,-1)}${t}"`:'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof r?void 0:`"${e}${t.slice(1)}`}function d(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=l,t.addCodeArg=c,t.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:l`${e}${t}`},t.stringify=function(e){return new i(d(e))},t.safeStringify=d,t.getProperty=function(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new i("."+e):o`[${e}]`}},677:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=void 0;const n=a(492);class r extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}t.ValidationError=r;class i extends Error{constructor(e,t,a){super(a||`can't resolve reference ${t} from id ${e}`),this.missingRef=n.resolveUrl(e,t),this.missingSchema=n.normalizeId(n.getFullPath(this.missingRef))}}t.MissingRefError=i,e.exports={ValidationError:r,MissingRefError:i}},750:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const n=a(490);t.KeywordCxt=n.default;var r=a(41);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const i=a(2031),o=a(2033),s=a(2066),l=["/properties"],c="http://json-schema.org/draft-07/schema";class u extends i.default{_addVocabularies(){super._addVocabularies(),o.default.forEach(e=>this.addVocabulary(e))}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const e=this.opts.$data?this.$dataMetaSchema(s,l):s;this.addMetaSchema(e,c,!1),this.refs["http://json-schema.org/schema"]=c}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(c)?c:void 0)}}t.default=u},764:function(e,t,a){"use strict";a.d(t,"a",(function(){return ge})),a.d(t,"b",(function(){return pe}));var n=a(3),r=a(139),i=a(12),o=a(1301),s=a(277),l=a(161),c=a.n(l),u=a(0),d=a.n(u),m=a(19),p=a(61),g=a(350),h=a(180),f=a(126),y=a(141),b=a(81),M=a(363),I=a(134),j=a(776),v=a(18),E=a(35),w=a(287),N=a(241),k=a(292),x=a(592),D=a(293),O=a(52),S=a(291),A=a(243),T=a(731),z=a(2757),C=a(2759),L=a(2760),P=a(39),$=a(589),R=a.n($),U=a(1303),_=a.n(U),Q=a(1304),B=a.n(Q),Y=a(547),G=a.n(Y),Z=a(233),W=a.n(Z),F=a(271),V=a.n(F),H=a(346),q=a.n(H),J=a(1302),X=a.n(J),K=a(323),ee=a.n(K),te=a(1305),ae=a.n(te),ne=a(353),re=a(2766),ie=a(765),oe=a.n(ie),se=a(73);const le=Object(n.hb)({id:"plugin.catalog-import.service",description:"Used by the catalog import plugin to make requests"}),ce=(e,t)=>{const a=e.github.byUrl(t);if(!a)return;const{name:n,owner:r}=c()(t);return{repo:n,owner:r,githubIntegrationConfig:a.config}};class ue{constructor(e){this.discoveryApi=e.discoveryApi,this.githubAuthApi=e.githubAuthApi,this.identityApi=e.identityApi,this.scmIntegrationsApi=e.scmIntegrationsApi,this.catalogApi=e.catalogApi}async analyzeUrl(e){if(e.match(/\.ya?ml$/)){const t=await this.catalogApi.addLocation({type:"url",target:e,dryRun:!0});return{type:"locations",locations:[{target:t.location.target,entities:t.entities.map(e=>{var t;return{kind:e.kind,namespace:null!=(t=e.metadata.namespace)?t:"default",name:e.metadata.name}})}]}}const t=ce(this.scmIntegrationsApi,e);if(!t)throw new Error("This URL was not recognized as a valid GitHub URL because there was no configured integration that matched the given host name. You could try to paste the full URL to a catalog-info.yaml file instead.");const a=await this.checkGitHubForExistingCatalogInfo({...t,url:e});return a.length>0?{type:"locations",locations:a}:{type:"repository",integrationType:"github",url:e,generatedEntities:await this.generateEntityDefinitions({repo:e})}}async submitPullRequest({repositoryUrl:e,fileContent:t,title:a,body:n}){const r=ce(this.scmIntegrationsApi,e);if(r)return await this.submitGitHubPrToRepo({...r,fileContent:t,title:a,body:n});throw new Error("unimplemented!")}async generateEntityDefinitions({repo:e}){const t=await this.identityApi.getIdToken(),a=await fetch(await this.discoveryApi.getBaseUrl("catalog")+"/analyze-location",{headers:{"Content-Type":"application/json",...t&&{Authorization:"Bearer "+t}},method:"POST",body:JSON.stringify({location:{type:"url",target:e}})}).catch(e=>{throw new Error("Failed to generate entity definitions, "+e.message)});if(!a.ok)throw new Error(`Failed to generate entity definitions. Received http response ${a.status}: ${a.statusText}`);return(await a.json()).generateEntities.map(e=>e.entity)}async checkGitHubForExistingCatalogInfo({url:e,owner:t,repo:a,githubIntegrationConfig:n}){const r=await this.githubAuthApi.getAccessToken(["repo"]),i=new s.a({auth:r,baseUrl:n.apiBaseUrl}),o=`repo:${t}/${a}+filename:catalog-info.yaml`,l=await i.search.code({q:o}).catch(e=>{throw new Error(de("Couldn't search repository for metadata file.",e))});if(l.data.total_count>0){const n=(await i.repos.get({owner:t,repo:a}).catch(e=>{throw new Error(de("Couldn't fetch repo data",e))})).data.default_branch;return await Promise.all(l.data.items.map(t=>`${e.replace(/[\/]*$/,"")}/blob/${n}/${t.path}`).map(async e=>({target:e,entities:(await this.catalogApi.addLocation({type:"url",target:e,dryRun:!0})).entities.map(e=>{var t;return{kind:e.kind,namespace:null!=(t=e.metadata.namespace)?t:"default",name:e.metadata.name}})})))}return[]}async submitGitHubPrToRepo({owner:e,repo:t,title:a,body:n,fileContent:r,githubIntegrationConfig:i}){const l=await this.githubAuthApi.getAccessToken(["repo"]),c=new s.a({auth:l,baseUrl:i.apiBaseUrl}),u="backstage-integration",d="catalog-info.yaml",m=await c.repos.get({owner:e,repo:t}).catch(e=>{throw new Error(de("Couldn't fetch repo data",e))}),p=await c.git.getRef({owner:e,repo:t,ref:"heads/"+m.data.default_branch}).catch(e=>{throw new Error(de("Couldn't fetch default branch data",e))});await c.git.createRef({owner:e,repo:t,ref:"refs/heads/"+u,sha:p.data.object.sha}).catch(e=>{throw new Error(de(`Couldn't create a new branch with name '${u}'`,e))}),await c.repos.createOrUpdateFileContents({owner:e,repo:t,path:d,message:a,content:o.a.encode(r),branch:u}).catch(e=>{throw new Error(de(`Couldn't create a commit with ${d} file added`,e))});return{link:(await c.pulls.create({owner:e,repo:t,title:a,head:u,body:n,base:m.data.default_branch}).catch(e=>{throw new Error(de(`Couldn't create a pull request for ${u} branch`,e))})).data.html_url,location:`https://${i.host}/${e}/${t}/blob/${m.data.default_branch}/${d}`}}}function de(e,t){return`${e}, received http response status code ${t.status}: ${t.message}`}const me=Object(n.nb)({path:"",title:"catalog-import"}),pe=Object(n.lb)({id:"catalog-import",apis:[Object(n.gb)({api:le,deps:{discoveryApi:n.ob,githubAuthApi:n.rb,identityApi:n.ub,scmIntegrationsApi:r.b,catalogApi:i.e},factory:({discoveryApi:e,githubAuthApi:t,identityApi:a,scmIntegrationsApi:n,catalogApi:r})=>new ue({discoveryApi:e,githubAuthApi:t,scmIntegrationsApi:n,identityApi:a,catalogApi:r})})],routes:{importPage:me}}),ge=pe.provide(Object(n.mb)({component:()=>Promise.resolve().then((function(){return Re})).then(e=>e.Router),mountPoint:me}));function he(e){return{activeFlow:"unknown",activeState:"analyze",analysisUrl:e,previousStates:[]}}function fe(e,t){switch(t.type){case"onAnalysis":{if("analyze"!==e.activeState)return e;const{activeState:a,previousStates:n}=e,[r,i,o,s]=t.args;return{...e,analysisUrl:i,activeFlow:r,analyzeResult:o,prepareResult:null==s?void 0:s.prepareResult,activeState:void 0===(null==s?void 0:s.prepareResult)?"prepare":"review",previousStates:n.concat(a)}}case"onPrepare":{if("prepare"!==e.activeState)return e;const{activeState:a,previousStates:n}=e,[r,i]=t.args;return{...e,prepareResult:r,activeState:"review",previousStates:(null==i?void 0:i.notRepeatable)?[]:n.concat(a)}}case"onReview":{if("review"!==e.activeState)return e;const{activeState:a,previousStates:n}=e,[r]=t.args;return{...e,reviewResult:r,activeState:"finish",previousStates:n.concat(a)}}case"onGoBack":{const{activeState:t,previousStates:a}=e;return{...e,activeState:a.length>0?a[a.length-1]:t,previousStates:a.slice(0,a.length-1)}}case"onReset":return{...he(t.initialUrl),reviewResult:e.reviewResult};default:throw new Error}}const ye=Object(P.a)(e=>({wrapper:{marginTop:e.spacing(1),marginRight:e.spacing(1),position:"relative"},buttonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},button:{marginTop:e.spacing(1),marginRight:e.spacing(1)}})),be=e=>{const{loading:t,...a}=e,n=ye();return d.a.createElement("div",{className:n.wrapper},d.a.createElement(p.a,{color:"primary",variant:"contained",...a,disabled:e.disabled||e.loading}),e.loading&&d.a.createElement(g.a,{size:"1.5rem",className:n.buttonProgress}),e.loading)},Me=e=>{const t=ye();return d.a.createElement(p.a,{variant:"outlined",className:t.button,...e},e.children||"Back")},Ie=Object(P.a)(e=>({nested:{paddingLeft:e.spacing(4)}}));const je=({locations:e,collapsed:t=!1,locationListItemIcon:a,onItemClick:n,firstListItem:r,withLinks:o=!1})=>{const s=Ie(),[l,c]=Object(u.useState)([]);return d.a.createElement(h.a,null,r,e.map(e=>{return d.a.createElement(d.a.Fragment,{key:e.target},d.a.createElement(f.a,{dense:!0,button:Boolean(n),onClick:()=>null==n?void 0:n.call(void 0,e.target)},d.a.createElement(y.a,null,a(e.target)),d.a.createElement(b.a,{primary:e.target,secondary:"Entities: "+e.entities.length}),t&&d.a.createElement(M.a,null,d.a.createElement(I.a,{edge:"end",onClick:()=>{return t=e.target,void c(e=>e.includes(t)?e.filter(e=>e!==t):e.concat(t));var t}},l.includes(e.target)?d.a.createElement(G.a,null):d.a.createElement(W.a,null)))),d.a.createElement(j.a,{in:!t||l.includes(e.target),timeout:"auto",unmountOnExit:!0},d.a.createElement(h.a,{component:"div",disablePadding:!0,dense:!0},(r=e.entities,r.sort((e,t)=>Object(i.j)(e).localeCompare(Object(i.j)(t)))).map(e=>d.a.createElement(f.a,{component:o?i.b:"div",entityRef:o?e:void 0,button:o,key:Object(i.j)(e),className:s.nested},d.a.createElement(y.a,null,function(e){switch(e.kind.toLocaleLowerCase("en-US")){case"api":return d.a.createElement(V.a,null);case"component":return d.a.createElement(X.a,null);case"domain":return d.a.createElement(_.a,null);case"group":return d.a.createElement(q.a,null);case"location":return d.a.createElement(R.a,null);case"system":return d.a.createElement(B.a,null);case"user":return d.a.createElement(ee.a,null);default:return d.a.createElement(ae.a,null)}}(e)),d.a.createElement(b.a,{primary:Object(i.j)(e)}))))));var r}))},ve=({reviewResult:e,onReset:t})=>d.a.createElement(d.a.Fragment,null,"repository"===e.type&&d.a.createElement(d.a.Fragment,null,d.a.createElement(v.a,{paragraph:!0},"The following Pull Request has been opened:"," ",d.a.createElement(n.w,{to:e.pullRequest.url,target:"_blank",rel:"noreferrer"},e.pullRequest.url)),d.a.createElement(v.a,{paragraph:!0},"Your entities will be imported as soon as the Pull Request is merged.")),d.a.createElement(v.a,null,"The following entities have been added to the catalog:"),d.a.createElement(je,{locations:e.locations,locationListItemIcon:()=>d.a.createElement(R.a,null),withLinks:!0}),d.a.createElement(E.a,{container:!0,spacing:0},d.a.createElement(Me,{onClick:t},"Register another"))),Ee=({onAnalysis:e,analysisUrl:t="",disablePullRequest:a=!1})=>{const r=Object(n.Ab)(n.pb),i=Object(n.Ab)(le),{register:o,handleSubmit:s,errors:l,watch:c}=Object(ne.b)({mode:"onTouched",defaultValues:{url:t}}),[m,p]=Object(u.useState)(!1),[g,h]=Object(u.useState)(void 0),f=Object(u.useCallback)(async({url:t})=>{var n,o,s;p(!0);try{const n=await i.analyzeUrl(t);switch(n.type){case"repository":!a&&n.generatedEntities.length>0?e("no-location",t,n):(h("Couldn't generate entities for your repository"),p(!1));break;case"locations":1===n.locations.length?e("single-location",t,n,{prepareResult:n}):n.locations.length>1?e("multiple-locations",t,n):(h("There are no entities at this location"),p(!1));break;default:{const e=`Received unknown analysis result of type ${n.type}. Please contact the support team.`;h(e),p(!1),r.post(new Error(e));break}}}catch(e){h(null!=(s=null==(o=null==(n=e.data)?void 0:n.error)?void 0:o.message)?s:e.message),p(!1)}},[i,a,r,e]);return d.a.createElement("form",{onSubmit:s(f)},d.a.createElement(w.a,{fullWidth:!0,id:"url",name:"url",label:"Repository URL",placeholder:"https://github.com/backstage/backstage/blob/master/catalog-info.yaml",helperText:"Enter the full path to your entity file to start tracking your component",margin:"normal",variant:"outlined",error:Boolean(l.url),inputRef:o({required:!0,validate:{httpsValidator:e=>"string"==typeof e&&null!==e.match(/^http[s]?:\/\//)||"Must start with http:// or https://."}}),required:!0}),l.url&&d.a.createElement(N.a,{error:!0},l.url.message),g&&d.a.createElement(N.a,{error:!0},g),d.a.createElement(E.a,{container:!0,spacing:0},d.a.createElement(be,{disabled:Boolean(l.url)||!c("url"),loading:m,type:"submit"},"Analyze")))},we=({name:e,options:t,required:a,control:n,errors:r,rules:i,loading:o=!1,loadingText:s,helperText:l,errorHelperText:c,textFieldProps:u={}})=>d.a.createElement(ne.a,{name:e,control:n,rules:i,render:({value:n,onChange:i,onBlur:m})=>d.a.createElement(re.a,{loading:o,loadingText:s,options:t||[],onChange:(e,t)=>i(t||""),onBlur:m,value:n,autoSelect:!0,freeSolo:!0,renderInput:t=>d.a.createElement(w.a,{...t,helperText:(null==r?void 0:r[e])&&c||l,error:Boolean(null==r?void 0:r[e]),margin:"normal",variant:"outlined",required:a,InputProps:{...t.InputProps,endAdornment:d.a.createElement(d.a.Fragment,null,o?d.a.createElement(g.a,{color:"inherit",size:"1em"}):null,t.InputProps.endAdornment)},...u})})}),Ne=({defaultValues:e,onSubmit:t,render:a})=>{const{handleSubmit:n,watch:r,control:i,register:o,errors:s}=Object(ne.b)({mode:"onTouched",defaultValues:e});return d.a.createElement("form",{onSubmit:n(t)},a({values:r(),errors:s,register:o,control:i}))},ke=({repositoryUrl:e,entities:t,classes:a})=>d.a.createElement(k.a,{variant:"outlined",className:null==a?void 0:a.card},d.a.createElement(x.a,{title:d.a.createElement("code",null,e.replace(/[\/]*$/,"")+"/catalog-info.yaml")}),d.a.createElement(D.a,{className:null==a?void 0:a.cardContent},d.a.createElement(n.f,{text:t.map(e=>oe.a.stringify(e)).join("---\n").trim(),language:"yaml"}))),xe=({title:e,description:t,classes:a})=>d.a.createElement(k.a,{variant:"outlined",className:null==a?void 0:a.card},d.a.createElement(x.a,{title:e,subheader:"Create a new Pull Request"}),d.a.createElement(D.a,{className:null==a?void 0:a.cardContent},d.a.createElement(n.x,{content:t}))),De=Object(P.a)(e=>({previewCard:{marginTop:e.spacing(1)},previewCardContent:{paddingTop:0}}));function Oe(e,t,a){return e.map(e=>({...e,apiVersion:e.apiVersion,kind:e.kind,metadata:{...e.metadata,name:t},spec:{...e.spec,...a?{owner:a}:{}}}))}const Se=({analyzeResult:e,onPrepare:t,onGoBack:a,renderFormFields:r,defaultTitle:o,defaultBody:s})=>{var l,c,m,p;const g=De(),h=Object(n.Ab)(i.e),f=Object(n.Ab)(le),[y,b]=Object(u.useState)(!1),[M,I]=Object(u.useState)(),{loading:j,value:w}=Object(se.a)(async()=>(await h.getEntities({filter:{kind:"group"}})).items.map(e=>Object(i.j)(e,{defaultKind:"group"})).sort()),k=Object(u.useCallback)(async a=>{b(!0);try{const n=await f.submitPullRequest({repositoryUrl:e.url,title:a.title,body:a.body,fileContent:Oe(e.generatedEntities,a.componentName,a.owner).map(e=>oe.a.stringify(e)).join("---\n")});t({type:"repository",url:e.url,integrationType:e.integrationType,pullRequest:{url:n.link},locations:[{target:n.location,entities:Oe(e.generatedEntities,a.componentName,a.owner).map(e=>({kind:e.kind,namespace:e.metadata.namespace,name:e.metadata.name}))}]},{notRepeatable:!0})}catch(e){I(e.message),b(!1)}},[e.generatedEntities,e.integrationType,e.url,f,t]);return d.a.createElement(d.a.Fragment,null,d.a.createElement(v.a,null,"You entered a link to a ",e.integrationType," repository but a"," ",d.a.createElement("code",null,"catalog-info.yaml")," could not be found. Use this form to open a Pull Request that creates one."),d.a.createElement(Ne,{onSubmit:k,defaultValues:{title:o,body:s,owner:(null==(c=null==(l=e.generatedEntities[0])?void 0:l.spec)?void 0:c.owner)||"",componentName:(null==(p=null==(m=e.generatedEntities[0])?void 0:m.metadata)?void 0:p.name)||"",useCodeowners:!1},render:({values:t,errors:n,control:i,register:o})=>d.a.createElement(d.a.Fragment,null,r({values:t,errors:n,register:o,control:i,groups:null!=w?w:[],groupsLoading:j}),d.a.createElement(O.a,{marginTop:2},d.a.createElement(v.a,{variant:"h6"},"Preview Pull Request")),d.a.createElement(xe,{title:t.title,description:t.body,classes:{card:g.previewCard,cardContent:g.previewCardContent}}),d.a.createElement(O.a,{marginTop:2,marginBottom:1},d.a.createElement(v.a,{variant:"h6"},"Preview Entities")),d.a.createElement(ke,{entities:Oe(e.generatedEntities,t.componentName,t.owner),repositoryUrl:e.url,classes:{card:g.previewCard,cardContent:g.previewCardContent}}),M&&d.a.createElement(N.a,{error:!0},M),d.a.createElement(E.a,{container:!0,spacing:0},a&&d.a.createElement(Me,{onClick:a,disabled:y}),d.a.createElement(be,{type:"submit",disabled:Boolean(n.title||n.body||n.owner),loading:y},"Create PR")))}))},Ae=({analyzeResult:e,prepareResult:t,onPrepare:a,onGoBack:n})=>{const[r,i]=Object(u.useState)((null==t?void 0:t.locations.map(e=>e.target))||[]),o=Object(u.useCallback)(async()=>{a({type:"locations",locations:e.locations.filter(e=>r.includes(e.target))})},[e.locations,a,r]);return d.a.createElement(d.a.Fragment,null,d.a.createElement(v.a,null,"Select one or more locations that are present in your git repository:"),d.a.createElement(je,{firstListItem:d.a.createElement(f.a,{dense:!0,button:!0,onClick:()=>{i(t=>t.length<e.locations.length?e.locations.map(e=>e.target):[])}},d.a.createElement(y.a,null,d.a.createElement(S.a,{edge:"start",checked:r.length===e.locations.length,indeterminate:r.length>0&&r.length<e.locations.length,tabIndex:-1,disableRipple:!0})),d.a.createElement(b.a,{primary:"Select All"})),onItemClick:e=>{i(t=>t.includes(e)?t.filter(t=>t!==e):t.concat(e))},locations:e.locations,locationListItemIcon:e=>d.a.createElement(S.a,{edge:"start",checked:r.includes(e),tabIndex:-1,disableRipple:!0}),collapsed:!0}),d.a.createElement(E.a,{container:!0,spacing:0},n&&d.a.createElement(Me,{onClick:n}),d.a.createElement(be,{disabled:0===r.length,onClick:o},"Review")))},Te=({prepareResult:e,onReview:t,onGoBack:a})=>{const r=Object(n.Ab)(i.e),o=Object(n.Ab)(n.fb).getOptional("app.title")||"Backstage",[s,l]=Object(u.useState)(!1),[c,m]=Object(u.useState)(),p=Object(u.useCallback)(async()=>{l(!0);try{const a=await Promise.all(e.locations.map(t=>r.addLocation({type:"url",target:t.target,presence:"repository"===e.type?"optional":"required"})));t({...e,locations:a.map(e=>({target:e.location.target,entities:e.entities}))})}catch(a){"repository"===e.type&&a.message.startsWith("Location was added but has no entities specified yet")?t({...e,locations:e.locations.map(e=>({target:e.target,entities:[]}))}):(m(a.message),l(!1))}},[e,t,r]);return d.a.createElement(d.a.Fragment,null,"repository"===e.type&&d.a.createElement(d.a.Fragment,null,d.a.createElement(v.a,{paragraph:!0},"The following Pull Request has been opened:"," ",d.a.createElement(n.w,{to:e.pullRequest.url,target:"_blank",rel:"noopener noreferrer"},e.pullRequest.url)),d.a.createElement(v.a,{paragraph:!0},"You can already import the location and ",o," will fetch the entities as soon as the Pull Request is merged.")),d.a.createElement(v.a,null,"The following entities will be added to the catalog:"),d.a.createElement(je,{locations:e.locations,locationListItemIcon:()=>d.a.createElement(R.a,null)}),c&&d.a.createElement(N.a,{error:!0},c),d.a.createElement(E.a,{container:!0,spacing:0},a&&d.a.createElement(Me,{onClick:a,disabled:s}),d.a.createElement(be,{disabled:s,loading:s,onClick:()=>p()},"Import")))};function ze(e,t){switch(e){case"single-location":return{...t,prepare:()=>({stepLabel:d.a.createElement(A.a,{optional:d.a.createElement(v.a,{variant:"caption"},"Discovered Locations: 1")},"Select Locations"),content:d.a.createElement(d.a.Fragment,null)})};case"multiple-locations":return{...t,prepare:(e,a)=>"locations"!==e.analyzeResult.type?t.prepare(e,a):{stepLabel:d.a.createElement(A.a,{optional:d.a.createElement(v.a,{variant:"caption"},"Discovered Locations: ",e.analyzeResult.locations.length)},"Select Locations"),content:d.a.createElement(Ae,{analyzeResult:e.analyzeResult,prepareResult:e.prepareResult,onPrepare:e.onPrepare,onGoBack:e.onGoBack})}};case"no-location":return{...t,prepare:(e,a)=>{var n,r;if("repository"!==e.analyzeResult.type)return t.prepare(e,a);const i=null==(r=null==(n=null==a?void 0:a.opts)?void 0:n.pullRequest)?void 0:r.preparePullRequest,{title:o,body:s}=function(e,{title:t,body:a}={}){var n;const r=null!=(n=e.configApi.getOptionalString("app.title"))?n:"Backstage",i=e.configApi.getString("app.baseUrl");return{title:null!=t?t:"Add catalog-info.yaml config file",body:null!=a?a:`This pull request adds a **Backstage entity metadata file** to this repository so that the component can be added to the [${r} software catalog](${i}).\n\nAfter this pull request is merged, the component will become available.\n\nFor more information, read an [overview of the Backstage software catalog](https://backstage.io/docs/features/software-catalog/software-catalog-overview).`}}(a.apis,i?i(a.apis):{});return{stepLabel:d.a.createElement(A.a,null,"Create Pull Request"),content:d.a.createElement(Se,{analyzeResult:e.analyzeResult,onPrepare:e.onPrepare,onGoBack:e.onGoBack,defaultTitle:o,defaultBody:s,renderFormFields:({values:e,control:t,errors:a,groupsLoading:n,groups:r,register:i})=>d.a.createElement(d.a.Fragment,null,d.a.createElement(O.a,{marginTop:2},d.a.createElement(v.a,{variant:"h6"},"Pull Request Details")),d.a.createElement(w.a,{name:"title",label:"Pull Request Title",placeholder:"Add Backstage catalog entity descriptor files",margin:"normal",variant:"outlined",fullWidth:!0,inputRef:i({required:!0}),error:Boolean(a.title),required:!0}),d.a.createElement(w.a,{name:"body",label:"Pull Request Body",placeholder:"A describing text with Markdown support",margin:"normal",variant:"outlined",fullWidth:!0,inputRef:i({required:!0}),error:Boolean(a.body),multiline:!0,required:!0}),d.a.createElement(O.a,{marginTop:2},d.a.createElement(v.a,{variant:"h6"},"Entity Configuration")),d.a.createElement(w.a,{name:"componentName",label:"Name of the created component",placeholder:"my-component",margin:"normal",variant:"outlined",fullWidth:!0,inputRef:i({required:!0}),error:Boolean(a.componentName),required:!0}),!e.useCodeowners&&d.a.createElement(we,{name:"owner",control:t,errors:a,options:r||[],loading:n,loadingText:"Loading groups…",helperText:"Select an owner from the list or enter a reference to a Group or a User",errorHelperText:"required value",textFieldProps:{label:"Entity Owner",placeholder:"my-group"},rules:{required:!0},required:!0}),d.a.createElement(T.a,{control:d.a.createElement(S.a,{name:"useCodeowners",inputRef:i,onChange:(e,a)=>{a&&t.setValue("owner","")}}),label:d.a.createElement(d.a.Fragment,null,"Use ",d.a.createElement("em",null,"CODEOWNERS")," file as Entity Owner")}),d.a.createElement(N.a,null,"WARNING: This may fail if no CODEOWNERS file is found at the target location."))})}}};default:return t}}const Ce={analyze:(e,{opts:t})=>{var a;return{stepLabel:d.a.createElement(A.a,null,"Select URL"),content:d.a.createElement(Ee,{key:"analyze",analysisUrl:e.analysisUrl,onAnalysis:e.onAnalysis,disablePullRequest:null==(a=null==t?void 0:t.pullRequest)?void 0:a.disable})}},prepare:e=>({stepLabel:d.a.createElement(A.a,{optional:d.a.createElement(v.a,{variant:"caption"},"Optional")},"Import Actions"),content:d.a.createElement(Me,{onClick:e.onGoBack})}),review:e=>({stepLabel:d.a.createElement(A.a,null,"Review"),content:d.a.createElement(Te,{prepareResult:e.prepareResult,onReview:e.onReview,onGoBack:e.onGoBack})}),finish:e=>({stepLabel:d.a.createElement(A.a,null,"Finish"),content:d.a.createElement(ve,{reviewResult:e.reviewResult,onReset:e.onReset})})},Le=Object(P.a)(()=>({stepperRoot:{padding:0}})),Pe=({initialUrl:e,generateStepper:t=ze,variant:a,opts:r})=>{const i=Object(n.Ab)(n.fb),o=Le(),s=(e=>{const[t,a]=Object(u.useReducer)(fe,null==e?void 0:e.initialUrl,he),{activeFlow:n,activeState:r,analysisUrl:i,previousStates:o}=t;return{activeFlow:n,activeState:r,activeStepNumber:["analyze","prepare","review","finish"].indexOf(r),analysisUrl:i,analyzeResult:t.analyzeResult,prepareResult:t.prepareResult,reviewResult:t.reviewResult,onAnalysis:(e,t,n,r)=>a({type:"onAnalysis",args:[e,t,n,r]}),onPrepare:(e,t)=>a({type:"onPrepare",args:[e,t]}),onReview:e=>a({type:"onReview",args:[e]}),onGoBack:o.length>0?()=>a({type:"onGoBack"}):void 0,onReset:()=>a({type:"onReset",initialUrl:null==e?void 0:e.initialUrl})}})({initialUrl:e}),l=Object(u.useMemo)(()=>t(s.activeFlow,Ce),[t,s.activeFlow]),c=e=>d.a.createElement(z.a,null,e.stepLabel,d.a.createElement(C.a,null,e.content));return d.a.createElement(n.s,{variant:a},d.a.createElement(L.a,{classes:{root:o.stepperRoot},activeStep:s.activeStepNumber,orientation:"vertical"},c(l.analyze(s,{apis:{configApi:i},opts:r})),c(l.prepare(s,{apis:{configApi:i},opts:r})),c(l.review(s,{apis:{configApi:i},opts:r})),c(l.finish(s,{apis:{configApi:i},opts:r}))))};const $e=e=>{var t;const a=Object(n.Ab)(n.fb),r=a.getOptional("app.title")||"Backstage",i=function(e){const t=e.getConfig("integrations"),a=[];return t.has("github")&&a.push("GitHub"),t.has("bitbucket")&&a.push("Bitbucket"),t.has("gitlab")&&a.push("GitLab"),t.has("azure")&&a.push("Azure"),a}(a),o=i.join(", ").replace(/, (\w*)$/," or $1");return d.a.createElement(n.B,{themeId:"home"},d.a.createElement(n.o,{title:"Register an existing component"}),d.a.createElement(n.g,null,d.a.createElement(n.h,{title:"Start tracking your component in "+r},d.a.createElement(n.W,null,"Start tracking your component in ",r," by adding it to the software catalog.")),d.a.createElement(E.a,{container:!0,spacing:2,direction:"row-reverse"},d.a.createElement(E.a,{item:!0,xs:12,md:4,lg:6,xl:8},d.a.createElement(n.s,{title:"Register an existing component",deepLink:{title:"Learn more about the Software Catalog",link:"https://backstage.io/docs/features/software-catalog/software-catalog-overview"}},d.a.createElement(v.a,{variant:"body2",paragraph:!0},"Enter the URL to your SCM repository to add it to ",r,"."),d.a.createElement(v.a,{variant:"h6"},"Link to an existing entity file"),d.a.createElement(v.a,{variant:"subtitle2",color:"textSecondary",paragraph:!0},"Example:"," ",d.a.createElement("code",null,"https://github.com/backstage/backstage/blob/master/catalog-info.yaml")),d.a.createElement(v.a,{variant:"body2",paragraph:!0},"The wizard analyzes the file, previews the entities, and adds them to the ",r," catalog."),i.length>0&&d.a.createElement(d.a.Fragment,null,d.a.createElement(v.a,{variant:"h6"},"Link to a ",o," repository"),d.a.createElement(v.a,{variant:"subtitle2",color:"textSecondary",paragraph:!0},"Example: ",d.a.createElement("code",null,"https://github.com/backstage/backstage")),d.a.createElement(v.a,{variant:"body2",paragraph:!0},"The wizard discovers all ",d.a.createElement("code",null,"catalog-info.yaml")," ","files in the repository, previews the entities, and adds them to the ",r," catalog."),!(null==(t=null==e?void 0:e.pullRequest)?void 0:t.disable)&&d.a.createElement(v.a,{variant:"body2",paragraph:!0},"If no entities are found, the wizard will prepare a Pull Request that adds an example"," ",d.a.createElement("code",null,"catalog-info.yaml")," and prepares the ",r," ","catalog to load all entities as soon as the Pull Request is merged.")))),d.a.createElement(E.a,{item:!0,xs:12,md:8,lg:6,xl:4},d.a.createElement(Pe,{opts:e})))))};var Re=Object.freeze({__proto__:null,Router:e=>d.a.createElement(m.f,null,d.a.createElement(m.d,{element:d.a.createElement($e,{...e})}))})},962:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;const n=new Set(["string","number","integer","boolean","null","object","array"]);t.isJSONType=function(e){return"string"==typeof e&&n.has(e)},t.getRules=function(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},963:function(e,t,a){"use strict";function n(e,t){return t.rules.some(t=>r(e,t))}function r(e,t){var a;return void 0!==e[t.keyword]||(null===(a=t.definition.implements)||void 0===a?void 0:a.some(t=>void 0!==e[t]))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=function({schema:e,self:t},a){const r=t.RULES.types[a];return r&&!0!==r&&n(e,r)},t.shouldUseGroup=n,t.shouldUseRule=r},964:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const n=a(675);class r extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}var i;!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(i=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new n.Name("const"),let:new n.Name("let"),var:new n.Name("var")};class o{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof n.Name?e:this.name(e)}name(e){return new n.Name(this._newName(e))}_newName(e){return`${e}${(this._names[e]||this._nameGroup(e)).index++}`}_nameGroup(e){var t,a;if((null===(a=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===a?void 0:a.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}t.Scope=o;class s extends n.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:a}){this.value=e,this.scopePath=n._`.${new n.Name(t)}[${a}]`}}t.ValueScopeName=s;const l=n._`\n`;t.ValueScope=class extends o{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?l:n.nil}}get(){return this._scope}name(e){return new s(e,this._newName(e))}value(e,t){var a;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");const n=this.toName(e),{prefix:r}=n,i=null!==(a=t.key)&&void 0!==a?a:t.ref;let o=this._values[r];if(o){const e=o.get(i);if(e)return e}else o=this._values[r]=new Map;o.set(i,n);const s=this._scope[r]||(this._scope[r]=[]),l=s.length;return s[l]=t.ref,n.setValue(t,{property:r,itemIndex:l}),n}getValue(e,t){const a=this._values[e];if(a)return a.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,t=>{if(void 0===t.scopePath)throw new Error(`CodeGen: name "${t}" has no value`);return n._`${e}${t.scopePath}`})}scopeCode(e=this._values,t,a){return this._reduceValues(e,e=>{if(void 0===e.value)throw new Error(`CodeGen: name "${e}" has no value`);return e.value.code},t,a)}_reduceValues(e,a,o={},s){let l=n.nil;for(const c in e){const u=e[c];if(!u)continue;const d=o[c]=o[c]||new Map;u.forEach(e=>{if(d.has(e))return;d.set(e,i.Started);let o=a(e);if(o){const a=this.opts.es5?t.varKinds.var:t.varKinds.const;l=n._`${l}${a} ${e} = ${o};${this.opts._n}`}else{if(!(o=null==s?void 0:s(e)))throw new r(e);l=n._`${l}${o}${this.opts._n}`}d.set(e,i.Completed)})}return l}}},965:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;const n=a(41),r=a(677),i=a(185),o=a(492),s=a(65),l=a(147),c=a(676);class u{constructor(e){var t;let a;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(a=e.schema),this.schema=e.schema,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:o.normalizeId(null==a?void 0:a.$id),this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null==a?void 0:a.$async,this.refs={}}}function d(e){const t=p.call(this,e);if(t)return t;const a=o.getFullPath(e.root.baseId),{es5:s,lines:c}=this.opts.code,{ownProperties:u}=this.opts,d=new n.CodeGen(this.scope,{es5:s,lines:c,ownProperties:u});let m;e.$async&&(m=d.scopeValue("Error",{ref:r.ValidationError,code:n._`require("ajv/dist/compile/error_classes").ValidationError`}));const g=d.scopeName("validate");e.validateName=g;const h={gen:d,allErrors:this.opts.allErrors,data:i.default.data,parentData:i.default.parentData,parentDataProperty:i.default.parentDataProperty,dataNames:[i.default.data],dataPathArr:[n.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:n.stringify(e.schema)}:{ref:e.schema}),validateName:g,ValidationError:m,schema:e.schema,schemaEnv:e,rootId:a,baseId:e.baseId||a,schemaPath:n.nil,errSchemaPath:this.opts.jtd?"":"#",errorPath:n._`""`,opts:this.opts,self:this};let f;try{this._compilations.add(e),l.validateFunctionCode(h),d.optimize(this.opts.code.optimize);const t=d.toString();f=`${d.scopeRefs(i.default.scope)}return ${t}`,this.opts.code.process&&(f=this.opts.code.process(f,e));const a=new Function(""+i.default.self,""+i.default.scope,f)(this,this.scope.get());if(this.scope.value(g,{ref:a}),a.errors=null,a.schema=e.schema,a.schemaEnv=e,e.$async&&(a.$async=!0),!0===this.opts.code.source&&(a.source={validateName:g,validateCode:t,scopeValues:d._values}),this.opts.unevaluated){const{props:e,items:t}=h;a.evaluated={props:e instanceof n.Name?void 0:e,items:t instanceof n.Name?void 0:t,dynamicProps:e instanceof n.Name,dynamicItems:t instanceof n.Name},a.source&&(a.source.evaluated=n.stringify(a.evaluated))}return e.validate=a,e}catch(t){throw delete e.validate,delete e.validateName,f&&this.logger.error("Error compiling schema, function code:",f),t}finally{this._compilations.delete(e)}}function m(e){return o.inlineRef(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:d.call(this,e)}function p(e){for(const n of this._compilations)if(a=e,(t=n).schema===a.schema&&t.root===a.root&&t.baseId===a.baseId)return n;var t,a}function g(e,t){let a;for(;"string"==typeof(a=this.refs[t]);)t=a;return a||this.schemas[t]||h.call(this,e,t)}function h(e,t){const a=c.parse(t),n=o._getFullPath(a);let r=o.getFullPath(e.baseId);if(Object.keys(e.schema).length>0&&n===r)return y.call(this,a,e);const i=o.normalizeId(n),s=this.refs[i]||this.schemas[i];if("string"==typeof s){const t=h.call(this,e,s);if("object"!=typeof(null==t?void 0:t.schema))return;return y.call(this,a,t)}if("object"==typeof(null==s?void 0:s.schema)){if(s.validate||d.call(this,s),i===o.normalizeId(t)){const{schema:t}=s;return t.$id&&(r=o.resolveUrl(r,t.$id)),new u({schema:t,root:e,baseId:r})}return y.call(this,a,s)}}t.SchemaEnv=u,t.compileSchema=d,t.resolveRef=function(e,t,a){var n;a=o.resolveUrl(t,a);const r=e.refs[a];if(r)return r;let i=g.call(this,e,a);if(void 0===i){const r=null===(n=e.localRefs)||void 0===n?void 0:n[a];r&&(i=new u({schema:r,root:e,baseId:t}))}return void 0!==i?e.refs[a]=m.call(this,i):void 0},t.getCompilingSchema=p,t.resolveSchema=h;const f=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function y(e,{baseId:t,schema:a,root:n}){var r;if("/"!==(null===(r=e.fragment)||void 0===r?void 0:r[0]))return;for(const n of e.fragment.slice(1).split("/")){if("boolean"==typeof a)return;if(void 0===(a=a[s.unescapeFragment(n)]))return;!f.has(n)&&"object"==typeof a&&a.$id&&(t=o.resolveUrl(t,a.$id))}let i;if("boolean"!=typeof a&&a.$ref&&!s.schemaHasRulesButRef(a,this.RULES)){const e=o.resolveUrl(t,a.$ref);i=h.call(this,n,e)}return i=i||new u({schema:a,root:n,baseId:t}),i.schema!==i.root.schema?i:void 0}},966:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(186),r=a(41),i=a(185),o=a(309),s=a(65),l={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"should NOT have additional properties",params:({params:e})=>r._`{additionalProperty: ${e.additionalProperty}}`},code(e){const{gen:t,schema:a,parentSchema:l,data:c,errsCount:u,it:d}=e;if(!u)throw new Error("ajv implementation error");const{allErrors:m,opts:p}=d;if(d.props=!0,"all"!==p.removeAdditional&&s.alwaysValidSchema(d,a))return;const g=n.allSchemaProperties(l.properties),h=n.allSchemaProperties(l.patternProperties);function f(e){t.code(r._`delete ${c}[${e}]`)}function y(n){if("all"===p.removeAdditional||p.removeAdditional&&!1===a)f(n);else{if(!1===a)return e.setParams({additionalProperty:n}),e.error(),void(m||t.break());if("object"==typeof a&&!s.alwaysValidSchema(d,a)){const a=t.name("valid");"failing"===p.removeAdditional?(b(n,a,!1),t.if(r.not(a),()=>{e.reset(),f(n)})):(b(n,a),m||t.if(r.not(a),()=>t.break()))}}}function b(t,a,n){const r={keyword:"additionalProperties",dataProp:t,dataPropType:o.Type.Str};!1===n&&Object.assign(r,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(r,a)}t.forIn("key",c,e=>{g.length||h.length?t.if(function(e){let a;if(g.length>8){const r=s.schemaRefOrVal(d,l.properties,"properties");a=n.isOwnProperty(t,r,e)}else a=g.length?r.or(...g.map(t=>r._`${e} === ${t}`)):r.nil;return h.length&&(a=r.or(a,...h.map(a=>r._`${n.usePattern(t,a)}.test(${e})`))),r.not(a)}(e),()=>y(e)):y(e)}),e.ok(r._`${u} === ${i.default.errors}`)}};t.default=l}}]);
//# sourceMappingURL=module-backstage.77d6af03.js.map