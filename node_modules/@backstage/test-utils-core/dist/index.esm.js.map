{"version":3,"file":"index.esm.js","sources":["../src/testUtils/Keyboard.js","../src/testUtils/logCollector.ts","../src/testUtils/testingLibrary.ts"],"sourcesContent":["/*\n * Copyright 2020 Spotify AB\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { act, fireEvent } from '@testing-library/react';\n\nconst codes = {\n  Tab: 9,\n  Enter: 10,\n  Click: 17 /* This keyboard can click, deal with it */,\n  Esc: 27,\n};\n\nexport class Keyboard {\n  static async type(target, input) {\n    await new Keyboard(target).type(input);\n  }\n\n  static async typeDebug(target, input) {\n    await new Keyboard(target, { debug: true }).type(input);\n  }\n\n  static toReadableInput(chars) {\n    return chars.split('').map(char => {\n      switch (char.charCodeAt(0)) {\n        case codes.Tab:\n          return '<Tab>';\n        case codes.Enter:\n          return '<Enter>';\n        case codes.Click:\n          return '<Click>';\n        case codes.Esc:\n          return '<Esc>';\n        default:\n          return char;\n      }\n    });\n  }\n\n  static fromReadableInput(input) {\n    return input.trim().replace(/\\s*<([a-zA-Z]+)>\\s*/g, (match, name) => {\n      if (name in codes) {\n        return String.fromCharCode(codes[name]);\n      }\n      throw new Error(`Unknown char name: '${name}'`);\n    });\n  }\n\n  constructor(target, { debug = false } = {}) {\n    this.debug = debug;\n\n    if (target.ownerDocument) {\n      this.document = target.ownerDocument;\n    } else if (target.baseElement) {\n      this.document = target.baseElement.ownerDocument;\n    } else {\n      throw new TypeError(\n        'Keyboard(target): target must be DOM node or react-testing-library render() output',\n      );\n    }\n  }\n\n  toString() {\n    return `Keyboard{document=${this.document}, debug=${this.debug}}`;\n  }\n\n  _log(message, ...args) {\n    if (this.debug) {\n      // eslint-disable-next-line no-console\n      console.log(`[Keyboard] ${message}`, ...args);\n    }\n  }\n\n  _pretty(element) {\n    const attrs = [...element.attributes]\n      .map(attr => `${attr.name}=\"${attr.value}\"`)\n      .join(' ');\n    return `<${element.nodeName.toLowerCase()} ${attrs}>`;\n  }\n\n  get focused() {\n    return this.document.activeElement;\n  }\n\n  async type(input) {\n    this._log(\n      `sending sequence '${input}' with initial focus ${this._pretty(\n        this.focused,\n      )}`,\n    );\n    await this.send(Keyboard.fromReadableInput(input));\n  }\n\n  async send(chars) {\n    for (const key of chars.split('')) {\n      const charCode = key.charCodeAt(0);\n\n      if (charCode === codes.Tab) {\n        await this.tab();\n        continue;\n      }\n\n      const focused = this.focused;\n      if (!focused || focused === this.document.body) {\n        throw Error(\n          `No element focused in document while trying to type '${Keyboard.toReadableInput(\n            chars,\n          )}'`,\n        );\n      }\n      const nextValue = (focused.value || '') + key;\n\n      if (charCode >= 32) {\n        await this._sendKey(key, charCode, () => {\n          this._log(\n            `sending +${key} = '${nextValue}' to ${this._pretty(focused)}`,\n          );\n          fireEvent.change(focused, {\n            target: { value: nextValue },\n            bubbles: true,\n            cancelable: true,\n          });\n        });\n      } else if (charCode === codes.Enter) {\n        await this.enter(focused.value || '');\n      } else if (charCode === codes.Esc) {\n        await this.escape();\n      } else if (charCode === codes.Click) {\n        await this.click();\n      } else {\n        throw new Error(`Unsupported char code, ${charCode}`);\n      }\n    }\n  }\n\n  async click() {\n    this._log(`clicking ${this._pretty(this.focused)}`);\n    await act(async () => fireEvent.click(this.focused));\n  }\n\n  async tab() {\n    await this._sendKey('Tab', codes.Tab, () => {\n      const focusable = this.document.querySelectorAll(\n        [\n          'a[href]',\n          'area[href]',\n          'input:not([disabled])',\n          'select:not([disabled])',\n          'textarea:not([disabled])',\n          'button:not([disabled])',\n          'iframe',\n          'object',\n          'embed',\n          '*[tabindex]',\n          '*[contenteditable]',\n        ].join(','),\n      );\n\n      const tabbable = [...focusable].filter(el => {\n        return el.tabIndex >= 0;\n      });\n\n      const focused = this.document.activeElement;\n      const focusedIndex = tabbable.indexOf(focused);\n      const nextFocus = tabbable[focusedIndex + (1 % tabbable.length)];\n\n      this._log(\n        `tabbing to ${this._pretty(nextFocus)} ${this.focused.textContent}`,\n      );\n      nextFocus.focus();\n    });\n  }\n\n  async enter(value) {\n    this._log(`submitting '${value}' via ${this._pretty(this.focused)}`);\n    await act(() =>\n      this._sendKey('Enter', codes.Enter, () => {\n        if (this.focused.type === 'button') {\n          fireEvent.click(this.focused, { target: { value } });\n        } else {\n          fireEvent.submit(this.focused, {\n            target: { value },\n            bubbles: true,\n            cancelable: true,\n          });\n        }\n      }),\n    );\n  }\n\n  async escape() {\n    this._log(`escape from ${this._pretty(this.focused)}`);\n    await act(async () => this._sendKey('Escape', codes.Esc));\n  }\n\n  async _sendKey(key, charCode, action) {\n    const event = { key, charCode, keyCode: charCode, which: charCode };\n    const focused = this.focused;\n\n    if (fireEvent.keyDown(focused, event)) {\n      if (fireEvent.keyPress(focused, event)) {\n        if (action) {\n          action();\n        }\n      }\n    }\n    fireEvent.keyUp(focused, event);\n  }\n}\n","/*\n * Copyright 2020 Spotify AB\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* eslint-disable no-console */\n\nexport type LogFuncs = 'log' | 'warn' | 'error';\nexport type AsyncLogCollector = () => Promise<void>;\nexport type SyncLogCollector = () => void;\nexport type LogCollector = AsyncLogCollector | SyncLogCollector;\nexport type CollectedLogs<T extends LogFuncs> = { [key in T]: string[] };\n\nconst allCategories = ['log', 'warn', 'error'];\n\n// Asynchronous log collector with that collects all categories\nexport function withLogCollector(\n  callback: AsyncLogCollector,\n): Promise<CollectedLogs<LogFuncs>>;\n\n// Synchronous log collector with that collects all categories\nexport function withLogCollector(\n  callback: SyncLogCollector,\n): CollectedLogs<LogFuncs>;\n\n// Asynchronous log collector with that only collects selected categories\nexport function withLogCollector<T extends LogFuncs>(\n  logsToCollect: T[],\n  callback: AsyncLogCollector,\n): Promise<CollectedLogs<T>>;\n\n// Synchronous log collector with that only collects selected categories\nexport function withLogCollector<T extends LogFuncs>(\n  logsToCollect: T[],\n  callback: SyncLogCollector,\n): CollectedLogs<T>;\n\nexport function withLogCollector(\n  logsToCollect: LogFuncs[] | LogCollector,\n  callback?: LogCollector,\n): CollectedLogs<LogFuncs> | Promise<CollectedLogs<LogFuncs>> {\n  const oneArg = !callback;\n  const actualCallback = (oneArg ? logsToCollect : callback) as LogCollector;\n  const categories = (oneArg ? allCategories : logsToCollect) as LogFuncs[];\n\n  const logs = {\n    log: new Array<string>(),\n    warn: new Array<string>(),\n    error: new Array<string>(),\n  };\n\n  const origLog = console.log;\n  const origWarn = console.warn;\n  const origError = console.error;\n\n  if (categories.includes('log')) {\n    console.log = (message: string) => {\n      logs.log.push(message);\n    };\n  }\n  if (categories.includes('warn')) {\n    console.warn = (message: string) => {\n      logs.warn.push(message);\n    };\n  }\n  if (categories.includes('error')) {\n    console.error = (message: string) => {\n      logs.error.push(message);\n    };\n  }\n\n  const restore = () => {\n    console.log = origLog;\n    console.warn = origWarn;\n    console.error = origError;\n  };\n\n  try {\n    const ret = actualCallback();\n\n    if (!ret || !ret.then) {\n      restore();\n      return logs;\n    }\n\n    return ret.then(\n      () => {\n        restore();\n        return logs;\n      },\n      error => {\n        restore();\n        throw error;\n      },\n    );\n  } catch (error) {\n    restore();\n    throw error;\n  }\n}\n","/*\n * Copyright 2020 Spotify AB\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ReactElement } from 'react';\nimport { act } from 'react-dom/test-utils';\nimport { render, RenderResult } from '@testing-library/react';\n\n// Components using useEffect to perform an asynchronous action (such as fetch) must be rendered within an async\n// act call to properly get the final state, even with mocked responses. This utility method makes the signature a bit\n// cleaner, since act doesn't return the result of the evaluated function.\n// https://github.com/testing-library/react-testing-library/issues/281\n// https://github.com/facebook/react/pull/14853\nexport async function renderWithEffects(\n  nodes: ReactElement,\n): Promise<RenderResult> {\n  let value: RenderResult;\n  await act(async () => {\n    value = render(nodes);\n  });\n  // @ts-ignore\n  return value;\n}\n"],"names":["act"],"mappings":"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"}