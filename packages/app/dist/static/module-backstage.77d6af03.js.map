{"version":3,"sources":["webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/plugin-catalog-react/dist/index.esm.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/plugin-tech-radar/dist/index.esm.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/integration-react/dist/index.esm.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/validate/index.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/errors/dist/index.esm.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/plugin-search/dist/esm/index-37ed06b2.esm.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/names.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/code.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/plugin-api-docs/dist/index.esm.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/validate/boolSchema.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/validate/iterate.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/validate/defaults.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/validate/keyword.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/core.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/draft7.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/core/index.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/core/id.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/core/ref.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/validation/index.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/validation/limitNumber.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/validation/multipleOf.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/validation/limitLength.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/ucs2length.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/validation/pattern.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/validation/limitProperties.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/validation/required.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/validation/limitItems.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/validation/uniqueItems.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/validation/const.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/validation/enum.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/applicator/index.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/applicator/additionalItems.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/applicator/items.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/applicator/contains.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/applicator/dependencies.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/applicator/propertyNames.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/applicator/properties.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/applicator/patternProperties.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/applicator/not.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/applicator/anyOf.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/applicator/oneOf.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/applicator/allOf.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/applicator/if.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/applicator/thenElse.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/format/index.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/format/format.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/metadata.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/integration/dist/index.esm.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/dist/index.esm.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/plugin-catalog/dist/index.esm.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/plugin-scaffolder/dist/esm/index-bc9fd18e.esm.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/config/dist/index.esm.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/core-api/dist/index.esm.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/core/dist/index.esm.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/core/dist/layout/ErrorPage/mic-drop.svg","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/core/dist/components/EmptyState/assets/missingAnnotation.svg","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/core/dist/components/EmptyState/assets/noInformation.svg","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/core/dist/components/EmptyState/assets/createComponent.svg","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/core/dist/components/EmptyState/assets/noBuild.svg","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/subschema.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/plugin-org/dist/index.esm.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/plugin-techdocs/dist/index.esm.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/validate/dataType.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/codegen/index.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/theme/dist/index.esm.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/plugin-scaffolder/dist/index.esm.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/context.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/errors.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/resolve.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/plugin-catalog/dist/esm/index-85897b39.esm.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/plugin-search/dist/index.esm.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/plugin-user-settings/dist/index.esm.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/plugin-catalog/dist/components/EntityNotFound/Illo/illo.svg","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-client/dist/index.esm.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/plugin-github-actions/dist/index.esm.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/plugin-api-docs/dist/esm/index-70fbe4d9.esm.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/util.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/codegen/code.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/error_classes.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/ajv.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/plugin-catalog-import/dist/index.esm.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/rules.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/validate/applicability.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/codegen/scope.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/index.js","webpack:////Users/udanam/swift/backstage/demo-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js"],"names":["catalogApiRef","id","description","NoIcon","rootRoute","icon","path","title","catalogRouteRef","entityRoute","params","entityRouteRef","entityRouteParams","entity","_a","_b","kind","toLowerCase","namespace","metadata","name","useEntityCompoundName","EntityContext","loading","error","useEntityFromUrl","navigate","errorApi","catalogApi","value","getEntityByName","post","Error","useEntity","useRelatedEntities","type","entities","async","relations","filter","r","target","relationsByKindAndNamespace","Object","values","batchedRelationsByKindAndNamespace","rs","push","nameBatches","map","Promise","all","flatMap","names","getEntities","items","buildEntityKey","component","useStarredEntities","settingsStore","forBucket","rawStarredEntityKeys","get","starredEntities","setStarredEntities","Set","observedItems","observe$","_a2","newValue","currentValue","toggleStarredEntity","entityKey","has","delete","add","set","Array","from","isStarredEntity","formatEntityRefTitle","entityRef","opts","defaultKind","EntityRefLink","props","ref","children","linkProps","toLocaleLowerCase","routeParams","createElement","to","EntityRefLinks","entityRefs","Fragment","i","key","getEntityRelations","relationType","entityNames","e","isOwnerOf","owner","owned","possibleOwners","owners","ownerItem","find","o","createEntityRefColumn","formatContent","highlight","customFilterAndSearch","includes","customSort","entity1","entity2","localeCompare","render","createEntityRelationColumn","relation","entityFilter","getRelations","join","createOwnerColumn","createDomainColumn","createSystemColumn","createMetadataDescriptionColumn","field","text","placement","width","createSpecLifecycleColumn","createSpecTypeColumn","columnFactories","freeze","__proto__","systemEntityColumns","componentEntityColumns","useStyles","theme","empty","padding","spacing","display","justifyContent","EntityTable","emptyContent","variant","columns","classes","tableStyle","minWidth","height","style","className","options","search","paging","actionsColumnIndex","data","rootRouteRef","TechRadarPage","routes","root","provide","resolve","then","RadarPage$1","m","RadarPage","mountPoint","ring","fill","stroke","strokeWidth","axis","pointerEvents","userSelect","fontSize","fontWeight","RadarGrid","radius","rings","axisNodes","x1","y1","x2","y2","ringNodes","outerRadius","ringRadius","ringIndex","cx","cy","y","textAnchor","makeRingNode","concat","WithLink","url","href","RadarDescription","open","onClose","dividers","content","onClick","window","location","color","startIcon","useStyles$1","link","cursor","RadarEntry","setOpen","useState","moved","x","onMouseEnter","onMouseLeave","blip","d","makeBlip","transform","role","tabIndex","onKeyPress","useStyles$2","bubble","opacity","visibleBubble","background","RadarBubble","visible","textElem","svgElem","rectElem","pathElem","current","bbox","getBBox","marginX","marginY","setAttribute","String","updatePosition","rx","ry","useStyles$3","palette","secondary","RadarFooter","useStyles$4","quadrant","overflow","quadrantHeading","marginTop","marginBottom","breakInside","pageBreakInside","ringHeading","ringList","listStylePosition","paddingLeft","fontVariantNumeric","entry","entryLink","RadarLegend","getSegment","segmented","ringOffset","quadrantIndex","index","segmentedData","RadarLegendLink","handleClickOpen","handleClose","toggle","RadarLegendRing","entries","entries2","onEntryMouseEnter","onEntryMouseEnter2","onEntryMouseLeave","onEntryMouseLeave2","length","RadarLegendQuadrant","segments","segments2","rings2","legendX","legendY","legendWidth","legendHeight","quadrants","quadrantData","ringData","setupSegments","RadarPlot","activeEntry","Segment","nextSeed","this","polarMin","t","radialMin","innerRadius","polarMax","radialMax","cartesianMin","offsetX","offsetY","cartesianMax","p","boundedRing","polar","boundedBox","cartesian","_randomBetween","_normalBetween","Math","sin","floor","min","max","_random","atan2","sqrt","cos","boundedInterval","low","high","polarValue","rMin","rMax","point","Radar","setActiveEntry","node","xStops","yStops","legendParams","forEach","legendParam","PI","adjustQuadrants","adjustRings","seed","q","match","segment","random","active","desaturate","lighten","string","simulation","nodes","velocityDecay","force","strength","stop","n","ceil","log","alphaMin","alphaDecay","tick","clipx","clipy","adjustEntries","svgProps","timeline","ringId","date","Date","RadarComponent","getData","state","useTechRadarLoader","loaderResponse","a","defaultProps","useStyles$5","overflowXScroll","overflowX","subtitle","pageTitle","themeId","container","direction","item","xs","sm","md","ScmIntegrationsApi","config","fromConfig","scmIntegrationsApiRef","defineProperty","exports","checkStrictMode","schemaCxtHasRules","subschemaCode","validateFunctionCode","boolSchema_1","dataType_1","iterate_1","codegen_1","names_1","resolve_1","util_1","validateFunction","gen","validateName","schema","schemaEnv","body","code","es5","func","_","default","valCxt","$async","funcSourceUrl","if","var","dataPath","parentData","parentDataProperty","rootData","dynamicRef","dynamicAnchors","destructureValCxtES5","nil","destructureValCxt","$id","source","process","self","RULES","isSchemaObj","it","checkKeywords","checkUnknownRules","errSchemaPath","$ref","ignoreKeywordsWithRef","schemaHasRulesButRef","logger","warn","checkRefsAndKeywords","typeAndKeywords","errsCount","jtd","schemaKeywords","types","getSchemaTypes","checkedTypes","coerceAndCheckDataType","commentKeyword","msg","$comment","schemaPath","str","rootName","scopeValue","mode","strict","undefined","useDefaults","checkNoDefault","let","vErrors","errors","unevaluated","evaluated","const","assign","resetEvaluated","ValidationError","return","throw","Name","assignEvaluated","returnResults","topSchemaObjCode","topBoolOrEmptySchema","valid","baseId","resolveUrl","updateContext","checkAsync","subSchemaObjCode","boolOrEmptySchema","CustomErrorBase","message","cause","fullMessage","super","captureStackTrace","call","constructor","NotFoundError","ResponseError","response","headers","startsWith","JSON","parse","status","statusText","statusCode","parseErrorResponse","result","stack","deserializeError","searchApiRef","SearchClient","discoveryApi","_c","_d","_e","spec","lifecycle","query","queryString","stringify","getBaseUrl","fetch","json","alignItems","input","flex","SearchBar","searchQuery","handleSearch","handleClearSearchBar","onSubmit","disabled","placeholder","onChange","inputProps","filters","margin","FiltersButton","numberOfSelectedFilters","handleToggleFilters","boxShadow","checkbox","dropdown","Filters","filterOptions","resetFilters","updateSelected","updateChecked","action","selected","dense","disablePadding","button","edge","disableRipple","checked","primary","borderRadius","tableHeader","divider","TableHeader","numberOfResults","orientation","SearchResult","searchApi","showFilters","toggleFilters","selectedFilters","setSelectedFilters","filteredResults","setFilteredResults","results","getSearchResult","withFilters","split","severity","toString","missing","reduce","acc","curr","indexOf","prevState","pageSize","SearchPage","setQueryString","setSearchQuery","event","preventDefault","SearchPageNext","alpha","rootNextRouteRef","searchPlugin","apis","api","deps","factory","router","addRoute","nextRoot","SearchPage$1","SidebarSearch","searchRoute","addQueryPrefix","onSearch","scope","jsonPos","jsonLen","jsonPart","validateUnion","validateArray","usePattern","callValidateCode","schemaProperties","allSchemaProperties","noPropertyInData","propertyInData","isOwnProperty","hasPropFunc","reportMissingProp","checkMissingProp","checkReportMissingProp","subschema_1","prototype","hasOwnProperty","property","ownProperties","cond","getProperty","or","not","schemaMap","keys","cxt","prop","setParams","missingProperty","properties","and","alwaysValidSchema","schemaCode","topSchemaRef","errorPath","context","passSchema","dataAndSchema","strConcat","args","object","pattern","RegExp","keyword","allErrors","validArr","validateItems","break","notValid","len","forRange","subschema","dataProp","dataPropType","Type","Num","isArray","some","sch","schValid","block","_sch","schCxt","schemaProp","compositeRule","mergeValidEvaluated","reset","errors_1","boolError","falseSchemaError","overrideAllErrors","schemaValue","reportError","applicability_1","defaults_1","keyword_1","_1","iterateKeywords","group","assignDefaults","rule","rules","shouldUseRule","keywordCode","definition","includesType","ts","strictTypesError","strictTypes","typeErrors","groupKeywords","shouldUseGroup","checkDataType","else","reportTypeError","endIf","meta","dataTypes","checkContextTypes","allowUnionTypes","checkMultipleTypes","hasApplicableType","kwdT","schTs","checkKeywordTypes","checkStrictTypes","assignDefault","defaultValue","childData","condition","ty","context_1","code_1","funcKeywordCode","def","parentSchema","$data","validate","compile","validateRef","useKeyword","assignValid","_await","passCxt","passContext","modifying","reportErrs","block$data","modifyData","ruleErrs","try","validateAsync","validateErrs","validateSync","errs","extendErrors","addErrs","ok","ruleType","macroSchema","macro","schemaRef","validateSchema","pass","macroKeywordCode","CodeGen","KeywordCxt","enumerable","error_classes_1","rules_1","compile_1","codegen_2","$dataRefSchema","META_IGNORE_OPTIONS","EXT_SCOPE_NAMES","removedOptions","errorDataPath","format","nullable","jsonPointers","extendRefs","missingRefs","processCode","sourceCode","schemaId","strictDefaults","strictKeywords","strictNumbers","uniqueItems","unknownFormats","cache","serialize","deprecatedOptions","jsPropertySyntax","unicode","requiredOptions","_f","_g","_h","_j","_k","_l","_m","strictLog","_optz","optimize","strictTuples","loopRequired","Infinity","loopEnum","messages","inlineRefs","addUsedSchema","validateFormats","Ajv","schemas","refs","formats","_compilations","_loading","_cache","Map","lines","ValueScope","prefixes","noLogs","console","getLogger","formatOpt","getRules","checkOptions","_metaOpts","getMetaSchemaOptions","addInitialFormats","_addVocabularies","_addDefaultMetaSchema","keywords","addInitialKeywords","addMetaSchema","addInitialSchemas","addKeyword","defaultMeta","schemaKeyRef","v","getSchema","_meta","_addSchema","_compileSchemaEnv","loadSchema","runCompileAsync","_schema","loadMetaSchema","$schema","_compileAsync","MissingRefError","checkLoaded","loadMissingSchema","missingSchema","missingRef","_loadSchema","addSchema","_validateSchema","normalizeId","_checkUnique","throwOrLogError","errorsText","keyRef","getSchEnv","SchemaEnv","resolveSchema","_removeAllSchemas","clear","cacheKey","definitions","kwdOrDef","checkKeyword","eachItem","kwd","addRule","keywordMetaschema","getJSONTypes","schemaType","k","findIndex","splice","separator","dataVar","metaSchema","keywordsJsonPointers","jsonPointer","slice","seg","schemaOrData","regex","test","localRefs","getSchemaRefs","_compileMetaSchema","compileSchema","currentOpts","checkOpts","opt","optsSchemas","addFormat","defs","addVocabulary","metaOpts","KEYWORD_NAME","dataType","ruleGroup","before","addBeforeRule","implements","_rule","$dataRef","anyOf","core_1","validation_1","applicator_1","format_1","metadata_1","draft7Vocabularies","metadataVocabulary","contentVocabulary","id_1","ref_1","core","callRef","getValidate","env","callRootRef","schOrEnv","resolveRef","callValidate","schName","mergeEvaluated","inlineRefSchema","addErrorsFrom","addEvaluatedFrom","schEvaluated","dynamicProps","dynamicItems","callAsyncRef","limitNumber_1","multipleOf_1","limitLength_1","pattern_1","limitProperties_1","required_1","limitItems_1","uniqueItems_1","const_1","enum_1","validation","ops","operators","KWDs","maximum","okStr","LTE","fail","GT","minimum","GTE","LT","exclusiveMaximum","exclusiveMinimum","fail$data","prec","multipleOfPrecision","res","invalid","ucs2length_1","comp","op","u2l","pos","charCodeAt","regExp","validate_1","useLoop","loopAllRequired","allErrorsMode","forOf","loopUntilMissing","exitOnErrorMode","strictRequired","definedProperties","requiredKey","equal","j","itemTypes","loopN","wrongType","checkDataTypes","DataType","Wrong","indices","for","loopN2","eql","outer","label","vSchema","_x","equalCode","additionalItems_1","items_1","contains_1","dependencies_1","propertyNames_1","additionalProperties_1","properties_1","patternProperties_1","not_1","anyOf_1","oneOf_1","allOf_1","if_1","thenElse_1","applicator","schArr","minItems","maxItems","additionalItems","fullTupleSchema","validateTuple","trackErrors","minContains","maxContains","next","count","checkLimits","_valid","validateSchemaDeps","validatePropertyDeps","depsCount","property_ies","propDeps","schDeps","propertyDeps","schemaDeps","splitDependencies","hasProperty","depProp","propertyName","forIn","removeAdditional","additionalProperties","allProps","toHash","hasDefault","applyPropertySchema","patterns","checkProperties","allowMatchingProperties","evaluatedPropsToName","checkMatchingProperties","pat","validateProperties","Str","validatePatternProperties","createErrors","passing","ifClause","hasThen","hasSchema","hasElse","validateIf","validateClause","fmts","fDef","fType","callFormat","validData","invalidFmt","validate$DataFormat","formatDef","unknownMsg","unknownFormat","fmtType","fmtRef","fmtDef","fmt","getFormat","validCondition","validateFormat","isValidHost","host","check","URL","isValidUrl","basicIntegrations","integrations","getHost","list","parsed","hostname","byHost","defaultScmResolveUrl","base","lineNumber","updated","filepath","repoRootPath","pathname","substring","replace","hash","readAzureIntegrationConfig","getOptionalString","token","_AzureIntegration","integrationConfig","organization","mockBaseUrl","updatedPath","newUrl","searchParams","AzureIntegration","configs","c","readAzureIntegrationConfigs","getOptionalConfigArray","readBitbucketIntegrationConfig","apiBaseUrl","username","appPassword","_BitbucketIntegration","resolved","filename","urlData","editUrl","BitbucketIntegration","readBitbucketIntegrationConfigs","readGitHubIntegrationConfig","rawBaseUrl","apps","appId","getNumber","clientId","getString","clientSecret","webhookSecret","privateKey","readGitHubIntegrationConfigs","_GitHubIntegration","replaceUrlType","GitHubIntegration","repo","readGitLabIntegrationConfig","baseUrl","_GitLabIntegration","replaceUrlType$1","GitLabIntegration","readGitLabIntegrationConfigs","ScmIntegrations","azure","bitbucket","github","gitlab","integrationsByType","byType","byUrl","Boolean","integration","resolveEditUrl","ENTITY_DEFAULT_NAMESPACE","VIEW_URL_ANNOTATION","EDIT_URL_ANNOTATION","CommonValidatorFunctions","isValidPrefix","isValidSuffix","parts","isEqual","every","isValidDnsLabel","trim","KubernetesValidatorFunctions","isValidPrefixAndOrSuffix","isValidDnsSubdomain","isValidObjectName","isValidApiVersion","isValidKind","isValidNamespace","isValidLabelKey","isValidLabelValue","isValidAnnotationKey","isValidAnnotationValue","entitySchema","examples","apiVersion","labels","product_name","annotations","docs","required","minLength","patternProperties","entityMetaSchema","uid","etag","generation","tags","links","commonSchema","reference","parseRefString","exec","TypeError","getEntityName","parseEntityName","parseEntityRef","defaultNamespace","serializeEntityRef","stringifyEntityRef","ajvCompiledJsonSchemaValidator","extraSchemas","ajv","envelope","val","system","allOf","subcomponentOf","providesApis","consumesApis","dependsOn","profile","displayName","email","picture","parent","members","targets","RELATION_OWNED_BY","RELATION_CONSUMES_API","RELATION_API_CONSUMED_BY","RELATION_PROVIDES_API","RELATION_API_PROVIDED_BY","RELATION_DEPENDS_ON","RELATION_PARENT_OF","RELATION_CHILD_OF","RELATION_MEMBER_OF","RELATION_PART_OF","RELATION_HAS_PART","domain","templater","component_id","parameters","steps","repoUrl","output","catalogInfoUrl","oneOf","memberOf","LOCATION_ANNOTATION","ORIGIN_LOCATION_ANNOTATION","SOURCE_LOCATION_ANNOTATION","parseLocationReference","splitIndex","substr","stringifyLocationReference","locationSpecSchema","presence","noUnknown","scaffolderApiRef","ScaffolderClient","identityApi","scmIntegrationsApi","allowedHosts","templateName","getIdToken","s","encodeURIComponent","Authorization","fromResponse","method","taskId","after","subscriber","URLSearchParams","Number","eventSource","EventSource","withCredentials","addEventListener","ex","close","complete","registerComponentRouteRef","optional","scaffolderPlugin","externalRoutes","registerComponent","ScaffolderPage","Router","CONFIG_KEY_PART_PATTERN","isObject","typeOf","isNaN","typeName","expected","convert","fallback","prefix","previousReader","readValue","localKeys","fallbackKeys","getOptional","fullKey","fallbackValue","into","getOptionalConfig","fallbackConfig","readConfigValue","obj","getOptionalNumber","number","isFinite","getOptionalBoolean","getOptionalStringArray","keyName","theValue","part","badKey","ApiAggregator","holders","apiRef","holder","globalObject","Function","makeKey","getGlobalSingleton","getOrCreateGlobalSingleton","supplier","createVersionedValueMap","versions","atVersion","version","ApiContext","ApiProvider","parentHolder","versionedValue","1","Provider","useApiHolder","versionedHolder","apiHolder","useApi","propTypes","shape","isRequired","ApiRegistryBuilder","impl","ApiRegistry","ApiResolver","factories","heap","allDeps","shift","dep","load","loadDeps","dependent","impls","ScopePriority","ScopePriority2","SessionState","SessionState2","ApiFactoryRegistry","priority","existing","tuple","ApiRefImpl","createApiRef","createApiFactory","instance","googleAuthApiRef","githubAuthApiRef","oktaAuthApiRef","gitlabAuthApiRef","auth0AuthApiRef","microsoftAuthApiRef","oauth2ApiRef","oidcAuthApiRef","samlAuthApiRef","oneloginAuthApiRef","alertApiRef","appThemeApiRef","configApiRef","discoveryApiRef","errorApiRef","FeatureFlagState","FeatureFlagState2","featureFlagsApiRef","identityApiRef","oauthRequestApiRef","storageApiRef","showLoginPopup","reject","left","screen","top","popup","targetOrigin","closed","messageListener","origin","authResult","done","intervalId","setInterval","errMessage","removeEventListener","clearInterval","defaultJoinScopes","scopes","DefaultAuthConnector","environment","provider","joinScopes","oauthRequestApi","sessionTransform","authRequester","createAuthRequester","onAuthRequest","showPopup","joinScopesFunc","instantPopup","buildUrl","credentials","catch","authInfo","popupUrl","payload","buildQueryString","DirectAuthConnector","hasScopes","searched","searchFor","SessionScopeHelper","session","sessionScopes","newScope","defaultScopes","isClosed","observable","terminatingError","subscribers","Symbol","onNext","onError","onComplete","observer","subscribe","SessionStateTracker","subject","SignedOut","signedIn","isSignedIn","SignedIn","RefreshingAuthSessionManager","stateTracker","connector","sessionShouldRefresh","sessionScopesFunc","sessionShouldRefreshFunc","helper","sessionExistsAndHasScope","currentSession","refreshedSession","collapsedSessionRefresh","currentScopes","newSession","getSession","createSession","getExtendedScope","setIsSignedIn","removeSession","sessionState$","refreshPromise","refreshSession","StaticAuthSessionManager","AuthSessionStore","manager","storageKey","loadSession","setSession","saveSession","localStorage","removeItem","sessionJson","getItem","_key","__type","__value","setItem","DEFAULT_PROVIDER","GithubAuth","sessionManager","providerInfo","accessToken","normalizeScope","expiresAt","now","expiresInSeconds","authSessionStore","getAccessToken","backstageIdentity","scopeList","DEFAULT_PROVIDER$1","OAuth2","scopeTransform","idToken","normalizeScopes","getTime","normalizedScopes","DEFAULT_PROVIDER$2","DEFAULT_PROVIDER$3","SCOPE_PREFIX","DEFAULT_PROVIDER$4","OKTA_OIDC_SCOPES","DEFAULT_PROVIDER$5","SamlAuth","getBackstageIdentity","DEFAULT_PROVIDER$6","DEFAULT_PROVIDER$7","DEFAULT_PROVIDER$8","OIDC_SCOPES","AppThemeSelector","themes","selector","initialThemeId","setActiveThemeId","activeThemeId$","activeThemeId","UrlPatternDiscovery","urlStr","endsWith","pluginId","ErrorAlerter","alertApi","hidden","error$","ErrorApiForwarder","validateFlagName","LocalStorageFeatureFlags","registeredFeatureFlags","flag","flags","Active","merge","states","enabled","fromEntries","jsonStr","OAuthPendingRequests","requests","getCurrentPending","request","hasScopes$1","moreScopess","moreScopes","reason","buckets","storage","getKeyName","bucketPath","notifyChanges","messageKey","subscription","AppContext","AppContextProvider","appContext","useApp","versionedContext","DATA_KEY","store","WeakMap","attachComponentData","dataComponent","getComponentData","routeRefType","ExternalRouteRefImpl","createExternalRouteRef","FlatRoutes","app","NotFoundErrorPage","getComponents","createRoutesFromChildren","childrenNode","toArray","child","element","sort","b","_a$1","RouteRefImpl","createRouteRef","isRouteRef","routeRef","isSubRouteRef","joinPaths","paths","normalized","resolveTargetRef","anyRouteRef","routePaths","routeBindings","targetRef","subRoutePath","resolvedRoute","resolvedPath","routeParents","routeObjects","sourceLocation","targetPath","basePath","refDiffList","matchIndex","targetSearchRef","route","routeRefs","unshift","resolveBasePath","RoutingContext","useRouteRef","resolver","routeFunc","isOptional","RoutingProvider","useRouteRefParams","_routeRef","createRoutableExtension","createReactExtension","lazy","InnerComponent","RoutableExtensionWrapper","componentName","BootErrorPage","step","createComponentExtension","Component","lazyLoader","sync","plugin","Result","defaultSystemIcons","brokenImage","catalog","chat","dashboard","help","user","warning","overridableSystemIcon","Icon","getSystemIcon","HelpIcon","PluginImpl","storedOutput","register","outputs","featureFlags","extension","expose","createPlugin","createCollector","accumulatorFactory","visit","accumulator","childDiscoverer","routeElementDiscoverer","pluginCollector","getMountPoint","routePathCollector","ctxPath","currentCtxPath","routeParentCollector","parentRouteRef","nextParent","sticky","MATCH_ALL_ROUTE","caseSensitive","routeObjectCollector","parentObj","parentChildren","newObject","AppIdentity","hasIdentity","userId","idTokenFunc","signOutFunc","reload","signOut","AppThemeProvider","appThemeApi","appTheme","shouldPreferDark","selectedTheme","darkTheme","lightTheme","resolveTheme","useObservable","getActiveThemeId","matchMedia","mediaQuery","setPrefersDark","matches","listener","addListener","removeListener","useShouldPreferDarkTheme","getInstalledThemes","ThemeProvider","CssBaseline","generateBoundRoutes","bindRoutes","bind","targetRoutes","externalRoute","AppContextImpl","getPlugins","getProvider","getRouter","getRoutes","PrivateAppImpl","icons","plugins","components","configLoader","defaultApis","getId","createWithStorage","collectors","queue","contexts","nextContexts","collector","discoverer","discoverers","traverseElementTree","collectedPlugins","notLeafRoutes","currentRouteRef","fullPath","validateRoutes","verifyPlugins","getApiHolder","loadedConfig","hasConfig","useAsync","noConfigNode","Progress","fromConfigs","useConfigLoader","hasConfigApi","configApi","featureFlagsApi","registerFlag","RouterComponent","SignInPage","SignInPageComponent","SignInPageWrapper","setResult","setSignInResult","onResult","registry","getApis","validateFactories","getAllApis","pluginIds","makeStyles","micDrop","maxWidth","position","bottom","right","breakpoints","down","MicDrop","src","alt","ignoreQueryPrefix","strictNullHandling","extractState","stateName","joinQueryString","queryParams","useQueryParamState","debounceTime","setSearchParams","searchParamsString","queryParamState","setQueryParamState","newState","oldState","useDebounce","DEFAULT_SUPPORT_CONFIG","useSupportConfig","supportConfig","getConfigArray","itemConf","linkConf","paddingBottom","textSubtle","ErrorPage","statusMessage","additionalInfo","support","Grid","Typography","Link","rel","isVisible","setIsVisible","handle","setTimeout","clearTimeout","LinearProgress","alert","create","currentRequests","handlerCount","handler","pending","scopeRequest","newRequests","makeAuthRequest","trigger","defaultConfigLoader","runtimeConfigJson","appConfig","toLocaleUpperCase","windowAppConfig","__APP_CONFIG__","OptionallyWrapInRouter","createApp","verify","AlertDisplay","setMessages","alert$","msgs","unsubscribe","firstMessage","Snackbar","anchorOrigin","vertical","horizontal","Alert","IconButton","size","stringToColor","createStyles","avatar","typography","fontWeightBold","letterSpacing","textTransform","customStyles","Avatar","backgroundColor","forwardRef","Button","tooltipDelay","tooltipText","CopyTextButton","inputRef","Tooltip","leaveDelay","stopPropagation","select","document","execCommand","CodeSnippet","language","showLineNumbers","showCopyCodeButton","highlightedNumbers","customStyle","useTheme","highlightColor","wrapLines","lineNumberStyle","textVerySubtle","lineProps","Direction","Direction2","Alignment","Alignment2","Ranker","Ranker2","LabelPosition","LabelPosition2","paper","border","textContrast","DefaultNode","setWidth","setHeight","idRef","useRef","useLayoutEffect","renderedHeight","renderedWidth","round","paddedWidth","paddedHeight","alignmentBaseline","transition","transitions","duration","shortest","renderDefault","Node","setNode","nodeProps","nodeRef","DefaultLabel","useStyles$6","renderDefault$1","createPath","line","curve","Edge","setEdge","points","labelProps","labelRef","finitePoints","markerEnd","DependencyGraph","edges","renderNode","TOP_BOTTOM","align","nodeMargin","edgeMargin","rankMargin","paddingX","paddingY","acyclicer","ranker","NETWORK_SIMPLEX","labelPosition","RIGHT","labelOffset","edgeRanks","edgeWeight","renderLabel","containerWidth","setContainerWidth","containerHeight","setContainerHeight","graph","graphlib","Graph","graphWidth","setGraphWidth","graphHeight","setGraphHeight","graphNodes","setGraphNodes","graphEdges","setGraphEdges","maxHeight","containerRef","useMemo","workspace","getElementById","zoom$1","scaleExtent","on","attr","newContainerWidth","newContainerHeight","getBoundingClientRect","setNodesAndEdges","useCallback","currentGraphNodes","currentGraphEdges","nodeId","removeNode","w","removeEdge","existingNode","labelpos","labeloffset","weight","minlen","updateGraph","layout","newHeight","newWidth","leading","useEffect","setGraph","rankdir","nodesep","edgesep","ranksep","marginx","marginy","cancel","viewBox","markerWidth","markerHeight","refX","refY","orient","markerUnits","flexFlow","topPosition","zIndex","banner","info","useStyles$8","generalImg","EmptyStateImage","useStyles$9","imageContainer","EmptyState","justify","COMPONENT_YAML","useStyles$a","MissingAnnotationEmptyState","annotation","useErrorOutlineStyles","marginRight","warningText","ErrorOutlineStyled","ExpandMoreIconStyled","useStyles$b","panel","warningBackground","verticalAlign","summary","flexDirection","summaryText","details","fontFamily","WarningPanel","subTitle","charAt","Accordion","AccordionSummary","expandIcon","AccordionDetails","useStyles$c","whiteSpace","ResponseErrorList","List","ListItem","ListItemText","Divider","ResponseErrorDetails","errorString","requestString","messageString","stackString","jsonString","ResponseErrorPanel","featureWrapper","backdrop","dot","transformOrigin","animation","pulseCircle","useIconStyles","justifyItems","gridGap","textAlign","main","IconLinkVertical","underline","useStyles$e","gridAutoFlow","gridAutoColumns","HeaderIconLinkRow","generateGradientStops","themeType","luminance","scrollbarWidth","fade","fadeLeft","fadeRight","fadeHidden","buttonLeft","buttonRight","useStyles$g","fontStyle","beta","Lifecycle","shorthand","useStyles$h","markdown","borderCollapse","wordBreak","lineHeight","borderBottom","renderers","MarkdownContent","dialect","useItemStyles","LoginRequestListItem","busy","setBusy","setError","IconComponent","ListItemAvatar","useStyles$i","dialog","paddingTop","contentList","OAuthRequestDialog","authRequest$","Dialog","fullWidth","DialogTitle","DialogContent","DialogActions","useStyles$j","OverflowTooltip","hover","setHover","disableHoverListener","onToggled","truncated","containerClassName","Error$1","slackChannel","ErrorBoundary","errorInfo","setState","useStyles$k","boxTitle","arrow","BottomLink","Box","ListItemIcon","useStyles$l","noPadding","header","headerTitle","headerSubheader","headerAvatar","headerAction","headerContent","CardActionsTopRight","withStyles","float","CardActions","VARIANT_STYLES","fullHeight","gridItem","InfoCard","subheader","deepLink","headerStyle","headerProps","actionsClassName","actions","cardClassName","actionsTopRight","titleTypographyProps","calculatedStyle","calculatedCardStyle","Card","CardHeader","CardContent","overlay","circle","colorUnknown","useStyles$o","ClosedDropdown","SvgIcon","xmlns","useStyles$p","OpenedDropdown","BootstrapInput","InputBase","useStyles$q","formControl","chips","flexWrap","chip","SelectComponent","multiple","triggerReset","setValue","isOpen","handleDelete","selectedValue","ClickAwayListener","onClickAway","FormControl","Select","displayEmpty","previous","HTMLElement","renderValue","Chip","el","clickable","onDelete","MenuProps","getContentAnchorEl","MenuItem","Checkbox","noop","useStyles$t","createContext","stepperLength","stepIndex","setStepIndex","stepHistory","setStepHistory","onStepChange","end","running","aborted","StatusOK","StatusWarning","StatusError","StatusPending","StatusRunning","StatusAborted","TitleCell","paddingRight","TableCell","ContentCell","MetadataTable","Table","TableBody","MetadataTableItem","rest","TableRow","colSpan","MetadataList","listStyle","MetadataListItem","listStyleType","StyledList","StyledNestedList","toValue","nested","isValidElement","renderList","fmtKey","titleFormat","renderMap","ItemValue","TableItem","StructuredMetadataTable","metadataItems","mapToItems","useStyles$u","leftIcon","popoverList","SupportIcon","SupportLink","SupportListItem","prev","idx","SupportButton","popoverOpen","setPopoverOpen","anchorEl","setAnchorEl","popoverCloseHandler","currentTarget","Popover","Children","useStyles$v","gridArea","mixins","gutters","stretch","flexGrow","Content","useStyles$w","tabsWrapper","defaultTab","caption","HeaderTabs","tabs","selectedIndex","selectedTab","setSelectedTab","styles","Tabs","indicatorColor","textColor","scrollButtons","tab","Tab","tabProps","RoutedTabs","subRoutes","matchedRoute","foundIndex","useSelectedSubRoute","headerTabs","Helmet","Route","TabbedLayout","createSubRoutesFromChildren","childrenProps","routeType","useSubvalueCellStyles","subvalue","SubvalueCell","useStyles$x","listItemIcon","listItem","reducer","category","subCategoryLabel","option","optionLabel","isChecked","selection","selectedChildren","indexer","arr","CheckboxTree","subCategories","dispatch","handleOpen","previousSubCategories","usePrevious","Collapse","in","timeout","unmountOnExit","useSubvalueCellStyles$1","grey","onChangeFilters","checkboxFilter","flat","tableIcons","Add","Check","Clear","Delete","DetailPanel","Edit","Export","Filter","FirstPage","LastPage","NextPage","PreviousPage","ResetSearch","Search","SortArrow","ThirdStateCheck","ViewColumn","extractValueByField","StyledMTableHeader","borderTop","A100","StyledMTableToolbar","searchField","useFilterStyles","useTableStyles","defaultInitialState","filtersOpen","TableToolbar","toolbarProps","toolbarRef","setSearch","hasFilters","selectedFiltersLength","filtersClasses","onSearchChanged","searchText","initialState","onStateChange","tableClasses","propsWithoutData","calculatedInitialState","setFiltersOpen","setSelectedFiltersLength","tableData","setTableData","MTColumns","column","cellStyle","convertColumns","onSearchChange","defaultState","removeDefaultValues","getFieldByTitle","titleValue","selectedFiltersArray","newData","filterValue","fieldValue","Toolbar","hasNoRows","columnCount","Body","bodyProps","filterConfig","dataValue","extractDistinctValues","distinctValues","addValue","constructCheckboxTree","constructSelect","constructFilters","Header","marginLeft","isNext","pxToRem","tabMarginLeft","isFirstNav","isFirstIndex","outline","indicator","tabbar","flexContainer","styledTabs","appbar","DefaultTitle","ContentHeader","titleComponent","TitleComponent","leftItemsBox","rightItemsBox","renderedTitle","ClickableText","textDecoration","StyledBox","childrenArray","firstPage","secondPage","expandablePages","currentPage","pop","hasHiddenBreadcrumbs","Breadcrumbs","clone","pageLink","useStyles$D","minHeight","backgroundImage","page","backgroundPosition","backgroundSize","bursts","fontColor","breadcrumb","breadcrumbType","breadcrumbTitle","TypeFragment","typeLink","TitleFragment","tooltip","FinalTitle","SubtitleFragment","pageTitleOverride","documentTitle","titleTemplate","defaultTitle","useStyles$E","HeaderLabelContent","HeaderLabel","useStyles$F","common","white","ItemCardHeader","useStyles$G","gridTemplateColumns","gridAutoRows","ItemCardGrid","otherProps","useStyles$H","gridTemplateAreas","gridTemplateRows","Page","baseTheme","getPageTheme","sidebarConfig","drawerWidthClosed","drawerWidthOpen","defaultOpenDelayMs","defaultCloseDelayMs","defaultFadeDuration","logoHeight","iconContainerWidth","iconSize","iconPadding","selectedIndicatorWidth","userBadgePadding","userBadgeDiameter","SidebarContext","LocalStorageKeys","LocalStorage","SIDEBAR_PIN_STATE","setSidebarPinState","useStyles$I","isPinned","SidebarPinStateContext","toggleSidebarPinState","SidebarPage","setIsPinned","getSidebarPinState","useStyles$J","drawer","navigation","msOverflowStyle","easing","sharp","flexShrink","drawerOpen","shorter","drawerPeek","State","State2","Sidebar","openDelayMs","closeDelayMs","hoverTimerRef","onFocus","onBlur","useStyles$K","buttonItem","font","iconContainer","boxSizing","searchRoot","searchContainer","secondaryAction","borderLeft","selectedColor","isButtonItem","SidebarItem","hasNotifications","navLinkProps","itemIcon","Badge","overlap","invisible","closedContent","openContent","childProps","activeClassName","SidebarSearchField","setInput","ev","TextField","onKeyDown","InputProps","disableUnderline","SidebarSpace","styled","SidebarDivider","introCard","introDismiss","introDismissLink","linkHover","introDismissText","introDismissIcon","form","alignSelf","useTabsStyles","BoldHeader","TabbedCard","tabsClasses","selectIndex","handleChange","_ev","newSelectedIndex","selectedTabContent","useCardTabStyles","CardTab","applySubschema","appl","escapeFragment","getSubschema","dpType","dataPathArr","dataContextProps","isNumber","escapeJsonPointer","getErrorPath","_nextData","dataLevel","dataNames","extendSubschemaData","jtdDiscriminator","jtdMetadata","extendSubschemaMode","nextContext","orgPlugin","EntityGroupProfileCard","GroupProfileCard","EntityMembersListCard","MembersListCard","EntityOwnershipCard","OwnershipCard","EntityUserProfileCard","UserProfileCard","card","shadows","MemberComponent","member","metaName","xl","pt","_props","groupEntity","groupName","grpNamespace","groupNamespace","setPage","nbPages","paginationLabel","pagination","pageIndex","showFirstButton","showLastButton","CardTitle","ml","childRelations","parentRelations","emailHref","CardTitle$1","memberOfRelations","createPageTheme","shapeKey","colorsKey","colors","standard","bold","service","website","library","documentation","tool","countEntitiesBy","EntityCountTile","counter","componentsWithCounters","ownedEntitiesList","fields","lg","techdocsStorageApiRef","techdocsApiRef","TechDocsClient","entityId","requestUrl","getApiOrigin","TechDocsStorageClient","getStorageUrl","errorMessage","attempts","oldBaseUrl","apiOrigin","rootDocsRouteRef","rootCatalogDocsRouteRef","techdocsPlugin","entityContent","TechdocsPage","Router$1","EntityTechdocsContent","EmbeddedDocsRouter","addBaseUrl","DocsCardGrid$2","DocsCardGrid","DocsTable$2","DocsTable","TechDocsCustomHome$2","TechDocsCustomHome","TechDocsPage$1","TechDocsPage","techdocsStorageApi","dom","updateDom","attributeName","elem","getAttribute","elemAttribute","querySelectorAll","addGitFeedbackLink","sourceAnchor","querySelector","sourceURL","childNodes","textContent","issueTitle","issueDesc","repoPath","feedbackLink","cloneNode","insertAdjacentElement","rewriteDocLinks","getElementsByTagName","hasAttribute","normalizedWindowLocation","normalizeUrl","addLinkClickListener","onCssReady","docStorageUrl","onLoading","onLoaded","cssPages","cssPage","TECHDOCS_ALLOWED_TAGS","TECHDOCS_ALLOWED_ATTRIBUTES","injectCss","css","insertAdjacentHTML","html","transformers","DOMParser","parseFromString","documentElement","Element","transformer","TechDocsNotFound","TechDocsProgressBar","isMounted","hasBeenDelayed","setHasBeenDelayed","Reader","onReady","sidebars","setSidebars","shadowDomRef","loadedPath","setLoadedPath","atInitialLoad","setAtInitialLoad","newerDocsExist","setNewerDocsExist","isSynced","syncInProgress","syncError","getBuilder","syncEntityDocs","rawPage","docLoading","docLoadError","retry","getEntityDocs","useRawPage","updateSidebarPosition","mdTabs","sidebar","newTop","transformedElement","sanitizedHtml","innerHTML","allowedTags","allowedAttributes","allowedSchemes","remove","shadowDiv","shadowRoot","attachShadow","removeChild","appendChild","scroll","scrollIntoView","parsedUrl","setProperty","removeProperty","removeAttribute","sideDivs","docTopPosition","DocsTable$1","copyToClipboard","documents","docsUrl","row","DocsCardGrid$1","panels","CustomPanel","panelContainer","panelCSS","Panel","panelType","shownEntities","filterPredicate","TechDocsCustomHome$1","tabsConfig","generatedSubtitle","currentTabConfig","TechDocsHome","getUserId","useOwnUser","TechDocsPageHeader","metadataRequest","techdocs","techdocsMetadata","entityMetadata","techdocsMetadataValues","entityMetadataValues","site_name","siteName","site_description","siteDescription","locationMetadata","ownedByRelations","docsRootLink","documentReady","setDocumentReady","techdocsApi","techdocsMetadataRequest","getTechDocsMetadata","entityMetadataRequest","getEntityMetadata","EntityPageDocs","isJSONType","coerceTo","coerceTypes","COERCIBLE","coerceToTypes","checkTypes","schemaHasRulesForType","coerced","coerceSpecificType","elseIf","expr","assignParentData","coerceData","strictNums","correct","Correct","EQ","NEQ","numCond","_cond","array","notObj","null","integer","typeError","schemaRefOrVal","getTypeErrorContext","varKinds","ValueScopeName","Scope","scope_1","code_2","scope_2","_Code","NOT","OR","AND","ADD","_names","_constants","Def","varKind","rhs","_n","constants","optimizeExpr","_CodeOrName","Assign","lhs","sideEffects","addExprNames","AssignOp","Label","Break","Throw","AnyCode","ParentNode","optimizeNodes","optimizeNames","subtractNames","addNames","BlockNode","Root","Else","If","ns","For","ForLoop","iteration","ForRange","ForIter","loop","iterable","Func","Return","Try","finally","Catch","Finally","replaceName","_items","par","extScope","_values","_blockStarts","_extScope","_scope","_nodes","_root","prefixOrName","keyOrRef","getValue","scopeName","scopeRefs","scopeCode","nameOrPrefix","constant","toName","_leafNode","_constant","_def","keyValues","addCodeArg","thenBody","elseBody","_blockNode","_elseNode","_endBlockNode","forBody","endFor","_for","tryBody","catchCode","finallyCode","_currNode","nodeCount","endBlock","toClose","funcBody","endFunc","N1","N2","andCode","mappend","orCode","shapes","wave","wave2","colorVariants","genPageTheme","pageTheme","home","other","DEFAULT_FONT_FAMILY","createTheme","themeOptions","defaultPageTheme","pageTheme$1","MuiGrid","MuiSwitch","h5","h4","h3","h2","h1","createThemeOptions","overrides","MuiCssBaseline","MuiTableRow","head","MuiTableCell","sizeSmall","MuiTabs","MuiTab","up","textColorPrimary","MuiTableSortLabel","MuiListItemText","textOverflow","MuiButton","MuiChip","outlined","fontWeightMedium","labelSmall","deleteIcon","deleteIconSmall","MuiCard","MuiCardHeader","MuiCardContent","MuiCardActions","createThemeOverrides","slackChannelText","errorBackground","infoBackground","errorText","infoText","gold","A700","pinSidebarButton","dark","dependencies","validateKeywordUsage","allowUndefined","st","validSchemaType","successAction","failAction","invalid$data","append","reportExtraError","$dataError","keyword$DataError","resetErrorsCount","codeBlock","$dataValid","check$data","wrong$DataType","validateSchemaRef","invalid$DataSchema","schemaCxt","JSON_POINTER","RELATIVE_JSON_POINTER","errorMsg","unescapeJsonPointer","pointerType","keywordError","addError","errObj","err","returnErrors","errorObjectCode","verbose","E","instancePath","ajvErrors","jtdErrorObject","ajvErrorObject","_getFullPath","getFullPath","inlineRef","traverse","URI","SIMPLE_INLINED","limit","hasRef","countKeys","REF_KEYWORDS","normalize","TRAILING_SLASH_HASH","ANCHOR","baseIds","pathPrefix","schemaRefs","allKeys","jsonPtr","parentJsonPtr","addRef","ambiguos","schOrRef","checkAmbiguosRef","addAnchor","anchor","$anchor","$dynamicAnchor","sch1","sch2","getEntityMetadataEditUrl","AboutField","gridSizes","AboutContent","isSystem","isDomain","isResource","isComponent","partOfSystemRelations","partOfComponentRelations","partOfDomainRelations","paragraph","ScmIntegrationIcon","gridItemCard","gridItemCardContent","AboutCard","entitySourceLocation","sourceLocationRef","locationTargetUrl","integrationType","getEntitySourceLocation","entityMetadataEditUrl","providesApiRelations","consumesApiRelations","hasApis","viewInSource","viewInTechDocs","viewApi","EntityContextMenu","UNSTABLE_extraContextMenuItems","onUnregisterEntity","extraItems","YellowStar","favouriteEntityTooltip","isStarred","favouriteEntityIcon","FavouriteEntity","advancedButton","Contents","onConfirm","locationRef","isBootstrap","prerequisites","locationPromise","getOriginLocationByEntity","colocatedEntitiesPromise","locationAnnotationFilter","location2","colocatedEntities2","colocatedEntities","unregisterLocation","removeLocationById","allSettled","removeEntityByUid","deleteEntity","useUnregisterEntityDialogState","showDelete","setShowDelete","appTitle","onUnregister","UnregisterEntityDialog","EntityLayoutTitle","EntityLabels","EntityLayout","headerType","paramKind","paramNamespace","paramName","confirmationDialogOpen","setConfirmationDialogOpen","Tabbed","Layout","pathAndId","defaultIndex","getSelectedIndexOrDefault","currentTab","currentRouteElement","EntityPageTitle","EntityLabels$1","EntityPageLayout","headerProps$1","createNameColumn","createTagsColumn","defaultColumns","CatalogTable","titlePreamble","view","getEntityMetadataViewUrl","rows","ownedByRelationsTitle","partOfSystemRelationTitle","typeColumn","isLoading","loadingType","showEmptyDataSourceMessage","pageSizeOptions","EntitySwitchCase","EntitySwitch","matchingCase","createSwitchCasesFromChildren","switchCase","strCmp","isKind","isComponentType","Case","filterGroupsContext","EntityFilterGroupsProvider","doReload","filterGroups","selectedFilterKeys","selectedTags","filterGroupStates","setFilterGroupStates","matchingEntities","setMatchingEntities","availableTags","setAvailableTags","isCatalogEmpty","setCatalogEmpty","rebuild","filterGroupId","filterGroup","otherMatchingEntities","buildMatchingEntities","groupState","filterId","filterFn","isSelected","matchCount","buildStates","collectTags","initialSelectedFilterIds","unregister","setGroupSelectedFilters","setSelectedTags","useProvideEntityFilters","excludeFilterGroupId","allFilters","groupFilters","fn","useEntityFilterGroup","initialSelectedFilters","initialMemo","createComponentRouteRef","listIcon","menuItem","groupWrapper","menuTitle","CatalogFilter","buttonGroups","initiallySelected","currentFilter","setCurrentFilter","getFilterCount","g","setCurrent","useFilter","onChangeRef","filterBox","filterBoxTitle","ResultsFilter","setSelectedTagsFilter","updateSelectedTags","labelId","CatalogLayout","orgName","CatalogTabs","wellKnownTypes","isOtherType","currentTabIndex","setCurrentTabIndex","switchTab","useStyles$7","contentWrapper","gridColumnGap","buttonSpacing","CatalogPageContents","useFilteredEntities","selectedSidebarItem","setSelectedSidebarItem","initiallySelectedFilter","createComponentLink","addMockData","promises","getConfig","getStringArray","addLocation","showAddExampleEntities","CatalogPage","EntityLoaderProvider","illo","CatalogClientWrapper","client","getLocationById","compoundName","getLocationByEntity","catalogPlugin","catalogIndex","catalogEntity","createComponent","CatalogIndexPage","CatalogEntityPage","EntityAboutCard","EntityHasSystemsCard","EntityLinksCard","HasSystemsCard","EntityHasComponentsCard","HasComponentsCard","EntitySystemDiagramCard","HasSubcomponentsCard","HasResourcesCard","DependsOnComponentsCard","DependsOnResourcesCard","SystemDiagramCard","settingsRouteRef","UserSettingsPage","settingsPage","SettingsPage$1","SettingsPage","Settings","EmptyProviders","ProviderSettingsItem","setSignedIn","didCancel","sessionState","secondaryTypographyProps","noWrap","signIn","DefaultProviderSettings","configuredProviders","AuthProviders","providerSettings","providersConfig","providers","EmptyFlags","FlagItem","toggleHandler","FeatureFlags","getRegisteredFlags","initialFlagState","isActive","toggleFlag","flagName","None","save","featureFlag","PinButton","useUserProfile","getProfile","SignInAvatar","UserSettingsMenu","Profile","gutterBottom","ThemeIcon","activeId","listItemText","listItemSecondaryAction","TooltipToggleButton","ThemeToggle","themeIds","exclusive","_event","newThemeId","themeIcon","General","CatalogClient","requestOptional","filterItems","filterItem","filterParts","requestRequired","dryRun","locationCompound","l","requestIgnored","githubActionsApiRef","GithubActionsClient","githubAuthApi","githubIntegrationConfig","auth","runId","getOctokit","reRunWorkflow","run_id","branch","octokit","listWorkflowRunsForRepo","per_page","getWorkflow","workflow_id","getWorkflowRun","downloadJobLogsForWorkflowRun","job_id","BuildStatus","BuildStatus2","buildRouteRef","githubActionsPlugin","EntityGithubActionsContent","useProjectName","LatestWorkflowRunCard","LatestWorkflowsForBranchCard","RecentWorkflowRunsCard","WorkflowRunStatus","conclusion","LazyLog","LinePart","order","modal","normalLog","modalLog","DisplayLog","jobLogs","extraLines","caseInsensitive","enableSearch","formatPart","WorkflowRunLogs","inProgress","projectName","parseInt","useDownloadWorkflowRunLogs","TransitionProps","IconButtonProps","TransitionComponent","table","accordionDetails","externalLinkIcon","getElapsedTime","start","diff","StepView","started_at","completed_at","JobListItem","job","JobsList","jobs","total_count","failed","success","WorkflowRunDetails","_i","_o","_p","_q","useWorkflowRunsDetails","jobsUrl","jobs_url","mb","head_branch","head_commit","author","html_url","useWorkflowRuns","initialPageSize","total","setTotal","setPageSize","runs","workflowRunsData","listWorkflowRuns","workflow_runs","run","workflowName","onReRunClick","branchName","commit","head_repository","branches_url","githubUrl","generatedColumns","WorkflowRunsTableView","onChangePage","onChangePageSize","totalCount","isFreeAction","onChangeRowsPerPage","mr","WorkflowRunsTable","tableProps","githubHost","isGithubActionsAvailable","WidgetContent","lastRun","toolbar","apiDocsConfigRef","PlainApiDefinitionWidget","ApiDefinitionCard","getApiDefinitionWidget","definitionWidget","rawLanguage","h6","short","hoverOpacity","getContrastText","hint","AsyncApiDefinitionWidget","GraphiQL","graphiQlWrapper","GraphQlDefinitionWidget","fetcher","docExplorerOpen","defaultSecondaryEditorOpen","OpenApiDefinitionWidget","setDef","timer","defaultDefinitionWidgets","ApiTypeTitle","apiEntity","createSpecApiTypeColumn","apiEntityColumns","ConsumedApisCard","HasApisCard","ProvidedApisCard","ConsumingComponentsCard","ProvidingComponentsCard","columns$1","ApiExplorerTable","ApiExplorerLayout","ApiExplorerPage","catalogResponse","apiDocsPlugin","definitionWidgets","ApiExplorerPage$1","EntityApiDefinitionCard","EntityConsumedApisCard","EntityConsumingComponentsCard","EntityProvidedApisCard","EntityProvidingComponentsCard","EntityHasApisCard","setEvaluated","unescapeFragment","schemaHasRules","makeMergeEvaluated","mergeNames","mergeToName","mergeValues","resultToName","ps","decodeURIComponent","f","safeStringify","IDENTIFIER","_str","strs","plus","mergeExprItems","arg","c1","c2","emptyStr","module","draft7_1","draft7MetaSchema","META_SUPPORT_DATA","META_SCHEMA_ID","$dataMetaSchema","catalogImportApiRef","getGithubIntegrationConfig","CatalogImportClient","locations","ghConfig","checkGitHubForExistingCatalogInfo","generatedEntities","generateEntityDefinitions","repositoryUrl","fileContent","submitGitHubPrToRepo","generateEntities","octo","searchResult","formatHttpErrorMessage","defaultBranch","repos","default_branch","fileName","repoData","parentRef","git","getRef","createRef","sha","createOrUpdateFileContents","encode","pulls","catalogImportPlugin","importPage","CatalogImportPage","init","initialUrl","activeFlow","activeState","analysisUrl","previousStates","analyzeResult","prepareResult","notRepeatable","reviewResult","wrapper","buttonProgress","NextButton","buttonProps","BackButton","EntityListComponent","collapsed","locationListItemIcon","onItemClick","firstListItem","withLinks","expandedUrls","setExpandedUrls","handleClick","urls","u","getEntityIcon","StepFinishImportLocation","onReset","pullRequest","StepInitAnalyzeUrl","onAnalysis","disablePullRequest","catalogImportApi","handleSubmit","watch","defaultValues","submitted","setSubmitted","handleResult","analysisResult","analyzeUrl","helperText","httpsValidator","AutocompleteTextField","control","loadingText","errorHelperText","textFieldProps","autoSelect","freeSolo","renderInput","endAdornment","PreparePullRequestForm","PreviewCatalogInfoComponent","cardContent","PreviewPullRequestComponent","previewCard","previewCardContent","StepPrepareCreatePullRequest","onPrepare","onGoBack","renderFormFields","defaultBody","catalogInfoApi","groupsLoading","groups","pr","submitPullRequest","useCodeowners","StepPrepareSelectLocations","selectedUrls","setSelectedUrls","indeterminate","StepReviewLocation","onReview","handleImport","defaultGenerateStepper","flow","defaults","prepare","stepLabel","preparePullRequest","appBaseUrl","defaultPreparePullRequest","multiline","defaultStepper","analyze","disable","review","finish","stepperRoot","ImportStepper","generateStepper","activeStepNumber","useImportState","activeStep","ImportComponentPage","repositories","repositoryString","jsonTypes","boolean","UsedValueState","ValueError","_prefixes","_parent","_newName","_nameGroup","nameStr","itemIndex","scopePath","valueKey","vs","_name","_reduceValues","usedValues","getCode","valueCode","nameSet","Started","Completed","getCompilingSchema","rootId","_ValidationError","validateCode","makeValidate","scopeValues","inlineOrCompile","schEnv","s2","s1","refPath","getJsonPointer","schOrFunc","PREVENT_SCOPE_CHANGE","parsedRef","fragment","additionalProperty","patProps","deleteAdditional","additionalPropertyCode","applyAdditionalSchema","definedProp","propsSchema","isAdditional"],"mappings":"yFAAA,krBAQA,MAAMA,EAAgB,aAAa,CACjCC,GAAI,yBACJC,YAAa,wEAGTC,EAAS,IAAM,KACfC,EAAY,aAAe,CAC/BC,KAAMF,EACNG,KAAM,GACNC,MAAO,YAEHC,EAAkBJ,EAClBK,EAAc,aAAe,CACjCJ,KAAMF,EACNG,KAAM,2BACNC,MAAO,SACPG,OAAQ,CAAC,YAAa,OAAQ,UAE1BC,EAAiBF,EACvB,SAASG,EAAkBC,GACzB,IAAIC,EAAIC,EACR,MAAO,CACLC,KAAMH,EAAOG,KAAKC,cAClBC,UAA0F,OAA9EH,EAAyC,OAAnCD,EAAKD,EAAOM,SAASD,gBAAqB,EAASJ,EAAGG,eAAyBF,EAAK,IACtGK,KAAMP,EAAOM,SAASC,MAI1B,MAAMC,EAAwB,KAC5B,MAAM,KAACL,EAAI,UAAEE,EAAS,KAAEE,GAAQ,aAAkBT,GAClD,MAAO,CAACK,OAAME,YAAWE,SAGrBE,EAAgB,wBAAc,CAClCT,YAAQ,EACRU,SAAS,EACTC,WAAO,IAEHC,EAAmB,KACvB,MAAM,KAACT,EAAI,UAAEE,EAAS,KAAEE,GAAQC,IAC1BK,EAAW,cACXC,EAAW,aAAO,MAClBC,EAAa,aAAO5B,IACnB6B,MAAOhB,EAAM,MAAEW,EAAK,QAAED,GAAW,YAAS,IAAMK,EAAWE,gBAAgB,CAACd,OAAME,YAAWE,SAAQ,CAACQ,EAAYZ,EAAME,EAAWE,IAO1I,OANA,oBAAU,KACHA,IACHO,EAASI,KAAK,IAAIC,MAAM,sBACxBN,EAAS,OAEV,CAACC,EAAUD,EAAUF,EAAOD,EAASV,EAAQO,IACzC,CAACP,SAAQU,UAASC,UAE3B,SAASS,IACP,MAAM,OAACpB,EAAM,QAAEU,EAAO,MAAEC,GAAS,qBAAWF,GAC5C,MAAO,CAACT,SAAQU,UAASC,SAI3B,SAASU,EAAmBrB,GAAQ,KAACsB,EAAI,KAAEnB,IACzC,MAAMY,EAAa,aAAO5B,IACpB,QAACuB,EAASM,MAAOO,EAAQ,MAAEZ,GAAS,YAASa,UACjD,MAAMC,EAAYzB,EAAOyB,WAAazB,EAAOyB,UAAUC,OAAQC,KAAQL,GAAQK,EAAEL,KAAKlB,gBAAkBkB,EAAKlB,eAAoBD,GAAQwB,EAAEC,OAAOzB,KAAKC,gBAAkBD,EAAKC,gBAC9K,IAAKqB,EACH,MAAO,GAET,MAAMI,EAA8BC,OAAOC,OAAO,kBAAQN,EAAW,EAAEG,YAC9D,GAAGA,EAAOzB,QAAQyB,EAAOvB,YAAYD,gBAExC4B,EAAqC,GAC3C,IAAK,MAAMC,KAAMJ,EACfG,EAAmCE,KAAK,CACtC/B,KAAM8B,EAAG,GAAGL,OAAOzB,KACnBE,UAAW4B,EAAG,GAAGL,OAAOvB,UACxB8B,YAAa,gBAAMF,EAAGG,IAAKT,GAAMA,EAAEC,OAAOrB,MAhB/B,MA8Bf,aAXsB8B,QAAQC,IAAIN,EAAmCO,QAASN,GACrEA,EAAGE,YAAYC,IAAKI,GAClBzB,EAAW0B,YAAY,CAC5Bf,OAAQ,CACNvB,KAAM8B,EAAG9B,KACT,qBAAsB8B,EAAG5B,UACzB,gBAAiBmC,SAKVD,QAASZ,GAAMA,EAAEe,QAC/B,CAAC1C,EAAQsB,IACZ,MAAO,CACLC,WACAb,UACAC,SAIJ,MAAMgC,EAAkBC,IACtB,IAAI3C,EACJ,MAAO,UAAU2C,EAAUzC,QAA+C,OAAtCF,EAAK2C,EAAUtC,SAASD,WAAqBJ,EAAK,aAAa2C,EAAUtC,SAASC,QAElHsC,EAAqB,KACzB,IAAI5C,EACJ,MACM6C,EADa,aAAO,MACOC,UAAU,YACrCC,EAAsE,OAA9C/C,EAAK6C,EAAcG,IAAI,oBAA8BhD,EAAK,IACjFiD,EAAiBC,GAAsB,mBAAS,IAAIC,IAAIJ,IACzDK,EAAgB,YAAcP,EAAcQ,SAAS,oBAC3D,oBAAU,KACR,IAAIC,EACJ,GAAqB,MAAjBF,OAAwB,EAASA,EAAcG,SAAU,CAC3D,MAAMC,EAAkF,OAAlEF,EAAuB,MAAjBF,OAAwB,EAASA,EAAcG,UAAoBD,EAAM,GACrGJ,EAAmB,IAAIC,IAAIK,MAE5B,CAAkB,MAAjBJ,OAAwB,EAASA,EAAcG,WACnD,MAAME,EAAsB,sBAAa1D,IACvC,MAAM2D,EAAYhB,EAAe3C,GAC7BkD,EAAgBU,IAAID,GACtBT,EAAgBW,OAAOF,GAEvBT,EAAgBY,IAAIH,GAEtBb,EAAciB,IAAI,kBAAmBC,MAAMC,KAAKf,KAC/C,CAACA,EAAiBJ,IACfoB,EAAkB,sBAAalE,IACnC,MAAM2D,EAAYhB,EAAe3C,GACjC,OAAOkD,EAAgBU,IAAID,IAC1B,CAACT,IACJ,MAAO,CACLA,kBACAQ,sBACAQ,oBAYJ,SAASC,EAAqBC,EAAWC,GACvC,MAAMC,EAAsB,MAARD,OAAe,EAASA,EAAKC,YACjD,IAAInE,EACAE,EACAE,EAcJ,MAbI,aAAc6D,GAChBjE,EAAOiE,EAAUjE,KACjBE,EAAY+D,EAAU9D,SAASD,UAC/BE,EAAO6D,EAAU9D,SAASC,OAE1BJ,EAAOiE,EAAUjE,KACjBE,EAAY+D,EAAU/D,UACtBE,EAAO6D,EAAU7D,MAEfF,IAAc,MAChBA,OAAY,GAEdF,EAAOA,EAAKC,cACL,GAAG,YAAmB,CAC3BD,KAAMmE,GAAeA,EAAYlE,gBAAkBD,OAAO,EAASA,EACnEI,OACAF,cAIJ,MAAMkE,EAAgB,qBAAW,CAACC,EAAOC,KACvC,IAAIxE,EACJ,MAAM,UAACmE,EAAS,YAAEE,EAAW,SAAEI,KAAaC,GAAaH,EACzD,IAAIrE,EACAE,EACAE,EACA,aAAc6D,GAChBjE,EAAOiE,EAAUjE,KACjBE,EAAY+D,EAAU9D,SAASD,UAC/BE,EAAO6D,EAAU9D,SAASC,OAE1BJ,EAAOiE,EAAUjE,KACjBE,EAAY+D,EAAU/D,UACtBE,EAAO6D,EAAU7D,MAEnBJ,EAAOA,EAAKyE,kBAAkB,SAC9B,MAAMC,EAAc,CAClB1E,OACAE,UAAuF,OAA3EJ,EAAkB,MAAbI,OAAoB,EAASA,EAAUuE,kBAAkB,UAAoB3E,EAAK,IACnGM,QAEF,OAAuB,IAAMuE,cAAc,IAAM,IAC5CH,EACHF,MACAM,GAAI,YAAa,YAAYnF,EAAYH,KAAQoF,IAChDH,GAAWA,GAAYP,EAAqBC,EAAW,CAACE,mBAGvDU,EAAiB,EACrBC,aACAX,iBACGK,KACiB,IAAMG,cAAc,IAAMI,SAAU,KAAMD,EAAW7C,IAAI,CAACT,EAAGwD,IAAsB,IAAML,cAAc,IAAMI,SAAU,CAC3IE,IAAKD,GACJA,EAAI,GAAK,KAAsB,IAAML,cAAcP,EAAe,IAChEI,EACHP,UAAWzC,EACX2C,mBAGF,SAASe,EAAmBrF,EAAQsF,EAAc5D,GAChD,IAAIzB,EAAIC,EACR,IAAIqF,GAAwI,OAAxHrF,EAA0D,OAApDD,EAAe,MAAVD,OAAiB,EAASA,EAAOyB,gBAAqB,EAASxB,EAAGyB,OAAQC,GAAMA,EAAEL,OAASgE,SAAyB,EAASpF,EAAGkC,IAAKT,GAAMA,EAAEC,UAAY,GAIxL,OAHc,MAAVF,OAAiB,EAASA,EAAOvB,QACnCoF,EAA6B,MAAfA,OAAsB,EAASA,EAAY7D,OAAQ8D,GAAMA,EAAErF,KAAKC,gBAAkBsB,EAAOvB,KAAKC,gBAEvGmF,EAGT,SAASE,EAAUC,EAAOC,GACxB,MAAMC,EAAiB,IAClBP,EAAmBK,EAAO,IAAoB,CAACvF,KAAM,aACrDuF,EAAQ,CAAC,YAAcA,IAAU,IAEhCG,EAASR,EAAmBM,EAAO,KACzC,IAAK,MAAMG,KAAaD,EACtB,QAAsN,IAAlND,EAAeG,KAAMC,GAAMF,EAAU3F,KAAKC,gBAAkB4F,EAAE7F,KAAKC,eAAiB0F,EAAUzF,UAAUD,gBAAkB4F,EAAE3F,UAAUD,eAAiB0F,EAAUvF,KAAKH,gBAAkB4F,EAAEzF,KAAKH,eACjM,OAAO,EAGX,OAAO,EAGT,SAAS6F,GAAsB,YAC7B3B,IAEA,SAAS4B,EAAclG,GACrB,OAAOmE,EAAqBnE,EAAQ,CAClCsE,gBAGJ,MAAO,CACL5E,MAAO,OACPyG,WAAW,EACXC,sBAAqB,CAAC1E,EAAQ1B,IACrBkG,EAAclG,GAAQqG,SAAS3E,GAExC4E,WAAU,CAACC,EAASC,IACXN,EAAcK,GAASE,cAAcP,EAAcM,IAE5DE,OAAS1G,GAA2B,IAAM8E,cAAcP,EAAe,CACrEH,UAAWpE,EACXsE,iBAIN,SAASqC,GAA2B,MAClCjH,EAAK,SACLkH,EAAQ,YACRtC,EACA5C,OAAQmF,IAER,SAASC,EAAa9G,GACpB,OAAOqF,EAAmBrF,EAAQ4G,EAAUC,GAE9C,SAASX,EAAclG,GACrB,OAAO8G,EAAa9G,GAAQoC,IAAKT,GAAMwC,EAAqBxC,EAAG,CAAC2C,iBAAeyC,KAAK,MAEtF,MAAO,CACLrH,QACA0G,sBAAqB,CAAC1E,EAAQ1B,IACrBkG,EAAclG,GAAQqG,SAAS3E,GAExC4E,WAAU,CAACC,EAASC,IACXN,EAAcK,GAASE,cAAcP,EAAcM,IAE5DE,OAAS1G,GACgB,IAAM8E,cAAcE,EAAgB,CACzDC,WAAY6B,EAAa9G,GACzBsE,iBAKR,SAAS0C,IACP,OAAOL,EAA2B,CAChCjH,MAAO,QACPkH,SAAU,IACVtC,YAAa,UAGjB,SAAS2C,IACP,OAAON,EAA2B,CAChCjH,MAAO,SACPkH,SAAU,IACVtC,YAAa,SACb5C,OAAQ,CACNvB,KAAM,YAIZ,SAAS+G,IACP,OAAOP,EAA2B,CAChCjH,MAAO,SACPkH,SAAU,IACVtC,YAAa,SACb5C,OAAQ,CACNvB,KAAM,YAIZ,SAASgH,IACP,MAAO,CACLzH,MAAO,cACP0H,MAAO,uBACPV,OAAS1G,GAA2B,IAAM8E,cAAc,IAAiB,CACvEuC,KAAMrH,EAAOM,SAASjB,YACtBiI,UAAW,iBAEbC,MAAO,QAGX,SAASC,IACP,MAAO,CACL9H,MAAO,YACP0H,MAAO,kBAGX,SAASK,IACP,MAAO,CACL/H,MAAO,OACP0H,MAAO,aAIX,IAAIM,EAA+B5F,OAAO6F,OAAO,CAC/CC,UAAW,KACX3B,sBAAuBA,EACvBU,2BAA4BA,EAC5BK,kBAAmBA,EACnBC,mBAAoBA,EACpBC,mBAAoBA,EACpBC,gCAAiCA,EACjCK,0BAA2BA,EAC3BC,qBAAsBA,IAGxB,MAAMI,EAAsB,CAC1B5B,EAAsB,CAAC3B,YAAa,WACpC2C,IACAD,IACAG,KAEIW,EAAyB,CAC7B7B,EAAsB,CAAC3B,YAAa,cACpC4C,IACAF,IA3BO,CACLtH,MAAO,OACP0H,MAAO,aARF,CACL1H,MAAO,YACP0H,MAAO,kBAkCTD,KAGIY,EAAY,YAAYC,IAAU,CACtCC,MAAO,CACLC,QAASF,EAAMG,QAAQ,GACvBC,QAAS,OACTC,eAAgB,aAGpB,SAASC,GAAY,SACnB/G,EAAQ,MACR7B,EAAK,aACL6I,EAAY,QACZC,EAAU,WAAU,QACpBC,IAEA,MAAMC,EAAUX,IACVY,EAAa,CACjBC,SAAU,IACVrB,MAAO,QAKT,MAHgB,aAAZiB,IACFG,EAAWE,OAAS,qBAEC,IAAM/D,cAAc,IAAO,CAChD2D,UACA/I,QACAoJ,MAAOH,EACPJ,aAAcA,GAAgC,IAAMzD,cAAc,MAAO,CACvEiE,UAAWL,EAAQT,OAClBM,GACHS,QAAS,CACPC,QAAQ,EACRC,QAAQ,EACRC,oBAAqB,EACrBjB,QAAS,SAEXkB,KAAM7H,IAGV+G,EAAYG,QAAUf,EACtBY,EAAYT,oBAAsBA,EAClCS,EAAYR,uBAAyBA,G,kCCvZrC,2LAUA,MAAMuB,EAAe,aAAe,CAClC3J,MAAO,eAQH4J,EANkB,aAAa,CACnClK,GAAI,aACJmK,OAAQ,CACNC,KAAMH,KAG4BI,QAAQ,aAAwB,CACpE7G,UAAW,IAAMP,QAAQqH,UAAUC,MAAK,WAAc,OAAOC,KAAgBD,KAAME,GAAMA,EAAEC,WAC3FC,WAAYV,KAGRtB,EAAY,YAAW,KAAM,CACjCiC,KAAM,CACJC,KAAM,OACNC,OAAQ,OACRC,YAAa,OAEfC,KAAM,CACJH,KAAM,OACNC,OAAQ,OACRC,YAAa,OAEf9C,KAAM,CACJgD,cAAe,OACfC,WAAY,OACZL,KAAM,UACNM,SAAU,OACVC,WAAY,QAGVC,EAAajG,IACjB,MAAM,OAACkG,EAAM,MAAEC,GAASnG,EAClBkE,EAAUX,EAAUvD,GAgBpBoG,EAAY,CACA,IAAM9F,cAAc,OAAQ,CAC1CM,IAAK,IACLyF,GAAI,EACJC,IAAKJ,EACLK,GAAI,EACJC,GAAIN,EACJ3B,UAAWL,EAAQ0B,KACnB,cAAe,sBAED,IAAMtF,cAAc,OAAQ,CAC1CM,IAAK,IACLyF,IAAKH,EACLI,GAAI,EACJC,GAAIL,EACJM,GAAI,EACJjC,UAAWL,EAAQ0B,KACnB,cAAe,uBAGba,EAAYN,EAAMvI,IAAKT,GAAMA,EAAEuJ,aAAa9I,IAAI,CAAC+I,EAAYC,IAnC9C,EAACA,EAAWD,IAAe,CAC9B,IAAMrG,cAAc,SAAU,CAC5CM,IAAK,IAAIgG,EACTC,GAAI,EACJC,GAAI,EACJ3J,EAAGwJ,EACHpC,UAAWL,EAAQsB,OAEL,IAAMlF,cAAc,OAAQ,CAC1CM,IAAK,IAAIgG,EACTG,OAAkB,IAAfJ,EAAsC,GAAbA,OAAkB,EAC9CK,WAAY,SACZzC,UAAWL,EAAQrB,MAClBsD,EAAMS,GAAW7K,OAsB2DkL,CAAaL,EAAWD,IACzG,OAAuB,IAAMrG,cAAc,IAAMI,SAAU,KAAM0F,EAAUc,UAAUT,KAGjFU,EAAW,EACfC,MACA7C,YACArE,cACIkH,EAAsB,IAAM9G,cAAc,IAAK,CACnD+G,KAAMD,EACN7C,aACCrE,GAA4B,IAAMI,cAAc,IAAMI,SAAU,KAAMR,GAEnEoH,EAAoBtH,IACxB,MAAM,KAACuH,EAAI,QAAEC,EAAO,MAAEtM,EAAK,YAAEL,EAAW,IAAEuM,GAAOpH,EAOjD,OAAuB,IAAMM,cAAc,IAAQ,CACjD,cAAe,oBACfiH,OACAC,WACiB,IAAMlH,cAAc,IAAa,CAClD,cAAe,kCACdpF,GAAwB,IAAMoF,cAAc,IAAe,CAC5DmH,UAAU,GACO,IAAMnH,cAAc,IAAiB,CACtDoH,QAAS7M,KACNuM,GAAuB,IAAM9G,cAAc,IAAe,KAAsB,IAAMA,cAAc,IAAQ,CAC/GqH,QAjBkB,KAClBH,IACIJ,IACFQ,OAAOC,SAASR,KAAOD,IAezBU,MAAO,UACPC,UAA2B,IAAMzH,cAAc,IAAU,MACzD+G,KAAMD,GACL,iBAGCY,EAAc,YAAW,KAAM,CACnCnF,KAAM,CACJgD,cAAe,OACfC,WAAY,OACZC,SAAU,MACVN,KAAM,OACNuB,WAAY,UAEdiB,KAAM,CACJC,OAAQ,cAsBNC,EAAcnI,IAClB,MAAMkE,EAAU8D,EAAYhI,IACrBuH,EAAMa,GAAW,IAAMC,UAAS,IACjC,MACJC,EAAK,YACLzN,EAAW,MACXK,EAAK,MACL4M,EAAK,IACLV,EAAG,MACH5K,EAAK,EACL+L,EAAC,EACDxB,EAAC,aACDyB,EAAY,aACZC,EAAY,QACZd,GACE3H,EACE0I,EAnCS,EAACZ,EAAOQ,KACvB,MAAMhE,EAAQ,CAACmB,KAAMqC,GACrB,IAAIY,EAAuB,IAAMpI,cAAc,SAAU,CACvDnD,EAAG,EACHmH,UAaF,OAXIgE,GAASA,EAAQ,EACnBI,EAAuB,IAAMpI,cAAc,OAAQ,CACjDqI,EAAG,uBACHrE,UAEOgE,GAASA,EAAQ,IAC1BI,EAAuB,IAAMpI,cAAc,OAAQ,CACjDqI,EAAG,wBACHrE,WAGGoE,GAkBME,CAASd,EAAOQ,GAU7B,OAAuB,IAAMhI,cAAc,IAAK,CAC9CuI,UAAW,aAAaN,MAAMxB,KAC9ByB,eACAC,eACAd,UACA,cAAe,eACd,IAAKJ,GAAwB,IAAMjH,cAAcgH,EAAkB,CACpEC,OACAC,QAdkB,KAClBY,GAAQ,IAcRlN,MAAOA,GAAgB,WACvBL,YAAaA,GAA4B,iBACzCuM,QACEvM,EAA8B,IAAMyF,cAAc,IAAK,CACzDiE,UAAWL,EAAQ+D,KACnBN,QAvBsB,KACtBS,GAAQ,IAuBRU,KAAM,SACNzB,KAAM,IACN0B,SAAU,EACVC,WArBa,KACbZ,GAASb,KAqBRmB,GAAwB,IAAMpI,cAAc6G,EAAU,CACvDC,MACA7C,UAAWL,EAAQ+D,MAClBS,GAAuB,IAAMpI,cAAc,OAAQ,CACpDyG,EAAG,EACHxC,UAAWL,EAAQrB,MAClBrG,KAGCyM,EAAc,YAAW,KAAM,CACnCC,OAAQ,CACNrD,cAAe,OACfC,WAAY,OACZqD,QAAS,GAEXC,cAAe,CACbvD,cAAe,OACfC,WAAY,OACZqD,QAAS,IAEXE,WAAY,CACV5D,KAAM,QAER5C,KAAM,CACJgD,cAAe,OACfC,WAAY,OACZC,SAAU,OACVN,KAAM,WAGJ6D,EAAetJ,IACnB,MAAMkE,EAAU+E,EAAYjJ,IACtB,QAACuJ,EAAO,KAAE1G,GAAQ7C,EAClBwJ,EAAW,iBAAO,MAClBC,EAAU,iBAAO,MACjBC,EAAW,iBAAO,MAClBC,EAAW,iBAAO,MAwBxB,OAHA,0BAAgB,KApBO,MACrB,GAAIH,EAASI,QAAS,CACpB,MAAM,EAACrB,EAAC,EAAExB,GAAK/G,EACT6J,EAAOL,EAASI,QAAQE,UACxBC,EAAU,EACVC,EAAU,EACZP,EAAQG,SACVH,EAAQG,QAAQK,aAAa,YAAa,aAAa1B,EAAIsB,EAAK9G,MAAQ,MAAMgE,EAAI8C,EAAKxF,OAAS2F,MAE9FN,EAASE,UACXF,EAASE,QAAQK,aAAa,IAAKC,QAAQH,IAC3CL,EAASE,QAAQK,aAAa,IAAKC,QAAQL,EAAKxF,SAChDqF,EAASE,QAAQK,aAAa,QAASC,OAAOL,EAAK9G,MAAQ,EAAIgH,IAC/DL,EAASE,QAAQK,aAAa,SAAUC,OAAOL,EAAKxF,OAAS2F,KAE3DL,EAASC,SACXD,EAASC,QAAQK,aAAa,YAAa,aAAaJ,EAAK9G,MAAQ,EAAIgH,MAAYC,EAAU,QAKnGG,KAEqB,IAAM7J,cAAc,IAAK,CAC9CL,IAAKwJ,EACLlB,EAAG,EACHxB,EAAG,EACHxC,UAAWgF,EAAUrF,EAAQkF,cAAgBlF,EAAQgF,OACrD,cAAe,gBACE,IAAM5I,cAAc,OAAQ,CAC7CL,IAAKyJ,EACLU,GAAI,EACJC,GAAI,EACJ9F,UAAWL,EAAQmF,aACD,IAAM/I,cAAc,OAAQ,CAC9CL,IAAKuJ,EACLjF,UAAWL,EAAQrB,MAClBA,GAAuB,IAAMvC,cAAc,OAAQ,CACpDL,IAAK0J,EACLhB,EAAG,mBACHpE,UAAWL,EAAQmF,eAIjBiB,EAAc,YAAY9G,IAAU,CACxCX,KAAM,CACJgD,cAAe,OACfC,WAAY,OACZC,SAAU,OACVN,KAAMjC,EAAM+G,QAAQ1H,KAAK2H,cAGvBC,EAAezK,IACnB,MAAM,EAACuI,EAAC,EAAExB,GAAK/G,EACTkE,EAAUoG,EAAYtK,GAC5B,OAAuB,IAAMM,cAAc,OAAQ,CACjD,cAAe,eACfuI,UAAW,aAAaN,MAAMxB,KAC9BxC,UAAWL,EAAQrB,MAClB,gCAGC6H,EAAc,YAAYlH,IAAU,CACxCmH,SAAU,CACRtG,OAAQ,OACRtB,MAAO,OACP6H,SAAU,SACV/E,cAAe,QAEjBgF,gBAAiB,CACfhF,cAAe,OACfC,WAAY,OACZgF,UAAW,EACXC,aAAcvH,EAAMG,QAAQ,EAAI,MAChCoC,SAAU,QAEZI,MAAO,CACLlC,QAAS,GAEXuB,KAAM,CACJwF,YAAa,eACbC,gBAAiB,QACjB,8BAA+B,QAC/BlF,SAAU,QAEZmF,YAAa,CACXrF,cAAe,OACfC,WAAY,OACZgF,UAAW,EACXC,aAAcvH,EAAMG,QAAQ,EAAI,KAChCoC,SAAU,OACVC,WAAY,KAEdmF,SAAU,CACRC,kBAAmB,SACnBN,UAAW,EACXO,YAAa,EACbC,mBAAoB,oBACpB,6BAA8B,OAC9B,gCAAiC,OACjC,wBAAyB,QAE3BC,MAAO,CACL1F,cAAe,iBACfC,WAAY,OACZC,SAAU,QAEZyF,UAAW,CACT3F,cAAe,qBAGb4F,EAAezL,IACnB,MAAMkE,EAAUwG,EAAY1K,GACtB0L,EAAa,CAACC,EAAWhB,EAAUnF,EAAMoG,EAAa,KAC1D,MAAMC,EAAgBlB,EAASmB,MACzBlF,EAAYpB,EAAKsG,MACjBC,OAAkC,IAAlBF,EAA2B,GAAKF,EAAUE,IAAkB,GAClF,YAAqB,IAAdjF,EAAuB,GAAKmF,EAAcnF,EAAYgF,IAAe,IAExEI,EAAkB,EACtB5E,MACAvM,cACAK,YAEA,MAAOqM,EAAMa,GAAW,IAAMC,UAAS,GACjC4D,EAAkB,KACtB7D,GAAQ,IAEJ8D,EAAc,KAClB9D,GAAQ,IAEJ+D,EAAS,KACb/D,GAASb,IAEX,OAAI1M,EACqB,IAAMyF,cAAc,IAAMI,SAAU,KAAsB,IAAMJ,cAAc,OAAQ,CAC3GiE,UAAWL,EAAQsH,UACnB7D,QAASsE,EACTnD,KAAM,SACNC,SAAU,EACVC,WAAYmD,GACK,IAAM7L,cAAc,OAAQ,CAC7CiE,UAAWL,EAAQqH,OAClBrQ,IAASqM,GAAwB,IAAMjH,cAAcgH,EAAkB,CACxEC,OACAC,QAAS0E,EACThR,MAAOA,GAAgB,WACvBkM,MACAvM,iBAGmB,IAAMyF,cAAc6G,EAAU,CACnDC,MACA7C,UAAWL,EAAQsH,WACF,IAAMlL,cAAc,OAAQ,CAC7CiE,UAAWL,EAAQqH,OAClBrQ,KAECkR,EAAkB,EACtB5G,OACA6G,QAASC,EACTC,kBAAmBC,EACnBC,kBAAmBC,KAEI,IAAMpM,cAAc,MAAO,CAChD,cAAe,aACfM,IAAK4E,EAAK5K,GACV2J,UAAWL,EAAQsB,MACF,IAAMlF,cAAc,KAAM,CAC3CiE,UAAWL,EAAQgH,aAClB1F,EAAKzJ,MAA2B,IAApBuQ,EAASK,OAA+B,IAAMrM,cAAc,IAAK,KAAM,WAA6B,IAAMA,cAAc,KAAM,CAC3IiE,UAAWL,EAAQiH,UAClBmB,EAAS1O,IAAK2N,GAA0B,IAAMjL,cAAc,KAAM,CACnEM,IAAK2K,EAAM3Q,GACX4B,OAAQ+O,EAAMO,OAAS,GAAK,EAC5BtD,aAAcgE,GAAsB,KAAOA,EAAmBjB,IAC9D9C,aAAciE,GAAsB,KAAOA,EAAmBnB,KAC7C,IAAMjL,cAAc0L,EAAiB,CACtD5E,IAAKmE,EAAMnE,IACXlM,MAAOqQ,EAAMrQ,MACbL,YAAa0Q,EAAM1Q,kBAGjB+R,EAAsB,EAC1BC,SAAUC,EACVnC,WACAxE,MAAO4G,EACPR,kBAAmBC,EACnBC,kBAAmBC,KAEI,IAAMpM,cAAc,gBAAiB,CAC1DM,IAAK+J,EAAS/P,GACd2N,EAAGoC,EAASqC,QACZjG,EAAG4D,EAASsC,QACZlK,MAAO4H,EAASuC,YAChB7I,OAAQsG,EAASwC,aACjB,cAAe,kBACE,IAAM7M,cAAc,MAAO,CAC5CiE,UAAWL,EAAQyG,UACF,IAAMrK,cAAc,KAAM,CAC3CiE,UAAWL,EAAQ2G,iBAClBF,EAAS5O,MAAuB,IAAMuE,cAAc,MAAO,CAC5DiE,UAAWL,EAAQiC,OAClB4G,EAAOnP,IAAK4H,GAAyB,IAAMlF,cAAc8L,EAAiB,CAC3ExL,IAAK4E,EAAK5K,GACV4K,OACA6G,QAASX,EAAWoB,EAAWnC,EAAUnF,GACzC+G,kBAAmBC,EACnBC,kBAAmBC,SA0BjB,UACJU,EAAS,MACTjH,EAAK,QACLkG,EAAO,kBACPE,EAAiB,kBACjBE,GACEzM,EACE6M,EA9BgB,CAACP,IACrB,MAAMQ,EAAY,GAClB,IAAK,MAAMvB,KAASe,EAAU,CAC5B,MAAMT,EAAgBN,EAAMZ,SAASmB,MAC/BlF,EAAY2E,EAAM/F,KAAKsG,MAC7B,IAAIuB,EAAe,QACG,IAAlBxB,SAC+B,IAA7BiB,EAAUjB,KACZiB,EAAUjB,GAAiB,IAE7BwB,EAAeP,EAAUjB,IAE3B,IAAIyB,EAAW,QACG,IAAd1G,SAC8B,IAA5ByG,EAAazG,KACfyG,EAAazG,GAAa,IAE5B0G,EAAWD,EAAazG,IAE1B0G,EAAS5P,KAAK6N,GAEhB,OAAOuB,GASQS,CAAclB,GAC/B,OAAuB,IAAM/L,cAAc,IAAK,CAC9C,cAAe,gBACd8M,EAAUxP,IAAK+M,GAA6B,IAAMrK,cAAcsM,EAAqB,CACtFhM,IAAK+J,EAAS/P,GACdiS,WACAlC,WACAxE,QACAoG,oBACAE,yBAIEe,EAAaxN,IACjB,MAAM,MACJ+C,EAAK,OACLsB,EAAM,OACN6B,EAAM,UACNkH,EAAS,MACTjH,EAAK,QACLkG,EAAO,YACPoB,EAAW,kBACXlB,EAAiB,kBACjBE,GACEzM,EACJ,OAAuB,IAAMM,cAAc,IAAK,CAC9C,cAAe,cACE,IAAMA,cAAcmL,EAAa,CAClD2B,YACAjH,QACAkG,UACAE,kBAAmBA,GAAqB,CAAEhB,GAAUgB,EAAkBhB,IACtEkB,kBAAmBA,GAAqB,CAAElB,GAAUkB,EAAkBlB,MACpD,IAAMjL,cAAc,IAAK,CAC3CuI,UAAW,aAAa9F,EAAQ,MAAMsB,EAAS,MAC9B,IAAM/D,cAAc2F,EAAW,CAChDC,SACAC,UACkB,IAAM7F,cAAcmK,EAAa,CACnDlC,GAAI,GAAMxF,EACVgE,EAAG,GAAM1C,IACPgI,EAAQzO,IAAK2N,GAA0B,IAAMjL,cAAc6H,EAAY,CACzEvH,IAAK2K,EAAM3Q,GACX2N,EAAGgD,EAAMhD,GAAK,EACdxB,EAAGwE,EAAMxE,GAAK,EACde,MAAOyD,EAAMzD,OAAS,GACtBtL,QAAkB,MAAT+O,OAAgB,EAASA,EAAMO,QAAU,GAAK,EACvD1E,IAAKmE,EAAMnE,IACXvM,YAAa0Q,EAAM1Q,YACnByN,MAAOiD,EAAMjD,MACbpN,MAAOqQ,EAAMrQ,MACbsN,aAAc+D,GAAqB,KAAOA,EAAkBhB,IAC5D9C,aAAcgE,GAAqB,KAAOA,EAAkBlB,OACzC,IAAMjL,cAAcgJ,EAAa,CACpDC,UAAWkE,EACX5K,MAAsB,MAAf4K,OAAsB,EAASA,EAAYvS,QAAU,GAC5DqN,GAAmB,MAAfkF,OAAsB,EAASA,EAAYlF,IAAM,EACrDxB,GAAmB,MAAf0G,OAAsB,EAASA,EAAY1G,IAAM,OAIzD,MAAM2G,EACJ,YAAY/C,EAAUnF,EAAMU,EAAQyH,GAClCC,KAAKD,SAAWA,EAChBC,KAAKC,SAAW,CACdC,EAAGnD,EAASoD,UACZ5Q,EAAGqI,EAAKwI,aAEVJ,KAAKK,SAAW,CACdH,EAAGnD,EAASuD,UACZ/Q,EAAGqI,EAAKkB,aAEVkH,KAAKO,aAAe,CAClB5F,EAAG,GAAKoC,EAASyD,QACjBrH,EAAG,GAAK4D,EAAS0D,SAEnBT,KAAKU,aAAe,CAClB/F,EAAGrC,EAASyE,EAASyD,QACrBrH,EAAGb,EAASyE,EAAS0D,SAGzB,MAAM1F,GACJ,MACM4F,EAAIC,EAAYC,EADZC,EAAW/F,EAAGiF,KAAKO,aAAcP,KAAKU,eAChBV,KAAKC,SAAS1Q,EAAI,GAAIyQ,KAAKK,SAAS9Q,EAAI,IAExE,OADAwL,EAAEJ,EAAIoG,EAAUJ,GAAGhG,EACZI,EAAEJ,EAEX,MAAMI,GACJ,MACM4F,EAAIC,EAAYC,EADZC,EAAW/F,EAAGiF,KAAKO,aAAcP,KAAKU,eAChBV,KAAKC,SAAS1Q,EAAI,GAAIyQ,KAAKK,SAAS9Q,EAAI,IAExE,OADAwL,EAAE5B,EAAI4H,EAAUJ,GAAGxH,EACZ4B,EAAE5B,EAEX,SACE,OAAO4H,EAAU,CACfb,EAAGF,KAAKgB,eAAehB,KAAKC,SAASC,EAAGF,KAAKK,SAASH,GACtD3Q,EAAGyQ,KAAKiB,eAAejB,KAAKC,SAAS1Q,EAAGyQ,KAAKK,SAAS9Q,KAG1D,UACE,MAAMoL,EAAgC,IAA5BuG,KAAKC,IAAInB,KAAKD,YACxB,OAAOpF,EAAIuG,KAAKE,MAAMzG,GAExB,eAAe0G,EAAKC,GAClB,OAAOD,EAAMrB,KAAKuB,WAAaD,EAAMD,GAEvC,eAAeA,EAAKC,GAClB,OAAOD,EAA0C,IAAnCrB,KAAKuB,UAAYvB,KAAKuB,YAAoBD,EAAMD,IAGlE,SAASR,GAAM,EAAClG,EAAC,EAAExB,IACjB,MAAO,CACL+G,EAAGgB,KAAKM,MAAMrI,EAAGwB,GACjBpL,EAAG2R,KAAKO,KAAK9G,EAAIA,EAAIxB,EAAIA,IAG7B,SAAS4H,GAAU,EAACxR,EAAC,EAAE2Q,IACrB,MAAO,CACLvF,EAAGpL,EAAI2R,KAAKQ,IAAIxB,GAChB/G,EAAG5J,EAAI2R,KAAKC,IAAIjB,IAGpB,SAASyB,EAAgB/S,EAAOyS,EAAKC,GACnC,MAAMM,EAAMV,KAAKG,IAAIA,EAAKC,GACpBO,EAAOX,KAAKI,IAAID,EAAKC,GAC3B,OAAOJ,KAAKG,IAAIH,KAAKI,IAAI1S,EAAOgT,GAAMC,GAExC,SAASjB,EAAYkB,EAAYC,EAAMC,GACrC,MAAO,CACL9B,EAAG4B,EAAW5B,EACd3Q,EAAGoS,EAAgBG,EAAWvS,EAAGwS,EAAMC,IAG3C,SAASlB,EAAWmB,EAAOZ,EAAKC,GAC9B,MAAO,CACL3G,EAAGgH,EAAgBM,EAAMtH,EAAG0G,EAAI1G,EAAG2G,EAAI3G,GACvCxB,EAAGwI,EAAgBM,EAAM9I,EAAGkI,EAAIlI,EAAGmI,EAAInI,IAI3C,MA8FM+I,EAAS9P,IACb,MAAM,MAAC+C,EAAK,OAAEsB,EAAM,UAAE+I,EAAS,MAAEjH,EAAK,QAAEkG,GAAWrM,EAC7CkG,EAAS4I,KAAKG,IAAIlM,EAAOsB,GAAU,GAClCoJ,EAAasC,GAAkB,qBAChCC,EAAO,iBAAO,MAIpB,MAtGsB,EAAC5C,EAAWlH,EAAQnD,EAAOsB,KACjD,MACM4L,EAAS,CADA,GAGblN,EAAQ,EAAImD,EAHC,GAIbnD,EAAQ,EAAImD,EAJC,GAKbnD,EALa,IAOTmN,EAAS,CAPA,GAOS7L,EAAS,EAPlB,GAO8BA,EAAS,EAAGA,EAP1C,IAQT8L,EAAe,CACnB,CACE5H,EAAG0H,EAAO,GACVlJ,EAAGmJ,EAAO,GACVnN,MAAOkN,EAAO,GAAKA,EAAO,GAC1B5L,OAAQ6L,EAAO,GAAKA,EAAO,IAE7B,CACE3H,EAAG0H,EAAO,GACVlJ,EAAGmJ,EAAO,GACVnN,MAAOkN,EAAO,GAAKA,EAAO,GAC1B5L,OAAQ6L,EAAO,GAAKA,EAAO,IAE7B,CACE3H,EAAG0H,EAAO,GACVlJ,EAAGmJ,EAAO,GACVnN,MAAOkN,EAAO,GAAKA,EAAO,GAC1B5L,OAAQ6L,EAAO,GAAKA,EAAO,IAE7B,CACE3H,EAAG0H,EAAO,GACVlJ,EAAGmJ,EAAO,GACVnN,MAAOkN,EAAO,GAAKA,EAAO,GAC1B5L,OAAQ6L,EAAO,GAAKA,EAAO,KAG/B9C,EAAUgD,QAAQ,CAACzF,EAAUmB,KAC3B,MAAMuE,EAAcF,EAAarE,EAAQ,GACzCnB,EAASmB,MAAQA,EACjBnB,EAASoD,UAAYjC,EAAQgD,KAAKwB,GAAK,EACvC3F,EAASuD,WAAapC,EAAQ,GAAKgD,KAAKwB,GAAK,EAC7C3F,EAASyD,QAAUtC,EAAQ,GAAM,GAAKA,EAAQ,GAAM,EAAI,GAAK,EAC7DnB,EAAS0D,QAAUvC,EAAQ,GAAM,GAAKA,EAAQ,GAAM,EAAI,GAAK,EAC7DnB,EAASqC,QAAUqD,EAAY9H,EAC/BoC,EAASsC,QAAUoD,EAAYtJ,EAC/B4D,EAASuC,YAAcmD,EAAYtN,MACnC4H,EAASwC,aAAekD,EAAYhM,UAsDtCkM,CAAgBnD,EAAWlH,EAAQnD,EAAOsB,GAbxB,EAAC8B,EAAOD,KAC1BC,EAAMiK,QAAQ,CAAC5K,EAAMsG,KACnBtG,EAAKsG,MAAQA,EACbtG,EAAKkB,aAAeoF,EAAQ,IAAM3F,EAAMwG,OAAS,GAAKzG,EACtDV,EAAKwI,aAAyB,IAAVlC,EAAc,EAAIA,EAAQ,IAAM3F,EAAMwG,OAAS,GAAKzG,KAU1EsK,CAAYrK,EAAOD,GApDC,EAACmG,EAASe,EAAWjH,EAAOD,EAAQuH,KACxD,IAAIgD,EAAO,GACXpE,EAAQ+D,QAAQ,CAAC7E,EAAOO,KACtB,MAAMnB,EAAWyC,EAAU7L,KAAMmP,IAC/B,MAAMC,EAAkC,iBAAnBpF,EAAMZ,SAAwBY,EAAMZ,SAAS/P,GAAK2Q,EAAMZ,SAC7E,OAAO+F,EAAE9V,KAAO+V,IAEZnL,EAAOW,EAAM5E,KAAMpE,IACvB,MAAMwT,EAA8B,iBAAfpF,EAAM/F,KAAoB+F,EAAM/F,KAAK5K,GAAK2Q,EAAM/F,KACrE,OAAOrI,EAAEvC,KAAO+V,IAElB,IAAKhG,EACH,MAAM,IAAIhO,MAAM,oBAAoB4O,EAAMZ,sBAAsBY,EAAM3Q,OAExE,IAAK4K,EACH,MAAM,IAAI7I,MAAM,gBAAgB4O,EAAM/F,kBAAkB+F,EAAM3Q,OAEhE2Q,EAAMO,MAAQA,EACdP,EAAMZ,SAAWA,EACjBY,EAAM/F,KAAOA,EACb+F,EAAMqF,QAAU,IAAIlD,EAAQ/C,EAAUnF,EAAMU,EAAQ,IAAMuK,KAC1D,MAAMZ,EAAQtE,EAAMqF,QAAQC,SAC5BtF,EAAMhD,EAAIsH,EAAMtH,EAChBgD,EAAMxE,EAAI8I,EAAM9I,EAChBwE,EAAMuF,SAASrD,GAAclC,EAAM3Q,KAAO6S,EAAY7S,GACtD2Q,EAAMzD,MAAQyD,EAAMuF,OAASvF,EAAM/F,KAAKsC,MAAQ,IAAMyD,EAAM/F,KAAKsC,OAAOiJ,WAAW,IAAKC,QAAQ,IAAKC,WAEvG,MAAMC,EAAa,cAAkBC,MAAM9E,GAAS+E,cAAc,KAAMC,MAAM,YAAa,cAAenL,OAAO,IAAIoL,SAAS,MAAOC,OACrI,IAAK,IAAI5Q,EAAI,EAAG6Q,EAAI1C,KAAK2C,KAAK3C,KAAK4C,IAAIR,EAAWS,YAAc7C,KAAK4C,IAAI,EAAIR,EAAWU,eAAgBjR,EAAI6Q,IAAK7Q,EAAG,CAClHuQ,EAAWW,OACX,IAAK,MAAMtG,KAASc,EACdd,EAAMqF,UACRrF,EAAMhD,EAAIgD,EAAMqF,QAAQkB,MAAMvG,GAC9BA,EAAMxE,EAAIwE,EAAMqF,QAAQmB,MAAMxG,MAoBpCyG,CAAc3F,EAASe,EAAWjH,EAAOD,EAAQuH,GAC1B,IAAMnN,cAAc,MAAO,CAChDL,IAAK+P,EACLjN,QACAsB,YACGrE,EAAMiS,UACQ,IAAM3R,cAAckN,EAAW,CAChDzK,QACAsB,SACA6B,SACAmG,UACAe,YACAjH,QACAsH,cACAlB,kBAAoBhB,GAAUwE,EAAexE,GAC7CkB,kBAAmB,IAAMsD,OAAe,OAItC5J,EAAQ,IAAI3G,MAClB2G,EAAMzI,KAAK,CAAC9C,GAAI,MAAOmB,KAAM,MAAO+L,MAAO,YAC3C3B,EAAMzI,KAAK,CAAC9C,GAAI,QAASmB,KAAM,QAAS+L,MAAO,YAC/C3B,EAAMzI,KAAK,CAAC9C,GAAI,SAAUmB,KAAM,SAAU+L,MAAO,YACjD3B,EAAMzI,KAAK,CAAC9C,GAAI,OAAQmB,KAAM,OAAQ+L,MAAO,YAC7C,MAAMsF,EAAY,IAAI5N,MACtB4N,EAAU1P,KAAK,CAAC9C,GAAI,iBAAkBmB,KAAM,mBAC5CqR,EAAU1P,KAAK,CAAC9C,GAAI,aAAcmB,KAAM,eACxCqR,EAAU1P,KAAK,CAAC9C,GAAI,YAAamB,KAAM,cACvCqR,EAAU1P,KAAK,CAAC9C,GAAI,UAAWmB,KAAM,YACrC,MAAMsQ,EAAU,IAAI7M,MACpB6M,EAAQ3O,KAAK,CACXwU,SAAU,CACR,CACE5J,MAAO,EACP6J,OAAQ,MACRC,KAAM,IAAIC,KAAK,cACfxX,YAAa,+HAGjBuM,IAAK,IACLxG,IAAK,aACLhG,GAAI,aACJM,MAAO,aACPyP,SAAU,YACV9P,YAAa,wHAEfwR,EAAQ3O,KAAK,CACXwU,SAAU,CACR,CACE5J,OAAQ,EACR6J,OAAQ,MACRC,KAAM,IAAIC,KAAK,cACfxX,YAAa,+GAGjBuM,IAAK,IACLxG,IAAK,aACLhG,GAAI,aACJM,MAAO,aACPyP,SAAU,YACV9P,YAAa,+JAEfwR,EAAQ3O,KAAK,CACXwU,SAAU,CACR,CACE5J,MAAO,EACP6J,OAAQ,MACRC,KAAM,IAAIC,KAAK,cACfxX,YAAa,0GAGjBuM,IAAK,0BACLxG,IAAK,UACLhG,GAAI,UACJM,MAAO,UACPyP,SAAU,eAEZ0B,EAAQ3O,KAAK,CACXwU,SAAU,CACR,CACE5J,MAAO,EACP6J,OAAQ,MACRC,KAAM,IAAIC,KAAK,gBAGnBjL,IAAK,uBACLxG,IAAK,QACLhG,GAAI,QACJM,MAAO,QACPyP,SAAU,eAEZ0B,EAAQ3O,KAAK,CACXwU,SAAU,CACR,CACE5J,MAAO,EACP6J,OAAQ,MACRC,KAAM,IAAIC,KAAK,gBAGnBjL,IAAK,IACLxG,IAAK,eACLhG,GAAI,eACJM,MAAO,eACPyP,SAAU,YAEZ0B,EAAQ3O,KAAK,CACXwU,SAAU,CACR,CACE5J,MAAO,EACP6J,OAAQ,SACRC,KAAM,IAAIC,KAAK,gBAGnBjL,IAAK,IACLxG,IAAK,kBACLhG,GAAI,kBACJM,MAAO,kBACPyP,SAAU,YAEZ0B,EAAQ3O,KAAK,CACXwU,SAAU,CACR,CACE5J,MAAO,EACP6J,OAAQ,MACRC,KAAM,IAAIC,KAAK,gBAGnBjL,IAAK,IACLxG,IAAK,iBACLhG,GAAI,iBACJM,MAAO,iBACPyP,SAAU,YAEZ0B,EAAQ3O,KAAK,CACXwU,SAAU,CACR,CACEC,OAAQ,OACRC,KAAM,IAAIC,KAAK,gBAGnBjL,IAAK,IACLxG,IAAK,aACLhG,GAAI,aACJM,MAAO,uBACPyP,SAAU,YAEZ0B,EAAQ3O,KAAK,CACXwU,SAAU,CACR,CACEC,OAAQ,MACRC,KAAM,IAAIC,KAAK,gBAGnBjL,IAAK,IACLxG,IAAK,iBACLhG,GAAI,iBACJM,MAAO,iBACPyP,SAAU,mBAUZ,MAkBM2H,EAAkBtS,IACtB,MAAM,QAAC9D,EAAO,MAAEC,EAAOK,MAAOoI,GAnBL,CAAC5E,IAC1B,MAAM1D,EAAW,aAAO,OAClB,QAACiW,GAAWvS,EACZwS,EAAQ,YAASxV,UACrB,GAAIuV,EAAS,CAEX,aADuBA,MAIxB,CAACA,EAASjW,IAOb,OANA,oBAAU,KACR,MAAM,MAACH,GAASqW,EACZrW,GACFG,EAASI,KAAKP,IAEf,CAACG,EAAUkW,IACPA,GAG+BC,CAAmBzS,GAsBzD,OAAuB,IAAMM,cAAc,IAAMI,SAAU,KAAMxE,GAA2B,IAAMoE,cAAc,IAAU,OAAQpE,IAAYC,GAAyB,IAAMmE,cAAcwP,EAAO,IAC7L9P,EACHmG,MAAOvB,EAAKuB,MACZiH,UAAWxI,EAAKwI,UAChBf,SAzBoBqG,EAyBE9N,EAxBf8N,EAAerG,QAAQzO,IAAK2N,IAC1B,CACL3Q,GAAI2Q,EAAM3K,IACV+J,SAAU+H,EAAetF,UAAU7L,KAAMmP,GAAMA,EAAE9V,KAAO2Q,EAAMZ,UAC9DzP,MAAOqQ,EAAMrQ,MACbsK,KAAMkN,EAAevM,MAAM5E,KAAMpE,GAAMA,EAAEvC,KAAO2Q,EAAM2G,SAAS,GAAGC,QAClED,SAAU3G,EAAM2G,SAAStU,IAAKoD,IACrB,CACLoR,KAAMpR,EAAEoR,KACR5M,KAAMkN,EAAevM,MAAM5E,KAAMoR,GAAMA,EAAE/X,KAAOoG,EAAEmR,QAClDtX,YAAamG,EAAEnG,YACfyN,MAAOtH,EAAEsH,SAGbA,MAAOiD,EAAM2G,SAAS,GAAG5J,MACzBzN,YAAa0Q,EAAM1Q,aAAe0Q,EAAM2G,SAAS,GAAGrX,YACpDuM,IAAKmE,EAAMnE,WAjBI,IAACsL,GA4BxBJ,EAAeM,aAAe,CAC5BL,QAzDF,WACE,OAAO1U,QAAQqH,QAAQ,CACrBiB,QACAiH,YACAf,cAwDJ,MAAMwG,EAAc,YAAW,KAAM,CACnCC,gBAAiB,CACfC,UAAW,aAGTzN,EAAY,EAChBpK,QACA8X,WACAC,eACGjT,MAEH,MAAMkE,EAAU2O,IAChB,OAAuB,IAAMvS,cAAc,IAAM,CAC/C4S,QAAS,QACQ,IAAM5S,cAAc,IAAQ,CAC7CpF,QACA8X,aACkB,IAAM1S,cAAc,IAAS,CAC/CiE,UAAWL,EAAQ4O,iBACF,IAAMxS,cAAc,IAAe,CACpDpF,MAAO+X,GACU,IAAM3S,cAAc,IAAe,KAAM,iKAAkL,IAAMA,cAAc,IAAM,CACtQ6S,WAAW,EACXxP,QAAS,EACTyP,UAAW,OACM,IAAM9S,cAAc,IAAM,CAC3C+S,MAAM,EACNC,GAAI,GACJC,GAAI,EACJC,GAAI,GACa,IAAMlT,cAAcgS,EAAgB,IAClDtS,SAGPsF,EAAUsN,aAAe,CACvB1X,MAAO,aACP8X,SAAU,sDACVC,UAAW,iBAGb,IAAI7N,EAA2B9H,OAAO6F,OAAO,CAC3CC,UAAW,KACXkC,UAAWA,K,sDCh9Bb,wFAGA,MAAMmO,EACJ,kBAAkBC,GAChB,OAAO,IAAgBC,WAAWD,IAGtC,MAAME,EAAwB,aAAa,CACzChZ,GAAI,8BACJC,YAAa,2D,iCCTfyC,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtDsX,EAAQC,gBAAkBD,EAAQE,kBAAoBF,EAAQG,cAAgBH,EAAQI,0BAAuB,EAC7G,MAAMC,EAAe,EAAQ,MACvBC,EAAa,EAAQ,KACrBC,EAAY,EAAQ,MACpBC,EAAY,EAAQ,IACpBC,EAAU,EAAQ,KAClBC,EAAY,EAAQ,KACpBC,EAAS,EAAQ,IAavB,SAASC,GAAiB,IAAEC,EAAG,aAAEC,EAAY,OAAEC,EAAM,UAAEC,EAAS,KAAEjV,GAAQkV,GAClElV,EAAKmV,KAAKC,IACVN,EAAIO,KAAKN,EAAcN,EAAUa,CAAE,GAAGZ,EAAQa,QAAQxQ,SAAS2P,EAAQa,QAAQC,SAAUP,EAAUQ,OAAQ,KACvGX,EAAIK,KAAKV,EAAUa,CAAE,iBAAiBI,EAAcV,EAAQhV,MAYxE,SAA8B8U,EAAK9U,GAC/B8U,EAAIa,GAAGjB,EAAQa,QAAQC,OAAQ,KAC3BV,EAAIc,IAAIlB,EAAQa,QAAQM,SAAUpB,EAAUa,CAAE,GAAGZ,EAAQa,QAAQC,UAAUd,EAAQa,QAAQM,YAC3Ff,EAAIc,IAAIlB,EAAQa,QAAQO,WAAYrB,EAAUa,CAAE,GAAGZ,EAAQa,QAAQC,UAAUd,EAAQa,QAAQO,cAC7FhB,EAAIc,IAAIlB,EAAQa,QAAQQ,mBAAoBtB,EAAUa,CAAE,GAAGZ,EAAQa,QAAQC,UAAUd,EAAQa,QAAQQ,sBACrGjB,EAAIc,IAAIlB,EAAQa,QAAQS,SAAUvB,EAAUa,CAAE,GAAGZ,EAAQa,QAAQC,UAAUd,EAAQa,QAAQS,YACvFhW,EAAKiW,YACLnB,EAAIc,IAAIlB,EAAQa,QAAQW,eAAgBzB,EAAUa,CAAE,GAAGZ,EAAQa,QAAQC,UAAUd,EAAQa,QAAQW,mBACtG,KACCpB,EAAIc,IAAIlB,EAAQa,QAAQM,SAAUpB,EAAUa,CAAE,MAC9CR,EAAIc,IAAIlB,EAAQa,QAAQO,WAAYrB,EAAUa,CAAE,aAChDR,EAAIc,IAAIlB,EAAQa,QAAQQ,mBAAoBtB,EAAUa,CAAE,aACxDR,EAAIc,IAAIlB,EAAQa,QAAQS,SAAUtB,EAAQa,QAAQxQ,MAC9C/E,EAAKiW,YACLnB,EAAIc,IAAIlB,EAAQa,QAAQW,eAAgBzB,EAAUa,CAAE,QAzBpDa,CAAqBrB,EAAK9U,GAC1B8U,EAAIK,KAAKD,KAIbJ,EAAIO,KAAKN,EAAcN,EAAUa,CAAE,GAAGZ,EAAQa,QAAQxQ,SAG9D,SAA2B/E,GACvB,OAAOyU,EAAUa,CAAE,IAAIZ,EAAQa,QAAQM,gBAAgBnB,EAAQa,QAAQO,eAAepB,EAAQa,QAAQQ,uBAAuBrB,EAAQa,QAAQS,YAAYtB,EAAQa,QAAQxQ,OAAO/E,EAAKiW,WAAaxB,EAAUa,CAAE,KAAKZ,EAAQa,QAAQW,oBAAsBzB,EAAU2B,UAJhMC,CAAkBrW,KAASiV,EAAUQ,OAAQ,IAAMX,EAAIK,KAAKO,EAAcV,EAAQhV,IAAOmV,KAAKD,IA6CrK,SAASQ,EAAcV,EAAQhV,GAC3B,MAAwB,iBAAVgV,GAAsBA,EAAOsB,MAAQtW,EAAKmV,KAAKoB,QAAUvW,EAAKmV,KAAKqB,SAC3E/B,EAAUa,CAAE,iBAAiBN,EAAOsB,SACpC7B,EAAU2B,IAcpB,SAASjC,GAAkB,OAAEa,EAAM,KAAEyB,IACjC,GAAqB,kBAAVzB,EACP,OAAQA,EACZ,IAAK,MAAMjU,KAAOiU,EACd,GAAIyB,EAAKC,MAAMzY,IAAI8C,GACf,OAAO,EACf,OAAO,EAGX,SAAS4V,EAAYC,GACjB,MAA2B,kBAAbA,EAAG5B,OAarB,SAAS6B,EAAcD,GACnBhC,EAAOkC,kBAAkBF,GAU7B,SAA8BA,GAC1B,MAAM,OAAE5B,EAAM,cAAE+B,EAAa,KAAE/W,EAAI,KAAEyW,GAASG,EAC1C5B,EAAOgC,MAAQhX,EAAKiX,uBAAyBrC,EAAOsC,qBAAqBlC,EAAQyB,EAAKC,QACtFD,EAAKU,OAAOC,KAAK,6CAA6CL,MAZlEM,CAAqBT,GAEzB,SAASU,EAAgBV,EAAIW,GACzB,GAAIX,EAAG5W,KAAKwX,IACR,OAAOhD,EAAUiD,eAAeb,EAAI,IAAI,EAAOW,GACnD,MAAMG,EAAQnD,EAAWoD,eAAef,EAAG5B,QACrC4C,EAAerD,EAAWsD,uBAAuBjB,EAAIc,GAC3DlD,EAAUiD,eAAeb,EAAIc,GAAQE,EAAcL,GAsBvD,SAASO,GAAe,IAAEhD,EAAG,UAAEG,EAAS,OAAED,EAAM,cAAE+B,EAAa,KAAE/W,IAC7D,MAAM+X,EAAM/C,EAAOgD,SACnB,IAAsB,IAAlBhY,EAAKgY,SACLlD,EAAIK,KAAKV,EAAUa,CAAE,GAAGZ,EAAQa,QAAQkB,mBAAmBsB,WAE1D,GAA4B,mBAAjB/X,EAAKgY,SAAwB,CACzC,MAAMC,EAAaxD,EAAUyD,GAAI,GAAGnB,aAC9BoB,EAAWrD,EAAIsD,WAAW,OAAQ,CAAEhY,IAAK6U,EAAU9P,OACzD2P,EAAIK,KAAKV,EAAUa,CAAE,GAAGZ,EAAQa,QAAQkB,sBAAsBsB,MAAQE,MAAeE,cAsB7F,SAASjE,EAAgB0C,EAAImB,EAAKM,EAAOzB,EAAG5W,KAAKsY,QAC7C,GAAKD,EAAL,CAGA,GADAN,EAAM,gBAAgBA,GACT,IAATM,EACA,MAAM,IAAIvb,MAAMib,GACpBnB,EAAGH,KAAKU,OAAOC,KAAKW,IAlKxB9D,EAAQI,qBAVR,SAA8BuC,GACtBD,EAAYC,KACZC,EAAcD,GACVzC,EAAkByC,IAwC9B,SAA0BA,GACtB,MAAM,OAAE5B,EAAM,KAAEhV,EAAI,IAAE8U,GAAQ8B,EAC9B/B,EAAiB+B,EAAI,KACb5W,EAAKgY,UAAYhD,EAAOgD,UACxBF,EAAelB,GA2E3B,SAAwBA,GACpB,MAAM,OAAE5B,EAAM,KAAEhV,GAAS4W,OACF2B,IAAnBvD,EAAOO,SAAyBvV,EAAKwY,aAAexY,EAAKsY,QACzDpE,EAAgB0C,EAAI,yCA7EpB6B,CAAe7B,GACf9B,EAAI4D,IAAIhE,EAAQa,QAAQoD,QAAS,MACjC7D,EAAI4D,IAAIhE,EAAQa,QAAQqD,OAAQ,GAC5B5Y,EAAK6Y,aAOjB,SAAwBjC,GAEpB,MAAM,IAAE9B,EAAG,aAAEC,GAAiB6B,EAC9BA,EAAGkC,UAAYhE,EAAIiE,MAAM,YAAatE,EAAUa,CAAE,GAAGP,eACrDD,EAAIa,GAAGlB,EAAUa,CAAE,GAAGsB,EAAGkC,yBAA0B,IAAMhE,EAAIkE,OAAOvE,EAAUa,CAAE,GAAGsB,EAAGkC,kBAAmBrE,EAAUa,CAAE,cACrHR,EAAIa,GAAGlB,EAAUa,CAAE,GAAGsB,EAAGkC,yBAA0B,IAAMhE,EAAIkE,OAAOvE,EAAUa,CAAE,GAAGsB,EAAGkC,kBAAmBrE,EAAUa,CAAE,cAX7G2D,CAAerC,GACnBU,EAAgBV,GA8FxB,SAAuBA,GACnB,MAAM,IAAE9B,EAAG,UAAEG,EAAS,aAAEF,EAAY,gBAAEmE,EAAe,KAAElZ,GAAS4W,EAC5D3B,EAAUQ,OAEVX,EAAIa,GAAGlB,EAAUa,CAAE,GAAGZ,EAAQa,QAAQqD,eAAgB,IAAM9D,EAAIqE,OAAOzE,EAAQa,QAAQxQ,MAAO,IAAM+P,EAAIsE,MAAM3E,EAAUa,CAAE,OAAO4D,KAAmBxE,EAAQa,QAAQoD,cAGpK7D,EAAIkE,OAAOvE,EAAUa,CAAE,GAAGP,WAAuBL,EAAQa,QAAQoD,SAC7D3Y,EAAK6Y,aAKjB,UAAyB,IAAE/D,EAAG,UAAEgE,EAAS,MAAE3Y,EAAK,MAAE9B,IAC1C8B,aAAiBsU,EAAU4E,MAC3BvE,EAAIkE,OAAOvE,EAAUa,CAAE,GAAGwD,UAAmB3Y,GAC7C9B,aAAiBoW,EAAU4E,MAC3BvE,EAAIkE,OAAOvE,EAAUa,CAAE,GAAGwD,UAAmBza,GARzCib,CAAgB1C,GACpB9B,EAAIqE,OAAO1E,EAAUa,CAAE,GAAGZ,EAAQa,QAAQqD,iBAvG1CW,CAAc3C,KAlDV4C,CAAiB5C,GAIzB/B,EAAiB+B,EAAI,IAAMtC,EAAamF,qBAAqB7C,KAyEjE3C,EAAQG,cAVR,SAAuBwC,EAAI8C,GACnB/C,EAAYC,KACZC,EAAcD,GACVzC,EAAkByC,IAoB9B,SAA0BA,EAAI8C,GAC1B,MAAM,OAAE1E,EAAM,IAAEF,EAAG,KAAE9U,GAAS4W,EAC1B5W,EAAKgY,UAAYhD,EAAOgD,UACxBF,EAAelB,IA+BvB,SAAuBA,GACfA,EAAG5B,OAAOsB,MACVM,EAAG+C,OAAShF,EAAUiF,WAAWhD,EAAG+C,OAAQ/C,EAAG5B,OAAOsB,OAhC1DuD,CAAcjD,GAkClB,SAAoBA,GAChB,GAAIA,EAAG5B,OAAOS,SAAWmB,EAAG3B,UAAUQ,OAClC,MAAM,IAAI3Y,MAAM,+BAnCpBgd,CAAWlD,GACX,MAAMW,EAAYzC,EAAIiE,MAAM,QAASrE,EAAQa,QAAQqD,QACrDtB,EAAgBV,EAAIW,GAEpBzC,EAAIc,IAAI8D,EAAOjF,EAAUa,CAAE,GAAGiC,SAAiB7C,EAAQa,QAAQqD,UA5BvDmB,CAAiBnD,EAAI8C,GAI7BpF,EAAa0F,kBAAkBpD,EAAI8C,IAWvCzF,EAAQE,kBAAoBA,EAoF5BF,EAAQC,gBAAkBA,G,iCCzL1B,iFAEA,MAAM+F,UAAwBnd,MAC5B,YAAYod,EAASC,GACnB,IAAIve,EACJ,IAAIwe,EAAcF,EACdC,IACEC,EACFA,GAAe,eAAeD,EAE9BC,EAAc,aAAaD,GAG/BE,MAAMD,GAC4B,OAAjCxe,EAAKkB,MAAMwd,oBAAsC1e,EAAG2e,KAAKzd,MAAOiR,KAAMA,KAAKyM,aAC5EzM,KAAK7R,KAAO6R,KAAKyM,YAAYte,KAC7B6R,KAAKoM,MAAQA,GAUjB,MAAMM,UAAsBR,GAgE5B,MAAMS,UAAsB5d,MAC1B,0BAA0B6d,GACxB,MAAM5V,QAvCV5H,eAAkCwd,GAChC,IAAI/e,EACJ,IACE,MAAMoH,QAAa2X,EAAS3X,OAC5B,GAAIA,EAAM,CACR,GAAmD,OAA9CpH,EAAK+e,EAASC,QAAQhc,IAAI,sBAA2B,EAAShD,EAAGif,WAAW,oBAC/E,IACE,MAAM3F,EAAO4F,KAAKC,MAAM/X,GACxB,GAAIkS,EAAK5Y,OAAS4Y,EAAKyF,SACrB,OAAOzF,EAET,OAGJ,MAAO,CACL5Y,MAAO,CACLJ,KAAM,UACNge,QAAS,8BAA8BS,EAASK,UAAUL,EAASM,eAAejY,KAEpF2X,SAAU,CACRO,WAAYP,EAASK,UAI3B,OAEF,MAAO,CACL1e,MAAO,CACLJ,KAAM,UACNge,QAAS,8BAA8BS,EAASK,UAAUL,EAASM,cAErEN,SAAU,CACRO,WAAYP,EAASK,SAOJG,CAAmBR,GAGhCT,EAAU,uBAFDnV,EAAK4V,SAASO,YAAcP,EAASK,UACjCjW,EAAKzI,MAAMJ,MAAQye,EAASM,aAEzCd,EAnDV,SAA0BpV,GACxB,MAAMqW,EAAS,2BAAmBrW,GAIlC,OAHKA,EAAKsW,QACRD,EAAOC,WAAQ,GAEVD,EA8CSE,CAAiBvW,EAAKzI,OACpC,OAAO,IAAIoe,EAAc,CACvBR,UACAS,WACA5V,OACAoV,UAGJ,YAAYha,GACVka,MAAMla,EAAM+Z,SACZnM,KAAK7R,KAAO,gBACZ6R,KAAK4M,SAAWxa,EAAMwa,SACtB5M,KAAKhJ,KAAO5E,EAAM4E,KAClBgJ,KAAKoM,MAAQha,EAAMga,S,iCC7GvB,obAgBA,MAAMoB,EAAe,aAAa,CAChCxgB,GAAI,6BACJC,YAAa,iDAEf,MAAMwgB,EACJ,YAAY7W,GACVoJ,KAAKrR,WAAaiI,EAAQjI,WAC1BqR,KAAK0N,aAAe9W,EAAQ8W,aAE9B,iBAEE,aADuB1N,KAAKrR,WAAW0B,eACvBC,MAAMN,IAAKpC,IACzB,IAAIC,EAAIC,EAAI6f,EAAIC,EAAIC,EACpB,MAAO,CACL1f,KAAMP,EAAOM,SAASC,KACtBlB,YAAaW,EAAOM,SAASjB,YAC7BqG,MAAmE,iBAA9B,OAArBzF,EAAKD,EAAOkgB,WAAgB,EAASjgB,EAAGyF,OAA4C,OAArBxF,EAAKF,EAAOkgB,WAAgB,EAAShgB,EAAGwF,WAAQ,EAC/HvF,KAAMH,EAAOG,KACbggB,UAA2E,iBAAlC,OAArBJ,EAAK/f,EAAOkgB,WAAgB,EAASH,EAAGI,WAAgD,OAArBH,EAAKhgB,EAAOkgB,WAAgB,EAASF,EAAGG,eAAY,EAC3IvU,IAAK,aAAiD,OAAnCqU,EAAKjgB,EAAOM,SAASD,gBAAqB,EAAS4f,EAAG7f,gBAAkB,OAA4BJ,EAAOG,KAAKC,iBAAiBJ,EAAOM,SAASC,UAI1K,kBACE,OAAO6R,KAAK7Q,WAEd,0BAA0B6e,GACxB,MAAMC,EAAc,IAAGC,UAAUF,GAC3BxU,EAAM,SAASwG,KAAK0N,aAAaS,WAAW,mBAAmBF,IAErE,aADuBG,MAAM5U,IACb6U,QAIpB,MAAM1Y,EAAY,YAAW,KAAM,CACjCyB,KAAM,CACJpB,QAAS,OACTsY,WAAY,UAEdC,MAAO,CACLC,KAAM,MAGJC,EAAY,EAChBC,cACAC,eACAC,2BAEA,MAAMtY,EAAUX,IAChB,OAAuB,IAAMjD,cAAc,IAAO,CAChDlC,UAAW,OACXqe,SAAWzb,GAAMub,EAAavb,GAC9BuD,UAAWL,EAAQc,MACF,IAAM1E,cAAc,IAAY,CACjDoc,UAAU,EACV5f,KAAM,SACN,aAAc,UACG,IAAMwD,cAAc,IAAY,OAAwB,IAAMA,cAAc,IAAW,CACxGiE,UAAWL,EAAQiY,MACnBQ,YAAa,sBACbngB,MAAO8f,EACPM,SAAW5b,GAAMub,EAAavb,GAC9B6b,WAAY,CAAC,aAAc,sBACT,IAAMvc,cAAc,IAAY,CAClD,aAAc,SACdqH,QAAS,IAAM6U,KACE,IAAMlc,cAAc,IAAa,SAGhD0H,EAAc,YAAcxE,IAAU,CAC1CsZ,QAAS,CACP/Z,MAAO,QACPa,QAAS,QAEX5I,KAAM,CACJ+hB,OAAQvZ,EAAMG,SAAS,EAAG,EAAG,EAAG,OAG9BqZ,EAAgB,EACpBC,0BACAC,0BAEA,MAAMhZ,EAAU8D,IAChB,OAAuB,IAAM1H,cAAc,MAAO,CAChDiE,UAAWL,EAAQ4Y,SACF,IAAMxc,cAAc,IAAc,CACnDiE,UAAWL,EAAQlJ,KACnB,aAAc,WACd2M,QAASuV,GACQ,IAAM5c,cAAc,IAAgB,OAAwB,IAAMA,cAAc,IAAY,CAC7G0D,QAAS,MACR,YAAaiZ,GAAoD,EAAG,OAGnEhU,EAAc,YAAczF,IAAU,CAC1CsZ,QAAS,CACPzT,WAAY,cACZ8T,UAAW,mBAEbC,SAAU,CACR1Z,QAASF,EAAMG,QAAQ,EAAG,EAAG,EAAG,IAElC0Z,SAAU,CACRta,MAAO,WAGLua,EAAU,EACdR,UACAS,gBACAC,eACAC,iBACAC,oBAEA,MAAMxZ,EAAU+E,IAChB,OAAuB,IAAM3I,cAAc,IAAM,CAC/CiE,UAAWL,EAAQ4Y,SACF,IAAMxc,cAAc,IAAY,CACjDpF,MAAuB,IAAMoF,cAAc,IAAY,CACrD0D,QAAS,MACR,WACH2Z,OAAwB,IAAMrd,cAAc,IAAQ,CAClDwH,MAAO,UACPH,QAAS,IAAM6V,KACd,eACe,IAAMld,cAAc,IAAS,MAAqC,IAA9Bid,EAAc5hB,KAAKgR,QAAmD,IAAnC4Q,EAAc5B,UAAUhP,QAAgC,IAAMrM,cAAc,IAAa,KAAsB,IAAMA,cAAc,IAAY,CACxO0D,QAAS,aACR,mDAAoDuZ,EAAc5hB,KAAKgR,OAAS,GAAqB,IAAMrM,cAAc,IAAa,KAAsB,IAAMA,cAAc,IAAY,CAC7L0D,QAAS,aACR,QAAyB,IAAM1D,cAAc,IAAQ,CACtD1F,GAAI,kBACJgiB,SAAW5b,IACT,IAAIvF,EACJ,OAAOgiB,EAAuD,OAAvChiB,EAAU,MAALuF,OAAY,EAASA,EAAE5D,aAAkB,EAAS3B,EAAGe,QAEnFwH,QAAS,WACTO,UAAWL,EAAQmZ,SACnB7gB,MAAOsgB,EAAQc,UACdL,EAAc5hB,KAAKiC,IAAKV,GAA2B,IAAMoD,cAAc,IAAU,CAClFsd,SAAqB,KAAX1gB,EACV2gB,OAAO,EACPjd,IAAK1D,EACLV,MAAOU,GACNA,MAAYqgB,EAAc5B,UAAUhP,OAAS,GAAqB,IAAMrM,cAAc,IAAa,KAAsB,IAAMA,cAAc,IAAY,CAC1J0D,QAAS,aACR,aAA8B,IAAM1D,cAAc,IAAM,CACzDwd,gBAAgB,EAChBD,OAAO,GACNN,EAAc5B,UAAU/d,IAAKV,GAA2B,IAAMoD,cAAc,IAAU,CACvFM,IAAK1D,EACL2gB,OAAO,EACPE,QAAQ,EACRpW,QAAS,IAAM+V,EAAcxgB,IACZ,IAAMoD,cAAc,IAAU,CAC/C0d,KAAM,QACNC,eAAe,EACf1Z,UAAWL,EAAQkZ,SACnBtV,MAAO,UACPoW,QAASpB,EAAQoB,QAAQrc,SAAS3E,GAClC6L,UAAW,EACXvM,MAAOU,EACPnB,KAAMmB,IACY,IAAMoD,cAAc,IAAc,CACpD1F,GAAIsC,EACJihB,QAASjhB,UAIPoN,EAAc,YAAc9G,IAAU,CAC1C8Y,YAAa,CACXxU,MAAOtE,EAAM+G,QAAQ1H,KAAKsb,QAC1B9U,WAAY7F,EAAM+G,QAAQlB,WAAW+L,QACrCgJ,aAAc,OAEhBC,YAAa,CACXtB,OAAQvZ,EAAMG,QAAQ,EAAG,EAAG,EAAG,GAC/BC,QAAS,QAEX0a,QAAS,CACPvb,MAAO,MACPga,OAAQvZ,EAAMG,QAAQ,EAAG,GACzBD,QAASF,EAAMG,QAAQ,EAAG,OAGxBM,EAAU,CACd,CACE/I,MAAO,OACP0H,MAAO,OACPjB,WAAW,EACXO,OAAS+Y,GAA2B,IAAM3a,cAAc,IAAM,CAC5DC,GAAI0a,EAAO7T,KAAO,IACjB6T,EAAOlf,OAEZ,CACEb,MAAO,cACP0H,MAAO,eAET,CACE1H,MAAO,QACP0H,MAAO,SAET,CACE1H,MAAO,OACP0H,MAAO,QAET,CACE1H,MAAO,YACP0H,MAAO,cAGL2b,EAAc,EAClBjC,cACAW,0BACAuB,kBACAtB,0BAEA,MAAMhZ,EAAUoG,IAChB,OAAuB,IAAMhK,cAAc,MAAO,CAChDiE,UAAWL,EAAQma,aACF,IAAM/d,cAAc0c,EAAe,CACpDC,0BACAC,wBACkB,IAAM5c,cAAc,IAAS,CAC/CiE,UAAWL,EAAQoa,QACnBG,YAAa,aACK,IAAMne,cAAc,IAAM,CAC5C+S,MAAM,EACNC,GAAI,IACHgJ,EAA8B,IAAMhc,cAAc,IAAY,CAC/D0D,QAAS,MACLwa,EAAH,IAAuBA,EAAkB,EAAI,eAAiB,cAA+B,IAAMle,cAAc,OAAQ,CAC1HiE,UAAWL,EAAQoY,aAClB,IAAKA,EAAa,KAAM,KAAuB,IAAMhc,cAAc,IAAY,CAChF0D,QAAS,MACLwa,EAAH,eAECE,EAAe,EAAEpC,kBACrB,MAAMqC,EAAY,aAAOvD,IAClBwD,EAAaC,GAAiB,oBAAS,IACvCC,EAAiBC,GAAsB,mBAAS,CACrDnB,SAAU,GACVM,QAAS,MAEJc,EAAiBC,GAAsB,mBAAS,KACjD,QAAC/iB,EAAO,MAAEC,EAAOK,MAAO0iB,GAAW,YAAS,IACzCP,EAAUQ,kBAChB,IAmBH,GAlBA,oBAAU,KACR,GAAID,EAAS,CACX,IAAIE,EAAcF,EACe,KAA7BJ,EAAgBlB,WAClBwB,EAAcF,EAAQhiB,OAAQ+d,GAAW6D,EAAgBlB,SAAS/b,SAASoZ,EAAOtf,QAEhFmjB,EAAgBZ,QAAQvR,OAAS,IACnCyS,EAAcA,EAAYliB,OAAQ+d,GAAWA,EAAOU,WAAamD,EAAgBZ,QAAQrc,SAASoZ,EAAOU,aAEvGW,IACF8C,EAAcA,EAAYliB,OAAQ+d,IAChC,IAAIxf,EAAIC,EAAI6f,EACZ,OAA8B,OAArB9f,EAAKwf,EAAOlf,WAAgB,EAASN,EAAG2E,kBAAkB,SAASyB,SAASya,MAAwC,OAArB5gB,EAAKuf,EAAOlf,WAAgB,EAASL,EAAG0E,kBAAkB,SAASyB,SAASya,EAAY+C,MAAM,KAAK9c,KAAK,SAAwC,OAA5BgZ,EAAKN,EAAOpgB,kBAAuB,EAAS0gB,EAAGnb,kBAAkB,SAASyB,SAASya,OAGnT2C,EAAmBG,KAEpB,CAACN,EAAiBxC,EAAa4C,IAC9BhjB,EACF,OAAuB,IAAMoE,cAAc,IAAU,MAEvD,GAAInE,EACF,OAAuB,IAAMmE,cAAc,IAAO,CAChDgf,SAAU,SACT,oDAAqDnjB,EAAMojB,YAEhE,IAAKL,GAA8B,IAAnBA,EAAQvS,OACtB,OAAuB,IAAMrM,cAAc,IAAY,CACrDkf,QAAS,OACTtkB,MAAO,iCAGX,MAyBMqiB,EAAgB2B,EAAQO,OAAO,CAACC,EAAKC,KACrCA,EAAKhkB,MAAQ+jB,EAAI/jB,KAAKikB,QAAQD,EAAKhkB,MAAQ,GAC7C+jB,EAAI/jB,KAAK+B,KAAKiiB,EAAKhkB,MAEjBgkB,EAAKhE,WAAa+D,EAAI/D,UAAUiE,QAAQD,EAAKhE,WAAa,GAC5D+D,EAAI/D,UAAUje,KAAKiiB,EAAKhE,WAEnB+D,GACN,CACD/jB,KAAM,GACNggB,UAAW,KAEb,OAAuB,IAAMrb,cAAc,IAAMI,SAAU,KAAsB,IAAMJ,cAAc,IAAM,CACzG6S,WAAW,GACVyL,GAA+B,IAAMte,cAAc,IAAM,CAC1D+S,MAAM,EACNC,GAAI,GACa,IAAMhT,cAAcgd,EAAS,CAC9CR,QAASgC,EACTvB,gBACAC,aA7CmB,KACnBuB,EAAmB,CACjBnB,SAAU,GACVM,QAAS,MA2CXT,eAxCsBvgB,IACtB6hB,EAAoBc,IAAc,IAC7BA,EACHjC,SAAU1gB,MAsCZwgB,cAnCqBxgB,IACjB4hB,EAAgBZ,QAAQrc,SAAS3E,GACnC6hB,EAAoBc,IAAc,IAC7BA,EACH3B,QAAS2B,EAAU3B,QAAQhhB,OAAQmW,GAASA,IAASnW,MAIzD6hB,EAAoBc,IAAc,IAC7BA,EACH3B,QAAS,IAAI2B,EAAU3B,QAAShhB,UA0Bf,IAAMoD,cAAc,IAAM,CAC7C+S,MAAM,EACNC,GAAIsL,EAAc,EAAI,IACL,IAAMte,cAAc,IAAO,CAC5CkE,QAAS,CAACE,QAAQ,EAAMob,SAAU,GAAIrb,QAAQ,GAC9CG,KAAMoa,EACN/a,UACA/I,MAAuB,IAAMoF,cAAcie,EAAa,CACtDjC,cACAkC,gBAAiBQ,EAAgBrS,OACjCsQ,yBAAuD,KAA7B6B,EAAgBlB,SAAkB,EAAI,GAAKkB,EAAgBZ,QAAQvR,OAC7FuQ,oBAAqB,IAAM2B,GAAeD,WAK1CmB,EAAa,KACjB,MAAOlE,EAAamE,GAAkB,aAAmB,UAClD1D,EAAa2D,GAAkB,mBAAwB,MAAfpE,EAAsBA,EAAc,IAKnF,oBAAU,IAAMoE,EAA8B,MAAfpE,EAAsBA,EAAc,IAAK,CAACA,IACzE,YAAY,KACVmE,EAAe1D,IACd,IAAK,CAACA,IAIT,OAAuB,IAAMhc,cAAc,IAAM,CAC/C4S,QAAS,QACQ,IAAM5S,cAAc,IAAQ,CAC7CpF,MAAO,WACW,IAAMoF,cAAc,IAAS,KAAsB,IAAMA,cAAc,IAAM,CAC/F6S,WAAW,EACXC,UAAW,OACM,IAAM9S,cAAc,IAAM,CAC3C+S,MAAM,EACNC,GAAI,IACa,IAAMhT,cAAc+b,EAAW,CAChDE,aAtBoB2D,IACpBA,EAAMC,iBACNF,EAAeC,EAAM9iB,OAAOZ,QAqB5BggB,qBAf2B,KAC3ByD,EAAe,KAef3D,iBACmB,IAAMhc,cAAc,IAAM,CAC7C+S,MAAM,EACNC,GAAI,IACa,IAAMhT,cAAcoe,EAAc,CACnDpC,aAA6B,MAAfT,EAAsBA,EAAc,IAAIzb,kBAAkB,gBAItEggB,EAAiB,KACrB,MAAOvE,EAAamE,GAAkB,aAAmB,UAClD1D,EAAa2D,GAAkB,mBAAwB,MAAfpE,EAAsBA,EAAc,IAKnF,oBAAU,IAAMoE,EAA8B,MAAfpE,EAAsBA,EAAc,IAAK,CAACA,IACzE,YAAY,KACVmE,EAAe1D,IACd,IAAK,CAACA,IAIT,OAAuB,IAAMhc,cAAc,IAAM,CAC/C4S,QAAS,QACQ,IAAM5S,cAAc,IAAQ,CAC7CpF,MAAO,SACP8X,SAA0B,IAAM1S,cAAc,IAAW,CACvD+f,OAAO,MAES,IAAM/f,cAAc,IAAS,KAAsB,IAAMA,cAAc,IAAM,CAC/F6S,WAAW,EACXC,UAAW,OACM,IAAM9S,cAAc,IAAM,CAC3C+S,MAAM,EACNC,GAAI,IACa,IAAMhT,cAAc+b,EAAW,CAChDE,aAzBoB2D,IACpBA,EAAMC,iBACNF,EAAeC,EAAM9iB,OAAOZ,QAwB5BggB,qBAlB2B,KAC3ByD,EAAe,KAkBf3D,iBACmB,IAAMhc,cAAc,IAAM,CAC7C+S,MAAM,EACNC,GAAI,IACa,IAAMhT,cAAcoe,EAAc,CACnDpC,aAA6B,MAAfT,EAAsBA,EAAc,IAAIjgB,qBAIpDiJ,EAAe,aAAe,CAClC5J,KAAM,UACNC,MAAO,WAEHolB,EAAmB,aAAe,CACtCrlB,KAAM,eACNC,MAAO,WAEHqlB,EAAe,aAAa,CAChC3lB,GAAI,SACJ4lB,KAAM,CACJ,aAAiB,CACfC,IAAKrF,EACLsF,KAAM,CAACnkB,WAAY,IAAe+e,aAAc,MAChDqF,QAAS,EAAEpkB,aAAY+e,kBACd,IAAID,EAAa,CAAC9e,aAAY+e,oBAI3C,UAAS,OAACsF,IACRA,EAAOC,SAAShc,EAAckb,GAC9Ba,EAAOC,SAASP,EAAkBF,IAEpCrb,OAAQ,CACNC,KAAMH,EACNic,SAAUR,KAGRS,GAAeR,EAAatb,QAAQ,aAAwB,CAChE7G,UAAW,IAAM,gCAAkC+G,KAAME,GAAMA,EAAE0a,YACjExa,WAAYV,KAORmc,IALmBT,EAAatb,QAAQ,aAAwB,CACpE7G,UAAW,IAAM,gCAAkC+G,KAAME,GAAMA,EAAE+a,gBACjE7a,WAAY+a,KAGQ,KACpB,MAAMW,EAAc,aAAYpc,GAC1BxI,EAAW,cACXkgB,EAAe,sBAAaX,IAChC,MAAMC,EAAc,IAAGC,UAAU,CAACF,SAAQ,CAACsF,gBAAgB,IAC3D7kB,EAAS,GAAG4kB,MAAgBpF,MAC3B,CAACxf,EAAU4kB,IACd,OAAuB,IAAM3gB,cAAc,IAAoB,CAC7D6gB,SAAU5E,EACVhc,GAAI,e,iCC9dRjD,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtD,MAAM8X,EAAY,EAAQ,IACpBtW,EAAQ,CAEV4G,KAAM,IAAI0P,EAAU4E,KAAK,QAEzB7D,OAAQ,IAAIf,EAAU4E,KAAK,UAC3BxD,SAAU,IAAIpB,EAAU4E,KAAK,YAC7BvD,WAAY,IAAIrB,EAAU4E,KAAK,cAC/BtD,mBAAoB,IAAItB,EAAU4E,KAAK,sBACvCrD,SAAU,IAAIvB,EAAU4E,KAAK,YAC7BnD,eAAgB,IAAIzB,EAAU4E,KAAK,kBAEnCV,QAAS,IAAIlE,EAAU4E,KAAK,WAC5BT,OAAQ,IAAInE,EAAU4E,KAAK,UAC3BtL,KAAM,IAAI0G,EAAU4E,KAAK,QAEzB5C,KAAM,IAAIhC,EAAU4E,KAAK,QACzBkI,MAAO,IAAI9M,EAAU4E,KAAK,SAE1B+C,KAAM,IAAI3H,EAAU4E,KAAK,QACzBmI,QAAS,IAAI/M,EAAU4E,KAAK,WAC5BoI,QAAS,IAAIhN,EAAU4E,KAAK,WAC5BqI,SAAU,IAAIjN,EAAU4E,KAAK,aAEjCpF,EAAQsB,QAAUpX,G,iCCzBlBV,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtDsX,EAAQ0N,cAAgB1N,EAAQ2N,cAAgB3N,EAAQ4N,WAAa5N,EAAQ6N,iBAAmB7N,EAAQ8N,iBAAmB9N,EAAQ+N,oBAAsB/N,EAAQgO,iBAAmBhO,EAAQiO,eAAiBjO,EAAQkO,cAAgBlO,EAAQmO,YAAcnO,EAAQoO,kBAAoBpO,EAAQqO,iBAAmBrO,EAAQsO,4BAAyB,EACnV,MAAM9N,EAAY,EAAQ,IACpBG,EAAS,EAAQ,IACjB4N,EAAc,EAAQ,KACtB9N,EAAU,EAAQ,KAkBxB,SAAS0N,EAAYtN,GACjB,OAAOA,EAAIsD,WAAW,OAAQ,CAE1BhY,IAAK3C,OAAOglB,UAAUC,eACtBvN,KAAMV,EAAUa,CAAE,oCAI1B,SAAS6M,EAAcrN,EAAK/P,EAAM4d,GAC9B,OAAOlO,EAAUa,CAAE,GAAG8M,EAAYtN,WAAa/P,MAAS4d,KAQ5D,SAASV,EAAiBnN,EAAK/P,EAAM4d,EAAUC,GAC3C,MAAMC,EAAOpO,EAAUa,CAAE,GAAGvQ,IAAO0P,EAAUqO,YAAYH,mBACzD,OAAOC,EAAgBnO,EAAUsO,GAAGF,EAAMpO,EAAUuO,IAAIb,EAAcrN,EAAK/P,EAAM4d,KAAcE,EAGnG,SAASb,EAAoBiB,GACzB,OAAOA,EAAYxlB,OAAOylB,KAAKD,GAAW5lB,OAAQqR,GAAY,cAANA,GAAqB,GAjCjFuF,EAAQsO,uBAPR,SAAgCY,EAAKC,GACjC,MAAM,IAAEtO,EAAG,KAAE/P,EAAI,GAAE6R,GAAOuM,EAC1BrO,EAAIa,GAAGsM,EAAiBnN,EAAK/P,EAAMqe,EAAMxM,EAAG5W,KAAK4iB,eAAgB,KAC7DO,EAAIE,UAAU,CAAEC,gBAAiB7O,EAAUa,CAAE,GAAG8N,MAAU,GAC1DD,EAAI7mB,WAOZ2X,EAAQqO,iBAHR,UAA0B,IAAExN,EAAG,KAAE/P,EAAM6R,IAAI,KAAE5W,IAAUujB,EAAY5D,GAC/D,OAAOlL,EAAUsO,MAAMQ,EAAWxlB,IAAKqlB,GAAS3O,EAAU+O,IAAIvB,EAAiBnN,EAAK/P,EAAMqe,EAAMpjB,EAAK4iB,eAAgBnO,EAAUa,CAAE,GAAGqK,OAAayD,QAOrJnP,EAAQoO,kBAJR,SAA2Bc,EAAKxD,GAC5BwD,EAAIE,UAAU,CAAEC,gBAAiB3D,IAAW,GAC5CwD,EAAI7mB,SAUR2X,EAAQmO,YAAcA,EAItBnO,EAAQkO,cAAgBA,EAKxBlO,EAAQiO,eAJR,SAAwBpN,EAAK/P,EAAM4d,EAAUC,GACzC,MAAMC,EAAOpO,EAAUa,CAAE,GAAGvQ,IAAO0P,EAAUqO,YAAYH,mBACzD,OAAOC,EAAgBnO,EAAUa,CAAE,GAAGuN,QAAWV,EAAcrN,EAAK/P,EAAM4d,KAAcE,GAO5F5O,EAAQgO,iBAAmBA,EAI3BhO,EAAQ+N,oBAAsBA,EAI9B/N,EAAQ8N,iBAHR,SAA0BnL,EAAIqM,GAC1B,OAAOjB,EAAoBiB,GAAW5lB,OAAQqR,IAAOkG,EAAO6O,kBAAkB7M,EAAIqM,EAAUvU,MAgBhGuF,EAAQ6N,iBAbR,UAA0B,WAAE4B,EAAU,KAAE3e,EAAM6R,IAAI,IAAE9B,EAAG,aAAE6O,EAAY,WAAE1L,EAAU,UAAE2L,GAAW,GAAEhN,GAAMvB,EAAMwO,EAASC,GACjH,MAAMC,EAAgBD,EAAarP,EAAUa,CAAE,GAAGoO,MAAe3e,MAAS4e,IAAe1L,IAAelT,EAClGyQ,EAAS,CACX,CAACd,EAAQa,QAAQM,SAAUpB,EAAUuP,UAAUtP,EAAQa,QAAQM,SAAU+N,IACzE,CAAClP,EAAQa,QAAQO,WAAYc,EAAGd,YAChC,CAACpB,EAAQa,QAAQQ,mBAAoBa,EAAGb,oBACxC,CAACrB,EAAQa,QAAQS,SAAUtB,EAAQa,QAAQS,WAE3CY,EAAG5W,KAAKiW,YACRT,EAAO3X,KAAK,CAAC6W,EAAQa,QAAQW,eAAgBxB,EAAQa,QAAQW,iBACjE,MAAM+N,EAAOxP,EAAUa,CAAE,GAAGyO,MAAkBjP,EAAIoP,UAAU1O,KAC5D,OAAOqO,IAAYpP,EAAU2B,IAAM3B,EAAUa,CAAE,GAAGD,UAAawO,MAAYI,KAAUxP,EAAUa,CAAE,GAAGD,KAAQ4O,MAUhHhQ,EAAQ4N,WAPR,SAAoB/M,EAAKqP,GACrB,OAAOrP,EAAIsD,WAAW,UAAW,CAC7BrX,IAAKojB,EACL/jB,IAAK,IAAIgkB,OAAOD,EAAS,KACzBhP,KAAMV,EAAUa,CAAE,cAAc6O,aA2BxClQ,EAAQ2N,cAvBR,SAAuBuB,GACnB,MAAM,IAAErO,EAAG,KAAE/P,EAAI,QAAEsf,EAAO,GAAEzN,GAAOuM,EAC7BzJ,EAAQ5E,EAAI5Y,KAAK,SACvB,GAAI0a,EAAG0N,UAAW,CACd,MAAMC,EAAWzP,EAAI4D,IAAI,SAAS,GAElC,OADA8L,EAAc,IAAM1P,EAAIkE,OAAOuL,GAAU,IAClCA,EAIX,OAFAzP,EAAIc,IAAI8D,GAAO,GACf8K,EAAc,IAAM1P,EAAI2P,SACjB/K,EACP,SAAS8K,EAAcE,GACnB,MAAMC,EAAM7P,EAAIiE,MAAM,MAAOtE,EAAUa,CAAE,GAAGvQ,YAC5C+P,EAAI8P,SAAS,IAAK,EAAGD,EAAM7jB,IACvBqiB,EAAI0B,UAAU,CACVR,UACAS,SAAUhkB,EACVikB,aAAcvC,EAAYwC,KAAKC,KAChCvL,GACH5E,EAAIa,GAAGlB,EAAUuO,IAAItJ,GAAQgL,OA8BzCzQ,EAAQ0N,cAzBR,SAAuBwB,GACnB,MAAM,IAAErO,EAAG,OAAEE,EAAM,QAAEqP,EAAO,GAAEzN,GAAOuM,EAErC,IAAKxjB,MAAMulB,QAAQlQ,GACf,MAAM,IAAIlY,MAAM,4BAEpB,GADoBkY,EAAOmQ,KAAMC,GAAQxQ,EAAO6O,kBAAkB7M,EAAIwO,MAClDxO,EAAG5W,KAAK6Y,YACxB,OACJ,MAAMa,EAAQ5E,EAAI4D,IAAI,SAAS,GACzB2M,EAAWvQ,EAAI5Y,KAAK,UAC1B4Y,EAAIwQ,MAAM,IAAMtQ,EAAOzE,QAAQ,CAACgV,EAAMzkB,KAClC,MAAM0kB,EAASrC,EAAI0B,UAAU,CACzBR,UACAoB,WAAY3kB,EACZ4kB,eAAe,GAChBL,GACHvQ,EAAIkE,OAAOU,EAAOjF,EAAUa,CAAE,GAAGoE,QAAY2L,KAC9BlC,EAAIwC,oBAAoBH,EAAQH,IAI3CvQ,EAAIa,GAAGlB,EAAUuO,IAAItJ,OAE7ByJ,EAAI/H,OAAO1B,EAAO,IAAMyJ,EAAIyC,QAAS,IAAMzC,EAAI7mB,OAAM,M,iCC3HzD,sW,kCCCAmB,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtDsX,EAAQ+F,kBAAoB/F,EAAQwF,0BAAuB,EAC3D,MAAMoM,EAAW,EAAQ,KACnBpR,EAAY,EAAQ,IACpBC,EAAU,EAAQ,KAClBoR,EAAY,CACd5L,QAAS,2BA2Bb,SAAS6L,EAAiBnP,EAAIoP,GAC1B,MAAM,IAAElR,EAAG,KAAE/P,GAAS6R,EAEhBuM,EAAM,CACRrO,MACAuP,QAAS,eACTtf,OACAiQ,QAAQ,EACR0O,YAAY,EACZuC,aAAa,EACbzqB,OAAQ,GACRob,MAEJiP,EAASK,YAAY/C,EAAK2C,EAAWE,GAzBzC/R,EAAQwF,qBAbR,SAA8B7C,GAC1B,MAAM,IAAE9B,EAAG,OAAEE,EAAM,aAAED,GAAiB6B,GACvB,IAAX5B,EACA+Q,EAAiBnP,GAAI,GAEC,iBAAV5B,IAAwC,IAAlBA,EAAOS,OACzCX,EAAIqE,OAAOzE,EAAQa,QAAQxQ,OAG3B+P,EAAIkE,OAAOvE,EAAUa,CAAE,GAAGP,WAAuB,MACjDD,EAAIqE,QAAO,KAcnBlF,EAAQ+F,kBAVR,SAA2BpD,EAAI8C,GAC3B,MAAM,IAAE5E,EAAG,OAAEE,GAAW4B,GACT,IAAX5B,GACAF,EAAIc,IAAI8D,GAAO,GACfqM,EAAiBnP,IAGjB9B,EAAIc,IAAI8D,GAAO,K,kCC7BvBjc,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtDsX,EAAQwD,oBAAiB,EACzB,MAAM0O,EAAkB,EAAQ,KAC1B5R,EAAa,EAAQ,KACrB6R,EAAa,EAAQ,MACrBC,EAAY,EAAQ,MACpBzR,EAAS,EAAQ,IACjB0R,EAAK,EAAQ,KACb7R,EAAY,EAAQ,IACpBC,EAAU,EAAQ,KAoCxB,SAAS6R,EAAgB3P,EAAI4P,GACzB,MAAM,IAAE1R,EAAG,OAAEE,EAAQhV,MAAM,YAAEwY,IAAmB5B,EAC5C4B,GACA4N,EAAWK,eAAe7P,EAAI4P,EAAMvpB,MACxC6X,EAAIwQ,MAAM,KACN,IAAK,MAAMoB,KAAQF,EAAMG,MACjBR,EAAgBS,cAAc5R,EAAQ0R,IACtCL,EAAUQ,YAAYjQ,EAAI8P,EAAKrC,QAASqC,EAAKI,WAAYN,EAAMvpB,QA+C/E,SAAS8pB,EAAaC,EAAI/Y,GACtB,OAAO+Y,EAAGhlB,SAASiM,IAAa,YAANA,GAAmB+Y,EAAGhlB,SAAS,UAE7D,SAASilB,EAAiBrQ,EAAImB,GAE1BA,GAAO,QADYnB,EAAG3B,UAAU0E,OAAS/C,EAAGG,+BAE5CuP,EAAGpS,gBAAgB0C,EAAImB,EAAKnB,EAAG5W,KAAKknB,aA7DxCjT,EAAQwD,eAlCR,SAAwBb,EAAIc,EAAOyP,EAAY5P,GAC3C,MAAM,IAAEzC,EAAG,OAAEE,EAAM,KAAEjQ,EAAI,UAAEuf,EAAS,KAAEtkB,EAAI,KAAEyW,GAASG,GAC/C,MAAEF,GAAUD,EAYlB,SAAS2Q,EAAcZ,GACdL,EAAgBkB,eAAerS,EAAQwR,KAExCA,EAAMvpB,MACN6X,EAAIa,GAAGpB,EAAW+S,cAAcd,EAAMvpB,KAAM8H,EAAM/E,EAAKsY,SACvDiO,EAAgB3P,EAAI4P,GACC,IAAjB9O,EAAM5K,QAAgB4K,EAAM,KAAO8O,EAAMvpB,MAAQkqB,IACjDrS,EAAIyS,OACJhT,EAAWiT,gBAAgB5Q,IAE/B9B,EAAI2S,SAGJlB,EAAgB3P,EAAI4P,GAGnBlC,GACDxP,EAAIa,GAAGlB,EAAUa,CAAE,GAAGZ,EAAQa,QAAQqD,cAAcrB,GAAa,OA5BrEvC,EAAOgC,OAAShX,EAAKiX,uBAA0BrC,EAAOsC,qBAAqBlC,EAAQ0B,IAIlF1W,EAAKwX,KAwCd,SAA0BZ,EAAIc,GAC1B,GAAId,EAAG3B,UAAUyS,OAAS9Q,EAAG5W,KAAKknB,YAC9B,QAMR,SAA2BtQ,EAAIc,GAC3B,IAAKA,EAAM5K,OACP,OACJ,IAAK8J,EAAG+Q,UAAU7a,OAEd,YADA8J,EAAG+Q,UAAYjQ,GAGnBA,EAAMnH,QAAStC,IACN8Y,EAAanQ,EAAG+Q,UAAW1Z,IAC5BgZ,EAAiBrQ,EAAI,SAAS3I,8BAA8B2I,EAAG+Q,UAAUjlB,KAAK,WAGtFkU,EAAG+Q,UAAY/Q,EAAG+Q,UAAUtqB,OAAQ4Q,GAAM8Y,EAAarP,EAAOzJ,KAjB9D2Z,CAAkBhR,EAAIc,GACjBd,EAAG5W,KAAK6nB,iBAkBjB,SAA4BjR,EAAIoQ,GACxBA,EAAGla,OAAS,IAAqB,IAAdka,EAAGla,SAAgBka,EAAGhlB,SAAS,UAClDilB,EAAiBrQ,EAAI,mDAnBrBkR,CAAmBlR,EAAIc,IAsB/B,SAA2Bd,EAAIoQ,GAC3B,MAAML,EAAQ/P,EAAGH,KAAKC,MAAMzY,IAC5B,IAAK,MAAMomB,KAAWsC,EAAO,CACzB,MAAMD,EAAOC,EAAMtC,GACnB,GAAmB,iBAARqC,GAAoBP,EAAgBS,cAAchQ,EAAG5B,OAAQ0R,GAAO,CAC3E,MAAM,KAAEzpB,GAASypB,EAAKI,WAClB7pB,EAAK6P,SAAW7P,EAAKkoB,KAAMlX,IAAM8Z,OAMfC,EANqC/Z,GAM5Cga,EANwCjB,GAOlDhlB,SAASgmB,IAAmB,WAATA,GAAqBC,EAAMjmB,SAAS,WADxE,IAA2BimB,EAAOD,KALlBf,EAAiBrQ,EAAI,iBAAiB3Z,EAAKyF,KAAK,sBAAsB2hB,QA5BlF6D,CAAkBtR,EAAIA,EAAG+Q,WA7CrBQ,CAAiBvR,EAAIc,GACzB5C,EAAIwQ,MAAM,KACN,IAAK,MAAMkB,KAAS9P,EAAMiQ,MACtBS,EAAcZ,GAClBY,EAAc1Q,EAAM7Z,SARpBiY,EAAIwQ,MAAM,IAAMe,EAAUQ,YAAYjQ,EAAI,OAAQF,EAAMzY,IAAI+Y,KAAK8P,e,kCCdzErpB,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtDsX,EAAQwS,oBAAiB,EACzB,MAAMhS,EAAY,EAAQ,IACpB6R,EAAK,EAAQ,KAanB,SAAS8B,EAAcxR,EAAIwM,EAAMiF,GAC7B,MAAM,IAAEvT,EAAG,cAAE4Q,EAAa,KAAE3gB,EAAI,KAAE/E,GAAS4W,EAC3C,QAAqB2B,IAAjB8P,EACA,OACJ,MAAMC,EAAY7T,EAAUa,CAAE,GAAGvQ,IAAO0P,EAAUqO,YAAYM,KAC9D,GAAIsC,EAEA,YADAY,EAAGpS,gBAAgB0C,EAAI,2BAA2B0R,GAGtD,IAAIC,EAAY9T,EAAUa,CAAE,GAAGgT,kBACN,UAArBtoB,EAAKwY,cACL+P,EAAY9T,EAAUa,CAAE,GAAGiT,QAAgBD,iBAAyBA,YAIxExT,EAAIa,GAAG4S,EAAW9T,EAAUa,CAAE,GAAGgT,OAAe7T,EAAUwH,UAAUoM,MAhBxEpU,EAAQwS,eAXR,SAAwB7P,EAAI4R,GACxB,MAAM,WAAEjF,EAAU,MAAEllB,GAAUuY,EAAG5B,OACjC,GAAW,WAAPwT,GAAmBjF,EACnB,IAAK,MAAMxiB,KAAOwiB,EACd6E,EAAcxR,EAAI7V,EAAKwiB,EAAWxiB,GAAKwU,aAG/B,UAAPiT,GAAkB7oB,MAAMulB,QAAQ7mB,IACrCA,EAAMkS,QAAQ,CAAC6U,EAAKtkB,IAAMsnB,EAAcxR,EAAI9V,EAAGskB,EAAI7P,Y,kCCZ3D9X,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtDsX,EAAQ4S,iBAAc,EACtB,MAAM4B,EAAY,EAAQ,KACpB5C,EAAW,EAAQ,KACnB6C,EAAS,EAAQ,KACjBjU,EAAY,EAAQ,IACpBC,EAAU,EAAQ,KAiCxB,SAASiU,EAAgBxF,EAAKyF,GAC1B,IAAIhtB,EACJ,MAAM,IAAEkZ,EAAG,QAAEuP,EAAO,OAAErP,EAAM,aAAE6T,EAAY,MAAEC,EAAK,GAAElS,GAAOuM,GAuD9D,UAAoB,UAAElO,GAAa2T,GAC/B,GAAIA,EAAIzrB,QAAU8X,EAAUQ,OACxB,MAAM,IAAI3Y,MAAM,gCAxDpBgd,CAAWlD,EAAIgS,GACf,MAAMG,GAAYD,GAASF,EAAII,QAAUJ,EAAII,QAAQzO,KAAK3D,EAAGH,KAAMzB,EAAQ6T,EAAcjS,GAAMgS,EAAIG,SAC7FE,EAAcC,EAAWpU,EAAKuP,EAAS0E,GACvCrP,EAAQ5E,EAAI4D,IAAI,SA4BtB,SAASyQ,EAAYC,GAASR,EAAIzrB,MAAQsX,EAAUa,CAAE,SAAWb,EAAU2B,MACvE,MAAMiT,EAAUzS,EAAG5W,KAAKspB,YAAc5U,EAAQa,QAAQxH,KAAO2G,EAAQa,QAAQkB,KACvEqN,IAAgB,YAAa8E,IAAQE,IAAyB,IAAfF,EAAI5T,QACzDF,EAAIkE,OAAOU,EAAOjF,EAAUa,CAAE,GAAG8T,IAASV,EAAO5G,iBAAiBqB,EAAK8F,EAAaI,EAASvF,KAAe8E,EAAIW,WAEpH,SAASC,EAAW5Q,GAChB,IAAIhd,EACJkZ,EAAIa,GAAGlB,EAAUuO,IAAyB,QAApBpnB,EAAKgtB,EAAIlP,aAA0B,IAAP9d,EAAgBA,EAAK8d,GAAQd,GAlCnFuK,EAAIsG,WAAW/P,GAEf,WACI,IAAmB,IAAfkP,EAAIhQ,OACJuQ,IACIP,EAAIW,WACJG,EAAWvG,GACfqG,EAAW,IAAMrG,EAAI7mB,aAEpB,CACD,MAAMqtB,EAAWf,EAAIzrB,MAM7B,WACI,MAAMwsB,EAAW7U,EAAI4D,IAAI,WAAY,MAErC,OADA5D,EAAI8U,IAAI,IAAMT,EAAY1U,EAAUa,CAAE,UAAYnU,GAAM2T,EAAIkE,OAAOU,GAAO,GAAO/D,GAAGlB,EAAUa,CAAE,GAAGnU,gBAAgByV,EAAGsC,kBAAmB,IAAMpE,EAAIkE,OAAO2Q,EAAUlV,EAAUa,CAAE,GAAGnU,YAAa,IAAM2T,EAAIsE,MAAMjY,KACzMwoB,EAT0BE,GAWrC,WACI,MAAMC,EAAerV,EAAUa,CAAE,GAAG2T,WAGpC,OAFAnU,EAAIkE,OAAO8Q,EAAc,MACzBX,EAAY1U,EAAU2B,KACf0T,EAf4CC,GAC3CnB,EAAIW,WACJG,EAAWvG,GACfqG,EAAW,IA4BvB,SAAiBrG,EAAK6G,GAClB,MAAM,IAAElV,GAAQqO,EAChBrO,EAAIa,GAAGlB,EAAUa,CAAE,iBAAiB0U,KAAS,KACzClV,EACKkE,OAAOtE,EAAQa,QAAQoD,QAASlE,EAAUa,CAAE,GAAGZ,EAAQa,QAAQoD,sBAAsBqR,OAAUtV,EAAQa,QAAQoD,kBAAkBqR,MACjIhR,OAAOtE,EAAQa,QAAQqD,OAAQnE,EAAUa,CAAE,GAAGZ,EAAQa,QAAQoD,kBACnEkN,EAASoE,aAAa9G,IACvB,IAAMA,EAAI7mB,SAnCY4tB,CAAQ/G,EAAKwG,QAZtCxG,EAAIgH,GAAwB,QAApBvuB,EAAKgtB,EAAIlP,aAA0B,IAAP9d,EAAgBA,EAAK8d,GAoC7D,SAASgQ,EAAWvG,GAChB,MAAM,IAAErO,EAAG,KAAE/P,EAAI,GAAE6R,GAAOuM,EAC1BrO,EAAIa,GAAGiB,EAAGd,WAAY,IAAMhB,EAAIkE,OAAOjU,EAAM0P,EAAUa,CAAE,GAAGsB,EAAGd,cAAcc,EAAGb,wBAepF,SAASmT,EAAWpU,EAAKuP,EAASjJ,GAC9B,QAAe7C,IAAX6C,EACA,MAAM,IAAIte,MAAM,YAAYunB,wBAChC,OAAOvP,EAAIsD,WAAW,UAA4B,mBAAVgD,EAAuB,CAAEhb,IAAKgb,GAAW,CAAEhb,IAAKgb,EAAQjG,KAAMV,EAAUwH,UAAUb,KAjF9HnH,EAAQ4S,YAfR,SAAqBjQ,EAAIyN,EAASuE,EAAKwB,GACnC,MAAMjH,EAAM,IAAIsF,EAAUlT,QAAQqB,EAAIgS,EAAKvE,GACvC,SAAUuE,EACVA,EAAIzT,KAAKgO,EAAKiH,GAETjH,EAAI2F,OAASF,EAAIG,SACtBJ,EAAgBxF,EAAKyF,GAEhB,UAAWA,EAQxB,SAA0BzF,EAAKyF,GAC3B,MAAM,IAAE9T,EAAG,QAAEuP,EAAO,OAAErP,EAAM,aAAE6T,EAAY,GAAEjS,GAAOuM,EAC7CkH,EAAczB,EAAI0B,MAAM/P,KAAK3D,EAAGH,KAAMzB,EAAQ6T,EAAcjS,GAC5D2T,EAAYrB,EAAWpU,EAAKuP,EAASgG,IACZ,IAA3BzT,EAAG5W,KAAKwqB,gBACR5T,EAAGH,KAAK+T,eAAeH,GAAa,GACxC,MAAM3Q,EAAQ5E,EAAI5Y,KAAK,SACvBinB,EAAI0B,UAAU,CACV7P,OAAQqV,EACRpS,WAAYxD,EAAU2B,IACtBW,cAAe,GAAGH,EAAGG,iBAAiBsN,IACtCV,aAAc4G,EACd7E,eAAe,GAChBhM,GACHyJ,EAAIsH,KAAK/Q,EAAO,IAAMyJ,EAAI7mB,OAAM,IArB5BouB,CAAiBvH,EAAKyF,IAEjBA,EAAII,SAAWJ,EAAIG,WACxBJ,EAAgBxF,EAAKyF,K,kCCnB7BnrB,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtDsX,EAAQ0W,QAAU1W,EAAQoF,KAAOpF,EAAQmC,IAAMnC,EAAQgI,UAAYhI,EAAQiE,IAAMjE,EAAQqB,EAAIrB,EAAQ2W,gBAAa,EAClH,MAAMnC,EAAY,EAAQ,KAC1BxU,EAAQ2W,WAAanC,EAAUlT,QAC/B,IAAId,EAAY,EAAQ,IACxBhX,OAAOuW,eAAeC,EAAS,IAAK,CAAE4W,YAAY,EAAMjsB,IAAK,WAAc,OAAO6V,EAAUa,KAC5F7X,OAAOuW,eAAeC,EAAS,MAAO,CAAE4W,YAAY,EAAMjsB,IAAK,WAAc,OAAO6V,EAAUyD,OAC9Fza,OAAOuW,eAAeC,EAAS,YAAa,CAAE4W,YAAY,EAAMjsB,IAAK,WAAc,OAAO6V,EAAUwH,aACpGxe,OAAOuW,eAAeC,EAAS,MAAO,CAAE4W,YAAY,EAAMjsB,IAAK,WAAc,OAAO6V,EAAU2B,OAC9F3Y,OAAOuW,eAAeC,EAAS,OAAQ,CAAE4W,YAAY,EAAMjsB,IAAK,WAAc,OAAO6V,EAAU4E,QAC/F5b,OAAOuW,eAAeC,EAAS,UAAW,CAAE4W,YAAY,EAAMjsB,IAAK,WAAc,OAAO6V,EAAUkW,WAClG,MAAMG,EAAkB,EAAQ,KAC1BC,EAAU,EAAQ,KAClBC,EAAY,EAAQ,KACpBC,EAAY,EAAQ,IACpBtW,EAAY,EAAQ,KACpBJ,EAAa,EAAQ,KACrBK,EAAS,EAAQ,IACjBsW,EAAiB,EAAQ,MACzBC,EAAsB,CAAC,mBAAoB,cAAe,eAC1DC,EAAkB,IAAIrsB,IAAI,CAC5B,WACA,YACA,QACA,UACA,OACA,SACA,UACA,UACA,UACA,gBACA,OACA,MACA,UAEEssB,EAAiB,CACnBC,cAAe,GACfC,OAAQ,gDACRC,SAAU,8CACVC,aAAc,mDACdC,WAAY,wDACZC,YAAa,sEACbC,YAAa,oEACbC,WAAY,oCACZC,SAAU,mDACVC,eAAgB,0CAChBC,eAAgB,0CAChBC,cAAe,0CACfC,YAAa,6CACbC,eAAgB,+EAChBC,MAAO,8CACPC,UAAW,+CAETC,EAAoB,CACtBrV,sBAAuB,GACvBsV,iBAAkB,GAClBC,QAAS,sEAEb,SAASC,EAAgB9qB,GACrB,IAAI/F,EAAIC,EAAI6f,EAAIC,EAAIC,EAAI8Q,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAChD,MAAM1U,EAA6B,QAAnB1c,EAAK+F,EAAE2W,cAA2B,IAAP1c,GAAgBA,EACrDqxB,IAAY3U,GAAS,MACrB4U,EAA0B,QAAjBrxB,EAAK8F,EAAEwT,YAAyB,IAAPtZ,OAAgB,EAASA,EAAGsxB,SAC9DA,GAAqB,IAAVD,QAA4B3U,IAAV2U,EAAsB,EAAIA,GAAS,EACtE,MAAO,CACH5U,SACA4O,YAAsC,QAAxBxL,EAAK/Z,EAAEulB,mBAAgC,IAAPxL,EAAgBA,EAAKuR,EACnEG,aAAwC,QAAzBzR,EAAKha,EAAEyrB,oBAAiC,IAAPzR,EAAgBA,EAAKsR,EACrE9X,KAAMxT,EAAEwT,KAAO,IAAKxT,EAAEwT,KAAMgY,YAAa,CAAEA,YAC3CE,aAAwC,QAAzBzR,EAAKja,EAAE0rB,oBAAiC,IAAPzR,EAAgBA,EAAK0R,IACrEC,SAAgC,QAArBb,EAAK/qB,EAAE4rB,gBAA6B,IAAPb,EAAgBA,EAAKY,IAC7D5F,KAAwB,QAAjBiF,EAAKhrB,EAAE+lB,YAAyB,IAAPiF,GAAgBA,EAChDa,SAAgC,QAArBZ,EAAKjrB,EAAE6rB,gBAA6B,IAAPZ,GAAgBA,EACxDa,WAAoC,QAAvBZ,EAAKlrB,EAAE8rB,kBAA+B,IAAPZ,GAAgBA,EAC5Da,cAA0C,QAA1BZ,EAAKnrB,EAAE+rB,qBAAkC,IAAPZ,GAAgBA,EAClEtC,eAA4C,QAA3BuC,EAAKprB,EAAE6oB,sBAAmC,IAAPuC,GAAgBA,EACpEY,gBAA8C,QAA5BX,EAAKrrB,EAAEgsB,uBAAoC,IAAPX,GAAgBA,GAG9E,MAAMY,EACF,YAAY5tB,EAAO,IACf+N,KAAK8f,QAAU,GACf9f,KAAK+f,KAAO,GACZ/f,KAAKggB,QAAU,GACfhgB,KAAKigB,cAAgB,IAAIjvB,IACzBgP,KAAKkgB,SAAW,GAChBlgB,KAAKmgB,OAAS,IAAIC,IAClBnuB,EAAO+N,KAAK/N,KAAO,IAAKA,KAASysB,EAAgBzsB,IACjD,MAAM,IAAEoV,EAAG,MAAEgZ,GAAUrgB,KAAK/N,KAAKmV,KACjCpH,KAAKwT,MAAQ,IAAI0J,EAAUoD,WAAW,CAAE9M,MAAO,GAAI+M,SAAUlD,EAAiBhW,MAAKgZ,UACnFrgB,KAAKoJ,OAsab,SAAmBA,GACf,IAAe,IAAXA,EACA,OAAOoX,EACX,QAAehW,IAAXpB,EACA,OAAOqX,QACX,GAAIrX,EAAOtF,KAAOsF,EAAOC,MAAQD,EAAO7a,MACpC,OAAO6a,EACX,MAAM,IAAIra,MAAM,qDA7aE2xB,CAAUzuB,EAAKmX,QAC7B,MAAMuX,EAAY1uB,EAAK2tB,gBACvB3tB,EAAK2tB,iBAAkB,EACvB5f,KAAK2I,MAAQqU,EAAQ4D,WACrBC,EAAarU,KAAKxM,KAAMsd,EAAgBrrB,EAAM,iBAC9C4uB,EAAarU,KAAKxM,KAAMue,EAAmBtsB,EAAM,aAAc,QAC/D+N,KAAK8gB,UAAYC,EAAqBvU,KAAKxM,MACvC/N,EAAK+tB,SACLgB,EAAkBxU,KAAKxM,MAC3BA,KAAKihB,mBACLjhB,KAAKkhB,wBACDjvB,EAAKkvB,UACLC,EAAmB5U,KAAKxM,KAAM/N,EAAKkvB,UACf,iBAAblvB,EAAK0nB,MACZ3Z,KAAKqhB,cAAcpvB,EAAK0nB,MAC5B2H,EAAkB9U,KAAKxM,MACvB/N,EAAK2tB,gBAAkBe,EAE3B,mBACI3gB,KAAKuhB,WAAW,UAEpB,wBACI,MAAM,MAAExG,EAAK,KAAEpB,GAAS3Z,KAAK/N,KACzB0nB,GAAQoB,GACR/a,KAAKqhB,cAAclE,EAAgBA,EAAe5U,KAAK,GAE/D,cACI,MAAM,KAAEoR,GAAS3Z,KAAK/N,KACtB,OAAQ+N,KAAK/N,KAAKuvB,YAA6B,iBAAR7H,EAAmBA,EAAKpR,KAAOoR,OAAOnP,EAEjF,SAASiX,EACTzqB,GAEI,IAAI0qB,EACJ,GAA2B,iBAAhBD,GAEP,GADAC,EAAI1hB,KAAK2hB,UAAUF,IACdC,EACD,MAAM,IAAI3yB,MAAM,8BAA8B0yB,WAGlDC,EAAI1hB,KAAKib,QAAQwG,GAErB,MAAM9V,EAAQ+V,EAAE1qB,GAGhB,MAFM,WAAY0qB,IACd1hB,KAAK6K,OAAS6W,EAAE7W,QACbc,EAEX,QAAQ1E,EAAQ2a,GACZ,MAAMvK,EAAMrX,KAAK6hB,WAAW5a,EAAQ2a,GACpC,OAAQvK,EAAI2D,UAAYhb,KAAK8hB,kBAAkBzK,GAEnD,aAAapQ,EAAQ0S,GACjB,GAAmC,mBAAxB3Z,KAAK/N,KAAK8vB,WACjB,MAAM,IAAIhzB,MAAM,2CAEpB,MAAM,WAAEgzB,GAAe/hB,KAAK/N,KAC5B,OAAO+vB,EAAgBxV,KAAKxM,KAAMiH,EAAQ0S,GAC1CvqB,eAAe4yB,EAAgBC,EAASL,SAC9BM,EAAe1V,KAAKxM,KAAMiiB,EAAQE,SACxC,MAAM9K,EAAMrX,KAAK6hB,WAAWI,EAASL,GACrC,OAAOvK,EAAI2D,UAAYoH,EAAc5V,KAAKxM,KAAMqX,GAEpDjoB,eAAe8yB,EAAejZ,GACtBA,IAASjJ,KAAK2hB,UAAU1Y,UAClB+Y,EAAgBxV,KAAKxM,KAAM,CAAEiJ,SAAQ,GAGnD7Z,eAAegzB,EAAc/K,GACzB,IACI,OAAOrX,KAAK8hB,kBAAkBzK,GAElC,MAAOjkB,GACH,KAAMA,aAAa2pB,EAAgBsF,iBAC/B,MAAMjvB,EAGV,OAFAkvB,EAAY9V,KAAKxM,KAAM5M,SACjBmvB,EAAkB/V,KAAKxM,KAAM5M,EAAEovB,eAC9BJ,EAAc5V,KAAKxM,KAAMqX,IAGxC,SAASiL,GAAcE,cAAenwB,EAAG,WAAEowB,IACvC,GAAIziB,KAAK+f,KAAK1tB,GACV,MAAM,IAAItD,MAAM,aAAasD,mBAAqBowB,wBAG1DrzB,eAAemzB,EAAkBlwB,GAC7B,MAAM4vB,QAAgBS,EAAYlW,KAAKxM,KAAM3N,GACxC2N,KAAK+f,KAAK1tB,UACL6vB,EAAe1V,KAAKxM,KAAMiiB,EAAQE,SACvCniB,KAAK+f,KAAK1tB,IACX2N,KAAK2iB,UAAUV,EAAS5vB,EAAKsnB,GAErCvqB,eAAeszB,EAAYrwB,GACvB,MAAMsO,EAAIX,KAAKkgB,SAAS7tB,GACxB,GAAIsO,EACA,OAAOA,EACX,IACI,aAAcX,KAAKkgB,SAAS7tB,GAAO0vB,EAAW1vB,IAElD,eACW2N,KAAKkgB,SAAS7tB,KAKjC,UAAU4U,EACVjU,EACA4uB,EACAgB,EAAkB5iB,KAAK/N,KAAKwqB,gBAExB,GAAI7qB,MAAMulB,QAAQlQ,GAAS,CACvB,IAAK,MAAMoQ,KAAOpQ,EACdjH,KAAK2iB,UAAUtL,OAAK7M,EAAWoX,EAAOgB,GAC1C,OAAO5iB,KAEX,IAAIhT,EACJ,GAAsB,iBAAXia,IACPja,EAAKia,EAAOsB,SACDiC,IAAPxd,GAAiC,iBAANA,GAC3B,MAAM,IAAI+B,MAAM,4BAKxB,OAHAiE,EAAM4T,EAAUic,YAAY7vB,GAAOhG,GACnCgT,KAAK8iB,aAAa9vB,GAClBgN,KAAK8f,QAAQ9sB,GAAOgN,KAAK6hB,WAAW5a,EAAQ2a,EAAOgB,GAAiB,GAC7D5iB,KAIX,cAAciH,EAAQjU,EACtB4vB,EAAkB5iB,KAAK/N,KAAKwqB,gBAGxB,OADAzc,KAAK2iB,UAAU1b,EAAQjU,GAAK,EAAM4vB,GAC3B5iB,KAGX,eAAeiH,EAAQ8b,GACnB,GAAqB,kBAAV9b,EACP,OAAO,EACX,IAAIkb,EAEJ,GADAA,EAAUlb,EAAOkb,aACD3X,IAAZ2X,GAA2C,iBAAXA,EAChC,MAAM,IAAIpzB,MAAM,4BAGpB,GADAozB,EAAUA,GAAWniB,KAAK/N,KAAKuvB,aAAexhB,KAAKwhB,eAC9CW,EAGD,OAFAniB,KAAKoJ,OAAOC,KAAK,6BACjBrJ,KAAK6K,OAAS,MACP,EAEX,MAAMc,EAAQ3L,KAAKgb,SAASmH,EAASlb,GACrC,IAAK0E,GAASoX,EAAiB,CAC3B,MAAM5W,EAAU,sBAAwBnM,KAAKgjB,aAC7C,GAAiC,QAA7BhjB,KAAK/N,KAAKwqB,eAGV,MAAM,IAAI1tB,MAAMod,GAFhBnM,KAAKoJ,OAAO7a,MAAM4d,GAI1B,OAAOR,EAIX,UAAUsX,GACN,IAAI5L,EACJ,KAAsD,iBAAvCA,EAAM6L,EAAU1W,KAAKxM,KAAMijB,KACtCA,EAAS5L,EACb,QAAY7M,IAAR6M,EAAmB,CACnB,MAAMjgB,EAAO,IAAI6lB,EAAUkG,UAAU,CAAElc,OAAQ,KAE/C,GADAoQ,EAAM4F,EAAUmG,cAAc5W,KAAKxM,KAAM5I,EAAM6rB,IAC1C5L,EACD,OACJrX,KAAK+f,KAAKkD,GAAU5L,EAExB,OAAQA,EAAI2D,UAAYhb,KAAK8hB,kBAAkBzK,GAMnD,aAAaoK,GACT,GAAIA,aAAwBpL,OAGxB,OAFArW,KAAKqjB,kBAAkBrjB,KAAK8f,QAAS2B,GACrCzhB,KAAKqjB,kBAAkBrjB,KAAK+f,KAAM0B,GAC3BzhB,KAEX,cAAeyhB,GACX,IAAK,YAID,OAHAzhB,KAAKqjB,kBAAkBrjB,KAAK8f,SAC5B9f,KAAKqjB,kBAAkBrjB,KAAK+f,MAC5B/f,KAAKmgB,OAAOmD,QACLtjB,KACX,IAAK,SAAU,CACX,MAAMqX,EAAM6L,EAAU1W,KAAKxM,KAAMyhB,GAKjC,MAJkB,iBAAPpK,GACPrX,KAAKmgB,OAAO1uB,OAAO4lB,EAAIpQ,eACpBjH,KAAK8f,QAAQ2B,UACbzhB,KAAK+f,KAAK0B,GACVzhB,KAEX,IAAK,SAAU,CACX,MAAMujB,EAAW9B,EACjBzhB,KAAKmgB,OAAO1uB,OAAO8xB,GACnB,IAAIv2B,EAAKy0B,EAAalZ,IAMtB,OALIvb,IACAA,EAAK4Z,EAAUic,YAAY71B,UACpBgT,KAAK8f,QAAQ9yB,UACbgT,KAAK+f,KAAK/yB,IAEdgT,KAEX,QACI,MAAM,IAAIjR,MAAM,wCAI5B,cAAcy0B,GACV,IAAK,MAAM3I,KAAO2I,EACdxjB,KAAKuhB,WAAW1G,GACpB,OAAO7a,KAEX,WAAWyjB,EAAU5I,GAEjB,IAAIvE,EACJ,GAAuB,iBAAZmN,EACPnN,EAAUmN,EACQ,iBAAP5I,IACP7a,KAAKoJ,OAAOC,KAAK,4DACjBwR,EAAIvE,QAAUA,OAGjB,IAAuB,iBAAZmN,QAAgCjZ,IAARqQ,EAQpC,MAAM,IAAI9rB,MAAM,kCALhB,GADAunB,GADAuE,EAAM4I,GACQnN,QACV1kB,MAAMulB,QAAQb,KAAaA,EAAQvX,OACnC,MAAM,IAAIhQ,MAAM,0DAOxB,GADA20B,EAAalX,KAAKxM,KAAMsW,EAASuE,IAC5BA,EAED,OADAhU,EAAO8c,SAASrN,EAAUsN,GAAQC,EAAQrX,KAAKxM,KAAM4jB,IAC9C5jB,KAEX8jB,EAAkBtX,KAAKxM,KAAM6a,GAC7B,MAAM9B,EAAa,IACZ8B,EACH3rB,KAAMsX,EAAWud,aAAalJ,EAAI3rB,MAClC80B,WAAYxd,EAAWud,aAAalJ,EAAImJ,aAK5C,OAHAnd,EAAO8c,SAASrN,EAAoC,IAA3ByC,EAAW7pB,KAAK6P,OAClCklB,GAAMJ,EAAQrX,KAAKxM,KAAMikB,EAAGlL,GAC5BkL,GAAMlL,EAAW7pB,KAAKsT,QAAStC,GAAM2jB,EAAQrX,KAAKxM,KAAMikB,EAAGlL,EAAY7Y,KACvEF,KAEX,WAAWsW,GACP,MAAMqC,EAAO3Y,KAAK2I,MAAMzY,IAAIomB,GAC5B,MAAsB,iBAARqC,EAAmBA,EAAKI,aAAeJ,EAGzD,cAAcrC,GAEV,MAAM,MAAE3N,GAAU3I,YACX2I,EAAMwY,SAAS7K,UACf3N,EAAMzY,IAAIomB,GACjB,IAAK,MAAMmC,KAAS9P,EAAMiQ,MAAO,CAC7B,MAAM7lB,EAAI0lB,EAAMG,MAAMsL,UAAWvL,GAASA,EAAKrC,UAAYA,GACvDvjB,GAAK,GACL0lB,EAAMG,MAAMuL,OAAOpxB,EAAG,GAE9B,OAAOiN,KAGX,UAAU7R,EAAMqvB,GAIZ,MAHqB,iBAAVA,IACPA,EAAS,IAAInH,OAAOmH,IACxBxd,KAAKggB,QAAQ7xB,GAAQqvB,EACdxd,KAEX,WAAW6K,EAAS7K,KAAK6K,QACzB,UAAEuZ,EAAY,KAAI,QAAEC,EAAU,QAAW,IAErC,OAAKxZ,GAA4B,IAAlBA,EAAO9L,OAEf8L,EACF7a,IAAKoD,GAAM,GAAGixB,IAAUjxB,EAAE0U,YAAY1U,EAAE+Y,WACxC0F,OAAO,CAAC5c,EAAM+U,IAAQ/U,EAAOmvB,EAAYpa,GAHnC,YAKf,gBAAgBsa,EAAYC,GACxB,MAAM3L,EAAQ5Y,KAAK2I,MAAMzY,IACzBo0B,EAAavX,KAAKC,MAAMD,KAAKmB,UAAUoW,IACvC,IAAK,MAAME,KAAeD,EAAsB,CAC5C,MAAMtlB,EAAWulB,EAAY/S,MAAM,KAAKgT,MAAM,GAC9C,IAAItD,EAAWmD,EACf,IAAK,MAAMI,KAAOzlB,EACdkiB,EAAWA,EAASuD,GACxB,IAAK,MAAM1xB,KAAO4lB,EAAO,CACrB,MAAMD,EAAOC,EAAM5lB,GACnB,GAAmB,iBAAR2lB,EACP,SACJ,MAAM,MAAEoC,GAAUpC,EAAKI,WACjB9R,EAASka,EAASnuB,GACpB+nB,GAAS9T,IACTka,EAASnuB,GAAO2xB,EAAa1d,KAGzC,OAAOqd,EAEX,kBAAkBxE,EAAS8E,GACvB,IAAK,MAAM3B,KAAUnD,EAAS,CAC1B,MAAMzI,EAAMyI,EAAQmD,GACf2B,IAASA,EAAMC,KAAK5B,KACH,iBAAP5L,SACAyI,EAAQmD,GAEV5L,IAAQA,EAAIsC,OACjB3Z,KAAKmgB,OAAO1uB,OAAO4lB,EAAIpQ,eAChB6Y,EAAQmD,MAK/B,WAAWhc,EAAQ0S,EAAM8C,EAAiBzc,KAAK/N,KAAKwqB,eAAgBkG,EAAY3iB,KAAK/N,KAAK0tB,eACtF,GAAqB,iBAAV1Y,EAAoB,CAC3B,GAAIjH,KAAK/N,KAAKwX,IACV,MAAM,IAAI1a,MAAM,yBACf,GAAqB,kBAAVkY,EACZ,MAAM,IAAIlY,MAAM,oCAExB,IAAIsoB,EAAMrX,KAAKmgB,OAAOtvB,IAAIoW,GAC1B,QAAYuD,IAAR6M,EACA,OAAOA,EACX,MAAMyN,EAAYle,EAAUme,cAAcvY,KAAKxM,KAAMiH,GACrDoQ,EAAM,IAAI4F,EAAUkG,UAAU,CAAElc,SAAQ0S,OAAMmL,cAC9C9kB,KAAKmgB,OAAOxuB,IAAI0lB,EAAIpQ,OAAQoQ,GAC5B,MAAMrqB,EAAKqqB,EAAIzL,OASf,OARI+W,IAAc31B,EAAG8f,WAAW,OAExB9f,GACAgT,KAAK8iB,aAAa91B,GACtBgT,KAAK+f,KAAK/yB,GAAMqqB,GAEhBoF,GACAzc,KAAKyc,eAAexV,GAAQ,GACzBoQ,EAEX,aAAarqB,GACT,GAAIgT,KAAK8f,QAAQ9yB,IAAOgT,KAAK+f,KAAK/yB,GAC9B,MAAM,IAAI+B,MAAM,0BAA0B/B,qBAGlD,kBAAkBqqB,GAMd,GALIA,EAAIsC,KACJ3Z,KAAKglB,mBAAmB3N,GAExB4F,EAAUgI,cAAczY,KAAKxM,KAAMqX,IAElCA,EAAI2D,SACL,MAAM,IAAIjsB,MAAM,4BACpB,OAAOsoB,EAAI2D,SAEf,mBAAmB3D,GACf,MAAM6N,EAAcllB,KAAK/N,KACzB+N,KAAK/N,KAAO+N,KAAK8gB,UACjB,IACI7D,EAAUgI,cAAczY,KAAKxM,KAAMqX,GAEvC,QACIrX,KAAK/N,KAAOizB,IAOxB,SAASrE,EAAasE,EAAWvuB,EAASoT,EAAKlG,EAAM,SACjD,IAAK,MAAM9Q,KAAOmyB,EAAW,CACzB,MAAMC,EAAMpyB,EACRoyB,KAAOxuB,GACPoJ,KAAKoJ,OAAOtF,GAAK,GAAGkG,aAAehX,MAAQmyB,EAAUC,OAGjE,SAASlC,EAAUD,GAEf,OADAA,EAASrc,EAAUic,YAAYI,GACxBjjB,KAAK8f,QAAQmD,IAAWjjB,KAAK+f,KAAKkD,GAE7C,SAAS3B,IACL,MAAM+D,EAAcrlB,KAAK/N,KAAK6tB,QAC9B,GAAKuF,EAEL,GAAIzzB,MAAMulB,QAAQkO,GACdrlB,KAAK2iB,UAAU0C,QAEf,IAAK,MAAMryB,KAAOqyB,EACdrlB,KAAK2iB,UAAU0C,EAAYryB,GAAMA,GAE7C,SAASguB,IACL,IAAK,MAAM7yB,KAAQ6R,KAAK/N,KAAK+tB,QAAS,CAClC,MAAMxC,EAASxd,KAAK/N,KAAK+tB,QAAQ7xB,GAC7BqvB,GACAxd,KAAKslB,UAAUn3B,EAAMqvB,IAGjC,SAAS4D,EAAmBmE,GACxB,GAAI3zB,MAAMulB,QAAQoO,GACdvlB,KAAKwlB,cAAcD,OADvB,CAIAvlB,KAAKoJ,OAAOC,KAAK,oDACjB,IAAK,MAAMiN,KAAWiP,EAAM,CACxB,MAAM1K,EAAM0K,EAAKjP,GACZuE,EAAIvE,UACLuE,EAAIvE,QAAUA,GAClBtW,KAAKuhB,WAAW1G,KAGxB,SAASkG,IACL,MAAM0E,EAAW,IAAKzlB,KAAK/N,MAC3B,IAAK,MAAMmzB,KAAOhI,SACPqI,EAASL,GACpB,OAAOK,EAhDXvf,EAAQsB,QAAUqY,EAClBA,EAAI1U,gBAAkB4R,EAAgB5R,gBACtC0U,EAAIwC,gBAAkBtF,EAAgBsF,gBAgDtC,MAAM7B,EAAS,CAAE,QAAW,SAAY,WAUxC,MAAMkF,EAAe,0BACrB,SAAShC,EAAapN,EAASuE,GAC3B,MAAM,MAAElS,GAAU3I,KAOlB,GANA6G,EAAO8c,SAASrN,EAAUsN,IACtB,GAAIjb,EAAMwY,SAASyC,GACf,MAAM,IAAI70B,MAAM,WAAW60B,wBAC/B,IAAK8B,EAAab,KAAKjB,GACnB,MAAM,IAAI70B,MAAM,WAAW60B,wBAE9B/I,GAEDA,EAAIE,SAAW,SAAUF,MAAO,aAAcA,GAC9C,MAAM,IAAI9rB,MAAM,yDAGxB,SAAS80B,EAAQvN,EAASyC,EAAY4M,GAClC,IAAI93B,EACJ,MAAMiB,EAAOiqB,aAA+C,EAASA,EAAWjqB,KAChF,GAAI62B,GAAY72B,EACZ,MAAM,IAAIC,MAAM,+CACpB,MAAM,MAAE4Z,GAAU3I,KAClB,IAAI4lB,EAAY92B,EAAO6Z,EAAM7Z,KAAO6Z,EAAMiQ,MAAMjlB,KAAK,EAAGzE,KAAMgR,KAAQA,IAAMylB,GAM5E,GALKC,IACDA,EAAY,CAAE12B,KAAMy2B,EAAU/M,MAAO,IACrCjQ,EAAMiQ,MAAM9oB,KAAK81B,IAErBjd,EAAMwY,SAAS7K,IAAW,GACrByC,EACD,OACJ,MAAMJ,EAAO,CACTrC,UACAyC,WAAY,IACLA,EACH7pB,KAAMsX,EAAWud,aAAahL,EAAW7pB,MACzC80B,WAAYxd,EAAWud,aAAahL,EAAWiL,cAGnDjL,EAAW8M,OACXC,EAActZ,KAAKxM,KAAM4lB,EAAWjN,EAAMI,EAAW8M,QAErDD,EAAUhN,MAAM9oB,KAAK6oB,GACzBhQ,EAAMzY,IAAIomB,GAAWqC,EACY,QAAhC9qB,EAAKkrB,EAAWgN,kBAA+B,IAAPl4B,GAAyBA,EAAG2U,QAASohB,GAAQ5jB,KAAKuhB,WAAWqC,IAE1G,SAASkC,EAAcF,EAAWjN,EAAMkN,GACpC,MAAM9yB,EAAI6yB,EAAUhN,MAAMsL,UAAW8B,GAAUA,EAAM1P,UAAYuP,GAC7D9yB,GAAK,EACL6yB,EAAUhN,MAAMuL,OAAOpxB,EAAG,EAAG4lB,IAG7BiN,EAAUhN,MAAM9oB,KAAK6oB,GACrB3Y,KAAKoJ,OAAOC,KAAK,QAAQwc,qBAGjC,SAAS/B,EAAkBjJ,GACvB,IAAI,WAAEyJ,GAAezJ,OACFrQ,IAAf8Z,IAEAzJ,EAAIE,OAAS/a,KAAK/N,KAAK8oB,QACvBuJ,EAAaK,EAAaL,IAC9BzJ,EAAI4B,eAAiBzc,KAAKib,QAAQqJ,GAAY,IAElD,MAAM2B,EAAW,CACbhd,KAAM,kFAEV,SAAS0b,EAAa1d,GAClB,MAAO,CAAEif,MAAO,CAACjf,EAAQgf,M,2aC3kB7Bv2B,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtD,MAAMu3B,EAAS,EAAQ,MACjBC,EAAe,EAAQ,MACvBC,EAAe,EAAQ,MACvBC,EAAW,EAAQ,MACnBC,EAAa,EAAQ,MACrBC,EAAqB,CACvBL,EAAO3e,QACP4e,EAAa5e,QACb6e,EAAa7e,QACb8e,EAAS9e,QACT+e,EAAWE,mBACXF,EAAWG,mBAEfxgB,EAAQsB,QAAUgf,G,kCCdlB92B,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtD,MAAM+3B,EAAO,EAAQ,MACfC,EAAQ,EAAQ,MAChBC,EAAO,CACT,UACA,MACA,QACA,cACA,CAAEvQ,QAAS,YACX,cACAqQ,EAAKnf,QACLof,EAAMpf,SAEVtB,EAAQsB,QAAUqf,G,kCCblBn3B,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtD,MAAMisB,EAAM,CACRvE,QAAS,KACT,OACI,MAAM,IAAIvnB,MAAM,0DAGxBmX,EAAQsB,QAAUqT,G,kCCPlBnrB,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtDsX,EAAQ4gB,QAAU5gB,EAAQ6gB,iBAAc,EACxC,MAAMhK,EAAkB,EAAQ,KAC1BpC,EAAS,EAAQ,KACjBjU,EAAY,EAAQ,IACpBC,EAAU,EAAQ,KAClBsW,EAAY,EAAQ,KACpBpW,EAAS,EAAQ,IACjBgU,EAAM,CACRvE,QAAS,OACT0N,WAAY,SACZ,KAAK5O,GACD,MAAM,IAAErO,EAAG,OAAEE,EAAM,GAAE4B,GAAOuM,GACtB,OAAExJ,EAAQ1E,UAAW8f,EAAG,aAAEhgB,EAAY,KAAE/U,EAAI,KAAEyW,GAASG,EAG7D,GAAe,MAAX5B,GAA6B,OAAXA,EAClB,OAOJ,WACI,GAAI+f,IAAQA,EAAI5vB,KACZ,OAAO0vB,EAAQ1R,EAAKpO,EAAcggB,EAAKA,EAAItf,QAC/C,MAAM0C,EAAWrD,EAAIsD,WAAW,OAAQ,CAAEhY,IAAK20B,EAAI5vB,OACnD,OAAO0vB,EAAQ1R,EAAK1O,EAAUa,CAAE,GAAG6C,aAAqB4c,EAAI5vB,KAAM4vB,EAAI5vB,KAAKsQ,QAXpEuf,GACX,MAAMC,EAAWjK,EAAUkK,WAAW3a,KAAK9D,EAAMse,EAAI5vB,KAAMwU,EAAQ3E,GACnE,QAAiBuD,IAAb0c,EACA,MAAM,IAAInK,EAAgBsF,gBAAgBzW,EAAQ3E,GACtD,OAAIigB,aAAoBjK,EAAUkG,UASlC,SAAsB9L,GAClB,MAAMqK,EAAIqF,EAAY3R,EAAKiC,GAC3ByP,EAAQ1R,EAAKsM,EAAGrK,EAAKA,EAAI3P,QAVlB0f,CAAaF,GAYxB,SAAyB7P,GACrB,MAAMgQ,EAAUtgB,EAAIsD,WAAW,UAA+B,IAArBpY,EAAKmV,KAAKoB,OAAkB,CAAEnW,IAAKglB,EAAKjQ,KAAMV,EAAUwH,UAAUmJ,IAAS,CAAEhlB,IAAKglB,IACrH1L,EAAQ5E,EAAI5Y,KAAK,SACjBspB,EAASrC,EAAI0B,UAAU,CACzB7P,OAAQoQ,EACRuC,UAAW,GACX1P,WAAYxD,EAAU2B,IACtBuN,aAAcyR,EACdre,cAAe/B,GAChB0E,GACHyJ,EAAIkS,eAAe7P,GACnBrC,EAAIgH,GAAGzQ,GAtBJ4b,CAAgBL,KA0B/B,SAASH,EAAY3R,EAAKiC,GACtB,MAAM,IAAEtQ,GAAQqO,EAChB,OAAOiC,EAAI2D,SACLjU,EAAIsD,WAAW,WAAY,CAAEhY,IAAKglB,EAAI2D,WACtCtU,EAAUa,CAAE,GAAGR,EAAIsD,WAAW,UAAW,CAAEhY,IAAKglB,eAG1D,SAASyP,EAAQ1R,EAAKsM,EAAGrK,EAAK3P,GAC1B,MAAM,IAAEX,EAAG,GAAE8B,GAAOuM,GACd,UAAEmB,EAAWrP,UAAW8f,EAAG,KAAE/0B,GAAS4W,EACtCyS,EAAUrpB,EAAKspB,YAAc5U,EAAQa,QAAQxH,KAAO0G,EAAU2B,IAyBpE,SAASmf,EAAchf,GACnB,MAAMyT,EAAOvV,EAAUa,CAAE,GAAGiB,WAC5BzB,EAAIkE,OAAOtE,EAAQa,QAAQoD,QAASlE,EAAUa,CAAE,GAAGZ,EAAQa,QAAQoD,sBAAsBqR,OAAUtV,EAAQa,QAAQoD,kBAAkBqR,MACrIlV,EAAIkE,OAAOtE,EAAQa,QAAQqD,OAAQnE,EAAUa,CAAE,GAAGZ,EAAQa,QAAQoD,kBAEtE,SAAS6c,EAAiBjf,GACtB,IAAI3a,EACJ,IAAKgb,EAAG5W,KAAK6Y,YACT,OACJ,MAAM4c,EAAiF,QAAjE75B,EAAKwpB,aAAiC,EAASA,EAAI2D,gBAA6B,IAAPntB,OAAgB,EAASA,EAAGkd,UAE3H,IAAiB,IAAblC,EAAGzW,MACH,GAAIs1B,IAAiBA,EAAaC,kBACHnd,IAAvBkd,EAAat1B,QACbyW,EAAGzW,MAAQyU,EAAOygB,eAAel1B,MAAM2U,EAAK2gB,EAAat1B,MAAOyW,EAAGzW,YAGtE,CACD,MAAMA,EAAQ2U,EAAIc,IAAI,QAASnB,EAAUa,CAAE,GAAGiB,qBAC9CK,EAAGzW,MAAQyU,EAAOygB,eAAel1B,MAAM2U,EAAK3U,EAAOyW,EAAGzW,MAAOsU,EAAU4E,MAG/E,IAAiB,IAAbzC,EAAGvY,MACH,GAAIo3B,IAAiBA,EAAaE,kBACHpd,IAAvBkd,EAAap3B,QACbuY,EAAGvY,MAAQuW,EAAOygB,eAAeh3B,MAAMyW,EAAK2gB,EAAap3B,MAAOuY,EAAGvY,YAGtE,CACD,MAAMA,EAAQyW,EAAIc,IAAI,QAASnB,EAAUa,CAAE,GAAGiB,qBAC9CK,EAAGvY,MAAQuW,EAAOygB,eAAeh3B,MAAMyW,EAAKzW,EAAOuY,EAAGvY,MAAOoW,EAAU4E,OAtD/E5D,EAIJ,WACI,IAAKsf,EAAItf,OACL,MAAM,IAAI3Y,MAAM,0CACpB,MAAM4c,EAAQ5E,EAAI4D,IAAI,SACtB5D,EAAI8U,IAAI,KACJ9U,EAAIK,KAAKV,EAAUa,CAAE,SAASoT,EAAO5G,iBAAiBqB,EAAKsM,EAAGpG,MAC9DmM,EAAiB/F,GACZnL,GACDxP,EAAIkE,OAAOU,GAAO,IACtBvY,IACA2T,EAAIa,GAAGlB,EAAUa,CAAE,KAAKnU,gBAAgByV,EAAGsC,mBAAoB,IAAMpE,EAAIsE,MAAMjY,IAC/Eo0B,EAAcp0B,GACTmjB,GACDxP,EAAIkE,OAAOU,GAAO,KAE1ByJ,EAAIgH,GAAGzQ,GAlBPkc,GAqBAzS,EAAI/H,OAAOsN,EAAO5G,iBAAiBqB,EAAKsM,EAAGpG,GAAU,IAAMmM,EAAiB/F,GAAI,IAAM8F,EAAc9F,IA3B5Gxb,EAAQ6gB,YAAcA,EAgEtB7gB,EAAQ4gB,QAAUA,EAClB5gB,EAAQsB,QAAUqT,G,kCCxHlBnrB,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtD,MAAMk5B,EAAgB,EAAQ,MACxBC,EAAe,EAAQ,MACvBC,EAAgB,EAAQ,MACxBC,EAAY,EAAQ,MACpBC,EAAoB,EAAQ,MAC5BC,EAAa,EAAQ,MACrBC,EAAe,EAAQ,MACvBC,EAAgB,EAAQ,MACxBC,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MACjBC,EAAa,CAEfV,EAActgB,QACdugB,EAAavgB,QAEbwgB,EAAcxgB,QACdygB,EAAUzgB,QAEV0gB,EAAkB1gB,QAClB2gB,EAAW3gB,QAEX4gB,EAAa5gB,QACb6gB,EAAc7gB,QAEd,CAAE8O,QAAS,OAAQ0N,WAAY,CAAC,SAAU,UAC1C,CAAE1N,QAAS,WAAY0N,WAAY,WACnCsE,EAAQ9gB,QACR+gB,EAAO/gB,SAEXtB,EAAQsB,QAAUghB,G,kCC9BlB94B,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtD,MAAM8X,EAAY,EAAQ,IACpB+hB,EAAM/hB,EAAUgiB,UAChBC,EAAO,CACTC,QAAS,CAAEC,MAAO,KAAMzM,GAAIqM,EAAIK,IAAKC,KAAMN,EAAIO,IAC/CC,QAAS,CAAEJ,MAAO,KAAMzM,GAAIqM,EAAIS,IAAKH,KAAMN,EAAIU,IAC/CC,iBAAkB,CAAEP,MAAO,IAAKzM,GAAIqM,EAAIU,GAAIJ,KAAMN,EAAIS,KACtDG,iBAAkB,CAAER,MAAO,IAAKzM,GAAIqM,EAAIO,GAAID,KAAMN,EAAIK,MAEpDv6B,EAAQ,CACV4d,QAAS,EAAGmK,UAASX,gBAAiBjP,EAAUyD,GAAI,aAAawe,EAAKrS,GAASuS,SAASlT,IACxFloB,OAAQ,EAAG6oB,UAASX,gBAAiBjP,EAAUa,CAAE,gBAAgBohB,EAAKrS,GAASuS,iBAAiBlT,MAE9FkF,EAAM,CACRvE,QAAS5mB,OAAOylB,KAAKwT,GACrBz5B,KAAM,SACN80B,WAAY,SACZjJ,OAAO,EACPxsB,QACA,KAAK6mB,GACD,MAAM,QAAEkB,EAAO,KAAEtf,EAAI,WAAE2e,GAAeP,EACtCA,EAAIkU,UAAU5iB,EAAUa,CAAE,GAAGvQ,KAAQ2xB,EAAKrS,GAASyS,QAAQpT,cAAuB3e,QAG1FkP,EAAQsB,QAAUqT,G,kCCxBlBnrB,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtD,MAAM8X,EAAY,EAAQ,IAKpBmU,EAAM,CACRvE,QAAS,aACTpnB,KAAM,SACN80B,WAAY,SACZjJ,OAAO,EACPxsB,MATU,CACV4d,QAAS,EAAGwJ,gBAAiBjP,EAAUyD,GAAI,yBAAyBwL,IACpEloB,OAAQ,EAAGkoB,gBAAiBjP,EAAUa,CAAE,gBAAgBoO,MAQxD,KAAKP,GACD,MAAM,IAAErO,EAAG,KAAE/P,EAAI,WAAE2e,EAAU,GAAE9M,GAAOuM,EAEhCmU,EAAO1gB,EAAG5W,KAAKu3B,oBACfC,EAAM1iB,EAAI4D,IAAI,OACd+e,EAAUH,EACV7iB,EAAUa,CAAE,uBAAuBkiB,QAAUA,WAAaF,IAC1D7iB,EAAUa,CAAE,GAAGkiB,kBAAoBA,KACzCrU,EAAIkU,UAAU5iB,EAAUa,CAAE,IAAIoO,eAAwB8T,OAASzyB,KAAQ2e,MAAe+T,SAG9FxjB,EAAQsB,QAAUqT,G,kCCvBlBnrB,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtD,MAAM8X,EAAY,EAAQ,IACpBijB,EAAe,EAAQ,MAQvB9O,EAAM,CACRvE,QAAS,CAAC,YAAa,aACvBpnB,KAAM,SACN80B,WAAY,SACZjJ,OAAO,EACPxsB,MAZU,CACV,SAAQ,QAAE+nB,EAAO,WAAEX,IACf,MAAMiU,EAAmB,cAAZtT,EAA0B,OAAS,QAChD,OAAO5P,EAAUyD,GAAI,mBAAmByf,UAAajU,gBAEzDloB,OAAQ,EAAGkoB,gBAAiBjP,EAAUa,CAAE,WAAWoO,MAQnD,KAAKP,GACD,MAAM,QAAEkB,EAAO,KAAEtf,EAAI,WAAE2e,EAAU,GAAE9M,GAAOuM,EACpCyU,EAAiB,cAAZvT,EAA0B5P,EAAUgiB,UAAUM,GAAKtiB,EAAUgiB,UAAUS,GAClF,IAAIvS,EACJ,IAAwB,IAApB/N,EAAG5W,KAAKwsB,QACR7H,EAAMlQ,EAAUa,CAAE,GAAGvQ,eAEpB,CACD,MAAM8yB,EAAM1U,EAAIrO,IAAIsD,WAAW,OAAQ,CACnChY,IAAKs3B,EAAaniB,QAClBJ,KAAMV,EAAUa,CAAE,mDAEtBqP,EAAMlQ,EAAUa,CAAE,GAAGuiB,KAAO9yB,KAEhCoe,EAAIkU,UAAU5iB,EAAUa,CAAE,GAAGqP,KAAOiT,KAAMlU,OAGlDzP,EAAQsB,QAAUqT,G,kCCjClBnrB,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IAoBtDsX,EAAQsB,QAjBR,SAAoB2C,GAChB,MAAMyM,EAAMzM,EAAIpL,OAChB,IAEInQ,EAFAmQ,EAAS,EACTgrB,EAAM,EAEV,KAAOA,EAAMnT,GACT7X,IACAnQ,EAAQub,EAAI6f,WAAWD,KACnBn7B,GAAS,OAAUA,GAAS,OAAUm7B,EAAMnT,IAE5ChoB,EAAQub,EAAI6f,WAAWD,GACE,QAAZ,MAARn7B,IACDm7B,KAGZ,OAAOhrB,I,kCClBXrP,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtD,MAAM+rB,EAAS,EAAQ,KACjBjU,EAAY,EAAQ,IAKpBmU,EAAM,CACRvE,QAAS,UACTpnB,KAAM,SACN80B,WAAY,SACZjJ,OAAO,EACPxsB,MATU,CACV4d,QAAS,EAAGwJ,gBAAiBjP,EAAUyD,GAAI,yBAAyBwL,KACpEloB,OAAQ,EAAGkoB,gBAAiBjP,EAAUa,CAAE,aAAaoO,MAQrD,KAAKP,GACD,MAAM,IAAErO,EAAG,KAAE/P,EAAI,MAAE+jB,EAAK,OAAE9T,EAAM,WAAE0O,GAAeP,EAC3C6U,EAASlP,EAAQrU,EAAUa,CAAE,eAAeoO,WAAsBgF,EAAO7G,WAAW/M,EAAKE,GAC/FmO,EAAIkU,UAAU5iB,EAAUa,CAAE,IAAI0iB,UAAejzB,QAGrDkP,EAAQsB,QAAUqT,G,kCCnBlBnrB,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtD,MAAM8X,EAAY,EAAQ,IAQpBmU,EAAM,CACRvE,QAAS,CAAC,gBAAiB,iBAC3BpnB,KAAM,SACN80B,WAAY,SACZjJ,OAAO,EACPxsB,MAZU,CACV,SAAQ,QAAE+nB,EAAO,WAAEX,IACf,MAAMiU,EAAmB,kBAAZtT,EAA8B,OAAS,QACpD,OAAO5P,EAAUyD,GAAI,mBAAmByf,UAAajU,WAEzDloB,OAAQ,EAAGkoB,gBAAiBjP,EAAUa,CAAE,WAAWoO,MAQnD,KAAKP,GACD,MAAM,QAAEkB,EAAO,KAAEtf,EAAI,WAAE2e,GAAeP,EAChCyU,EAAiB,kBAAZvT,EAA8B5P,EAAUgiB,UAAUM,GAAKtiB,EAAUgiB,UAAUS,GACtF/T,EAAIkU,UAAU5iB,EAAUa,CAAE,eAAevQ,aAAgB6yB,KAAMlU,OAGvEzP,EAAQsB,QAAUqT,G,kCCrBlBnrB,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtD,MAAM+rB,EAAS,EAAQ,KACjBjU,EAAY,EAAQ,IACpBwjB,EAAa,EAAQ,KAKrBrP,EAAM,CACRvE,QAAS,WACTpnB,KAAM,SACN80B,WAAY,QACZjJ,OAAO,EACPxsB,MATU,CACV4d,QAAS,EAAG1e,QAAU8nB,sBAAwB7O,EAAUyD,GAAI,kCAAkCoL,KAC9F9nB,OAAQ,EAAGA,QAAU8nB,sBAAwB7O,EAAUa,CAAE,qBAAqBgO,MAQ9E,KAAKH,GACD,MAAM,IAAErO,EAAG,OAAEE,EAAM,WAAE0O,EAAU,KAAE3e,EAAI,MAAE+jB,EAAK,GAAElS,GAAOuM,GAC/C,KAAEnjB,GAAS4W,EACjB,IAAKkS,GAA2B,IAAlB9T,EAAOlI,OACjB,OACJ,MAAMorB,EAAUljB,EAAOlI,QAAU9M,EAAKqtB,aAKtC,GAJIzW,EAAG0N,UAeP,WACI,GAAI4T,GAAWpP,EACX3F,EAAIsG,WAAWhV,EAAU2B,IAAK+hB,QAG9B,IAAK,MAAM/U,KAAQpO,EACf0T,EAAOnG,uBAAuBY,EAAKC,GApB3CgV,GAwBJ,WACI,MAAMzY,EAAU7K,EAAI4D,IAAI,WACxB,GAAIwf,GAAWpP,EAAO,CAClB,MAAMpP,EAAQ5E,EAAI4D,IAAI,SAAS,GAC/ByK,EAAIsG,WAAW/P,EAAO,IAe9B,SAA0BiG,EAASjG,GAC/ByJ,EAAIE,UAAU,CAAEC,gBAAiB3D,IACjC7K,EAAIujB,MAAM1Y,EAAS+D,EAAY,KAC3B5O,EAAIkE,OAAOU,EAAOgP,EAAOxG,eAAepN,EAAK/P,EAAM4a,EAAS3f,EAAK4iB,gBACjE9N,EAAIa,GAAGlB,EAAUuO,IAAItJ,GAAQ,KACzByJ,EAAI7mB,QACJwY,EAAI2P,WAEThQ,EAAU2B,KAvBmBkiB,CAAiB3Y,EAASjG,IACtDyJ,EAAIgH,GAAGzQ,QAGP5E,EAAIa,GAAG+S,EAAOpG,iBAAiBa,EAAKnO,EAAQ2K,IAC5C+I,EAAOrG,kBAAkBc,EAAKxD,GAC9B7K,EAAIyS,OAhCRgR,GACAv4B,EAAKw4B,eAAgB,CACrB,MAAMr4B,EAAQgjB,EAAI0F,aAAatF,YACzB,kBAAEkV,GAAsBtV,EAAIvM,GAClC,IAAK,MAAM8hB,KAAe1jB,EACtB,QAA2EuD,KAAtEpY,aAAqC,EAASA,EAAMu4B,MAAgCD,EAAkBl5B,IAAIm5B,GAAc,CACzH,MACM3gB,EAAM,sBAAsB2gB,yBADf9hB,EAAG3B,UAAU0E,OAAS/C,EAAGG,kCAE5CkhB,EAAW/jB,gBAAgB0C,EAAImB,EAAKnB,EAAG5W,KAAKw4B,iBA2BxD,SAASL,IACLrjB,EAAIujB,MAAM,OAAQ3U,EAAaN,IAC3BD,EAAIE,UAAU,CAAEC,gBAAiBF,IACjCtO,EAAIa,GAAG+S,EAAOzG,iBAAiBnN,EAAK/P,EAAMqe,EAAMpjB,EAAK4iB,eAAgB,IAAMO,EAAI7mB,cAe/F2X,EAAQsB,QAAUqT,G,kCC5ElBnrB,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtD,MAAM8X,EAAY,EAAQ,IAQpBmU,EAAM,CACRvE,QAAS,CAAC,WAAY,YACtBpnB,KAAM,QACN80B,WAAY,SACZjJ,OAAO,EACPxsB,MAZU,CACV,SAAQ,QAAE+nB,EAAO,WAAEX,IACf,MAAMiU,EAAmB,aAAZtT,EAAyB,OAAS,QAC/C,OAAO5P,EAAUyD,GAAI,mBAAmByf,UAAajU,WAEzDloB,OAAQ,EAAGkoB,gBAAiBjP,EAAUa,CAAE,WAAWoO,MAQnD,KAAKP,GACD,MAAM,QAAEkB,EAAO,KAAEtf,EAAI,WAAE2e,GAAeP,EAChCyU,EAAiB,aAAZvT,EAAyB5P,EAAUgiB,UAAUM,GAAKtiB,EAAUgiB,UAAUS,GACjF/T,EAAIkU,UAAU5iB,EAAUa,CAAE,GAAGvQ,YAAe6yB,KAAMlU,OAG1DzP,EAAQsB,QAAUqT,G,kCCrBlBnrB,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtD,MAAM4X,EAAa,EAAQ,KACrBE,EAAY,EAAQ,IACpBkkB,EAAQ,EAAQ,KAKhB/P,EAAM,CACRvE,QAAS,cACTpnB,KAAM,QACN80B,WAAY,UACZjJ,OAAO,EACPxsB,MATU,CACV4d,QAAS,EAAG1e,QAAUsF,IAAG83B,QAAUnkB,EAAUyD,GAAI,6CAA6C0gB,SAAS93B,mBACvGtF,OAAQ,EAAGA,QAAUsF,IAAG83B,QAAUnkB,EAAUa,CAAE,OAAOxU,SAAS83B,MAQ9D,KAAKzV,GACD,MAAM,IAAErO,EAAG,KAAE/P,EAAI,MAAE+jB,EAAK,OAAE9T,EAAM,aAAE6T,EAAY,WAAEnF,EAAU,GAAE9M,GAAOuM,EACnE,IAAK2F,IAAU9T,EACX,OACJ,MAAM0E,EAAQ5E,EAAI4D,IAAI,SAChBmgB,EAAYhQ,EAAaxqB,MAAQkW,EAAWoD,eAAekR,EAAaxqB,OAAS,GAavF,SAASy6B,EAAMh4B,EAAG83B,GACd,MAAMplB,EAAOsB,EAAI5Y,KAAK,QAChB68B,EAAYxkB,EAAWykB,eAAeH,EAAWrlB,EAAMoD,EAAG5W,KAAKsY,OAAQ/D,EAAW0kB,SAASC,OAC3FC,EAAUrkB,EAAIiE,MAAM,UAAWtE,EAAUa,CAAE,MACjDR,EAAIskB,IAAI3kB,EAAUa,CAAE,IAAIxU,OAAQ,KAC5BgU,EAAI4D,IAAIlF,EAAMiB,EAAUa,CAAE,GAAGvQ,KAAQjE,MACrCgU,EAAIa,GAAGojB,EAAWtkB,EAAUa,CAAE,YAC1BujB,EAAU/rB,OAAS,GACnBgI,EAAIa,GAAGlB,EAAUa,CAAE,UAAU9B,gBAAoBiB,EAAUa,CAAE,GAAG9B,YACpEsB,EACKa,GAAGlB,EAAUa,CAAE,UAAU6jB,KAAW3lB,iBAAqB,KAC1DsB,EAAIkE,OAAO4f,EAAGnkB,EAAUa,CAAE,GAAG6jB,KAAW3lB,MACxC2P,EAAI7mB,QACJwY,EAAIkE,OAAOU,GAAO,GAAO+K,UAExBtP,KAAKV,EAAUa,CAAE,GAAG6jB,KAAW3lB,QAAW1S,OAGvD,SAASu4B,EAAOv4B,EAAG83B,GACf,MAAMU,EAAMnW,EAAIrO,IAAIsD,WAAW,OAAQ,CACnChY,IAAKu4B,EACLxjB,KAAMV,EAAUa,CAAE,sCAEhBikB,EAAQzkB,EAAI5Y,KAAK,SACvB4Y,EAAI0kB,MAAMD,GAAOH,IAAI3kB,EAAUa,CAAE,IAAIxU,OAAQ,IAAMgU,EAAIskB,IAAI3kB,EAAUa,CAAE,GAAGsjB,OAAO93B,MAAM83B,OAAQ,IAAM9jB,EAAIa,GAAGlB,EAAUa,CAAE,GAAGgkB,KAAOv0B,KAAQjE,OAAOiE,KAAQ6zB,MAAO,KAC5JzV,EAAI7mB,QACJwY,EAAIkE,OAAOU,GAAO,GAAO+K,MAAM8U,OAtCvCpW,EAAIsG,WAAW/P,GAEf,WACI,MAAM5Y,EAAIgU,EAAI4D,IAAI,IAAKjE,EAAUa,CAAE,GAAGvQ,YAChC6zB,EAAI9jB,EAAI4D,IAAI,KAClByK,EAAIE,UAAU,CAAEviB,IAAG83B,MACnB9jB,EAAIkE,OAAOU,GAAO,GAClB5E,EAAIa,GAAGlB,EAAUa,CAAE,GAAGxU,QAAS,KAGxB+3B,EAAU/rB,OAAS,IAAM+rB,EAAU1T,KAAMlX,GAAY,WAANA,GAAwB,UAANA,GAHlB6qB,EAAQO,GAAQv4B,EAAG83B,MAPlCnkB,EAAUa,CAAE,GAAGoO,eAC1DP,EAAIgH,GAAGzQ,KA0CfzF,EAAQsB,QAAUqT,G,kCC/DlBnrB,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtD,MAAM8X,EAAY,EAAQ,IACpBkkB,EAAQ,EAAQ,KAKhB/P,EAAM,CACRvE,QAAS,QACTyE,OAAO,EACPxsB,MAPU,CACV4d,QAAS,8BACT1e,OAAQ,EAAGkoB,gBAAiBjP,EAAUa,CAAE,kBAAkBoO,MAM1D,KAAKP,GACD,MAAMmW,EAAMnW,EAAIrO,IAAIsD,WAAW,OAAQ,CACnChY,IAAKu4B,EACLxjB,KAAMV,EAAUa,CAAE,sCAGtB6N,EAAIkU,UAAU5iB,EAAUa,CAAE,IAAIgkB,KAAOnW,EAAIpe,SAASoe,EAAIO,iBAG9DzP,EAAQsB,QAAUqT,G,kCCpBlBnrB,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtD,MAAM8X,EAAY,EAAQ,IACpBkkB,EAAQ,EAAQ,KAKhB/P,EAAM,CACRvE,QAAS,OACT0N,WAAY,QACZjJ,OAAO,EACPxsB,MARU,CACV4d,QAAS,+CACT1e,OAAQ,EAAGkoB,gBAAiBjP,EAAUa,CAAE,mBAAmBoO,MAO3D,KAAKP,GACD,MAAM,IAAErO,EAAG,KAAE/P,EAAI,MAAE+jB,EAAK,OAAE9T,EAAM,WAAE0O,EAAU,GAAE9M,GAAOuM,EACrD,IAAK2F,GAA2B,IAAlB9T,EAAOlI,OACjB,MAAM,IAAIhQ,MAAM,kCACpB,MAAMo7B,EAAUljB,EAAOlI,QAAU8J,EAAG5W,KAAKutB,SACnC+L,EAAMnW,EAAIrO,IAAIsD,WAAW,OAAQ,CACnChY,IAAKu4B,EACLxjB,KAAMV,EAAUa,CAAE,sCAEtB,IAAIoE,EACJ,GAAIwe,GAAWpP,EACXpP,EAAQ5E,EAAI4D,IAAI,SAChByK,EAAIsG,WAAW/P,GAUnB,WACI5E,EAAIkE,OAAOU,GAAO,GAClB5E,EAAIujB,MAAM,IAAK3U,EAAa+L,GAAM3a,EAAIa,GAAGlB,EAAUa,CAAE,GAAGgkB,KAAOv0B,MAAS0qB,KAAM,IAAM3a,EAAIkE,OAAOU,GAAO,GAAM+K,iBAV3G,CAED,IAAK9kB,MAAMulB,QAAQlQ,GACf,MAAM,IAAIlY,MAAM,4BACpB,MAAM28B,EAAU3kB,EAAIiE,MAAM,UAAW2K,GACrChK,EAAQjF,EAAUsO,MAAM/N,EAAOjX,IAAI,CAAC27B,EAAI54B,IAO5C,SAAmB24B,EAAS34B,GACxB,MAAMskB,EAAMpQ,EAAOlU,GACnB,OAAOskB,GAAsB,iBAARA,EACf3Q,EAAUa,CAAE,GAAGgkB,KAAOv0B,MAAS00B,KAAW34B,MAC1C2T,EAAUa,CAAE,GAAGvQ,SAAYqgB,IAXauU,CAAUF,EAAS34B,KAErEqiB,EAAIsH,KAAK/Q,KAajBzF,EAAQsB,QAAUqT,G,kCC9ClBnrB,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtD,MAAMi9B,EAAoB,EAAQ,MAC5BC,EAAU,EAAQ,MAClBC,EAAa,EAAQ,MACrBC,EAAiB,EAAQ,MACzBC,EAAkB,EAAQ,MAC1BC,EAAyB,EAAQ,KACjCC,EAAe,EAAQ,MACvBC,EAAsB,EAAQ,MAC9BC,EAAQ,EAAQ,MAChBC,EAAU,EAAQ,MAClBC,EAAU,EAAQ,MAClBC,EAAU,EAAQ,MAClBC,EAAO,EAAQ,MACfC,EAAa,EAAQ,MACrBC,EAAa,CAEfN,EAAM7kB,QACN8kB,EAAQ9kB,QACR+kB,EAAQ/kB,QACRglB,EAAQhlB,QACRilB,EAAKjlB,QACLklB,EAAWllB,QAEXqkB,EAAkBrkB,QAClBskB,EAAQtkB,QACRukB,EAAWvkB,QAEXykB,EAAgBzkB,QAChB0kB,EAAuB1kB,QACvBwkB,EAAexkB,QACf2kB,EAAa3kB,QACb4kB,EAAoB5kB,SAExBtB,EAAQsB,QAAUmlB,G,kCClClBj9B,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtD,MAAM8X,EAAY,EAAQ,IACpB+N,EAAc,EAAQ,KACtB5N,EAAS,EAAQ,IACjBqjB,EAAa,EAAQ,KAKrBrP,EAAM,CACRvE,QAAS,kBACTpnB,KAAM,QACN80B,WAAY,CAAC,UAAW,UACxB6B,OAAQ,cACRt3B,MATU,CACV4d,QAAS,EAAG1e,QAAUmpB,UAAYlQ,EAAUyD,GAAI,6BAA6ByM,UAC7EnpB,OAAQ,EAAGA,QAAUmpB,UAAYlQ,EAAUa,CAAE,WAAWqP,MAQxD,KAAKxB,GACD,MAAM,IAAErO,EAAG,OAAEE,EAAM,aAAE6T,EAAY,KAAE9jB,EAAI,GAAE6R,GAAOuM,GAC1C,MAAE9kB,GAAUwqB,EAClB,IAAKlpB,MAAMulB,QAAQ7mB,GAEf,YADA45B,EAAW/jB,gBAAgB0C,EAAI,wEAGnCA,EAAGvY,OAAQ,EACX,MAAMsmB,EAAM7P,EAAIiE,MAAM,MAAOtE,EAAUa,CAAE,GAAGvQ,YAC5C,IAAe,IAAXiQ,EACAmO,EAAIE,UAAU,CAAEsB,IAAKtmB,EAAMyO,SAC3BqW,EAAIsH,KAAKhW,EAAUa,CAAE,GAAGqP,QAAUtmB,EAAMyO,eAEvC,GAAqB,iBAAVkI,IAAuBJ,EAAO6O,kBAAkB7M,EAAI5B,GAAS,CACzE,MAAM0E,EAAQ5E,EAAIc,IAAI,QAASnB,EAAUa,CAAE,GAAGqP,QAAUtmB,EAAMyO,UAC9DgI,EAAIa,GAAGlB,EAAUuO,IAAItJ,GAAQ,IAGjC,SAAuBA,GACnB5E,EAAI8P,SAAS,IAAKvmB,EAAMyO,OAAQ6X,EAAM7jB,IAClCqiB,EAAI0B,UAAU,CAAER,QAAS,kBAAmBS,SAAUhkB,EAAGikB,aAAcvC,EAAYwC,KAAKC,KAAOvL,GAC1F9C,EAAG0N,WACJxP,EAAIa,GAAGlB,EAAUuO,IAAItJ,GAAQ,IAAM5E,EAAI2P,WAPZD,CAAc9K,IACjDyJ,EAAIgH,GAAGzQ,MAWnBzF,EAAQsB,QAAUqT,G,kCC1ClBnrB,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtD,MAAM8X,EAAY,EAAQ,IACpBG,EAAS,EAAQ,IACjBqjB,EAAa,EAAQ,KACrBvP,EAAS,EAAQ,KACjBE,EAAM,CACRvE,QAAS,QACTpnB,KAAM,QACN80B,WAAY,CAAC,SAAU,QAAS,WAChC6B,OAAQ,cACR,KAAKzQ,GACD,MAAM,IAAErO,EAAG,OAAEE,EAAM,GAAE4B,GAAOuM,EAC5B,GAAIxjB,MAAMulB,QAAQlQ,GACV4B,EAAG5W,KAAK6Y,aAAe7D,EAAOlI,SAAuB,IAAb8J,EAAGvY,QAC3CuY,EAAGvY,MAAQuW,EAAOygB,eAAeh3B,MAAMyW,EAAKE,EAAOlI,OAAQ8J,EAAGvY,QAUtE,SAAuBs8B,GACnB,MAAM,aAAE9R,EAAY,KAAE9jB,GAASoe,EAC/B,GAAIvM,EAAG5W,KAAKotB,eAmBxB,SAAyBzI,EAAKS,GAC1B,OAAOT,IAAQS,EAAIwV,WAAajW,IAAQS,EAAIyV,WAAoC,IAAxBzV,EAAI0V,iBApBvBC,CAAgBJ,EAAO7tB,OAAQ+b,GAAe,CACvE,MAAM9Q,EAAM,cAAc4iB,EAAO7tB,wFACjCmrB,EAAW/jB,gBAAgB0C,EAAImB,EAAKnB,EAAG5W,KAAKotB,cAEhD,MAAM1T,EAAQ5E,EAAI5Y,KAAK,SACjByoB,EAAM7P,EAAIiE,MAAM,MAAOtE,EAAUa,CAAE,GAAGvQ,YAC5C41B,EAAOpqB,QAAQ,CAAC6U,EAAKtkB,KACb8T,EAAO6O,kBAAkB7M,EAAIwO,KAEjCtQ,EAAIa,GAAGlB,EAAUa,CAAE,GAAGqP,OAAS7jB,IAAK,IAAMqiB,EAAI0B,UAAU,CACpDR,QAAS,QACToB,WAAY3kB,EACZgkB,SAAUhkB,GACX4Y,IACHyJ,EAAIgH,GAAGzQ,MAxBXshB,CAAchmB,OAEb,CAED,GADA4B,EAAGvY,OAAQ,EACPuW,EAAO6O,kBAAkB7M,EAAI5B,GAC7B,OACJmO,EAAIgH,GAAGzB,EAAO9G,cAAcuB,OA0BxClP,EAAQsB,QAAUqT,G,kCChDlBnrB,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtD,MAAM8X,EAAY,EAAQ,IACpB+N,EAAc,EAAQ,KACtB5N,EAAS,EAAQ,IACjBqjB,EAAa,EAAQ,KAOrBrP,EAAM,CACRvE,QAAS,WACTpnB,KAAM,QACN80B,WAAY,CAAC,SAAU,WACvB6B,OAAQ,cACRqH,aAAa,EACb3+B,MAZU,CACV4d,QAAS,EAAG1e,QAAU4T,MAAKC,eAAoBkJ,IAARlJ,EACjCoF,EAAUyD,GAAI,2BAA2B9I,kBACzCqF,EAAUyD,GAAI,2BAA2B9I,sBAAwBC,kBACvE7T,OAAQ,EAAGA,QAAU4T,MAAKC,eAAoBkJ,IAARlJ,EAAoBoF,EAAUa,CAAE,iBAAiBlG,KAASqF,EAAUa,CAAE,iBAAiBlG,mBAAqBC,MASlJ,KAAK8T,GACD,MAAM,IAAErO,EAAG,OAAEE,EAAM,aAAE6T,EAAY,KAAE9jB,EAAI,GAAE6R,GAAOuM,EAChD,IAAI/T,EACAC,EACJ,MAAM,YAAE6rB,EAAW,YAAEC,GAAgBtS,EACjCjS,EAAG5W,KAAKo7B,MACRhsB,OAAsBmJ,IAAhB2iB,EAA4B,EAAIA,EACtC7rB,EAAM8rB,GAGN/rB,EAAM,EAEV,MAAMuV,EAAM7P,EAAIiE,MAAM,MAAOtE,EAAUa,CAAE,GAAGvQ,YAE5C,GADAoe,EAAIE,UAAU,CAAEjU,MAAKC,aACTkJ,IAARlJ,GAA6B,IAARD,EAErB,YADA6oB,EAAW/jB,gBAAgB0C,EAAI,wEAGnC,QAAY2B,IAARlJ,GAAqBD,EAAMC,EAG3B,OAFA4oB,EAAW/jB,gBAAgB0C,EAAI,wDAC/BuM,EAAI2T,OAGR,GAAIliB,EAAO6O,kBAAkB7M,EAAI5B,GAAS,CACtC,IAAI6N,EAAOpO,EAAUa,CAAE,GAAGqP,QAAUvV,IAIpC,YAHYmJ,IAARlJ,IACAwT,EAAOpO,EAAUa,CAAE,GAAGuN,QAAW8B,QAAUtV,UAC/C8T,EAAIsH,KAAK5H,GAGbjM,EAAGvY,OAAQ,EACX,MAAMqb,EAAQ5E,EAAI5Y,KAAK,SACvB,QAAYqc,IAARlJ,GAA6B,IAARD,EACrBoV,EAAc9K,EAAO,IAAM5E,EAAIa,GAAG+D,EAAO,IAAM5E,EAAI2P,cAElD,CACD3P,EAAI4D,IAAIgB,GAAO,GACf,MAAM2L,EAAWvQ,EAAI5Y,KAAK,UACpBm/B,EAAQvmB,EAAI4D,IAAI,QAAS,GAC/B8L,EAAca,EAAU,IAAMvQ,EAAIa,GAAG0P,EAAU,IAcnD,SAAqBgW,GACjBvmB,EAAIK,KAAKV,EAAUa,CAAE,GAAG+lB,YACZ9iB,IAARlJ,EACAyF,EAAIa,GAAGlB,EAAUa,CAAE,GAAG+lB,QAAYjsB,IAAO,IAAM0F,EAAIkE,OAAOU,GAAO,GAAM+K,UAGvE3P,EAAIa,GAAGlB,EAAUa,CAAE,GAAG+lB,OAAWhsB,IAAO,IAAMyF,EAAIkE,OAAOU,GAAO,GAAO+K,SAC3D,IAARrV,EACA0F,EAAIkE,OAAOU,GAAO,GAElB5E,EAAIa,GAAGlB,EAAUa,CAAE,GAAG+lB,QAAYjsB,IAAO,IAAM0F,EAAIkE,OAAOU,GAAO,KAxBpB4hB,CAAYD,KAGrE,SAAS7W,EAAc+W,EAAQjW,GAC3BxQ,EAAI8P,SAAS,IAAK,EAAGD,EAAM7jB,IACvBqiB,EAAI0B,UAAU,CACVR,QAAS,WACTS,SAAUhkB,EACVikB,aAAcvC,EAAYwC,KAAKC,IAC/BS,eAAe,GAChB6V,GACHjW,MATRnC,EAAI/H,OAAO1B,EAAO,IAAMyJ,EAAIyC,WA2BpC3R,EAAQsB,QAAUqT,G,kCCtFlBnrB,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtDsX,EAAQunB,mBAAqBvnB,EAAQwnB,qBAAuBxnB,EAAQ3X,WAAQ,EAC5E,MAAMmY,EAAY,EAAQ,IACpBG,EAAS,EAAQ,IACjB8T,EAAS,EAAQ,KACvBzU,EAAQ3X,MAAQ,CACZ4d,QAAS,EAAG1e,QAAUmnB,WAAU+Y,YAAW7a,YACvC,MAAM8a,EAA6B,IAAdD,EAAkB,WAAa,aACpD,OAAOjnB,EAAUyD,GAAI,eAAeyjB,KAAgB9a,mBAAsB8B,gBAE9EnnB,OAAQ,EAAGA,QAAUmnB,WAAU+Y,YAAW7a,OAAMyC,sBAAwB7O,EAAUa,CAAE,cAAcqN;uBAC/EW;iBACNoY;YACL7a,MAEZ,MAAM+H,EAAM,CACRvE,QAAS,eACTpnB,KAAM,SACN80B,WAAY,SACZz1B,MAAO2X,EAAQ3X,MACf,KAAK6mB,GACD,MAAOyY,EAAUC,GAKzB,UAA2B,OAAE7mB,IACzB,MAAM8mB,EAAe,GACfC,EAAa,GACnB,IAAK,MAAMh7B,KAAOiU,EAAQ,CACtB,GAAY,cAARjU,EACA,UACSpB,MAAMulB,QAAQlQ,EAAOjU,IAAQ+6B,EAAeC,GACpDh7B,GAAOiU,EAAOjU,GAEvB,MAAO,CAAC+6B,EAAcC,GAdUC,CAAkB7Y,GAC9CsY,EAAqBtY,EAAKyY,GAC1BJ,EAAmBrY,EAAK0Y,KAchC,SAASJ,EAAqBtY,EAAK2Y,EAAe3Y,EAAInO,QAClD,MAAM,IAAEF,EAAG,KAAE/P,EAAI,GAAE6R,GAAOuM,EAC1B,GAAyC,IAArC1lB,OAAOylB,KAAK4Y,GAAchvB,OAC1B,OACJ,MAAM6S,EAAU7K,EAAI4D,IAAI,WACxB,IAAK,MAAM0K,KAAQ0Y,EAAc,CAC7B,MAAMjb,EAAOib,EAAa1Y,GAC1B,GAAoB,IAAhBvC,EAAK/T,OACL,SACJ,MAAMmvB,EAAcvT,EAAOxG,eAAepN,EAAK/P,EAAMqe,EAAMxM,EAAG5W,KAAK4iB,eACnEO,EAAIE,UAAU,CACVV,SAAUS,EACVsY,UAAW7a,EAAK/T,OAChB+T,KAAMA,EAAKne,KAAK,QAEhBkU,EAAG0N,UACHxP,EAAIa,GAAGsmB,EAAa,KAChB,IAAK,MAAMC,KAAWrb,EAClB6H,EAAOnG,uBAAuBY,EAAK+Y,MAK3CpnB,EAAIa,GAAGlB,EAAUa,CAAE,GAAG2mB,SAAmBvT,EAAOpG,iBAAiBa,EAAKtC,EAAMlB,OAC5E+I,EAAOrG,kBAAkBc,EAAKxD,GAC9B7K,EAAIyS,SAKhB,SAASiU,EAAmBrY,EAAK4Y,EAAa5Y,EAAInO,QAC9C,MAAM,IAAEF,EAAG,KAAE/P,EAAI,QAAEsf,EAAO,GAAEzN,GAAOuM,EAC7BzJ,EAAQ5E,EAAI5Y,KAAK,SACvB,IAAK,MAAMknB,KAAQ2Y,EACXnnB,EAAO6O,kBAAkB7M,EAAImlB,EAAW3Y,MAE5CtO,EAAIa,GAAG+S,EAAOxG,eAAepN,EAAK/P,EAAMqe,EAAMxM,EAAG5W,KAAK4iB,eAAgB,KAClE,MAAM4C,EAASrC,EAAI0B,UAAU,CAAER,UAASoB,WAAYrC,GAAQ1J,GAC5DyJ,EAAIwC,oBAAoBH,EAAQ9L,IACjC,IAAM5E,EAAIc,IAAI8D,GAAO,IAExByJ,EAAIgH,GAAGzQ,IAZfzF,EAAQwnB,qBAAuBA,EAe/BxnB,EAAQunB,mBAAqBA,EAC7BvnB,EAAQsB,QAAUqT,G,kCClFlBnrB,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtD,MAAM8X,EAAY,EAAQ,IACpBG,EAAS,EAAQ,IAKjBgU,EAAM,CACRvE,QAAS,gBACTpnB,KAAM,SACN80B,WAAY,CAAC,SAAU,WACvBz1B,MARU,CACV4d,QAAS,EAAG1e,YAAaiZ,EAAUyD,GAAI,kBAAkB1c,EAAO2gC,2BAChE3gC,OAAQ,EAAGA,YAAaiZ,EAAUa,CAAE,kBAAkB9Z,EAAO2gC,iBAO7D,KAAKhZ,GACD,MAAM,IAAErO,EAAG,OAAEE,EAAM,KAAEjQ,EAAI,GAAE6R,GAAOuM,EAClC,GAAIvO,EAAO6O,kBAAkB7M,EAAI5B,GAC7B,OACJ,MAAM0E,EAAQ5E,EAAI5Y,KAAK,SACvB4Y,EAAIsnB,MAAM,MAAOr3B,EAAOhE,IACpBoiB,EAAIE,UAAU,CAAE8Y,aAAcp7B,IAC9BoiB,EAAI0B,UAAU,CACVR,QAAS,gBACTtf,KAAMhE,EACN4mB,UAAW,CAAC,UACZwU,aAAcp7B,EACd2kB,eAAe,GAChBhM,GACH5E,EAAIa,GAAGlB,EAAUuO,IAAItJ,GAAQ,KACzByJ,EAAI7mB,OAAM,GACLsa,EAAG0N,WACJxP,EAAI2P,YAGhBtB,EAAIgH,GAAGzQ,KAGfzF,EAAQsB,QAAUqT,G,kCCnClBnrB,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtD,MAAM8rB,EAAY,EAAQ,KACpBC,EAAS,EAAQ,KACjB9T,EAAS,EAAQ,IACjBqlB,EAAyB,EAAQ,KACjCrR,EAAM,CACRvE,QAAS,aACTpnB,KAAM,SACN80B,WAAY,SACZ,KAAK5O,GACD,MAAM,IAAErO,EAAG,OAAEE,EAAM,aAAE6T,EAAY,KAAE9jB,EAAI,GAAE6R,GAAOuM,EACf,QAA7BvM,EAAG5W,KAAKq8B,uBAAoE9jB,IAAtCsQ,EAAayT,sBACnDrC,EAAuB1kB,QAAQJ,KAAK,IAAIsT,EAAUlT,QAAQqB,EAAIqjB,EAAuB1kB,QAAS,yBAElG,MAAMgnB,EAAW7T,EAAO1G,oBAAoBhN,GAC5C,IAAK,MAAMoO,KAAQmZ,EACf3lB,EAAG6hB,kBAAkBh5B,IAAI2jB,GAEzBxM,EAAG5W,KAAK6Y,aAAe0jB,EAASzvB,SAAuB,IAAb8J,EAAGzW,QAC7CyW,EAAGzW,MAAQyU,EAAOygB,eAAel1B,MAAM2U,EAAKF,EAAO4nB,OAAOD,GAAW3lB,EAAGzW,QAE5E,MAAMojB,EAAagZ,EAASl/B,OAAQqR,IAAOkG,EAAO6O,kBAAkB7M,EAAI5B,EAAOtG,KAC/E,GAA0B,IAAtB6U,EAAWzW,OACX,OACJ,MAAM4M,EAAQ5E,EAAI5Y,KAAK,SACvB,IAAK,MAAMknB,KAAQG,EACXkZ,EAAWrZ,GACXsZ,EAAoBtZ,IAGpBtO,EAAIa,GAAG+S,EAAOxG,eAAepN,EAAK/P,EAAMqe,EAAMxM,EAAG5W,KAAK4iB,gBACtD8Z,EAAoBtZ,GACfxM,EAAG0N,WACJxP,EAAIyS,OAAO3R,IAAI8D,GAAO,GAC1B5E,EAAI2S,SAERtE,EAAIvM,GAAG6hB,kBAAkBh5B,IAAI2jB,GAC7BD,EAAIgH,GAAGzQ,GAEX,SAAS+iB,EAAWrZ,GAChB,OAAOxM,EAAG5W,KAAKwY,cAAgB5B,EAAG8O,oBAA0CnN,IAAzBvD,EAAOoO,GAAM7N,QAEpE,SAASmnB,EAAoBtZ,GACzBD,EAAI0B,UAAU,CACVR,QAAS,aACToB,WAAYrC,EACZ0B,SAAU1B,GACX1J,MAIfzF,EAAQsB,QAAUqT,G,kCCnDlBnrB,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtD,MAAM+rB,EAAS,EAAQ,KACjBjU,EAAY,EAAQ,IACpB+N,EAAc,EAAQ,KACtByV,EAAa,EAAQ,KACrBrjB,EAAS,EAAQ,IACjBgU,EAAM,CACRvE,QAAS,oBACTpnB,KAAM,SACN80B,WAAY,SACZ,KAAK5O,GACD,MAAM,IAAErO,EAAG,OAAEE,EAAM,KAAEjQ,EAAI,aAAE8jB,EAAY,GAAEjS,GAAOuM,GAC1C,KAAEnjB,GAAS4W,EACX+lB,EAAWjU,EAAO3G,iBAAiBnL,EAAI5B,GAE7C,GAAwB,IAApB2nB,EAAS7vB,OACT,OACJ,MAAM8vB,EAAkB58B,EAAKsY,SAAWtY,EAAK68B,yBAA2BhU,EAAatF,WAC/E7J,EAAQ5E,EAAI5Y,KAAK,UACN,IAAb0a,EAAGzW,OAAoByW,EAAGzW,iBAAiBsU,EAAU4E,OACrDzC,EAAGzW,MAAQyU,EAAOkoB,qBAAqBhoB,EAAK8B,EAAGzW,QAEnD,MAAM,MAAEA,GAAUyW,EAgBlB,SAASmmB,EAAwBC,GAC7B,IAAK,MAAM5Z,KAAQwZ,EACX,IAAIxY,OAAO4Y,GAAKpK,KAAKxP,IACrB6U,EAAW/jB,gBAAgB0C,EAAI,YAAYwM,qBAAwB4Z,mCAI/E,SAASC,EAAmBD,GACxBloB,EAAIsnB,MAAM,MAAOr3B,EAAOhE,IACpB+T,EAAIa,GAAGlB,EAAUa,CAAE,GAAGoT,EAAO7G,WAAW/M,EAAKkoB,WAAaj8B,KAAQ,KAC9DoiB,EAAI0B,UAAU,CACVR,QAAS,oBACToB,WAAYuX,EACZlY,SAAU/jB,EACVgkB,aAAcvC,EAAYwC,KAAKkY,KAChCxjB,GACC9C,EAAG5W,KAAK6Y,cAAyB,IAAV1Y,EACvB2U,EAAIkE,OAAOvE,EAAUa,CAAE,GAAGnV,KAASY,MAAQ,GAErC6V,EAAG0N,WAGTxP,EAAIa,GAAGlB,EAAUuO,IAAItJ,GAAQ,IAAM5E,EAAI2P,cApCvD,WACI,IAAK,MAAMuY,KAAOL,EACVC,GACAG,EAAwBC,GACxBpmB,EAAG0N,UACH2Y,EAAmBD,IAGnBloB,EAAIc,IAAI8D,GAAO,GACfujB,EAAmBD,GACnBloB,EAAIa,GAAG+D,IAXnByjB,KA4CRlpB,EAAQsB,QAAUqT,G,kCCnElBnrB,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtD,MAAMiY,EAAS,EAAQ,IACjBgU,EAAM,CACRvE,QAAS,MACT0N,WAAY,CAAC,SAAU,WACvBkJ,aAAa,EACb,KAAK9X,GACD,MAAM,IAAErO,EAAG,OAAEE,EAAM,GAAE4B,GAAOuM,EAC5B,GAAIvO,EAAO6O,kBAAkB7M,EAAI5B,GAE7B,YADAmO,EAAI2T,OAGR,MAAMpd,EAAQ5E,EAAI5Y,KAAK,SACvBinB,EAAI0B,UAAU,CACVR,QAAS,MACTqB,eAAe,EACf0X,cAAc,EACd9Y,WAAW,GACZ5K,GACHyJ,EAAI/H,OAAO1B,EAAO,IAAMyJ,EAAI7mB,QAAS,IAAM6mB,EAAIyC,UAEnDtpB,MAAO,CACH4d,QAAS,wBAGjBjG,EAAQsB,QAAUqT,G,kCCzBlBnrB,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtD,MACMisB,EAAM,CACRvE,QAAS,QACT0N,WAAY,QACZkJ,aAAa,EACb9lB,KALW,EAAQ,KAKNwM,cACbrlB,MAAO,CACH4d,QAAS,sCAGjBjG,EAAQsB,QAAUqT,G,kCCXlBnrB,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtD,MAAM8X,EAAY,EAAQ,IACpBG,EAAS,EAAQ,IAKjBgU,EAAM,CACRvE,QAAS,QACT0N,WAAY,QACZkJ,aAAa,EACb3+B,MARU,CACV4d,QAAS,2CACT1e,OAAQ,EAAGA,YAAaiZ,EAAUa,CAAE,oBAAoB9Z,EAAO6hC,YAO/D,KAAKla,GACD,MAAM,IAAErO,EAAG,OAAEE,EAAM,GAAE4B,GAAOuM,EAE5B,IAAKxjB,MAAMulB,QAAQlQ,GACf,MAAM,IAAIlY,MAAM,4BACpB,MAAM69B,EAAS3lB,EACT0E,EAAQ5E,EAAI4D,IAAI,SAAS,GACzB2kB,EAAUvoB,EAAI4D,IAAI,UAAW,MAC7B2M,EAAWvQ,EAAI5Y,KAAK,UAC1BinB,EAAIE,UAAU,CAAEga,YAEhBvoB,EAAIwQ,OAEJ,WACIqV,EAAOpqB,QAAQ,CAAC6U,EAAKtkB,KACjB,IAAI0kB,EACA5Q,EAAO6O,kBAAkB7M,EAAIwO,GAC7BtQ,EAAIc,IAAIyP,GAAU,GAGlBG,EAASrC,EAAI0B,UAAU,CACnBR,QAAS,QACToB,WAAY3kB,EACZ4kB,eAAe,GAChBL,GAEHvkB,EAAI,GACJgU,EACKa,GAAGlB,EAAUa,CAAE,GAAG+P,QAAe3L,KACjCV,OAAOU,GAAO,GACdV,OAAOqkB,EAAS5oB,EAAUa,CAAE,IAAI+nB,MAAYv8B,MAC5CymB,OAETzS,EAAIa,GAAG0P,EAAU,KACbvQ,EAAIkE,OAAOU,GAAO,GAClB5E,EAAIkE,OAAOqkB,EAASv8B,GAChB0kB,GACArC,EAAIkS,eAAe7P,EAAQ/Q,EAAU4E,aAzBrD8J,EAAI/H,OAAO1B,EAAO,IAAMyJ,EAAIyC,QAAS,IAAMzC,EAAI7mB,OAAM,MA+B7D2X,EAAQsB,QAAUqT,G,kCCvDlBnrB,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtD,MAAMiY,EAAS,EAAQ,IACjBgU,EAAM,CACRvE,QAAS,QACT0N,WAAY,QACZ,KAAK5O,GACD,MAAM,IAAErO,EAAG,OAAEE,EAAM,GAAE4B,GAAOuM,EAE5B,IAAKxjB,MAAMulB,QAAQlQ,GACf,MAAM,IAAIlY,MAAM,4BACpB,MAAM4c,EAAQ5E,EAAI5Y,KAAK,SACvB8Y,EAAOzE,QAAQ,CAAC6U,EAAKtkB,KACjB,GAAI8T,EAAO6O,kBAAkB7M,EAAIwO,GAC7B,OACJ,MAAMI,EAASrC,EAAI0B,UAAU,CAAER,QAAS,QAASoB,WAAY3kB,GAAK4Y,GAClEyJ,EAAIgH,GAAGzQ,GACPyJ,EAAIkS,eAAe7P,OAI/BvR,EAAQsB,QAAUqT,G,kCCpBlBnrB,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtD,MAAM8X,EAAY,EAAQ,IACpBG,EAAS,EAAQ,IACjBqjB,EAAa,EAAQ,KAKrBrP,EAAM,CACRvE,QAAS,KACT0N,WAAY,CAAC,SAAU,WACvBkJ,aAAa,EACb3+B,MARU,CACV4d,QAAS,EAAG1e,YAAaiZ,EAAUyD,GAAI,iBAAiB1c,EAAO8hC,mBAC/D9hC,OAAQ,EAAGA,YAAaiZ,EAAUa,CAAE,oBAAoB9Z,EAAO8hC,aAO/D,KAAKna,GACD,MAAM,IAAErO,EAAG,aAAE+T,EAAY,GAAEjS,GAAOuM,OACR5K,IAAtBsQ,EAAavjB,WAA4CiT,IAAtBsQ,EAAatB,MAChD0Q,EAAW/jB,gBAAgB0C,EAAI,6CAEnC,MAAM2mB,EAAUC,EAAU5mB,EAAI,QACxB6mB,EAAUD,EAAU5mB,EAAI,QAC9B,IAAK2mB,IAAYE,EACb,OACJ,MAAM/jB,EAAQ5E,EAAI4D,IAAI,SAAS,GACzB2M,EAAWvQ,EAAI5Y,KAAK,UAG1B,GAYA,WACI,MAAMspB,EAASrC,EAAI0B,UAAU,CACzBR,QAAS,KACTqB,eAAe,EACf0X,cAAc,EACd9Y,WAAW,GACZe,GACHlC,EAAIkS,eAAe7P,GArBvBkY,GACAva,EAAIyC,QACA2X,GAAWE,EAAS,CACpB,MAAMH,EAAWxoB,EAAI4D,IAAI,YACzByK,EAAIE,UAAU,CAAEia,aAChBxoB,EAAIa,GAAG0P,EAAUsY,EAAe,OAAQL,GAAWK,EAAe,OAAQL,SAErEC,EACLzoB,EAAIa,GAAG0P,EAAUsY,EAAe,SAGhC7oB,EAAIa,GAAGlB,EAAUuO,IAAIqC,GAAWsY,EAAe,SAYnD,SAASA,EAAetZ,EAASiZ,GAC7B,MAAO,KACH,MAAM9X,EAASrC,EAAI0B,UAAU,CAAER,WAAWgB,GAC1CvQ,EAAIkE,OAAOU,EAAO2L,GAClBlC,EAAIwC,oBAAoBH,EAAQ9L,GAC5B4jB,EACAxoB,EAAIkE,OAAOskB,EAAU7oB,EAAUa,CAAE,GAAG+O,KAEpClB,EAAIE,UAAU,CAAEia,SAAUjZ,KAlBtClB,EAAIsH,KAAK/Q,EAAO,IAAMyJ,EAAI7mB,OAAM,MAuBxC,SAASkhC,EAAU5mB,EAAIyN,GACnB,MAAMrP,EAAS4B,EAAG5B,OAAOqP,GACzB,YAAkB9L,IAAXvD,IAAyBJ,EAAO6O,kBAAkB7M,EAAI5B,GAEjEf,EAAQsB,QAAUqT,G,kCChElBnrB,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtD,MAAMs7B,EAAa,EAAQ,KACrBrP,EAAM,CACRvE,QAAS,CAAC,OAAQ,QAClB0N,WAAY,CAAC,SAAU,WACvB,MAAK,QAAE1N,EAAO,aAAEwE,EAAY,GAAEjS,SACF2B,IAApBsQ,EAAalT,IACbsiB,EAAW/jB,gBAAgB0C,EAAI,IAAIyN,gCAG/CpQ,EAAQsB,QAAUqT,G,kCCVlBnrB,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtD,MACM4uB,EAAS,CADE,EAAQ,MACAhW,SACzBtB,EAAQsB,QAAUgW,G,kCCHlB9tB,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtD,MAAM8X,EAAY,EAAQ,IAKpBmU,EAAM,CACRvE,QAAS,SACTpnB,KAAM,CAAC,SAAU,UACjB80B,WAAY,SACZjJ,OAAO,EACPxsB,MATU,CACV4d,QAAS,EAAGwJ,gBAAiBjP,EAAUyD,GAAI,wBAAwBwL,KACnEloB,OAAQ,EAAGkoB,gBAAiBjP,EAAUa,CAAE,YAAYoO,MAQpD,KAAKP,EAAKiH,GACN,MAAM,IAAEtV,EAAG,KAAE/P,EAAI,MAAE+jB,EAAK,OAAE9T,EAAM,WAAE0O,EAAU,GAAE9M,GAAOuM,GAC/C,KAAEnjB,EAAI,cAAE+W,EAAa,UAAE9B,EAAS,KAAEwB,GAASG,EAC5C5W,EAAK2tB,kBAEN7E,EAIJ,WACI,MAAM8U,EAAO9oB,EAAIsD,WAAW,UAAW,CACnChY,IAAKqW,EAAKsX,QACV5Y,KAAMnV,EAAKmV,KAAK4Y,UAEd8P,EAAO/oB,EAAIiE,MAAM,OAAQtE,EAAUa,CAAE,GAAGsoB,KAAQla,MAChDoa,EAAQhpB,EAAI4D,IAAI,SAChB6S,EAASzW,EAAI4D,IAAI,UAEvB5D,EAAIa,GAAGlB,EAAUa,CAAE,UAAUuoB,sBAAyBA,uBAA2B,IAAM/oB,EAAIkE,OAAO8kB,EAAOrpB,EAAUa,CAAE,GAAGuoB,sBAAyB7kB,OAAOuS,EAAQ9W,EAAUa,CAAE,GAAGuoB,cAAkB,IAAM/oB,EAAIkE,OAAO8kB,EAAOrpB,EAAUa,CAAE,YAAY0D,OAAOuS,EAAQsS,IAChQ1a,EAAIkU,UAAU5iB,EAAUsO,IAEA,IAAhB/iB,EAAKsY,OACE7D,EAAU2B,IACd3B,EAAUa,CAAE,GAAGoO,SAAkB6H,IAE5C,WACI,MAAMwS,EAAa9oB,EAAUQ,OACvBhB,EAAUa,CAAE,IAAIuoB,mBAAsBtS,KAAUxmB,QAAWwmB,KAAUxmB,MACrE0P,EAAUa,CAAE,GAAGiW,KAAUxmB,KACzBi5B,EAAYvpB,EAAUa,CAAE,WAAWiW,qBAA0BwS,OAAgBxS,UAAexmB,MAClG,OAAO0P,EAAUa,CAAE,GAAGiW,QAAaA,iBAAsBuS,SAAa1T,SAAgB4T,IAXjDC,KAbzCC,GA2BJ,WACI,MAAMC,EAAY1nB,EAAKsX,QAAQ/Y,GAC/B,IAAKmpB,EAED,YAOJ,WACI,IAAoB,IAAhBn+B,EAAKsY,OAEL,YADA7B,EAAKU,OAAOC,KAAKgnB,KAGrB,MAAM,IAAIthC,MAAMshC,KAChB,SAASA,IACL,MAAO,mBAAmBppB,iCAAsC+B,MAfpEsnB,GAGJ,IAAkB,IAAdF,EACA,OACJ,MAAOG,EAAS/S,EAAQgT,GAaxB,SAAmBC,GACf,MAAMC,EAAM3pB,EAAIsD,WAAW,UAAW,CAClCrX,IAAKiU,EACL5U,IAAKo+B,EACLrpB,KAAMnV,EAAKmV,KAAK4Y,QAAUtZ,EAAUa,CAAE,GAAGtV,EAAKmV,KAAK4Y,UAAUtZ,EAAUqO,YAAY9N,UAAYuD,IAEnG,GAAqB,iBAAVimB,KAAwBA,aAAkBpa,QACjD,MAAO,CAACoa,EAAOvhC,MAAQ,SAAUuhC,EAAOzV,SAAUtU,EAAUa,CAAE,GAAGmpB,cAErE,MAAO,CAAC,SAAUD,EAAQC,GAtBIC,CAAUP,GACxCG,IAAYlU,GACZjH,EAAIsH,KAsBR,WACI,GAAwB,iBAAb0T,KAA2BA,aAAqB/Z,SAAW+Z,EAAUhhC,MAAO,CACnF,IAAK8X,EAAUQ,OACX,MAAM,IAAI3Y,MAAM,+BACpB,OAAO2X,EAAUa,CAAE,SAASipB,KAAUx5B,KAE1C,MAAwB,mBAAVwmB,EAAuB9W,EAAUa,CAAE,GAAGipB,KAAUx5B,KAAU0P,EAAUa,CAAE,GAAGipB,UAAex5B,KA5B7F45B,IAnCbC,MAoEZ3qB,EAAQsB,QAAUqT,G,kCCxFlBnrB,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtDsX,EAAQwgB,kBAAoBxgB,EAAQugB,wBAAqB,EACzDvgB,EAAQugB,mBAAqB,CACzB,QACA,cACA,UACA,aACA,WACA,YACA,YAEJvgB,EAAQwgB,kBAAoB,CACxB,mBACA,kBACA,kB,iyFCfJ,mIAMA,SAASoK,EAAYC,GACnB,MAAMC,EAAQ,IAAIC,IAAI,sBAEtB,OADAD,EAAMD,KAAOA,EACNC,EAAMD,OAASA,EAExB,SAASG,EAAW13B,GAClB,IAEE,OADA,IAAIy3B,IAAIz3B,IACD,EACP,MACA,OAAO,GAGX,SAAS23B,EAAkBC,EAAcC,GACvC,MAAO,CACLC,KAAI,IACKF,EAET,MAAM53B,GACJ,MAAM+3B,EAAwB,iBAAR/3B,EAAmB,IAAIy3B,IAAIz3B,GAAOA,EACxD,OAAO43B,EAAaz9B,KAAMZ,GAAMs+B,EAAQt+B,KAAOw+B,EAAOC,WAExDC,OAAOV,GACEK,EAAaz9B,KAAMZ,GAAMs+B,EAAQt+B,KAAOg+B,IAIrD,SAASW,EAAqB96B,GAC5B,MAAM,IAAC4C,EAAG,KAAEm4B,EAAI,WAAEC,GAAch7B,EAChC,IAEE,OADA,IAAIq6B,IAAIz3B,GACDA,EACP,OAEF,IAAIq4B,EACJ,GAAIr4B,EAAIsT,WAAW,KAAM,CACvB,MAAM,SAACglB,GAAY,IAAYH,GAC/BE,EAAU,IAAIZ,IAAIU,GAClB,MAAMI,EAAeF,EAAQG,SAASC,UAAU,EAAGJ,EAAQG,SAASjzB,OAAS+yB,EAAS/yB,QAAQmzB,QAAQ,OAAQ,IAC9GL,EAAQG,SAAW,GAAGD,IAAev4B,SAErCq4B,EAAU,IAAIZ,IAAIz3B,EAAKm4B,GAMzB,OAJAE,EAAQh7B,OAAS,IAAIo6B,IAAIU,GAAM96B,OAC3B+6B,IACFC,EAAQM,KAAO,IAAIP,GAEdC,EAAQlgB,WAIjB,SAASygB,EAA2BtsB,GAClC,IAAIjY,EACJ,MAAMkjC,EAAkD,OAA1CljC,EAAKiY,EAAOusB,kBAAkB,SAAmBxkC,EAH9C,gBAIXykC,EAAQxsB,EAAOusB,kBAAkB,SACvC,IAAKvB,EAAYC,GACf,MAAM,IAAIhiC,MAAM,sCAAsCgiC,0BAExD,MAAO,CAACA,OAAMuB,SAUhB,MAAMC,EAAoB,MACxB,YAAYC,GACVxyB,KAAKwyB,kBAAoBA,EAE3B,WACE,MAAO,QAET,YACE,OAAOxyB,KAAKwyB,kBAAkBzB,KAEhC,aACE,OAAO/wB,KAAKwyB,kBAEd,WAAW57B,GACT,MAAM,IAAC4C,EAAG,KAAEm4B,GAAQ/6B,EACpB,GAAIs6B,EAAW13B,GACb,OAAOA,EAET,MAAM+3B,EAAS,IAAYI,IACrB,aAACc,EAAY,MAAEn/B,EAAK,KAAEnF,EAAI,SAAE2jC,GAAYP,EAC9C,IAAKkB,IAAiBn/B,IAAUnF,EAC9B,OAAO,IAAI8iC,IAAIz3B,EAAKm4B,GAAMhgB,WAE5B,MAAMtkB,GAAoB,MAAZykC,OAAmB,EAASA,EAASI,QAAQ,MAAO,MAAQ,GACpEQ,EAAc,IAAIzB,IAAI,iBAAiB5jC,GACvCslC,EAAc,IAAI1B,IAAIz3B,EAAKk5B,GAAaV,SACxCY,EAAS,IAAI3B,IAAIU,GAQvB,OAPAiB,EAAOC,aAAalhC,IAAI,OAAQghC,GAC5B/7B,EAAQg7B,aACVgB,EAAOC,aAAalhC,IAAI,OAAQ2K,OAAO1F,EAAQg7B,aAC/CgB,EAAOC,aAAalhC,IAAI,UAAW2K,OAAO1F,EAAQg7B,WAAa,IAC/DgB,EAAOC,aAAalhC,IAAI,kBAAmB,KAC3CihC,EAAOC,aAAalhC,IAAI,gBAAiB,MAEpCihC,EAAOjhB,WAEhB,eAAenY,GACb,OAAOA,IAGX,IAAIs5B,EAAmBP,EACvBO,EAAiB/f,QAAU,EAAEjN,aAC3B,IAAIjY,EAEJ,OAAOsjC,EApDT,SAAqC4B,GACnC,MAAM1lB,EAAS0lB,EAAQ/iC,IAAIoiC,GAI3B,OAHK/kB,EAAO+J,KAAM4b,GAZD,kBAYOA,EAAEjC,OACxB1jB,EAAOvd,KAAK,CAACihC,KAbE,kBAeV1jB,EA8CS4lB,CAA0F,OAA7DplC,EAAKiY,EAAOotB,uBAAuB,uBAAiCrlC,EAAK,IACrFmC,IAAKgjC,GAAM,IAAIT,EAAkBS,IAAMjgC,GAAMA,EAAE+S,OAAOirB,OAmGzF,SAASoC,EAA+BrtB,GACtC,IAAIjY,EACJ,MAAMkjC,EAAkD,OAA1CljC,EAAKiY,EAAOusB,kBAAkB,SAAmBxkC,EAJ1C,gBAKrB,IAAIulC,EAAattB,EAAOusB,kBAAkB,cAC1C,MAAMC,EAAQxsB,EAAOusB,kBAAkB,SACjCgB,EAAWvtB,EAAOusB,kBAAkB,YACpCiB,EAAcxtB,EAAOusB,kBAAkB,eAC7C,IAAKvB,EAAYC,GACf,MAAM,IAAIhiC,MAAM,0CAA0CgiC,0BAO5D,OALIqC,EACFA,EAAaA,EAAWlB,QAAQ,OAAQ,IAbrB,kBAcVnB,IACTqC,EAd2B,iCAgBtB,CACLrC,OACAqC,aACAd,QACAe,WACAC,eAcJ,MAAMC,EAAwB,MAC5B,YAAYf,GACVxyB,KAAKwyB,kBAAoBA,EAE3B,WACE,MAAO,YAET,YACE,OAAOxyB,KAAKwyB,kBAAkBzB,KAEhC,aACE,OAAO/wB,KAAKwyB,kBAEd,WAAW57B,GACT,MAAM48B,EAAW9B,EAAqB96B,GACtC,GAAIA,EAAQg7B,WAAY,CACtB,MAAMp4B,EAAM,IAAIy3B,IAAIuC,GACdC,EAAWj6B,EAAIw4B,SAASvgB,MAAM,KAAKgT,OAAO,GAAG,GAEnD,OADAjrB,EAAI24B,KAAO,GAAGsB,KAAY78B,EAAQg7B,aAC3Bp4B,EAAImY,WAEb,OAAO6hB,EAET,eAAeh6B,GACb,MAAMk6B,EAAU,IAAYl6B,GACtBm6B,EAAU,IAAI1C,IAAIz3B,GAIxB,OAHAm6B,EAAQd,aAAalhC,IAAI,OAAQ,QACjCgiC,EAAQd,aAAalhC,IAAI,MAAO,KAChCgiC,EAAQd,aAAalhC,IAAI,KAAM+hC,EAAQrhC,KAChCshC,EAAQhiB,aAGnB,IAAIiiB,EAAuBL,EAC3BK,EAAqB7gB,QAAU,EAC7BjN,aAEA,IAAIjY,EAEJ,OAAOsjC,EAjDT,SAAyC4B,GACvC,MAAM1lB,EAAS0lB,EAAQ/iC,IAAImjC,GAO3B,OANK9lB,EAAO+J,KAAM4b,GA3BG,kBA2BGA,EAAEjC,OACxB1jB,EAAOvd,KAAK,CACVihC,KA7BiB,gBA8BjBqC,WA7ByB,kCAgCtB/lB,EAwCSwmB,CAAkG,OAAjEhmC,EAAKiY,EAAOotB,uBAAuB,2BAAqCrlC,EAAK,IAC7FmC,IAAKgjC,GAAM,IAAIO,EAAsBP,IAAMjgC,GAAMA,EAAE+S,OAAOirB,OAiF7F,SAAS+C,EAA4BhuB,GACnC,IAAIjY,EAAIC,EACR,MAAMijC,EAAkD,OAA1CljC,EAAKiY,EAAOusB,kBAAkB,SAAmBxkC,EAL7C,aAMlB,IAAIulC,EAAattB,EAAOusB,kBAAkB,cACtC0B,EAAajuB,EAAOusB,kBAAkB,cAC1C,MAAMC,EAAQxsB,EAAOusB,kBAAkB,SACjC2B,EAAuD,OAA/ClmC,EAAKgY,EAAOotB,uBAAuB,cAAmB,EAASplC,EAAGkC,IAAKgjC,IAAM,CACzFiB,MAAOjB,EAAEkB,UAAU,SACnBC,SAAUnB,EAAEoB,UAAU,YACtBC,aAAcrB,EAAEoB,UAAU,gBAC1BE,cAAetB,EAAEoB,UAAU,iBAC3BG,WAAYvB,EAAEoB,UAAU,iBAE1B,IAAKtD,EAAYC,GACf,MAAM,IAAIhiC,MAAM,uCAAuCgiC,0BAYzD,OAVIqC,EACFA,EAAaA,EAAWlB,QAAQ,OAAQ,IApBxB,eAqBPnB,IACTqC,EArBwB,0BAuBtBW,EACFA,EAAaA,EAAW7B,QAAQ,OAAQ,IAzBxB,eA0BPnB,IACTgD,EAzBwB,qCA2BnB,CAAChD,OAAMqC,aAAYW,aAAYzB,QAAO0B,QAE/C,SAASQ,EAA6BzB,GACpC,MAAM1lB,EAAS0lB,EAAQ/iC,IAAI8jC,GAQ3B,OAPKzmB,EAAO+J,KAAM4b,GAjCA,eAiCMA,EAAEjC,OACxB1jB,EAAOvd,KAAK,CACVihC,KAnCc,aAoCdqC,WAnCsB,yBAoCtBW,WAnCsB,sCAsCnB1mB,EA0KT,MAAMonB,EAAqB,MACzB,YAAYjC,GACVxyB,KAAKwyB,kBAAoBA,EAE3B,WACE,MAAO,SAET,YACE,OAAOxyB,KAAKwyB,kBAAkBzB,KAEhC,aACE,OAAO/wB,KAAKwyB,kBAEd,WAAW57B,GACT,OAAO89B,EAAehD,EAAqB96B,GAAU,QAEvD,eAAe4C,GACb,OAAOk7B,EAAel7B,EAAK,UAG/B,IAAIm7B,EAAoBF,EAMxB,SAASC,EAAel7B,EAAKtK,GAC3B,OAAOsK,EAAI04B,QAAQ,oDAAqD,CAAC3qB,EAAGwpB,EAAMz9B,EAAOshC,IAChF,KAAK7D,KAAQz9B,KAASshC,KAAQ1lC,MAPzCylC,EAAkB5hB,QAAU,EAAEjN,aAC5B,IAAIjY,EAEJ,OAAOsjC,EADSqD,EAA4F,OAA9D3mC,EAAKiY,EAAOotB,uBAAuB,wBAAkCrlC,EAAK,IACvFmC,IAAKgjC,GAAM,IAAIyB,EAAmBzB,IAAMjgC,GAAMA,EAAE+S,OAAOirB,OAU1F,SAAS8D,EAA4B/uB,GACnC,MAAMirB,EAAOjrB,EAAOsuB,UAAU,QAC9B,IAAIhB,EAAattB,EAAOusB,kBAAkB,cAC1C,MAAMC,EAAQxsB,EAAOusB,kBAAkB,SACvC,IAAIyC,EAAUhvB,EAAOusB,kBAAkB,WAWvC,GAVIe,EACFA,EAAaA,EAAWlB,QAAQ,OAAQ,IARxB,eASPnB,IACTqC,EATwB,6BAYxB0B,EADEA,EACQA,EAAQ5C,QAAQ,OAAQ,IAExB,WAAWnB,EAEnBA,EAAK98B,SAAS,KAChB,MAAM,IAAIlF,MAAM,4CAA4CgiC,kEACvD,IAAKD,EAAYC,GACtB,MAAM,IAAIhiC,MAAM,uCAAuCgiC,0BAClD,IAAKqC,IAAelC,EAAWkC,GACpC,MAAM,IAAIrkC,MAAM,uCAAuCqkC,gCAClD,IAAKlC,EAAW4D,GACrB,MAAM,IAAI/lC,MAAM,uCAAuC+lC,6BAEzD,MAAO,CAAC/D,OAAMuB,QAAOc,aAAY0B,WAqFnC,MAAMC,EAAqB,MACzB,YAAYvC,GACVxyB,KAAKwyB,kBAAoBA,EAE3B,WACE,MAAO,SAET,YACE,OAAOxyB,KAAKwyB,kBAAkBzB,KAEhC,aACE,OAAO/wB,KAAKwyB,kBAEd,WAAW57B,GACT,OAAO86B,EAAqB96B,GAE9B,eAAe4C,GACb,OASJ,SAA0BA,EAAKtK,GAC7B,OAAOsK,EAAI04B,QAAQ,2BAA4B,MAAMhjC,MAV5C8lC,CAAiBx7B,EAAK,UAGjC,IAAIy7B,EAAoBF,EACxBE,EAAkBliB,QAAU,EAAEjN,aAC5B,IAAIjY,EAEJ,OAAOsjC,EA3GT,SAAsC4B,GACpC,MAAM1lB,EAAS0lB,EAAQ/iC,IAAI6kC,GAQ3B,OAPKxnB,EAAO+J,KAAM4b,GA9BA,eA8BMA,EAAEjC,OACxB1jB,EAAOvd,KAAK,CACVihC,KAhCc,aAiCdqC,WAhCsB,4BAiCtB0B,QAAS,uBAGNznB,EAiGS6nB,CAA4F,OAA9DrnC,EAAKiY,EAAOotB,uBAAuB,wBAAkCrlC,EAAK,IACvFmC,IAAKgjC,GAAM,IAAI+B,EAAmB/B,IAAMjgC,GAAMA,EAAE+S,OAAOirB,OAkB1F,MAAMoE,EACJ,kBAAkBrvB,GAChB,OAAO,IAAIqvB,EAAgB,CACzBC,MAAOtC,EAAiB/f,QAAQ,CAACjN,WACjCuvB,UAAWzB,EAAqB7gB,QAAQ,CAACjN,WACzCwvB,OAAQX,EAAkB5hB,QAAQ,CAACjN,WACnCyvB,OAAQN,EAAkBliB,QAAQ,CAACjN,aAGvC,YAAY0vB,GACVx1B,KAAKy1B,OAASD,EAEhB,YACE,OAAOx1B,KAAKy1B,OAAOL,MAErB,gBACE,OAAOp1B,KAAKy1B,OAAOJ,UAErB,aACE,OAAOr1B,KAAKy1B,OAAOH,OAErB,aACE,OAAOt1B,KAAKy1B,OAAOF,OAErB,OACE,OAAO7lC,OAAOC,OAAOqQ,KAAKy1B,QAAQtlC,QAAS4C,GAAMA,EAAEu+B,QAErD,MAAM93B,GACJ,OAAO9J,OAAOC,OAAOqQ,KAAKy1B,QAAQzlC,IAAK+C,GAAMA,EAAE2iC,MAAMl8B,IAAM7F,KAAKgiC,SAElE,OAAO5E,GACL,OAAOrhC,OAAOC,OAAOqQ,KAAKy1B,QAAQzlC,IAAK+C,GAAMA,EAAE0+B,OAAOV,IAAOp9B,KAAKgiC,SAEpE,WAAW/+B,GACT,MAAMg/B,EAAc51B,KAAK01B,MAAM9+B,EAAQ+6B,MACvC,OAAKiE,EAGEA,EAAY/pB,WAAWjV,GAFrB86B,EAAqB96B,GAIhC,eAAe4C,GACb,MAAMo8B,EAAc51B,KAAK01B,MAAMl8B,GAC/B,OAAKo8B,EAGEA,EAAYC,eAAer8B,GAFzBA,M,0DCryBb,u3BAKA,MAAMs8B,EAA2B,UAM3BC,EAAsB,wBACtBC,EAAsB,wBAc5B,MAAMC,EACJ,gCAAgCrnC,EAAOw1B,EAAW8R,EAAeC,GAC/D,GAAqB,iBAAVvnC,EACT,OAAO,EAET,MAAMwnC,EAAQxnC,EAAM6iB,MAAM2S,GAC1B,OAAqB,IAAjBgS,EAAMr3B,OACDo3B,EAAcC,EAAM,IACD,IAAjBA,EAAMr3B,SACRm3B,EAAcE,EAAM,KAAOD,EAAcC,EAAM,KAI1D,kBAAkBxnC,GAChB,IACE,OAAO,IAAOynC,QAAQznC,EAAOme,KAAKC,MAAMD,KAAKmB,UAAUtf,KACvD,MACA,OAAO,GAGX,2BAA2BA,GACzB,MAAwB,iBAAVA,GAAsBA,EAAMmQ,QAAU,GAAKnQ,EAAMmQ,QAAU,KAAOnQ,EAAM6iB,MAAM,KAAK6kB,MAAML,EAAyBM,iBAElI,uBAAuB3nC,GACrB,MAAwB,iBAAVA,GAAsBA,EAAMmQ,QAAU,GAAKnQ,EAAMmQ,QAAU,IAAM,4BAA4B8lB,KAAKj2B,GAElH,kBAAkBA,GAChB,GAAqB,iBAAVA,EACT,OAAO,EAET,IAEE,OADA,IAAIqiC,IAAIriC,IACD,EACP,MACA,OAAO,GAGX,qBAAqBA,GACnB,IAAIf,EACJ,MAAwB,iBAAVe,IAAuE,OAA/Cf,EAAc,MAATe,OAAgB,EAASA,EAAM4nC,aAAkB,EAAS3oC,EAAGkR,SAAW,GAIvH,MAAM03B,EACJ,yBAAyB7nC,GACvB,OAAOqnC,EAAyBS,yBAAyB9nC,EAAO,IAAKqnC,EAAyBU,oBAAsB/yB,GAAMA,EAAE7E,QAAU,GAAK6E,EAAE7E,QAAU,IAAM,iBAAiB8lB,KAAKjhB,IAErL,mBAAmBhV,GACjB,MAAwB,iBAAVA,GAAsBA,EAAMmQ,QAAU,GAAKnQ,EAAMmQ,QAAU,IAAM,yBAAyB8lB,KAAKj2B,GAE/G,yBAAyBA,GACvB,MAAwB,iBAAVA,GAAsBA,EAAMmQ,QAAU,GAAKnQ,EAAMmQ,QAAU,IAAM,qCAAqC8lB,KAAKj2B,GAE3H,wBAAwBA,GACtB,OAAOqnC,EAAyBM,gBAAgB3nC,GAElD,uBAAuBA,GACrB,OAAOqnC,EAAyBS,yBAAyB9nC,EAAO,IAAKqnC,EAAyBU,oBAAqBF,EAA6BG,mBAElJ,yBAAyBhoC,GACvB,MAAiB,KAAVA,GAAgB6nC,EAA6BG,kBAAkBhoC,GAExE,4BAA4BA,GAC1B,OAAOqnC,EAAyBS,yBAAyB9nC,EAAO,IAAKqnC,EAAyBU,oBAAqBF,EAA6BG,mBAElJ,8BAA8BhoC,GAC5B,MAAwB,iBAAVA,GAKG6nC,EAA6BI,kBACnCJ,EAA6BK,YACvBL,EAA6BG,kBAC9BH,EAA6BM,iBAC9BN,EAA6BO,gBAC3BP,EAA6BQ,kBAC1BR,EAA6BS,qBAC3BT,EAA6BU,uBACzClB,EAAyBM,gBAyGvC,IAkFIa,EAAe,CAClBjV,QAnFa,yCAoFb5Z,IAnFS,SAoFTtb,YAnFiB,qEAoFjBoqC,SAnFc,CACd,CACCC,WAAY,wBACZvpC,KAAM,YACNG,SAAU,CACTC,KAAM,eACNlB,YAAa,6BACbsqC,OAAQ,CACPC,aAAc,0BAEfC,YAAa,CACZC,KAAM,6CAGR5pB,KAAM,CACL5e,KAAM,UACN6e,UAAW,aACXza,MAAO,WAmETpE,KA/DU,SAgEVyoC,SA/Dc,CACd,aACA,OACA,YA6DApJ,sBA3D0B,EA4D1B/Y,WA3DgB,CAChB8hB,WAAY,CACXpoC,KAAM,SACNjC,YAAa,+FACb2qC,UAAW,EACXP,SAAU,CACT,wBACA,oBACA,QAGFtpC,KAAM,CACLmB,KAAM,SACNjC,YAAa,8CACb2qC,UAAW,EACXP,SAAU,CACT,MACA,YACA,SACA,QACA,WACA,WACA,SACA,WACA,SAGFnpC,SAAU,CACT+a,KAAM,cAEP6E,KAAM,CACL5e,KAAM,SACNjC,YAAa,wDAEdoC,UAAW,CACVH,KAAM,QACNjC,YAAa,0DACbqD,MAAO,CACN2Y,KAAM,oBAGRgE,OAAQ,CACP/d,KAAM,SACNjC,YAAa,mEACb4qC,kBAAmB,CAClB,OAAQ,CACP5uB,KAAM,qBA2JN6uB,EAAmB,CACtB3V,QA5Ie,yCA6If5Z,IA5IW,aA6IXtb,YA5ImB,0DA6InBoqC,SA5IgB,CAChB,CACCU,IAAK,uCACLC,KAAM,2BACNC,WAAY,GACZ9pC,KAAM,mBACNF,UAAW,gBACXspC,OAAQ,CACP,sBAAuB,cAExBE,YAAa,CACZ,uBAAwB,cAEzBS,KAAM,CACL,OACA,UA8HFhpC,KA1HY,SA2HZyoC,SA1HgB,CAChB,QA0HApJ,sBAxH4B,EAyH5B/Y,WAxHkB,CAClBuiB,IAAK,CACJ7oC,KAAM,SACNjC,YAAa,iXACboqC,SAAU,CACT,wCAEDO,UAAW,GAEZI,KAAM,CACL9oC,KAAM,SACNjC,YAAa,mbACboqC,SAAU,CACT,4BAEDO,UAAW,GAEZK,WAAY,CACX/oC,KAAM,UACNjC,YAAa,wSACboqC,SAAU,CACT,GAEDpO,QAAS,GAEV96B,KAAM,CACLe,KAAM,SACNjC,YAAa,6HACboqC,SAAU,CACT,kBAEDO,UAAW,GAEZ3pC,UAAW,CACViB,KAAM,SACNjC,YAAa,4CACb,QAAW,UACXoqC,SAAU,CACT,UACA,SAEDO,UAAW,GAEZ3qC,YAAa,CACZiC,KAAM,SACNjC,YAAa,oFAEdsqC,OAAQ,CACProC,KAAM,SACNjC,YAAa,qEACbshC,sBAAsB,EACtBsJ,kBAAmB,CAClB,OAAQ,CACP3oC,KAAM,YAITuoC,YAAa,CACZvoC,KAAM,SACNjC,YAAa,mFACbshC,sBAAsB,EACtBsJ,kBAAmB,CAClB,OAAQ,CACP3oC,KAAM,YAITgpC,KAAM,CACLhpC,KAAM,QACNjC,YAAa,6FACbqD,MAAO,CACNpB,KAAM,SACN0oC,UAAW,IAGbO,MAAO,CACNjpC,KAAM,QACNjC,YAAa,kNACbqD,MAAO,CACNpB,KAAM,SACNyoC,SAAU,CACT,OAEDniB,WAAY,CACXhc,IAAK,CACJtK,KAAM,SACNjC,YAAa,kCACboqC,SAAU,CACT,iCAEDO,UAAW,GAEZtqC,MAAO,CACN4B,KAAM,SACNjC,YAAa,6CACboqC,SAAU,CACT,mBAEDO,UAAW,GAEZxqC,KAAM,CACL8B,KAAM,SACNjC,YAAa,8DACboqC,SAAU,CACT,aAEDO,UAAW,QA2EZQ,EAAe,CAClBjW,QA3De,yCA4Df5Z,IA3DW,SA4DXrZ,KA3DY,SA4DZjC,YA3DmB,kDA4DnBu2B,YA3DiB,CACjB6U,UAAW,CACV9vB,IAAK,aACLrZ,KAAM,SACNjC,YAAa,yCACb0qC,SAAU,CACT,OACA,YACA,QAEDpJ,sBAAsB,EACtB/Y,WAAY,CACXznB,KAAM,CACLmB,KAAM,SACNjC,YAAa,iCAEdgB,UAAW,CACViB,KAAM,SACNjC,YAAa,+CAEdkB,KAAM,CACLe,KAAM,SACNjC,YAAa,4CAIhBuH,SAAU,CACT+T,IAAK,YACLrZ,KAAM,SACNjC,YAAa,kDACb0qC,SAAU,CACT,OACA,UAEDpJ,sBAAsB,EACtB/Y,WAAY,CACXtmB,KAAM,CACLA,KAAM,SACN0oC,UAAW,EACXxhB,QAAS,SACTnpB,YAAa,yBAEduC,OAAQ,CACPyZ,KAAM,gBAITgE,OAAQ,CACP1E,IAAK,UACLrZ,KAAM,SACNjC,YAAa,kCACbshC,sBAAsB,KA6BxB,SAAS+J,EAAejmC,GACtB,IAAIxE,EAAIC,EACR,MAAMiV,EAAQ,kCAAkCw1B,KAAKlmC,EAAImkC,QACzD,IAAKzzB,EACH,MAAM,IAAIy1B,UAAU,qBAAqBnmC,wDAE3C,MAAO,CACLtE,KAAyB,OAAlBF,EAAKkV,EAAM,SAAc,EAASlV,EAAG42B,MAAM,GAAI,GACtDx2B,UAA8B,OAAlBH,EAAKiV,EAAM,SAAc,EAASjV,EAAG22B,MAAM,GAAI,GAC3Dt2B,KAAM4U,EAAM,IAGhB,SAAS01B,EAAc7qC,GACrB,MAAO,CACLG,KAAMH,EAAOG,KACbE,UAAWL,EAAOM,SAASD,WAAa6nC,EACxC3nC,KAAMP,EAAOM,SAASC,MAG1B,SAASuqC,EAAgBrmC,EAAKyjB,EAAU,IACtC,MAAM,KAAC/nB,EAAI,UAAEE,EAAS,KAAEE,GAAQwqC,EAAetmC,EAAK,CAClDumC,iBAAkB9C,KACfhgB,IAEL,IAAK/nB,EACH,MAAM,IAAIgB,MAAM,oBAAoBd,KAAaE,4BAEnD,MAAO,CAACJ,OAAME,YAAWE,QAE3B,SAASwqC,EAAetmC,EAAKyjB,EAAU,IACrC,IAAIjoB,EAAIC,EACR,IAAKuE,EACH,MAAM,IAAItD,MAAM,sCAElB,GAAmB,iBAARsD,EAAkB,CAC3B,MAAMk/B,EAAS+G,EAAejmC,GAC9B,MAAO,CACLtE,KAA4B,OAArBF,EAAK0jC,EAAOxjC,MAAgBF,EAAKioB,EAAQ5jB,YAChDjE,UAAsC,OAA1BH,EAAKyjC,EAAOtjC,WAAqBH,EAAKgoB,EAAQ8iB,iBAC1DzqC,KAAMojC,EAAOpjC,MAGjB,MAAM,KAACJ,EAAI,UAAEE,EAAS,KAAEE,GAAQkE,EAChC,GAAa,KAATtE,EACF,MAAM,IAAIgB,MAAM,4CACX,GAAkB,KAAdd,EACT,MAAM,IAAIc,MAAM,iDACX,IAAKZ,EACV,MAAM,IAAIY,MAAM,yCAElB,MAAO,CACLhB,KAAc,MAARA,EAAeA,EAAO+nB,EAAQ5jB,YACpCjE,UAAwB,MAAbA,EAAoBA,EAAY6nB,EAAQ8iB,iBACnDzqC,QAGJ,SAAS0qC,EAAmBxmC,GAC1B,IAAItE,EACAE,EACAE,EAUJ,MATI,aAAckE,GAChBtE,EAAOsE,EAAItE,KACXE,EAAYoE,EAAInE,SAASD,UACzBE,EAAOkE,EAAInE,SAASC,OAEpBJ,EAAOsE,EAAItE,KACXE,EAAYoE,EAAIpE,UAChBE,EAAOkE,EAAIlE,OAEA,MAARJ,OAAe,EAASA,EAAKkG,SAAS,QAAkB,MAARlG,OAAe,EAASA,EAAKkG,SAAS,QAAuB,MAAbhG,OAAoB,EAASA,EAAUgG,SAAS,QAAuB,MAAbhG,OAAoB,EAASA,EAAUgG,SAAS,OAAS9F,EAAK8F,SAAS,MAAQ9F,EAAK8F,SAAS,KACnP,CAAClG,OAAME,YAAWE,QAEpB,GAAGJ,EAAUA,EAAH,IAAa,KAAKE,EAAeA,EAAH,IAAkB,KAAKE,IAExE,SAAS2qC,EAAmBzmC,GAC1B,IAAIxE,EAAIC,EACR,IAAIC,EACAE,EACAE,EAUJ,MATI,aAAckE,GAChBtE,EAAOsE,EAAItE,KACXE,EAA6C,OAAhCJ,EAAKwE,EAAInE,SAASD,WAAqBJ,EAAKioC,EACzD3nC,EAAOkE,EAAInE,SAASC,OAEpBJ,EAAOsE,EAAItE,KACXE,EAAoC,OAAvBH,EAAKuE,EAAIpE,WAAqBH,EAAKgoC,EAChD3nC,EAAOkE,EAAIlE,MAEN,GAAGJ,EAAKC,iBAAiBC,EAAUD,iBAAiBG,EAAKH,gBAgIlE,SAAS+qC,EAA+BhrC,EAAMupC,EAAYrwB,EAAQ+xB,GAChE,MAAMC,EAAM,IAAI,IAAI,CAACnf,iBAAiB,IAClCkf,GACFC,EAAItW,UAAUqW,OAAc,OAAQ,GAAQ,GAE9C,MAAMhe,EAAWie,EAAIhe,QAAQhU,GAC7B,MAAO,CACL,YAAYiyB,GACV,GAAInrC,IAASmrC,EAASnrC,OAASupC,EAAWrjC,SAASilC,EAAS5B,YAC1D,OAAO,EAGT,IAAe,IADAtc,EAASke,GAEtB,OAAO,EAET,MAAO3qC,GAASysB,EAASnQ,QAAU,GACnC,IAAKtc,EACH,MAAM,IAAIiqC,UAAU,aAAazqC,oBAEnC,MAAM,IAAIyqC,UAAU,aAAazqC,MAASQ,EAAMuZ,UAAY,YAAYvZ,EAAM4d,UAAU5d,EAAMd,OAAS,MAAMiC,OAAO+O,QAAQlQ,EAAMd,QAAQuC,IAAI,EAAEgD,EAAKmmC,KAAS,GAAGnmC,MAAQmmC,KAAOxkC,KAAK,MAAU,QAoHlKokC,EADtB,MADO,CAAC,wBAAyB,wBARjC,CACZ5W,QAtGe,yCAuGf5Z,IAtGW,cAuGXtb,YAtGmB,0KAuGnBoqC,SAtGgB,CAChB,CACCC,WAAY,wBACZvpC,KAAM,MACNG,SAAU,CACTC,KAAM,aACNlB,YAAa,0BACbsqC,OAAQ,CACPC,aAAc,0BAEfC,YAAa,CACZC,KAAM,6CAGR5pB,KAAM,CACL5e,KAAM,UACN6e,UAAW,aACXza,MAAO,wBACP8lC,OAAQ,2BACRrgB,WAAY,gCAoFdsgB,MAhFW,CACX,CACCpwB,KAAM,UAEP,CACC/Z,KAAM,SACNyoC,SAAU,CACT,QAEDniB,WAAY,CACX8hB,WAAY,CACX,KAAQ,CACP,wBACA,yBAGFvpC,KAAM,CACL,KAAQ,CACP,QAGF+f,KAAM,CACL5e,KAAM,SACNyoC,SAAU,CACT,OACA,YACA,QACA,cAEDniB,WAAY,CACXtmB,KAAM,CACLA,KAAM,SACNjC,YAAa,kCACboqC,SAAU,CACT,UACA,WACA,UACA,QAEDO,UAAW,GAEZ7pB,UAAW,CACV7e,KAAM,SACNjC,YAAa,kCACboqC,SAAU,CACT,eACA,aACA,cAEDO,UAAW,GAEZtkC,MAAO,CACNpE,KAAM,SACNjC,YAAa,+CACboqC,SAAU,CACT,wBACA,qBAEDO,UAAW,GAEZwB,OAAQ,CACPlqC,KAAM,SACNjC,YAAa,6DACb2qC,UAAW,GAEZ7e,WAAY,CACX7pB,KAAM,SACNjC,YAAa,sEACb2qC,UAAW,SAiB4E,CAACQ,EAAcN,EAAkBV,IAqIrF2B,EAD1B,YADO,CAAC,wBAAyB,wBARjC,CACd5W,QA1He,yCA2Hf5Z,IA1HW,oBA2HXtb,YA1HmB,4PA2HnBoqC,SA1HgB,CAChB,CACCC,WAAY,wBACZvpC,KAAM,YACNG,SAAU,CACTC,KAAM,eACNlB,YAAa,6BACbsqC,OAAQ,CACPC,aAAc,0BAEfC,YAAa,CACZC,KAAM,6CAGR5pB,KAAM,CACL5e,KAAM,UACN6e,UAAW,aACXza,MAAO,WA0GT+lC,MAtGa,CACb,CACCpwB,KAAM,UAEP,CACC/Z,KAAM,SACNyoC,SAAU,CACT,QAEDniB,WAAY,CACX8hB,WAAY,CACX,KAAQ,CACP,wBACA,yBAGFvpC,KAAM,CACL,KAAQ,CACP,cAGF+f,KAAM,CACL5e,KAAM,SACNyoC,SAAU,CACT,OACA,YACA,SAEDniB,WAAY,CACXtmB,KAAM,CACLA,KAAM,SACNjC,YAAa,yBACboqC,SAAU,CACT,UACA,UACA,WAEDO,UAAW,GAEZ7pB,UAAW,CACV7e,KAAM,SACNjC,YAAa,wCACboqC,SAAU,CACT,eACA,aACA,cAEDO,UAAW,GAEZtkC,MAAO,CACNpE,KAAM,SACNjC,YAAa,qDACboqC,SAAU,CACT,wBACA,qBAEDO,UAAW,GAEZwB,OAAQ,CACPlqC,KAAM,SACNjC,YAAa,mEACb2qC,UAAW,GAEZ0B,eAAgB,CACfpqC,KAAM,SACNjC,YAAa,6EACb2qC,UAAW,GAEZ2B,aAAc,CACbrqC,KAAM,QACNjC,YAAa,gFACbqD,MAAO,CACNpB,KAAM,SACN0oC,UAAW,IAGb4B,aAAc,CACbtqC,KAAM,QACNjC,YAAa,gFACbqD,MAAO,CACNpB,KAAM,SACN0oC,UAAW,IAGb6B,UAAW,CACVvqC,KAAM,QACNjC,YAAa,sFACbqD,MAAO,CACNpB,KAAM,SACN0oC,UAAW,UAkBuF,CAACQ,EAAcN,EAAkBV,IAqEpG2B,EADvB,SADO,CAAC,wBAAyB,wBARjC,CACd5W,QA1De,yCA2Df5Z,IA1DW,iBA2DXtb,YA1DmB,kJA2DnBoqC,SA1DgB,CAChB,CACCC,WAAY,wBACZvpC,KAAM,SACNG,SAAU,CACTC,KAAM,UACNlB,YAAa,4BAEd6gB,KAAM,CACLxa,MAAO,2BAkDT+lC,MA9Ca,CACb,CACCpwB,KAAM,UAEP,CACC/Z,KAAM,SACNyoC,SAAU,CACT,QAEDniB,WAAY,CACX8hB,WAAY,CACX,KAAQ,CACP,wBACA,yBAGFvpC,KAAM,CACL,KAAQ,CACP,WAGF+f,KAAM,CACL5e,KAAM,SACNyoC,SAAU,CACT,SAEDniB,WAAY,CACXliB,MAAO,CACNpE,KAAM,SACNjC,YAAa,qDACboqC,SAAU,CACT,wBACA,qBAEDO,UAAW,SAiBqF,CAACQ,EAAcN,EAAkBV,IA+IlG2B,EADtB,QADO,CAAC,wBAAyB,wBARjC,CACd5W,QApIe,yCAqIf5Z,IApIW,gBAqIXtb,YApImB,kNAqInBoqC,SApIgB,CAChB,CACCC,WAAY,wBACZvpC,KAAM,QACNG,SAAU,CACTC,KAAM,iBACNlB,YAAa,2BAEd6gB,KAAM,CACL5e,KAAM,gBACNwqC,QAAS,CACRC,YAAa,iBACbC,MAAO,6BACPC,QAAS,qDAEVC,OAAQ,MACRxnC,SAAU,CACT,YACA,YAmHH+mC,MA9Ga,CACb,CACCpwB,KAAM,UAEP,CACC/Z,KAAM,SACNyoC,SAAU,CACT,QAEDniB,WAAY,CACX8hB,WAAY,CACX,KAAQ,CACP,wBACA,yBAGFvpC,KAAM,CACL,KAAQ,CACP,UAGF+f,KAAM,CACL5e,KAAM,SACNyoC,SAAU,CACT,OACA,YAEDniB,WAAY,CACXtmB,KAAM,CACLA,KAAM,SACNjC,YAAa,2LACboqC,SAAU,CACT,OACA,gBACA,eACA,QAEDO,UAAW,GAEZ8B,QAAS,CACRxqC,KAAM,SACNjC,YAAa,uYACbuoB,WAAY,CACXmkB,YAAa,CACZzqC,KAAM,SACNjC,YAAa,6CACboqC,SAAU,CACT,kBAEDO,UAAW,GAEZgC,MAAO,CACN1qC,KAAM,SACNjC,YAAa,6CACboqC,SAAU,CACT,8BAEDO,UAAW,GAEZiC,QAAS,CACR3qC,KAAM,SACNjC,YAAa,mDACboqC,SAAU,CACT,qDAEDO,UAAW,KAIdkC,OAAQ,CACP5qC,KAAM,SACNjC,YAAa,4NACboqC,SAAU,CACT,OAEDO,UAAW,GAEZtlC,SAAU,CACTpD,KAAM,QACNjC,YAAa,mSACbqD,MAAO,CACNpB,KAAM,SACNmoC,SAAU,CACT,YACA,SAEDO,UAAW,IAGbmC,QAAS,CACR7qC,KAAM,QACNjC,YAAa,6FACbqD,MAAO,CACNpB,KAAM,SACNmoC,SAAU,CACT,QAEDO,UAAW,UAkBmF,CAACQ,EAAcN,EAAkBV,IA0F9F2B,EADzB,WADO,CAAC,wBAAyB,wBARjC,CACd5W,QA/Ee,yCAgFf5Z,IA/EW,mBAgFXtb,YA/EmB,gFAgFnBoqC,SA/EgB,CAChB,CACCC,WAAY,wBACZvpC,KAAM,WACNG,SAAU,CACTC,KAAM,YAEP2f,KAAM,CACL5e,KAAM,MACN8qC,QAAS,CACR,0EACA,oFAqEHX,MAhEa,CACb,CACCpwB,KAAM,UAEP,CACC/Z,KAAM,SACNyoC,SAAU,CACT,QAEDniB,WAAY,CACX8hB,WAAY,CACX,KAAQ,CACP,wBACA,yBAGFvpC,KAAM,CACL,KAAQ,CACP,aAGF+f,KAAM,CACL5e,KAAM,SACNyoC,SAAU,GAEVniB,WAAY,CACXtmB,KAAM,CACLA,KAAM,SACNjC,YAAa,gLACboqC,SAAU,CACT,OAEDO,UAAW,GAEZpoC,OAAQ,CACPN,KAAM,SACNjC,YAAa,6NACboqC,SAAU,CACT,+BAEDO,UAAW,GAEZoC,QAAS,CACR9qC,KAAM,QACNjC,YAAa,sOACbqD,MAAO,CACNpB,KAAM,SACNmoC,SAAU,CACT,8BACA,2EAEDO,UAAW,UAkBsF,CAACQ,EAAcN,EAAkBV,IAFzI,MAIM6C,EAAoB,UAEpBC,EAAwB,cACxBC,EAA2B,gBAC3BC,EAAwB,cACxBC,EAA2B,gBAC3BC,EAAsB,YAEtBC,EAAqB,WACrBC,EAAoB,UACpBC,EAAqB,WAErBC,EAAmB,SACnBC,EAAoB,UA+Fc5B,EADzB,WADO,CAAC,wBAAyB,wBARjC,CACd5W,QApFe,yCAqFf5Z,IApFW,mBAqFXtb,YApFmB,8PAqFnBoqC,SApFgB,CAChB,CACCC,WAAY,wBACZvpC,KAAM,WACNG,SAAU,CACTC,KAAM,aACNlB,YAAa,yBAEd6gB,KAAM,CACL5e,KAAM,WACNoE,MAAO,wBACP8lC,OAAQ,8BA0EVC,MAtEa,CACb,CACCpwB,KAAM,UAEP,CACC/Z,KAAM,SACNyoC,SAAU,CACT,QAEDniB,WAAY,CACX8hB,WAAY,CACX,KAAQ,CACP,wBACA,yBAGFvpC,KAAM,CACL,KAAQ,CACP,aAGF+f,KAAM,CACL5e,KAAM,SACNyoC,SAAU,CACT,OACA,SAEDniB,WAAY,CACXtmB,KAAM,CACLA,KAAM,SACNjC,YAAa,wBACboqC,SAAU,CACT,WACA,YACA,WAEDO,UAAW,GAEZtkC,MAAO,CACNpE,KAAM,SACNjC,YAAa,oDACboqC,SAAU,CACT,wBACA,qBAEDO,UAAW,GAEZ6B,UAAW,CACVvqC,KAAM,QACNjC,YAAa,qFACbqD,MAAO,CACNpB,KAAM,SACN0oC,UAAW,IAGbwB,OAAQ,CACPlqC,KAAM,SACNjC,YAAa,kEACb2qC,UAAW,SAiBuF,CAACQ,EAAcN,EAAkBV,IA8EnG2B,EADvB,SADO,CAAC,wBAAyB,wBARjC,CACd5W,QAnEe,yCAoEf5Z,IAnEW,iBAoEXtb,YAnEmB,uXAoEnBoqC,SAnEgB,CAChB,CACCC,WAAY,wBACZvpC,KAAM,SACNG,SAAU,CACTC,KAAM,2BACNlB,YAAa,2CAEd6gB,KAAM,CACLxa,MAAO,wBACPsnC,OAAQ,aA0DVvB,MAtDa,CACb,CACCpwB,KAAM,UAEP,CACC/Z,KAAM,SACNyoC,SAAU,CACT,QAEDniB,WAAY,CACX8hB,WAAY,CACX,KAAQ,CACP,wBACA,yBAGFvpC,KAAM,CACL,KAAQ,CACP,WAGF+f,KAAM,CACL5e,KAAM,SACNyoC,SAAU,CACT,SAEDniB,WAAY,CACXliB,MAAO,CACNpE,KAAM,SACNjC,YAAa,qDACboqC,SAAU,CACT,wBACA,qBAEDO,UAAW,GAEZgD,OAAQ,CACP1rC,KAAM,SACNjC,YAAa,gEACboqC,SAAU,CACT,WAEDO,UAAW,SAiBqF,CAACQ,EAAcN,EAAkBV,IAwI/F2B,EADzB,WADO,CAAC,wBAAyB,wBARjC,CACd5W,QA7He,yCA8Hf5Z,IA7HW,mBA8HXtb,YA7HmB,0NA8HnBoqC,SA7HgB,CAChB,CACCC,WAAY,wBACZvpC,KAAM,WACNG,SAAU,CACTC,KAAM,qBACNb,MAAO,qBACPL,YAAa,yEACbirC,KAAM,CACL,cACA,UAGFpqB,KAAM,CACLxa,MAAO,wBACPunC,UAAW,eACX3rC,KAAM,UACN7B,KAAM,IACN4Z,OAAQ,CACP0wB,SAAU,CACT,eACA,eAEDniB,WAAY,CACXslB,aAAc,CACbxtC,MAAO,OACP4B,KAAM,SACNjC,YAAa,gCAEdA,YAAa,CACZK,MAAO,cACP4B,KAAM,SACNjC,YAAa,qCA8FlBosC,MAvFa,CACb,CACCpwB,KAAM,UAEP,CACC/Z,KAAM,SACNyoC,SAAU,CACT,QAEDniB,WAAY,CACX8hB,WAAY,CACX,KAAQ,CACP,wBACA,yBAGFvpC,KAAM,CACL,KAAQ,CACP,aAGFG,SAAU,CACTgB,KAAM,SACNsmB,WAAY,CACXloB,MAAO,CACN4B,KAAM,SACNjC,YAAa,sJACboqC,SAAU,CACT,sBAEDO,UAAW,KAId9pB,KAAM,CACL5e,KAAM,SACNyoC,SAAU,CACT,OACA,YACA,UAEDniB,WAAY,CACXtmB,KAAM,CACLA,KAAM,SACNjC,YAAa,+YACboqC,SAAU,CACT,UACA,UACA,WAEDO,UAAW,GAEZiD,UAAW,CACV3rC,KAAM,SACNjC,YAAa,qEACboqC,SAAU,CACT,gBAEDO,UAAW,GAEZvqC,KAAM,CACL6B,KAAM,SACNjC,YAAa,wHACboqC,SAAU,CACT,2BAEDO,UAAW,GAEZ3wB,OAAQ,CACP/X,KAAM,SACNjC,YAAa,0DAEdqG,MAAO,CACNpE,KAAM,SACNjC,YAAa,4CACb2qC,UAAW,SAiBuF,CAACQ,EAAcN,EAAkBV,IA+NlG2B,EADxB,WADO,CAAC,wBARR,CACd5W,QApNe,yCAqNf5Z,IApNW,kBAqNXtb,YApNmB,6LAqNnBoqC,SApNgB,CAChB,CACCC,WAAY,uBACZvpC,KAAM,WACNG,SAAU,CACTC,KAAM,qBACNb,MAAO,qBACPL,YAAa,yEACbirC,KAAM,CACL,cACA,UAGFpqB,KAAM,CACLxa,MAAO,wBACPpE,KAAM,UACN6rC,WAAY,CACXpD,SAAU,CACT,OACA,eAEDniB,WAAY,CACXrnB,KAAM,CACLb,MAAO,OACP4B,KAAM,SACNjC,YAAa,gCAEdA,YAAa,CACZK,MAAO,cACP4B,KAAM,SACNjC,YAAa,kCAIhB+tC,MAAO,CACN,CACChuC,GAAI,QACJmB,KAAM,QACN4hB,OAAQ,cACRgrB,WAAY,CACXvhC,IAAK,eAGP,CACCxM,GAAI,UACJmB,KAAM,oBACN4hB,OAAQ,iBACRgrB,WAAY,CACXE,QAAS,8BAIZC,OAAQ,CACPC,eAAgB,gDAgKnB9B,MA3Ja,CACb,CACCpwB,KAAM,UAEP,CACC/Z,KAAM,SACNyoC,SAAU,CACT,QAEDniB,WAAY,CACX8hB,WAAY,CACX,KAAQ,CACP,yBAGFvpC,KAAM,CACL,KAAQ,CACP,aAGFG,SAAU,CACTgB,KAAM,SACNsmB,WAAY,CACXloB,MAAO,CACN4B,KAAM,SACNjC,YAAa,0CACboqC,SAAU,CACT,sBAEDO,UAAW,KAId9pB,KAAM,CACL5e,KAAM,SACNyoC,SAAU,CACT,OACA,SAEDniB,WAAY,CACXtmB,KAAM,CACLA,KAAM,SACNjC,YAAa,+YACboqC,SAAU,CACT,UACA,UACA,WAEDO,UAAW,GAEZmD,WAAY,CACXK,MAAO,CACN,CACClsC,KAAM,SACNjC,YAAa,0DAEd,CACCiC,KAAM,QACNjC,YAAa,kDACbqD,MAAO,CACNpB,KAAM,SACNjC,YAAa,6DAKjB+tC,MAAO,CACN9rC,KAAM,QACNjC,YAAa,8BACbqD,MAAO,CACNpB,KAAM,SACNjC,YAAa,wCACb0qC,SAAU,CACT,UAEDniB,WAAY,CACXxoB,GAAI,CACHkC,KAAM,SACNjC,YAAa,kEAEdkB,KAAM,CACLe,KAAM,SACNjC,YAAa,2FAEd8iB,OAAQ,CACP7gB,KAAM,SACNjC,YAAa,sCAEdshB,MAAO,CACNrf,KAAM,SACNjC,YAAa,8DAKjBiuC,OAAQ,CACPhsC,KAAM,SACNjC,YAAa,qEACbuoB,WAAY,CACX2iB,MAAO,CACNjpC,KAAM,QACNjC,YAAa,oGACbqD,MAAO,CACNpB,KAAM,SACNyoC,SAAU,CACT,OAEDniB,WAAY,CACXhc,IAAK,CACJtK,KAAM,SACNjC,YAAa,kCACboqC,SAAU,CACT,yCAEDO,UAAW,GAEZtqC,MAAO,CACN4B,KAAM,SACNjC,YAAa,6CACboqC,SAAU,CACT,iBAEDO,UAAW,GAEZxqC,KAAM,CACL8B,KAAM,SACNjC,YAAa,8DACboqC,SAAU,CACT,aAEDO,UAAW,OAMhBrJ,qBAAsB,CACrBr/B,KAAM,WAGRoE,MAAO,CACNpE,KAAM,SACNjC,YAAa,4CACb2qC,UAAW,SAiBsF,CAACQ,EAAcN,EAAkBV,IA6GpG2B,EADrB,OADO,CAAC,wBAAyB,wBARjC,CACd5W,QAlGe,yCAmGf5Z,IAlGW,eAmGXtb,YAlGmB,8SAmGnBoqC,SAlGgB,CAChB,CACCC,WAAY,wBACZvpC,KAAM,OACNG,SAAU,CACTC,KAAM,QAEP2f,KAAM,CACL4rB,QAAS,CACRC,YAAa,YACbC,MAAO,wBACPC,QAAS,uDAEVwB,SAAU,CACT,SACA,gBAoFHhC,MA/Ea,CACb,CACCpwB,KAAM,UAEP,CACC/Z,KAAM,SACNyoC,SAAU,CACT,QAEDniB,WAAY,CACX8hB,WAAY,CACX,KAAQ,CACP,wBACA,yBAGFvpC,KAAM,CACL,KAAQ,CACP,SAGF+f,KAAM,CACL5e,KAAM,SACNyoC,SAAU,CACT,YAEDniB,WAAY,CACXkkB,QAAS,CACRxqC,KAAM,SACNjC,YAAa,wYACbuoB,WAAY,CACXmkB,YAAa,CACZzqC,KAAM,SACNjC,YAAa,6CACboqC,SAAU,CACT,aAEDO,UAAW,GAEZgC,MAAO,CACN1qC,KAAM,SACNjC,YAAa,2CACboqC,SAAU,CACT,yBAEDO,UAAW,GAEZiC,QAAS,CACR3qC,KAAM,SACNjC,YAAa,iDACboqC,SAAU,CACT,uDAEDO,UAAW,KAIdyD,SAAU,CACTnsC,KAAM,QACNjC,YAAa,mTACbqD,MAAO,CACNpB,KAAM,SACNmoC,SAAU,CACT,SACA,aAEDO,UAAW,UAkBkF,CAACQ,EAAcN,EAAkBV,IAFrI,MAIMkE,EAAsB,mCACtBC,EAA6B,0CAC7BC,EAA6B,+BAEnC,SAASC,EAAuBppC,GAC9B,GAAmB,iBAARA,EACT,MAAM,IAAImmC,UAAU,uCAAuCnmC,kCAAoCA,KAEjG,MAAMqpC,EAAarpC,EAAI2f,QAAQ,KAC/B,GAAI0pB,EAAa,EACf,MAAM,IAAIlD,UAAU,uCAAuCnmC,gEAE7D,MAAMnD,EAAOmD,EAAIspC,OAAO,EAAGD,GAAYlF,OACjChnC,EAAS6C,EAAIspC,OAAOD,EAAa,GAAGlF,OAC1C,IAAKtnC,IAASM,EACZ,MAAM,IAAIgpC,UAAU,uCAAuCnmC,gEAE7D,GAAa,SAATnD,GAA4B,UAATA,EACrB,MAAM,IAAIspC,UAAU,+BAA+BnmC,+CAAiDA,MAEtG,MAAO,CAACnD,OAAMM,UAEhB,SAASosC,EAA2BvpC,GAClC,MAAM,KAACnD,EAAI,OAAEM,GAAU6C,EACvB,IAAKnD,EACH,MAAM,IAAIspC,UAAU,sDACf,IAAKhpC,EACV,MAAM,IAAIgpC,UAAU,wDAEtB,MAAO,GAAGtpC,KAAQM,IAWpB,MAAMqsC,EAAqB,YAAO,CAChC3sC,KAAM,cAASyoC,WACfnoC,OAAQ,cAASmoC,WACjBmE,SAAU,gBACTC,YAAYpE,WACQ,YAAO,CAC5B3qC,GAAI,cAAS2qC,WACbzoC,KAAM,cAASyoC,WACfnoC,OAAQ,cAASmoC,aAChBoE,YAAYpE,WACe,YAAO,CACnC19B,SAAU4hC,IACTE,YAAYpE,a,yDCj/Df,2c,iCCAA,yNAKA,MAAMqE,EAAmB,aAAa,CACpChvC,GAAI,4BACJC,YAAa,yDAEf,MAAMgvC,EACJ,YAAYrlC,GACVoJ,KAAK0N,aAAe9W,EAAQ8W,aAC5B1N,KAAKk8B,YAActlC,EAAQslC,YAC3Bl8B,KAAKm8B,mBAAqBvlC,EAAQulC,mBAEpC,0BAA0BvlC,GACxB,MAAO,IACFoJ,KAAKm8B,mBAAmB/G,MAAM9D,UAC9BtxB,KAAKm8B,mBAAmB9G,UAAU/D,UAClCtxB,KAAKm8B,mBAAmB7G,OAAOhE,UAC/BtxB,KAAKm8B,mBAAmB5G,OAAOjE,QAClCthC,IAAKgjC,IAAM,CAAE9jC,KAAM8jC,EAAE9jC,KAAM5B,MAAO0lC,EAAE1lC,MAAOyjC,KAAMiC,EAAEltB,OAAOirB,QAAQzhC,OAAQ0jC,GAAMp8B,EAAQwlC,aAAanoC,SAAS++B,EAAEjC,OAEpH,iCAAiCsL,GAC/B,MAAM,UAACpuC,EAAS,KAAEF,EAAI,KAAEI,GAAQkuC,EAC1B/J,QAActyB,KAAKk8B,YAAYI,aAG/B9iC,EAAM,SAFUwG,KAAK0N,aAAaS,WAAW,8BAC9B,CAAClgB,EAAWF,EAAMI,GAAM6B,IAAKusC,GAAMC,mBAAmBD,IAAI5nC,KAAK,wBAE9EiY,QAAiBwB,MAAM5U,EAAK,CAChCqT,QAAS,IACJylB,GAAS,CAACmK,cAAe,UAAUnK,MAG1C,IAAK1lB,EAASwP,GACZ,MAAM,IAAcsgB,aAAa9vB,GAGnC,aADqBA,EAASyB,OAGhC,eAAeguB,EAAc1sC,GAC3B,MAAM2iC,QAActyB,KAAKk8B,YAAYI,aAC/B9iC,QAAewG,KAAK0N,aAAaS,WAAW,cAAtC,YACNvB,QAAiBwB,MAAM5U,EAAK,CAChCmjC,OAAQ,OACR9vB,QAAS,CACP,eAAgB,sBACbylB,GAAS,CAACmK,cAAe,UAAUnK,IAExCnrB,KAAM4F,KAAKmB,UAAU,CAACmuB,eAAc1sC,OAAQ,IAAIA,OAElD,GAAwB,MAApBid,EAASK,OAAgB,CAC3B,MAAMA,EAAS,GAAGL,EAASK,UAAUL,EAASM,aACxC/F,QAAayF,EAAS3X,OAC5B,MAAM,IAAIlG,MAAM,2BAA2Bke,KAAU9F,EAAKqvB,UAE5D,MAAM,GAACxpC,SAAY4f,EAASyB,OAC5B,OAAOrhB,EAET,cAAc4vC,GACZ,MAAMtK,QAActyB,KAAKk8B,YAAYI,aAE/B9iC,EAAM,SADUwG,KAAK0N,aAAaS,WAAW,0BAChBquB,mBAAmBI,KAChDhwB,QAAiBwB,MAAM5U,EAAK,CAChCqT,QAASylB,EAAQ,CAACmK,cAAe,UAAUnK,GAAW,KAExD,IAAK1lB,EAASwP,GACZ,MAAM,IAAcsgB,aAAa9vB,GAEnC,aAAaA,EAASyB,OAExB,YAAW,OACTuuB,EAAM,MACNC,IAEA,OAAO,IAAI,IAAgBC,IACzB,MAAMrvC,EAAS,IAAIsvC,qBACL,IAAVF,GACFpvC,EAAOkE,IAAI,QAAS2K,OAAO0gC,OAAOH,KAEpC78B,KAAK0N,aAAaS,WAAW,cAAc5W,KAAMu9B,IAC/C,MAAMt7B,EAAM,GAAGs7B,cAAoB0H,mBAAmBI,iBAChDK,EAAc,IAAIC,YAAY1jC,EAAK,CAAC2jC,iBAAiB,IAC3DF,EAAYG,iBAAiB,MAAQ9qB,IACnC,GAAIA,EAAMtb,KACR,IACE8lC,EAAWzP,KAAKtgB,KAAKC,MAAMsF,EAAMtb,OACjC,MAAOqmC,GACPP,EAAWvuC,MAAM8uC,MAIvBJ,EAAYG,iBAAiB,aAAe9qB,IAC1C,GAAIA,EAAMtb,KACR,IACE8lC,EAAWzP,KAAKtgB,KAAKC,MAAMsF,EAAMtb,OACjC,MAAOqmC,GACPP,EAAWvuC,MAAM8uC,GAGrBJ,EAAYK,QACZR,EAAWS,aAEbN,EAAYG,iBAAiB,QAAU9qB,IACrCwqB,EAAWvuC,MAAM+jB,MAEjB/jB,IACFuuC,EAAWvuC,MAAMA,OAIvB,oBACE,MAAMumC,QAAgB90B,KAAK0N,aAAaS,WAAW,cAC7CvB,QAAiBwB,MAAS0mB,EAAH,eAC7B,IAAKloB,EAASwP,GACZ,MAAM,IAAcsgB,aAAa9vB,GAEnC,aAAaA,EAASyB,QAI1B,MAAMmvB,EAA4B,aAAuB,CACvDxwC,GAAI,qBACJywC,UAAU,IAENxmC,EAAe,aAAe,CAClC3J,MAAO,sBAGHowC,EAAmB,aAAa,CACpC1wC,GAAI,aACJ4lB,KAAM,CACJ,aAAiB,CACfC,IAAKmpB,EACLlpB,KAAM,CACJpF,aAAc,KACdwuB,YAAa,KACbC,mBAAoB,KAEtBppB,QAAS,EAAErF,eAAcwuB,cAAaC,wBAAwB,IAAIF,EAAiB,CAACvuB,eAAcwuB,cAAaC,0BAGnHhlC,OAAQ,CACNC,KAAMH,GAER0mC,eAAgB,CACdC,kBAAmBJ,KAGjBK,EAAiBH,EAAiBrmC,QAAQ,aAAwB,CACtE7G,UAAW,IAAM,sDAAmC+G,KAAME,GAAMA,EAAEqmC,QAClEnmC,WAAYV,M,mgGCpJd,MAAM8mC,EAA0B,2CAChC,SAASC,EAASpvC,GAChB,MAAwB,iBAAVA,GAAgC,OAAVA,IAAmBgD,MAAMulB,QAAQvoB,GAEvE,SAASqvC,EAAOrvC,GACd,GAAc,OAAVA,EACF,MAAO,OACF,GAAIgD,MAAMulB,QAAQvoB,GACvB,MAAO,QAET,MAAMM,SAAcN,EACpB,MAAa,WAATM,GAAqBgvC,MAAMtvC,GACtB,MAEI,WAATM,GAA+B,KAAVN,EAChB,eAEFM,EAET,MAAM,EAAS,CACbA,KAAI,CAAC8D,EAAK8iB,EAASqoB,EAAUC,IACpB,mCAAmCprC,UAAY8iB,WAAiBqoB,aAAoBC,IAE7FxsB,QAAQ5e,GACC,qCAAqCA,KAE9CqrC,QAAO,CAACrrC,EAAK8iB,EAASsoB,IACb,2CAA2CprC,UAAY8iB,WAAiBsoB,KAGnF,MAAM,EACJ,YAAYpnC,EAAM8e,EAAU,cAAewoB,EAAUC,EAAS,IAC5Dv+B,KAAKhJ,KAAOA,EACZgJ,KAAK8V,QAAUA,EACf9V,KAAKs+B,SAAWA,EAChBt+B,KAAKu+B,OAASA,EAEhB,mBAAmBxL,GACjB,OAAuB,IAAnBA,EAAQh0B,OACH,IAAI,OAAa,GAEnBg0B,EAAQlhB,OAAO,CAAC2sB,GAAiBxnC,OAAM8e,aACrC,IAAI,EAAa9e,EAAM8e,EAAS0oB,QACtC,GAEL,IAAIxrC,GACF,IAAInF,EAAIC,EAER,YAAc,IADAkS,KAAKy+B,UAAUzrC,IAIwC,OAA7DlF,EAA6B,OAAvBD,EAAKmS,KAAKs+B,eAAoB,EAASzwC,EAAG2D,IAAIwB,KAAgBlF,EAE9E,OACE,IAAID,EAAIC,EACR,MAAM4wC,EAAY1+B,KAAKhJ,KAAOtH,OAAOylB,KAAKnV,KAAKhJ,MAAQ,GACjD2nC,EAA2E,OAA3D7wC,EAA6B,OAAvBD,EAAKmS,KAAKs+B,eAAoB,EAASzwC,EAAGsnB,QAAkBrnB,EAAK,GAC7F,MAAO,IAAI,IAAIkD,IAAI,IAAI0tC,KAAcC,KAEvC,IAAI3rC,GACF,MAAMpE,EAAQoR,KAAK4+B,YAAY5rC,GAC/B,QAAc,IAAVpE,EACF,MAAM,IAAIG,MAAM,EAAO6iB,QAAQ5R,KAAK6+B,QAAe,MAAP7rC,EAAcA,EAAM,MAElE,OAAOpE,EAET,YAAYoE,GACV,IAAInF,EACJ,MAAMe,EAAQoR,KAAKy+B,UAAUzrC,GACvB8rC,EAAwC,OAAvBjxC,EAAKmS,KAAKs+B,eAAoB,EAASzwC,EAAG+wC,YAAY5rC,GAC7E,YAAc,IAAVpE,EACKkwC,OACoB,IAAlBA,EACFlwC,EAEF,IAAU,GAAI,CAACA,MAAO,IAAUkwC,IAAiB,CAAClwC,SAAQ,CAACmwC,EAAMltC,IAAUmsC,EAASnsC,IAAUmsC,EAASe,QAAe,EAAPltC,GAAejD,MAEvI,UAAUoE,GACR,MAAMpE,EAAQoR,KAAKg/B,kBAAkBhsC,GACrC,QAAc,IAAVpE,EACF,MAAM,IAAIG,MAAM,EAAO6iB,QAAQ5R,KAAK6+B,QAAQ7rC,KAE9C,OAAOpE,EAET,kBAAkBoE,GAChB,IAAInF,EACJ,MAAMe,EAAQoR,KAAKy+B,UAAUzrC,GACvBisC,EAAyC,OAAvBpxC,EAAKmS,KAAKs+B,eAAoB,EAASzwC,EAAGmxC,kBAAkBhsC,GAC9EurC,EAASv+B,KAAK6+B,QAAQ7rC,GAC5B,GAAIgrC,EAASpvC,GACX,OAAO,IAAI,EAAaA,EAAOoR,KAAK8V,QAASmpB,EAAgBV,GAE/D,QAAc,IAAV3vC,EACF,MAAM,IAAI4pC,UAAU,EAAOtpC,KAAK8Q,KAAK6+B,QAAQ7rC,GAAMgN,KAAK8V,QAASmoB,EAAOrvC,GAAQ,WAElF,OAAOqwC,EAET,eAAejsC,GACb,MAAMpE,EAAQoR,KAAKkzB,uBAAuBlgC,GAC1C,QAAc,IAAVpE,EACF,MAAM,IAAIG,MAAM,EAAO6iB,QAAQ5R,KAAK6+B,QAAQ7rC,KAE9C,OAAOpE,EAET,uBAAuBoE,GACrB,MAAM+/B,EAAU/yB,KAAKk/B,gBAAgBlsC,EAAMrD,IACzC,IAAKiC,MAAMulB,QAAQxnB,GACjB,MAAO,CAACyuC,SAAU,gBAEpB,IAAK,MAAOlgC,EAAOtP,KAAUe,EAAO8O,UAClC,IAAKu/B,EAASpvC,GACZ,MAAO,CAACwvC,SAAU,eAAgBxvC,QAAOoE,IAAK,GAAGA,KAAOkL,MAG5D,OAAO,IAET,GAAK60B,EAGL,OAAOA,EAAQ/iC,IAAI,CAACmvC,EAAKjhC,IAAU,IAAI,EAAaihC,EAAKn/B,KAAK8V,aAAS,EAAQ9V,KAAK6+B,QAAQ,GAAG7rC,KAAOkL,QAExG,UAAUlL,GACR,MAAMpE,EAAQoR,KAAKo/B,kBAAkBpsC,GACrC,QAAc,IAAVpE,EACF,MAAM,IAAIG,MAAM,EAAO6iB,QAAQ5R,KAAK6+B,QAAQ7rC,KAE9C,OAAOpE,EAET,kBAAkBoE,GAChB,MAAMpE,EAAQoR,KAAKk/B,gBAAgBlsC,EAAMmmC,GAAuB,iBAARA,GAAmC,iBAARA,GAAoB,CAACiF,SAAU,WAClH,GAAqB,iBAAVxvC,QAAgC,IAAVA,EAC/B,OAAOA,EAET,MAAMywC,EAASrC,OAAOpuC,GACtB,IAAKouC,OAAOsC,SAASD,GACnB,MAAM,IAAItwC,MAAM,EAAOsvC,QAAQr+B,KAAK6+B,QAAQ7rC,GAAMgN,KAAK8V,QAAS,WAElE,OAAOupB,EAET,WAAWrsC,GACT,MAAMpE,EAAQoR,KAAKu/B,mBAAmBvsC,GACtC,QAAc,IAAVpE,EACF,MAAM,IAAIG,MAAM,EAAO6iB,QAAQ5R,KAAK6+B,QAAQ7rC,KAE9C,OAAOpE,EAET,mBAAmBoE,GACjB,OAAOgN,KAAKk/B,gBAAgBlsC,EAAMpE,GAA2B,kBAAVA,GAAuB,CAACwvC,SAAU,YAEvF,UAAUprC,GACR,MAAMpE,EAAQoR,KAAKqyB,kBAAkBr/B,GACrC,QAAc,IAAVpE,EACF,MAAM,IAAIG,MAAM,EAAO6iB,QAAQ5R,KAAK6+B,QAAQ7rC,KAE9C,OAAOpE,EAET,kBAAkBoE,GAChB,OAAOgN,KAAKk/B,gBAAgBlsC,EAAMpE,GAA2B,iBAAVA,GAAgC,KAAVA,GAAgB,CAACwvC,SAAU,WAEtG,eAAeprC,GACb,MAAMpE,EAAQoR,KAAKw/B,uBAAuBxsC,GAC1C,QAAc,IAAVpE,EACF,MAAM,IAAIG,MAAM,EAAO6iB,QAAQ5R,KAAK6+B,QAAQ7rC,KAE9C,OAAOpE,EAET,uBAAuBoE,GACrB,OAAOgN,KAAKk/B,gBAAgBlsC,EAAMrD,IAChC,IAAKiC,MAAMulB,QAAQxnB,GACjB,MAAO,CAACyuC,SAAU,gBAEpB,IAAK,MAAOlgC,EAAOtP,KAAUe,EAAO8O,UAClC,GAAqB,iBAAV7P,GAAgC,KAAVA,EAC/B,MAAO,CAACwvC,SAAU,eAAgBxvC,QAAOoE,IAAK,GAAGA,KAAOkL,MAG5D,OAAO,IAGX,QAAQlL,GACN,MAAO,GAAGgN,KAAKu+B,SAASv+B,KAAKu+B,OAAS,IAAM,KAAKvrC,IAEnD,gBAAgBA,EAAKgoB,GACnB,IAAIntB,EACJ,MAAMe,EAAQoR,KAAKy+B,UAAUzrC,GAC7B,QAAc,IAAVpE,EACF,OAA+B,OAAvBf,EAAKmS,KAAKs+B,eAAoB,EAASzwC,EAAGqxC,gBAAgBlsC,EAAKgoB,GAEzE,MAAM3N,EAAS2N,EAASpsB,GACxB,IAAe,IAAXye,EAAiB,CACnB,MAAOra,IAAKysC,EAAUzsC,EAAKpE,MAAO8wC,EAAW9wC,EAAK,SAAEwvC,GAAY/wB,EAChE,MAAM,IAAImrB,UAAU,EAAOtpC,KAAK8Q,KAAK6+B,QAAQY,GAAUz/B,KAAK8V,QAASmoB,EAAOyB,GAAWtB,IAEzF,OAAOxvC,EAET,UAAUoE,GACR,MAAMojC,EAAQpjC,EAAMA,EAAIye,MAAM,KAAO,GACrC,IAAK,MAAMkuB,KAAQvJ,EACjB,IAAK2H,EAAwBlZ,KAAK8a,GAChC,MAAM,IAAInH,UAAU,uBAAuBxlC,MAG/C,QAAkB,IAAdgN,KAAKhJ,KACP,OAEF,IAAIpI,EAAQoR,KAAKhJ,KACjB,IAAK,MAAOkH,EAAOyhC,KAASvJ,EAAM33B,UAChC,GAAIu/B,EAASpvC,GACXA,EAAQA,EAAM+wC,QACT,QAAc,IAAV/wC,EAAkB,CAC3B,MAAMgxC,EAAS5/B,KAAK6+B,QAAQzI,EAAM3R,MAAM,EAAGvmB,GAAOvJ,KAAK,MACvD,MAAM,IAAI6jC,UAAU,EAAOtpC,KAAK0wC,EAAQ5/B,KAAK8V,QAASmoB,EAAOrvC,GAAQ,WAGzE,OAAOA,G,6PCpMX,MAAMixC,EACJ,eAAeC,GACb9/B,KAAK8/B,QAAUA,EAEjB,IAAIC,GACF,IAAK,MAAMC,KAAUhgC,KAAK8/B,QAAS,CACjC,MAAMjtB,EAAMmtB,EAAOnvC,IAAIkvC,GACvB,GAAIltB,EACF,OAAOA,IAgBf,MAAMotB,EARkB,oBAAXjmC,QAA0BA,OAAOkH,OAASA,KAC5ClH,OAEW,oBAAT0O,MAAwBA,KAAKxH,OAASA,KACxCwH,KAEFw3B,SAAS,cAATA,GAGHC,EAAWnzC,GAAO,gBAAgBA,MACxC,SAASozC,EAAmBpzC,GAC1B,MAAMgG,EAAMmtC,EAAQnzC,GACpB,KAAMgG,KAAOitC,GACX,MAAM,IAAIlxC,MAAM,UAAU/B,gBAE5B,OAAOizC,EAAajtC,GAEtB,SAASqtC,EAA2BrzC,EAAIszC,GACtC,MAAMttC,EAAMmtC,EAAQnzC,GACpB,IAAI4B,EAAQqxC,EAAajtC,GACzB,OAAIpE,IAGJA,EAAQ0xC,IACRL,EAAajtC,GAAOpE,EACbA,GAGT,SAAS2xC,EAAwBC,GAE/B,OADA9wC,OAAO6F,OAAOirC,GACP,CACLC,UAAUC,GACDF,EAASE,IAKtB,MACMC,EAAaN,EAA2B,cAAe,IAAM,6BAAc,IAC3EO,GAAc,EAClBhuB,OACAtgB,eAEA,IAAIzE,EACJ,MAAMgzC,EAAgD,OAAhChzC,EAAK,qBAAW8yC,SAAuB,EAAS9yC,EAAG4yC,UAAU,GAC7EK,EAAiB,kBAAQ,IAAMP,EAAwB,CAC3DQ,EAAGF,EAAe,IAAIhB,EAAcjtB,EAAMiuB,GAAgBjuB,IACxD,CAACiuB,EAAcjuB,IACnB,OAAuB,IAAMlgB,cAAciuC,EAAWK,SAAU,CAC9DpyC,MAAOkyC,EACPxuC,cAOJ,SAAS2uC,KACP,MAAMC,EAAkB,qBAAWd,EAAmB,gBACtD,IAAKc,EACH,MAAM,IAAInyC,MAvBe,mUAyB3B,MAAMoyC,EAAYD,EAAgBT,UAAU,GAC5C,IAAKU,EACH,MAAM,IAAIpyC,MAAM,+BAElB,OAAOoyC,EAET,SAASC,GAAOrB,GACd,MACMltB,EADYouB,KACIpwC,IAAIkvC,GAC1B,IAAKltB,EACH,MAAM,IAAI9jB,MAAM,mCAAmCgxC,GAErD,OAAOltB,EArBT+tB,GAAYS,UAAY,CACtBzuB,KAAM,IAAU0uB,MAAM,CAACzwC,IAAK,IAAUyW,KAAKi6B,aAAaA,WACxDjvC,SAAU,IAAU8P,MAsBtB,MAAMo/B,GACJ,cACExhC,KAAK4S,KAAO,GAEd,IAAIC,EAAK4uB,GAEP,OADAzhC,KAAK4S,KAAK9iB,KAAK,CAAC+iB,EAAI7lB,GAAIy0C,IACjBA,EAET,QACE,OAAO,IAAIC,GAAY,IAAIthB,IAAIpgB,KAAK4S,QAGxC,MAAM8uB,GACJ,YAAY9uB,GACV5S,KAAK4S,KAAOA,EAEd,iBACE,OAAO,IAAI4uB,GAEb,YAAY5uB,GACV,OAAO,IAAI8uB,GAAY,IAAIthB,IAAIxN,EAAK5iB,IAAI,EAAE6iB,EAAK4uB,KAAU,CAAC5uB,EAAI7lB,GAAIy0C,MAEpE,YAAY5uB,EAAK4uB,GACf,OAAO,IAAIC,GAAY,IAAIthB,IAAI,CAAC,CAACvN,EAAI7lB,GAAIy0C,MAE3C,KAAK5uB,EAAK4uB,GACR,OAAO,IAAIC,GAAY,IAAIthB,IAAI,IAAIpgB,KAAK4S,KAAM,CAACC,EAAI7lB,GAAIy0C,MAEzD,IAAI5uB,GACF,OAAO7S,KAAK4S,KAAK/hB,IAAIgiB,EAAI7lB,KAI7B,MAAM20C,GACJ,YAAYC,GACV5hC,KAAK4hC,UAAYA,EACjB5hC,KAAK4S,KAAO,IAAIwN,IAElB,yBAAyBwhB,EAAWhvB,GAClC,IAAK,MAAMC,KAAOD,EAAM,CACtB,MAAMivB,EAAO,CAAChvB,GACRivB,EAAU,IAAI9wC,IACpB,KAAO6wC,EAAK9iC,QAAQ,CAClB,MAAMghC,EAAS8B,EAAKE,QACdhvB,EAAU6uB,EAAU/wC,IAAIkvC,GAC9B,GAAKhtB,EAGL,IAAK,MAAMivB,KAAOtyC,OAAOC,OAAOojB,EAAQD,MAAO,CAC7C,GAAIkvB,EAAIh1C,KAAO6lB,EAAI7lB,GACjB,MAAM,IAAI+B,MAAM,0CAA0C8jB,GAEvDivB,EAAQtwC,IAAIwwC,KACfF,EAAQpwC,IAAIswC,GACZH,EAAK/xC,KAAKkyC,OAMpB,IAAI3vC,GACF,OAAO2N,KAAKiiC,KAAK5vC,GAEnB,KAAKA,EAAK/D,EAAU,IAClB,MAAMmzC,EAAOzhC,KAAK4S,KAAK/hB,IAAIwB,EAAIrF,IAC/B,GAAIy0C,EACF,OAAOA,EAET,MAAM1uB,EAAU/S,KAAK4hC,UAAU/wC,IAAIwB,GACnC,IAAK0gB,EACH,OAEF,GAAIzkB,EAAQ2F,SAAS8e,EAAQF,KAC3B,MAAM,IAAI9jB,MAAM,0CAA0CgkB,EAAQF,KAEpE,MAAMC,EAAO9S,KAAKkiC,SAAS7vC,EAAK0gB,EAAQD,KAAM,IAAIxkB,EAASykB,EAAQF,MAC7DA,EAAME,EAAQA,QAAQD,GAE5B,OADA9S,KAAK4S,KAAKjhB,IAAIU,EAAIrF,GAAI6lB,GACfA,EAET,SAASsvB,EAAWvvB,EAAMtkB,GACxB,MAAM8zC,EAAQ,GACd,IAAK,MAAMpvC,KAAO4f,EAChB,GAAIA,EAAK+B,eAAe3hB,GAAM,CAC5B,MAAMX,EAAMugB,EAAK5f,GACX6f,EAAM7S,KAAKiiC,KAAK5vC,EAAK/D,GAC3B,IAAKukB,EACH,MAAM,IAAI9jB,MAAM,2CAA2CsD,kBAAoB8vC,KAEjFC,EAAMpvC,GAAO6f,EAGjB,OAAOuvB,GAIX,IAAIC,GACMC,GAsENC,GACMC,IAvEAF,GAIPD,KAAkBA,GAAgB,KAHpBC,GAAwB,QAAI,IAAM,UACjDA,GAAeA,GAAoB,IAAI,IAAM,MAC7CA,GAAeA,GAAuB,OAAI,KAAO,SAEnD,MAAMG,GACJ,cACEziC,KAAK4hC,UAAY,IAAIxhB,IAEvB,SAAS5M,EAAOT,GACd,MAAM2vB,EAAWL,GAAc7uB,GACzBmvB,EAAW3iC,KAAK4hC,UAAU/wC,IAAIkiB,EAAQF,IAAI7lB,IAChD,QAAI21C,GAAYA,EAASD,UAAYA,KAGrC1iC,KAAK4hC,UAAUjwC,IAAIohB,EAAQF,IAAI7lB,GAAI,CAAC01C,WAAU3vB,aACvC,GAET,IAAIF,GACF,MAAM+vB,EAAQ5iC,KAAK4hC,UAAU/wC,IAAIgiB,EAAI7lB,IACrC,GAAK41C,EAGL,OAAOA,EAAM7vB,QAEf,aACE,MAAMgN,EAAO,IAAI/uB,IACjB,IAAK,MAAM,QAAC+hB,KAAY/S,KAAK4hC,UAAUjyC,SACrCowB,EAAKruB,IAAIqhB,EAAQF,KAEnB,OAAOkN,GAIX,MAAM8iB,GACJ,YAAY/8B,GACV9F,KAAK8F,OAASA,EAEd,IADcA,EAAO9Y,GAAGykB,MAAM,KAAKthB,QAASwvC,GAASA,EAAKluB,MAAM,MAAM6kB,MAAOqJ,GAASA,EAAK58B,MAAM,qBAE/F,MAAM,IAAIhU,MAAM,yFAAyF+W,EAAO9Y,OAGpH,SACE,OAAOgT,KAAK8F,OAAO9Y,GAErB,kBACE,OAAOgT,KAAK8F,OAAO7Y,YAErB,QACE,MAAM,IAAI8B,MAAM,6BAA6BiR,MAE/C,WACE,MAAO,UAAUA,KAAK8F,OAAO9Y,OAGjC,SAAS81C,GAAah9B,GACpB,OAAO,IAAI+8B,GAAW/8B,GAGxB,SAASi9B,GAAiBhwB,EAASiwB,GACjC,MAAI,OAAQjwB,EACH,CACLF,IAAKE,EACLD,KAAM,GACNC,QAAS,IAAMiwB,GAGZjwB,GAICyvB,GAGPD,KAAiBA,GAAe,KAFT,SAAI,WAC5BC,GAAyB,UAAI,YAE/B,MAAMS,GAAmBH,GAAa,CACpC91C,GAAI,mBACJC,YAAa,+DAETi2C,GAAmBJ,GAAa,CACpC91C,GAAI,mBACJC,YAAa,gDAETk2C,GAAiBL,GAAa,CAClC91C,GAAI,iBACJC,YAAa,8CAETm2C,GAAmBN,GAAa,CACpC91C,GAAI,mBACJC,YAAa,gDAETo2C,GAAkBP,GAAa,CACnC91C,GAAI,kBACJC,YAAa,+CAETq2C,GAAsBR,GAAa,CACvC91C,GAAI,sBACJC,YAAa,kEAETs2C,GAAeT,GAAa,CAChC91C,GAAI,mBACJC,YAAa,iDAETu2C,GAAiBV,GAAa,CAClC91C,GAAI,iBACJC,YAAa,+CAETw2C,GAAiBX,GAAa,CAClC91C,GAAI,iBACJC,YAAa,+CAETy2C,GAAqBZ,GAAa,CACtC91C,GAAI,qBACJC,YAAa,iEAGT02C,GAAcb,GAAa,CAC/B91C,GAAI,aACJC,YAAa,sDAGT22C,GAAiBd,GAAa,CAClC91C,GAAI,gBACJC,YAAa,+DAGT42C,GAAef,GAAa,CAChC91C,GAAI,cACJC,YAAa,yCAGT62C,GAAkBhB,GAAa,CACnC91C,GAAI,iBACJC,YAAa,kDAGT82C,GAAcjB,GAAa,CAC/B91C,GAAI,aACJC,YAAa,sDAGf,IAAI+2C,GACMC,OAGPD,KAAqBA,GAAmB,KAFvBC,GAAwB,KAAI,GAAK,OACnDA,GAAkBA,GAA0B,OAAI,GAAK,SAEvD,MAAMC,GAAqBpB,GAAa,CACtC91C,GAAI,oBACJC,YAAa,8DAGTk3C,GAAiBrB,GAAa,CAClC91C,GAAI,gBACJC,YAAa,0DAGTm3C,GAAqBtB,GAAa,CACtC91C,GAAI,oBACJC,YAAa,6DAGTo3C,GAAgBvB,GAAa,CACjC91C,GAAI,eACJC,YAAa,mEAGf,SAASq3C,GAAe1tC,GACtB,OAAO,IAAI3G,QAAQ,CAACqH,EAASitC,KAC3B,MAAMpvC,EAAQyB,EAAQzB,OAAS,IACzBsB,EAASG,EAAQH,QAAU,IAC3B+tC,EAAOxqC,OAAOyqC,OAAOtvC,MAAQ,EAAIA,EAAQ,EACzCuvC,EAAM1qC,OAAOyqC,OAAOhuC,OAAS,EAAIA,EAAS,EAC1CkuC,EAAQ3qC,OAAOL,KAAK/C,EAAQ4C,IAAK5C,EAAQzI,KAAM,qEAAqEgH,YAAgBsB,SAAciuC,UAAYF,KACpK,IAAII,EAAe,GACnB,IAAKD,QAAiC,IAAjBA,EAAME,QAA0BF,EAAME,OAAQ,CACjE,MAAMt2C,EAAQ,IAAIQ,MAAM,8BAGxB,OAFAR,EAAMJ,KAAO,0BACbo2C,EAAOh2C,GAGT,MAAMu2C,EAAmBxyB,IACvB,GAAIA,EAAM9J,SAAWm8B,EACnB,OAEF,GAAIryB,EAAMyyB,SAAWnuC,EAAQmuC,OAC3B,OAEF,MAAM,KAAC/tC,GAAQsb,EACf,GAAkB,gBAAdtb,EAAK9H,KAEP,YADA01C,EAAe5tC,EAAK4tC,cAGtB,GAAkB,2BAAd5tC,EAAK9H,KACP,OAEF,MAAM81C,EAAahuC,EACnB,GAAI,UAAWguC,EAAY,CACzB,MAAMz2C,EAAQ,IAAIQ,MAAMi2C,EAAWz2C,MAAM4d,SACzC5d,EAAMJ,KAAO62C,EAAWz2C,MAAMJ,KAC9Bo2C,EAAOh2C,QAEP+I,EAAQ0tC,EAAWp4B,UAErBq4B,KAEIC,EAAaC,YAAY,KAC7B,GAAIR,EAAME,OAAQ,CAChB,MAAMO,EAAa,kBAAiBR,GAAgBA,IAAiB5qC,OAAOC,SAAS8qC,OAAS,kCAAkCH,EAAiB,oBAC3Ir2C,EAAQ,IAAIQ,MAAMq2C,GACxB72C,EAAMJ,KAAO,mBACbo2C,EAAOh2C,GACP02C,MAED,KACH,SAASA,IACPjrC,OAAOqrC,oBAAoB,UAAWP,GACtCQ,cAAcJ,GAEhBlrC,OAAOojC,iBAAiB,UAAW0H,KAIvC,SAASS,GAAkBC,GACzB,MAAO,IAAIA,GAAQ7wC,KAAK,KAE1B,MAAM8wC,GACJ,YAAY7uC,GACV,MAAM,aACJ8W,EAAY,YACZg4B,EAAW,SACXC,EAAQ,WACRC,EAAaL,GAAiB,gBAC9BM,EAAe,iBACfC,EAAmB,CAAC94C,GAAOA,IACzB4J,EACJoJ,KAAK+lC,cAAgBF,EAAgBG,oBAAoB,CACvDL,WACAM,cAAgBT,GAAWxlC,KAAKkmC,UAAUV,KAE5CxlC,KAAK0N,aAAeA,EACpB1N,KAAK0lC,YAAcA,EACnB1lC,KAAK2lC,SAAWA,EAChB3lC,KAAKmmC,eAAiBP,EACtB5lC,KAAK8lC,iBAAmBA,EAE1B,oBAAoBlvC,GAClB,OAAIA,EAAQwvC,aACHpmC,KAAKkmC,UAAUtvC,EAAQ4uC,QAEzBxlC,KAAK+lC,cAAcnvC,EAAQ4uC,QAEpC,uBACE,MAAM/b,QAAYrb,YAAYpO,KAAKqmC,SAAS,WAAY,CAAC5I,UAAU,IAAQ,CACzE5wB,QAAS,CACP,mBAAoB,kBAEtBy5B,YAAa,YACZC,MAAOh4C,IACR,MAAM,IAAIQ,MAAM,gCAAgCR,KAElD,IAAKk7B,EAAIrN,GAAI,CACX,MAAM7tB,EAAQ,IAAIQ,MAAM,gCAAgC06B,EAAIvc,YAE5D,MADA3e,EAAM0e,OAASwc,EAAIxc,OACb1e,EAER,MAAMi4C,QAAiB/c,EAAIpb,OAC3B,GAAIm4B,EAASj4C,MAAO,CAClB,MAAMA,EAAQ,IAAIQ,MAAMy3C,EAASj4C,MAAM4d,SAIvC,MAHIq6B,EAASj4C,MAAMJ,OACjBI,EAAMJ,KAAOq4C,EAASj4C,MAAMJ,MAExBI,EAER,aAAayR,KAAK8lC,iBAAiBU,GAErC,sBACE,MAAM/c,QAAYrb,YAAYpO,KAAKqmC,SAAS,WAAY,CACtD1J,OAAQ,OACR9vB,QAAS,CACP,mBAAoB,kBAEtBy5B,YAAa,YACZC,MAAOh4C,IACR,MAAM,IAAIQ,MAAM,0BAA0BR,KAE5C,IAAKk7B,EAAIrN,GAAI,CACX,MAAM7tB,EAAQ,IAAIQ,MAAM,0BAA0B06B,EAAIvc,YAEtD,MADA3e,EAAM0e,OAASwc,EAAIxc,OACb1e,GAGV,gBAAgBi3C,GACd,MAAMhyB,EAAQxT,KAAKmmC,eAAeX,GAC5BiB,QAAiBzmC,KAAKqmC,SAAS,SAAU,CAAC7yB,UAC1CkzB,QAAgBpC,GAAe,CACnC9qC,IAAKitC,EACLt4C,KAAS6R,KAAK2lC,SAASr4C,MAAjB,SACNy3C,OAAQ,IAAI9T,IAAIwV,GAAU1B,OAC1B5vC,MAAO,IACPsB,OAAQ,MAEV,aAAauJ,KAAK8lC,iBAAiBY,GAErC,eAAer5C,EAAM2gB,GACnB,MAAM8mB,QAAgB90B,KAAK0N,aAAaS,WAAW,QAC7CF,EAAcjO,KAAK2mC,iBAAiB,IACrC34B,EACHgZ,IAAKhnB,KAAK0lC,cAEZ,MAAO,GAAG5Q,KAAW90B,KAAK2lC,SAAS34C,KAAKK,IAAO4gB,IAEjD,iBAAiBD,GACf,IAAKA,EACH,MAAO,GAET,MAAMC,EAAcve,OAAO+O,QAAQuP,GAAOhe,IAAI,EAAEgD,EAAKpE,KAC9B,iBAAVA,EACF,GAAG4tC,mBAAmBxpC,MAAQwpC,mBAAmB5tC,KAC/CA,EACF4tC,mBAAmBxpC,QADrB,GAIN1D,OAAOqmC,SAAShhC,KAAK,KACxB,OAAKsZ,EAGE,IAAIA,EAFF,IAMb,MAAM24B,GACJ,YAAYhwC,GACV,MAAM,aAAC8W,EAAY,YAAEg4B,EAAW,SAAEC,GAAY/uC,EAC9CoJ,KAAK0N,aAAeA,EACpB1N,KAAK0lC,YAAcA,EACnB1lC,KAAK2lC,SAAWA,EAElB,sBACE,MAAMc,QAAiBzmC,KAAKqmC,SAAS,UAC/BK,QAAgBpC,GAAe,CACnC9qC,IAAKitC,EACLt4C,KAAS6R,KAAK2lC,SAASr4C,MAAjB,SACNy3C,OAAQ,IAAI9T,IAAIwV,GAAU1B,OAC1B5vC,MAAO,IACPsB,OAAQ,MAEV,MAAO,IACFiwC,EACH15C,GAAI05C,EAAQhN,QAAQE,OAGxB,wBAEA,sBACE,MAAMnQ,QAAYrb,YAAYpO,KAAKqmC,SAAS,WAAY,CACtD1J,OAAQ,OACR9vB,QAAS,CACP,mBAAoB,kBAEtBy5B,YAAa,YACZC,MAAOh4C,IACR,MAAM,IAAIQ,MAAM,0BAA0BR,KAE5C,IAAKk7B,EAAIrN,GAAI,CACX,MAAM7tB,EAAQ,IAAIQ,MAAM,0BAA0B06B,EAAIvc,YAEtD,MADA3e,EAAM0e,OAASwc,EAAIxc,OACb1e,GAGV,eAAelB,GAEb,MAAO,SADe2S,KAAK0N,aAAaS,WAAW,WAC9BnO,KAAK2lC,SAAS34C,KAAKK,SAAY2S,KAAK0lC,eAI7D,SAASmB,GAAUC,EAAUC,GAC3B,IAAK,MAAMvzB,KAASuzB,EAClB,IAAKD,EAASt1C,IAAIgiB,GAChB,OAAO,EAGX,OAAO,EAET,MAAMwzB,GACJ,YAAYpwC,GACVoJ,KAAKpJ,QAAUA,EAEjB,yBAAyBqwC,EAASzB,GAChC,IAAKyB,EACH,OAAO,EAET,IAAKzB,EACH,OAAO,EAET,QAAmC,IAA/BxlC,KAAKpJ,QAAQswC,cACf,OAAO,EAGT,OAAOL,GADe7mC,KAAKpJ,QAAQswC,cAAcD,GACjBzB,GAElC,iBAAiByB,EAASzB,GACxB,MAAM2B,EAAW,IAAIn2C,IAAIgP,KAAKpJ,QAAQwwC,eACtC,GAAIH,QAA0C,IAA/BjnC,KAAKpJ,QAAQswC,cAA0B,CACpD,MAAMA,EAAgBlnC,KAAKpJ,QAAQswC,cAAcD,GACjD,IAAK,MAAMzzB,KAAS0zB,EAClBC,EAASz1C,IAAI8hB,GAGjB,GAAIgyB,EACF,IAAK,MAAMhyB,KAASgyB,EAClB2B,EAASz1C,IAAI8hB,GAGjB,OAAO2zB,GAIX,MAAM,GACJ,cACEnnC,KAAKqnC,UAAW,EAChBrnC,KAAKsnC,WAAa,IAAI,IAAgBxK,GAChC98B,KAAKqnC,UACHrnC,KAAKunC,iBACPzK,EAAWvuC,MAAMyR,KAAKunC,kBAEtBzK,EAAWS,WAEN,SAGTv9B,KAAKwnC,YAAY91C,IAAIorC,GACd,KACL98B,KAAKwnC,YAAY/1C,OAAOqrC,MAG5B98B,KAAKwnC,YAAc,IAAIx2C,IAEzB,CAACy2C,OAAOH,cACN,OAAOtnC,KAET,aACE,OAAOA,KAAKqnC,SAEd,KAAKz4C,GACH,GAAIoR,KAAKqnC,SACP,MAAM,IAAIt4C,MAAM,4BAElBiR,KAAKwnC,YAAYhlC,QAASs6B,GAAeA,EAAWzP,KAAKz+B,IAE3D,MAAML,GACJ,GAAIyR,KAAKqnC,SACP,MAAM,IAAIt4C,MAAM,4BAElBiR,KAAKqnC,UAAW,EAChBrnC,KAAKunC,iBAAmBh5C,EACxByR,KAAKwnC,YAAYhlC,QAASs6B,GAAeA,EAAWvuC,MAAMA,IAE5D,WACE,GAAIyR,KAAKqnC,SACP,MAAM,IAAIt4C,MAAM,4BAElBiR,KAAKqnC,UAAW,EAChBrnC,KAAKwnC,YAAYhlC,QAASs6B,GAAeA,EAAWS,YAEtD,UAAUmK,EAAQC,EAASC,GACzB,MAAMC,EAA6B,mBAAXH,EAAwB,CAC9Cra,KAAMqa,EACNn5C,MAAOo5C,EACPpK,SAAUqK,GACRF,EACJ,OAAO1nC,KAAKsnC,WAAWQ,UAAUD,IAGrC,MAAM,GACJ,YAAYj5C,GACVoR,KAAKqnC,UAAW,EAChBrnC,KAAKsnC,WAAa,IAAI,IAAgBxK,GAChC98B,KAAKqnC,UACHrnC,KAAKunC,iBACPzK,EAAWvuC,MAAMyR,KAAKunC,kBAEtBzK,EAAWS,WAEN,SAGTT,EAAWzP,KAAKrtB,KAAK3O,cACrB2O,KAAKwnC,YAAY91C,IAAIorC,GACd,KACL98B,KAAKwnC,YAAY/1C,OAAOqrC,MAG5B98B,KAAKwnC,YAAc,IAAIx2C,IACvBgP,KAAK3O,aAAezC,EAEtB,CAAC64C,OAAOH,cACN,OAAOtnC,KAET,aACE,OAAOA,KAAKqnC,SAEd,KAAKz4C,GACH,GAAIoR,KAAKqnC,SACP,MAAM,IAAIt4C,MAAM,6BAElBiR,KAAK3O,aAAezC,EACpBoR,KAAKwnC,YAAYhlC,QAASs6B,GAAeA,EAAWzP,KAAKz+B,IAE3D,MAAML,GACJ,GAAIyR,KAAKqnC,SACP,MAAM,IAAIt4C,MAAM,6BAElBiR,KAAKqnC,UAAW,EAChBrnC,KAAKunC,iBAAmBh5C,EACxByR,KAAKwnC,YAAYhlC,QAASs6B,GAAeA,EAAWvuC,MAAMA,IAE5D,WACE,GAAIyR,KAAKqnC,SACP,MAAM,IAAIt4C,MAAM,6BAElBiR,KAAKqnC,UAAW,EAChBrnC,KAAKwnC,YAAYhlC,QAASs6B,GAAeA,EAAWS,YAEtD,UAAUmK,EAAQC,EAASC,GACzB,MAAMC,EAA6B,mBAAXH,EAAwB,CAC9Cra,KAAMqa,EACNn5C,MAAOo5C,EACPpK,SAAUqK,GACRF,EACJ,OAAO1nC,KAAKsnC,WAAWQ,UAAUD,IAIrC,MAAME,GACJ,cACE/nC,KAAKgoC,QAAU,IAAI,GAAgBzF,GAAa0F,WAChDjoC,KAAKkoC,UAAW,EAElB,cAAcC,GACRnoC,KAAKkoC,WAAaC,IACpBnoC,KAAKkoC,SAAWC,EAChBnoC,KAAKgoC,QAAQ3a,KAAKrtB,KAAKkoC,SAAW3F,GAAa6F,SAAW7F,GAAa0F,YAG3E,gBACE,OAAOjoC,KAAKgoC,SAIhB,MAAMK,GACJ,YAAYzxC,GACVoJ,KAAKsoC,aAAe,IAAIP,GACxB,MAAM,UACJQ,EAAS,cACTnB,EAAgB,IAAIp2C,IAAK,cACzBk2C,EAAa,qBACbsB,GACE5xC,EACJoJ,KAAKuoC,UAAYA,EACjBvoC,KAAKyoC,kBAAoBvB,EACzBlnC,KAAK0oC,yBAA2BF,EAChCxoC,KAAK2oC,OAAS,IAAI3B,GAAmB,CAACE,gBAAeE,kBAEvD,iBAAiBxwC,GACf,GAAIoJ,KAAK2oC,OAAOC,yBAAyB5oC,KAAK6oC,eAAgBjyC,EAAQ4uC,QAAS,CAE7E,IADsBxlC,KAAK0oC,yBAAyB1oC,KAAK6oC,gBAEvD,OAAO7oC,KAAK6oC,eAEd,IACE,MAAMC,QAAyB9oC,KAAK+oC,0BAC9BC,EAAgBhpC,KAAKyoC,kBAAkBzoC,KAAK6oC,gBAKlD,OAHIhC,GADoB7mC,KAAKyoC,kBAAkBK,GAChBE,KAC7BhpC,KAAK6oC,eAAiBC,GAEjBA,EACP,MAAOv6C,GACP,GAAIqI,EAAQ6mC,SACV,OAEF,MAAMlvC,GAGV,IAAKyR,KAAK6oC,iBAAmBjyC,EAAQwvC,aACnC,IACE,MAAM6C,QAAmBjpC,KAAK+oC,0BAE9B,OADA/oC,KAAK6oC,eAAiBI,EACfjpC,KAAKkpC,WAAWtyC,GACvB,OAGJ,IAAIA,EAAQ6mC,SAQZ,OALAz9B,KAAK6oC,qBAAuB7oC,KAAKuoC,UAAUY,cAAc,IACpDvyC,EACH4uC,OAAQxlC,KAAK2oC,OAAOS,iBAAiBppC,KAAK6oC,eAAgBjyC,EAAQ4uC,UAEpExlC,KAAKsoC,aAAae,eAAc,GACzBrpC,KAAK6oC,eAEd,sBACE7oC,KAAK6oC,oBAAiB,QAChB7oC,KAAKuoC,UAAUe,gBACrBtpC,KAAKsoC,aAAae,eAAc,GAElC,gBACE,OAAOrpC,KAAKsoC,aAAaiB,gBAE3B,gCACE,GAAIvpC,KAAKwpC,eACP,OAAOxpC,KAAKwpC,eAEdxpC,KAAKwpC,eAAiBxpC,KAAKuoC,UAAUkB,iBACrC,IACE,MAAMxC,QAAgBjnC,KAAKwpC,eAE3B,OADAxpC,KAAKsoC,aAAae,eAAc,GACzBpC,EACP,eACOjnC,KAAKwpC,iBAKlB,MAAME,GACJ,YAAY9yC,GACVoJ,KAAKsoC,aAAe,IAAIP,GACxB,MAAM,UAACQ,EAAS,cAAEnB,EAAgB,IAAIp2C,IAAK,cAAEk2C,GAAiBtwC,EAC9DoJ,KAAKuoC,UAAYA,EACjBvoC,KAAK2oC,OAAS,IAAI3B,GAAmB,CAACE,gBAAeE,kBAEvD,WAAWH,GACTjnC,KAAK6oC,eAAiB5B,EACtBjnC,KAAKsoC,aAAae,cAAc1T,QAAQsR,IAE1C,iBAAiBrwC,GACf,OAAIoJ,KAAK2oC,OAAOC,yBAAyB5oC,KAAK6oC,eAAgBjyC,EAAQ4uC,QAC7DxlC,KAAK6oC,eAEVjyC,EAAQ6mC,cAAZ,GAGAz9B,KAAK6oC,qBAAuB7oC,KAAKuoC,UAAUY,cAAc,IACpDvyC,EACH4uC,OAAQxlC,KAAK2oC,OAAOS,iBAAiBppC,KAAK6oC,eAAgBjyC,EAAQ4uC,UAEpExlC,KAAKsoC,aAAae,eAAc,GACzBrpC,KAAK6oC,gBAEd,sBACE7oC,KAAK6oC,oBAAiB,QAChB7oC,KAAKuoC,UAAUe,gBACrBtpC,KAAKsoC,aAAae,eAAc,GAElC,gBACE,OAAOrpC,KAAKsoC,aAAaiB,iBAI7B,MAAMI,GACJ,YAAY/yC,GACV,MAAM,QACJgzC,EAAO,WACPC,EAAU,cACV3C,EAAa,qBACbsB,EAAuB,MAAM,IAC3B5xC,EACJoJ,KAAK4pC,QAAUA,EACf5pC,KAAK6pC,WAAaA,EAClB7pC,KAAK0oC,yBAA2BF,EAChCxoC,KAAK2oC,OAAS,IAAI3B,GAAmB,CACnCE,gBACAE,cAAe,IAAIp2C,MAGvB,iBAAiB4F,GACf,MAAM,OAAC4uC,GAAU5uC,EACXqwC,EAAUjnC,KAAK8pC,cACrB,GAAI9pC,KAAK2oC,OAAOC,yBAAyB3B,EAASzB,GAAS,CAEzD,IADsBxlC,KAAK0oC,yBAAyBzB,GAGlD,OADAjnC,KAAK4pC,QAAQG,WAAW9C,GACjBA,EAGX,MAAMgC,QAAmBjpC,KAAK4pC,QAAQV,WAAWtyC,GAEjD,OADAoJ,KAAKgqC,YAAYf,GACVA,EAET,sBACEgB,aAAaC,WAAWlqC,KAAK6pC,kBACvB7pC,KAAK4pC,QAAQN,gBAErB,gBACE,OAAOtpC,KAAK4pC,QAAQL,gBAEtB,cACE,IACE,MAAMY,EAAcF,aAAaG,QAAQpqC,KAAK6pC,YAC9C,GAAIM,EAAa,CAOf,OANgBp9B,KAAKC,MAAMm9B,EAAa,CAACE,EAAMz7C,IACG,SAAlC,MAATA,OAAgB,EAASA,EAAM07C,QAC3B,IAAIt5C,IAAIpC,EAAM27C,SAEhB37C,GAIX,OACA,MAAOL,GAEP,YADA07C,aAAaC,WAAWlqC,KAAK6pC,aAIjC,YAAY5C,QACM,IAAZA,EACFgD,aAAaC,WAAWlqC,KAAK6pC,YAE7BI,aAAaO,QAAQxqC,KAAK6pC,WAAY98B,KAAKmB,UAAU+4B,EAAS,CAACoD,EAAMz7C,IAC/DA,aAAiBoC,IACZ,CACLs5C,OAAQ,MACRC,QAAS34C,MAAMC,KAAKjD,IAGjBA,KAMf,MAAM67C,GAAmB,CACvBz9C,GAAI,SACJM,MAAO,SACPF,KAAM,KAER,MAAMs9C,GACJ,YAAYC,GACV3qC,KAAK2qC,eAAiBA,EAExB,eAAc,aACZj9B,EAAY,YACZg4B,EAAc,cAAa,SAC3BC,EAAW8E,GAAgB,gBAC3B5E,EAAe,cACfuB,EAAgB,CAAC,eAEjB,MAAMmB,EAAY,IAAI9C,GAAqB,CACzC/3B,eACAg4B,cACAC,WACAE,kBACAC,iBAAiBrc,IACR,IACFA,EACHmhB,aAAc,CACZC,YAAaphB,EAAImhB,aAAaC,YAC9BrF,OAAQkF,GAAWI,eAAerhB,EAAImhB,aAAap3B,OACnDu3B,UAAW,IAAItmC,KAAKA,KAAKumC,MAA4C,IAApCvhB,EAAImhB,aAAaK,uBAKpDN,EAAiB,IAAIjB,GAAyB,CAClDnB,YACAnB,cAAe,IAAIp2C,IAAIo2C,GACvBF,cAAgBD,GAAYA,EAAQ2D,aAAapF,SAE7C0F,EAAmB,IAAIvB,GAAiB,CAC5CC,QAASe,EACTd,WAAelE,EAAS34C,GAAZ,UACZk6C,cAAgBD,GAAYA,EAAQ2D,aAAapF,SAEnD,OAAO,IAAIkF,GAAWQ,GAExB,qBACQlrC,KAAKmrC,iBAEb,sBACQnrC,KAAK2qC,eAAerB,gBAE5B,gBACE,OAAOtpC,KAAK2qC,eAAepB,gBAE7B,qBAAqB/1B,EAAO5c,GAC1B,IAAI/I,EACJ,MAAMo5C,QAAgBjnC,KAAK2qC,eAAezB,WAAW,IAChDtyC,EACH4uC,OAAQkF,GAAWI,eAAet3B,KAEpC,OAA6E,OAArE3lB,EAAgB,MAAXo5C,OAAkB,EAASA,EAAQ2D,aAAaC,aAAuBh9C,EAAK,GAE3F,2BAA2B+I,EAAU,IACnC,MAAMqwC,QAAgBjnC,KAAK2qC,eAAezB,WAAWtyC,GACrD,OAAkB,MAAXqwC,OAAkB,EAASA,EAAQmE,kBAE5C,iBAAiBx0C,EAAU,IACzB,MAAMqwC,QAAgBjnC,KAAK2qC,eAAezB,WAAWtyC,GACrD,OAAkB,MAAXqwC,OAAkB,EAASA,EAAQvN,QAE5C,sBAAsBlmB,GACpB,IAAKA,EACH,OAAO,IAAIxiB,IAEb,MAAMq6C,EAAYz5C,MAAMulB,QAAQ3D,GAASA,EAAQA,EAAM/B,MAAM,UAAUniB,OAAOqmC,SAC9E,OAAO,IAAI3kC,IAAIq6C,IAInB,MAAMC,GAAqB,CACzBt+C,GAAI,SACJM,MAAO,yBACPF,KAAM,KAER,MAAMm+C,GACJ,eAAc,aACZ79B,EAAY,YACZg4B,EAAc,cAAa,SAC3BC,EAAW2F,GAAkB,gBAC7BzF,EAAe,cACfuB,EAAgB,GAAE,eAClBoE,EAAiB,CAAC7wC,GAAMA,KAExB,MAAM4tC,EAAY,IAAI9C,GAAqB,CACzC/3B,eACAg4B,cACAC,WACAE,kBACAC,iBAAiBrc,IACR,IACFA,EACHmhB,aAAc,CACZa,QAAShiB,EAAImhB,aAAaa,QAC1BZ,YAAaphB,EAAImhB,aAAaC,YAC9BrF,OAAQ+F,GAAOG,gBAAgBF,EAAgB/hB,EAAImhB,aAAap3B,OAChEu3B,UAAW,IAAItmC,KAAKA,KAAKumC,MAA4C,IAApCvhB,EAAImhB,aAAaK,uBAKpDN,EAAiB,IAAItC,GAA6B,CACtDE,YACAnB,cAAe,IAAIp2C,IAAIo2C,GACvBF,cAAgBD,GAAYA,EAAQ2D,aAAapF,OACjDgD,qBAAuBvB,IACCA,EAAQ2D,aAAaG,UAAUY,UAAYlnC,KAAKumC,OAAS,IACzD,MAG1B,OAAO,IAAIO,GAAO,CAACZ,iBAAgBa,mBAErC,YAAY50C,GACVoJ,KAAK2qC,eAAiB/zC,EAAQ+zC,eAC9B3qC,KAAKwrC,eAAiB50C,EAAQ40C,eAEhC,qBACQxrC,KAAKmrC,iBAEb,sBACQnrC,KAAK2qC,eAAerB,gBAE5B,gBACE,OAAOtpC,KAAK2qC,eAAepB,gBAE7B,qBAAqB/1B,EAAO5c,GAC1B,IAAI/I,EACJ,MAAM+9C,EAAmBL,GAAOG,gBAAgB1rC,KAAKwrC,eAAgBh4B,GAC/DyzB,QAAgBjnC,KAAK2qC,eAAezB,WAAW,IAChDtyC,EACH4uC,OAAQoG,IAEV,OAA6E,OAArE/9C,EAAgB,MAAXo5C,OAAkB,EAASA,EAAQ2D,aAAaC,aAAuBh9C,EAAK,GAE3F,iBAAiB+I,EAAU,IACzB,IAAI/I,EACJ,MAAMo5C,QAAgBjnC,KAAK2qC,eAAezB,WAAWtyC,GACrD,OAAyE,OAAjE/I,EAAgB,MAAXo5C,OAAkB,EAASA,EAAQ2D,aAAaa,SAAmB59C,EAAK,GAEvF,2BAA2B+I,EAAU,IACnC,MAAMqwC,QAAgBjnC,KAAK2qC,eAAezB,WAAWtyC,GACrD,OAAkB,MAAXqwC,OAAkB,EAASA,EAAQmE,kBAE5C,iBAAiBx0C,EAAU,IACzB,MAAMqwC,QAAgBjnC,KAAK2qC,eAAezB,WAAWtyC,GACrD,OAAkB,MAAXqwC,OAAkB,EAASA,EAAQvN,QAE5C,uBAAuB8R,EAAgBhG,GACrC,IAAKA,EACH,OAAO,IAAIx0C,IAEb,MAAMq6C,EAAYz5C,MAAMulB,QAAQquB,GAAUA,EAASA,EAAO/zB,MAAM,UAAUniB,OAAOqmC,SACjF,OAAO,IAAI3kC,IAAIw6C,EAAeH,KAIlC,MAAMQ,GAAqB,CACzB7+C,GAAI,SACJM,MAAO,SACPF,KAAM,KAoBR,MAAM0+C,GAAqB,CACzB9+C,GAAI,SACJM,MAAO,SACPF,KAAM,KAEF2+C,GAAe,mCAqCrB,MAAMC,GAAqB,CACzBh/C,GAAI,OACJM,MAAO,OACPF,KAAM,KAEF6+C,GAAmB,IAAIj7C,IAAI,CAC/B,SACA,UACA,QACA,QACA,UACA,SACA,mBAgCF,MAAMk7C,GAAqB,CACzBl/C,GAAI,OACJM,MAAO,OACPF,KAAM,KAER,MAAM++C,GACJ,YAAYxB,GACV3qC,KAAK2qC,eAAiBA,EAExB,eAAc,aACZj9B,EAAY,YACZg4B,EAAc,cAAa,SAC3BC,EAAWuG,KAEX,MAAM3D,EAAY,IAAI3B,GAAoB,CACxCl5B,eACAg4B,cACAC,aAEIgF,EAAiB,IAAIjB,GAAyB,CAClDnB,cAEI2C,EAAmB,IAAIvB,GAAiB,CAC5CC,QAASe,EACTd,WAAelE,EAAS34C,GAAZ,YAEd,OAAO,IAAIm/C,GAASjB,GAEtB,gBACE,OAAOlrC,KAAK2qC,eAAepB,gBAE7B,qBACQvpC,KAAKosC,qBAAqB,IAElC,sBACQpsC,KAAK2qC,eAAerB,gBAE5B,2BAA2B1yC,EAAU,IACnC,MAAMqwC,QAAgBjnC,KAAK2qC,eAAezB,WAAWtyC,GACrD,OAAkB,MAAXqwC,OAAkB,EAASA,EAAQmE,kBAE5C,iBAAiBx0C,EAAU,IACzB,MAAMqwC,QAAgBjnC,KAAK2qC,eAAezB,WAAWtyC,GACrD,OAAkB,MAAXqwC,OAAkB,EAASA,EAAQvN,SAI9C,MAAM2S,GAAqB,CACzBr/C,GAAI,QACJM,MAAO,QACPF,KAAM,KAoBR,MAAMk/C,GAAqB,CACzBt/C,GAAI,YACJM,MAAO,YACPF,KAAM,KA0BR,MAAMm/C,GAAqB,CACzBv/C,GAAI,WACJM,MAAO,WACPF,KAAM,KAEFo/C,GAAc,IAAIx7C,IAAI,CAC1B,SACA,UACA,QACA,QACA,UACA,SACA,mBA4CF,MAAMy7C,GACJ,YAAYC,GACV1sC,KAAK0sC,OAASA,EACd1sC,KAAKgoC,QAAU,IAAI,QAAgB,GAErC,yBAAyB0E,GACvB,IAAI7+C,EACJ,MAAM8+C,EAAW,IAAIF,GAAiBC,GACtC,IAAK1yC,OAAOiwC,aACV,OAAO0C,EAET,MAAMC,EAAoE,OAAlD/+C,EAAKmM,OAAOiwC,aAAaG,QAZjC,UAYiEv8C,OAAK,EAgBtF,OAfA8+C,EAASE,iBAAiBD,GAC1BD,EAASG,iBAAiBhF,UAAWxiC,IAC/BA,EACFtL,OAAOiwC,aAAaO,QAhBR,QAgB6BllC,GAEzCtL,OAAOiwC,aAAaC,WAlBR,WAqBhBlwC,OAAOojC,iBAAiB,UAAY9qB,IAClC,IAAInhB,EACJ,GAvBc,UAuBVmhB,EAAMtf,IAAqB,CAC7B,MAAMsS,EAAuD,OAA5CnU,EAAM84C,aAAaG,QAxBxB,UAwBwDj5C,OAAM,EAC1Ew7C,EAASE,iBAAiBvnC,MAGvBqnC,EAET,qBACE,OAAO3sC,KAAK0sC,OAAOjoB,QAErB,iBACE,OAAOzkB,KAAKgoC,QAEd,mBACE,OAAOhoC,KAAK+sC,cAEd,iBAAiBznC,GACftF,KAAK+sC,cAAgBznC,EACrBtF,KAAKgoC,QAAQ3a,KAAK/nB,IAItB,MAAM0nC,GACJ,YAAY5W,GACVp2B,KAAKo2B,MAAQA,EAEf,eAAehgB,GACb,MAAMggB,EAAQhgB,EAAQ3E,MAAM,0BAC5B,IACE,MAAMw7B,EAAS7W,EAAMzhC,KAAK,YACpB6E,EAAM,IAAIy3B,IAAIgc,GACpB,GAAIzzC,EAAI24B,KACN,MAAM,IAAIpjC,MAAM,4BAElB,GAAIyK,EAAI3C,OACN,MAAM,IAAI9H,MAAM,6BAElB,GAAIk+C,EAAOC,SAAS,KAClB,MAAM,IAAIn+C,MAAM,iCAElB,MAAOR,GACP,MAAM,IAAIQ,MAAM,kCAAkCR,EAAM4d,SAE1D,OAAO,IAAI6gC,GAAoB5W,GAEjC,iBAAiB+W,GACf,OAAOntC,KAAKo2B,MAAMzhC,KAAKw4C,IAI3B,MAAMC,GACJ,YAAYC,EAAU3+C,GACpBsR,KAAKqtC,SAAWA,EAChBrtC,KAAKtR,SAAWA,EAElB,KAAKH,EAAOunB,GAIV,OAHiB,MAAXA,OAAkB,EAASA,EAAQw3B,SACvCttC,KAAKqtC,SAASv+C,KAAK,CAACqd,QAAS5d,EAAM4d,QAASuF,SAAU,UAEjD1R,KAAKtR,SAASI,KAAKP,EAAOunB,GAEnC,SACE,OAAO9V,KAAKtR,SAAS6+C,UAIzB,MAAMC,GACJ,cACExtC,KAAKgoC,QAAU,IAAI,GAErB,KAAKz5C,EAAOunB,GACV9V,KAAKgoC,QAAQ3a,KAAK,CAAC9+B,QAAOunB,YAE5B,SACE,OAAO9V,KAAKgoC,SAIhB,SAASyF,GAAiBt/C,GACxB,GAAIA,EAAK4Q,OAAS,EAChB,MAAM,IAAIhQ,MAAM,QAAQZ,mEAE1B,GAAIA,EAAK4Q,OAAS,IAChB,MAAM,IAAIhQ,MAAM,QAAQZ,mDAE1B,IAAKA,EAAK4U,MAAM,sBACd,MAAM,IAAIhU,MAAM,QAAQZ,+JAG5B,MAAMu/C,GACJ,cACE1tC,KAAK2tC,uBAAyB,GAEhC,aAAaC,GACXH,GAAiBG,EAAKz/C,MACtB6R,KAAK2tC,uBAAuB79C,KAAK89C,GAEnC,qBACE,OAAO5tC,KAAK2tC,uBAAuBlpB,QAErC,SAASt2B,GAIP,OAHK6R,KAAK6tC,QACR7tC,KAAK6tC,MAAQ7tC,KAAKiiC,QAEbjiC,KAAK6tC,MAAMh9C,IAAI1C,KAAU61C,GAAiB8J,OAEnD,KAAKl3C,GACEoJ,KAAK6tC,QACR7tC,KAAK6tC,MAAQ7tC,KAAKiiC,QAEfrrC,EAAQm3C,OACX/tC,KAAK6tC,MAAMvqB,QAEb,IAAK,MAAOn1B,EAAMyW,KAAUlV,OAAO+O,QAAQ7H,EAAQo3C,QACjDhuC,KAAK6tC,MAAMl8C,IAAIxD,EAAMyW,GAEvB,MAAMqpC,EAAUr8C,MAAMC,KAAKmO,KAAK6tC,MAAMpvC,WAAWnP,OAAO,EAAE,CAAEsV,KAAWA,IAAUo/B,GAAiB8J,QAClG9zC,OAAOiwC,aAAaO,QAAQ,eAAgBz9B,KAAKmB,UAAUxe,OAAOw+C,YAAYD,KAEhF,OACE,IACE,MAAME,EAAUn0C,OAAOiwC,aAAaG,QAAQ,gBAC5C,IAAK+D,EACH,OAAO,IAAI/tB,IAEb,MAAM/R,EAAOtB,KAAKC,MAAMmhC,GACxB,GAAoB,iBAAT9/B,GAA8B,OAATA,GAAiBzc,MAAMulB,QAAQ9I,GAC7D,OAAO,IAAI+R,IAEb,MAAM3hB,EAAU/O,OAAO+O,QAAQ4P,GAAM/e,OAAO,EAAEnB,EAAMS,MAClD6+C,GAAiBt/C,GACVS,IAAUo1C,GAAiB8J,SAEpC,OAAO,IAAI1tB,IAAI3hB,GACf,MACA,OAAO,IAAI2hB,MAsBjB,MAAMguB,GACJ,cACEpuC,KAAKquC,SAAW,GAChBruC,KAAKgoC,QAAU,IAAI,GAAgBhoC,KAAKsuC,qBAE1C,QAAQ9I,GACN,OAAO,IAAIv1C,QAAQ,CAACqH,EAASitC,KAC3BvkC,KAAKquC,SAASv+C,KAAK,CAAC01C,SAAQluC,UAASitC,WACrCvkC,KAAKgoC,QAAQ3a,KAAKrtB,KAAKsuC,uBAG3B,QAAQ9I,EAAQn4B,GACdrN,KAAKquC,SAAWruC,KAAKquC,SAAS/+C,OAAQi/C,IA7B1C,SAAqBzH,EAAUC,GAC7B,IAAK,MAAMvzB,KAASuzB,EAClB,IAAKD,EAASt1C,IAAIgiB,GAChB,OAAO,EAGX,OAAO,EAwBCg7B,CAAYhJ,EAAQ+I,EAAQ/I,UAC9B+I,EAAQj3C,QAAQ+V,IACT,IAIXrN,KAAKgoC,QAAQ3a,KAAKrtB,KAAKsuC,qBAEzB,OAAO//C,GACLyR,KAAKquC,SAAS7rC,QAAS+rC,GAAYA,EAAQhK,OAAOh2C,IAClDyR,KAAKquC,SAAW,GAChBruC,KAAKgoC,QAAQ3a,KAAKrtB,KAAKsuC,qBAEzB,UACE,OAAOtuC,KAAKgoC,QAEd,oBACE,MAAMgB,EAAyC,IAAzBhpC,KAAKquC,SAAStvC,YAAe,EAASiB,KAAKquC,SAAS5pB,MAAM,GAAG5S,OAAO,CAACC,EAAK9V,IAvCpG,SAAoBwpC,KAAWiJ,GAC7B,MAAMphC,EAAS,IAAIrc,IAAIw0C,GACvB,IAAK,MAAMkJ,KAAcD,EACvB,IAAK,MAAMj7B,KAASk7B,EAClBrhC,EAAO3b,IAAI8hB,GAGf,OAAOnG,EAgCuGu4B,CAAW9zB,EAAK9V,EAAQwpC,QAASxlC,KAAKquC,SAAS,GAAG7I,QAC9J,MAAO,CACLA,OAAQwD,EACR1xC,QAAU1I,IACJo6C,GACFhpC,KAAK1I,QAAQ0xC,EAAep6C,IAGhC21C,OAASoK,IACH3F,GACFhpC,KAAKukC,OAAOoK,MAyDtB,MAAMC,GAAU,IAAIxuB,IACpB,MAAM,GACJ,YAAYnyB,EAAWS,GACrBsR,KAAK/R,UAAYA,EACjB+R,KAAKtR,SAAWA,EAChBsR,KAAKwnC,YAAc,IAAIx2C,IACvBgP,KAAKsnC,WAAa,IAAI,IAAgBxK,IACpC98B,KAAKwnC,YAAY91C,IAAIorC,GACd,KACL98B,KAAKwnC,YAAY/1C,OAAOqrC,MAI9B,cAAclmC,GACZ,IAAI/I,EACJ,OAAO,IAAI,GAAuC,OAA3BA,EAAK+I,EAAQ3I,WAAqBJ,EAAK,GAAI+I,EAAQlI,UAE5E,IAAIsE,GACF,IACE,MAAM67C,EAAU9hC,KAAKC,MAAMi9B,aAAaG,QAAQpqC,KAAK8uC,WAAW97C,KAChE,OAAkB,MAAX67C,EAAkBA,OAAU,EACnC,MAAOz7C,GACP4M,KAAKtR,SAASI,KAAK,IAAIC,MAAM,oDAAoDiE,KAIrF,UAAU7E,GACR,MAAM4gD,EAAa,GAAG/uC,KAAK/R,aAAaE,IAIxC,OAHKygD,GAAQp9C,IAAIu9C,IACfH,GAAQj9C,IAAIo9C,EAAY,IAAI,GAAWA,EAAY/uC,KAAKtR,WAEnDkgD,GAAQ/9C,IAAIk+C,GAErB,UAAU/7C,EAAKgE,GACbizC,aAAaO,QAAQxqC,KAAK8uC,WAAW97C,GAAM+Z,KAAKmB,UAAUlX,EAAM,KAAM,IACtEgJ,KAAKgvC,cAAc,CAACh8C,MAAK5B,SAAU4F,IAErC,aAAahE,GACXi3C,aAAaC,WAAWlqC,KAAK8uC,WAAW97C,IACxCgN,KAAKgvC,cAAc,CAACh8C,MAAK5B,cAAU,IAErC,SAAS4B,GACP,OAAOgN,KAAKsnC,WAAWh4C,OAAO,EAAE0D,IAAKi8C,KAAgBA,IAAej8C,GAEtE,WAAWA,GACT,MAAO,GAAGgN,KAAK/R,aAAauuC,mBAAmBxpC,KAEjD,cAAcmZ,GACZ,IAAK,MAAM+iC,KAAgBlvC,KAAKwnC,YAC9B0H,EAAa7hB,KAAKlhB,IAKxB,MAAMgjC,GAAa9O,EAA2B,cAAe,IAAM,6BAAc,IAC3E+O,GAAqB,EACzBC,aACA/8C,eAEA,MAAMwuC,EAAiB,kBAAQ,IAAMP,EAAwB,CAACQ,EAAGsO,IAAc,CAACA,IAChF,OAAuB,IAAM38C,cAAcy8C,GAAWnO,SAAU,CAC9DpyC,MAAOkyC,EACPxuC,cAGEg9C,GAAS,KACb,MAAMC,EAAmB,qBAAWnP,EAAmB,gBACvD,IAAKmP,EACH,MAAM,IAAIxgD,MAAM,4BAElB,MAAMsgD,EAAaE,EAAiB9O,UAAU,GAC9C,IAAK4O,EACH,MAAM,IAAItgD,MAAM,+BAElB,OAAOsgD,GAGHG,GAAW/H,OAAO,4BAClBgI,GAAQpP,EAA2B,uBAAwB,IAAM,IAAIqP,SAC3E,SAASC,GAAoBn/C,EAAWtB,EAAM8H,GAC5C,MAAM44C,EAAgBp/C,EACtB,IAAI+U,EAAYkqC,GAAM5+C,IAAIL,IAAco/C,EAAcJ,IAMtD,GALKjqC,IACHA,EAAY,CAACvV,IAAK,IAAIowB,KACtBqvB,GAAM99C,IAAInB,EAAW+U,GACrBqqC,EAAcJ,IAAYjqC,GAExBA,EAAUvV,IAAIwB,IAAItC,GAAO,CAC3B,MAAMf,EAAOqC,EAAUmpC,aAAenpC,EAAUrC,KAChD,MAAM,IAAIY,MAAM,uCAAuCG,oBAAuBf,MAEhFoX,EAAUvV,IAAI2B,IAAIzC,EAAM8H,GAE1B,SAAS64C,GAAiBztC,EAAMlT,GAC9B,IAAKkT,EACH,OAEF,MAAM5R,EAAY4R,EAAKlT,KACvB,IAAKsB,EACH,OAEF,MAAM+U,EAAYkqC,GAAM5+C,IAAIL,IAAcA,EAAUg/C,IACpD,OAAKjqC,EAGEA,EAAUvV,IAAIa,IAAI3B,QAHzB,EAMF,MAAM4gD,GAAezP,EAA2B,iBAAkB,IAAMoH,OAAO,mBAE/E,IAAI,GACJ,MAAMsI,GACJ,YAAY/iD,EAAIS,EAAQgwC,GACtBz9B,KAAKhT,GAAKA,EACVgT,KAAKvS,OAASA,EACduS,KAAKy9B,SAAWA,EAChBz9B,KAAK,IAAM,WAEb,WACE,MAAO,6BAA6BA,KAAKhT,OAI7C,SAASgjD,GAAuBp5C,GAC9B,IAAIzF,EACJ,OAAO,IAAI4+C,GAAqBn5C,EAAQ5J,GAA8B,OAAzBmE,EAAMyF,EAAQnJ,QAAkB0D,EAAM,GAAIwkC,QAAQ/+B,EAAQ6mC,WAHzG,GAAKqS,GAsCL,MAAMG,GAAc79C,IAClB,MAAM89C,EAAMZ,MACN,kBAACa,GAAqBD,EAAIE,gBAC1Bj5C,EAhCR,SAASk5C,EAAyBC,GAChC,OAAO,WAASC,QAAQD,GAAcngD,QAASqgD,IAC7C,IAAI3iD,EACJ,IAAK,yBAAe2iD,GAClB,MAAO,GAET,MAAM,SAACl+C,GAAYk+C,EAAMp+C,MACzB,GAAIo+C,EAAMthD,OAAS,WACjB,OAAOmhD,EAAyB/9C,GAElC,IAAIjF,EAAOmjD,EAAMp+C,MAAM/E,KACvB,MAAa,KAATA,EACK,IAETA,EAAmE,OAA3DQ,EAAa,MAARR,OAAe,EAASA,EAAK6kC,QAAQ,QAAS,KAAerkC,EAAK,IACxE,CACL,CACER,OACAojD,QAASD,EACTl+C,SAAUA,GAAY,CACpB,CACEjF,KAAM,KACNojD,QAASn+C,SAUJ+9C,CAAyBj+C,EAAME,UAAUo+C,KAAK,CAAC3rC,EAAG4rC,IAAMA,EAAEtjD,KAAKgH,cAAc0Q,EAAE1X,OAAO2C,IAAKmvC,IACxGA,EAAI9xC,KAAoB,MAAb8xC,EAAI9xC,KAAe,IAAS8xC,EAAI9xC,KAAP,KAC7B8xC,IAMT,OAJAhoC,EAAOrH,KAAK,CACV2gD,QAAyB,IAAM/9C,cAAcy9C,EAAmB,MAChE9iD,KAAM,OAED,YAAU8J,IAGnB,IAAIy5C,GACJ,MAAMC,GACJ,YAAY7jD,EAAIS,EAAQqY,GACtB9F,KAAKhT,GAAKA,EACVgT,KAAKvS,OAASA,EACduS,KAAK8F,OAASA,EACd9F,KAAK4wC,IAAQ,WAEf,WACE,OAAO5wC,KAAK8F,OAAO1Y,KAErB,WACE,IAAI+D,EACJ,OAAmC,OAA3BA,EAAM6O,KAAK8F,OAAOzY,MAAgB8D,EAAM,GAElD,YACE,IAAIA,EACJ,OAAoC,OAA5BA,EAAM6O,KAAK8F,OAAOxY,OAAiB6D,EAAM6O,KAAKhT,GAExD,WACE,MAAO,6BAA6BgT,KAAKhT,OAI7C,SAAS8jD,GAAehrC,GACtB,IAAI3U,EACJ,MAAMnE,EAAK8Y,EAAO9Y,IAAM8Y,EAAOxY,MAC/B,IAAKN,EACH,MAAM,IAAI+B,MAAM,4CAElB,OAAO,IAAI8hD,GAAa7jD,EAA6B,OAAxBmE,EAAM2U,EAAOrY,QAAkB0D,EAAM,GAAI2U,GAExE,SAASirC,GAAWC,GAClB,MAAkC,aAA3BA,EAASlB,IAVlBc,GAAOd,GAiDP,SAASmB,GAAcD,GACrB,MAAkC,QAA3BA,EAASlB,IAGlB,SAASoB,MAAaC,GACpB,MAAMC,EAAaD,EAAMx8C,KAAK,KAAKu9B,QAAQ,SAAU,KACrD,MAAmB,MAAfkf,GAAsBA,EAAWlE,SAAS,KACrCkE,EAAW3sB,MAAM,GAAI,GAEvB2sB,EAET,SAASC,GAAiBC,EAAaC,EAAYC,GACjD,IAAIC,EACAC,EAAe,GACnB,GAAIX,GAAWO,GACbG,EAAYH,OACP,GAAIL,GAAcK,GACvBG,EAAYH,EAAYxX,OACxB4X,EAAeJ,EAAYjkD,SACtB,IAzI2B,aAyIJikD,EAzIdxB,IAsJT,MAAIwB,EAAYxB,IACf,IAAI/gD,MAAM,sCAAsCuiD,EAAYxB,KAE5D,IAAI/gD,MAAM,6CAA6CuiD,GAhBnB,CAC1C,MAAMK,EAAgBH,EAAc3gD,IAAIygD,GACxC,IAAKK,EACH,MAAO,MAAC,EAAQ,IAElB,GAAIZ,GAAWY,GACbF,EAAYE,MACP,KAAIV,GAAcU,GAIvB,MAAM,IAAI5iD,MAAM,iDAAiD4iD,GAHjEF,EAAYE,EAAc7X,OAC1B4X,EAAeC,EAActkD,OASjC,IAAKokD,EACH,MAAO,MAAC,EAAQ,IAElB,MAAMG,EAAeL,EAAW1gD,IAAI4gD,GACpC,IAAKG,EACH,MAAO,MAAC,EAAQ,IAGlB,MAAO,CAACH,EADWP,GAAUU,EAAcF,IA+B7C,MAAM,GACJ,YAAYH,EAAYM,EAAcC,EAAcN,GAClDxxC,KAAKuxC,WAAaA,EAClBvxC,KAAK6xC,aAAeA,EACpB7xC,KAAK8xC,aAAeA,EACpB9xC,KAAKwxC,cAAgBA,EAEvB,QAAQF,EAAaS,GACnB,MAAON,EAAWO,GAAcX,GAAiBC,EAAatxC,KAAKuxC,WAAYvxC,KAAKwxC,eACpF,IAAKC,EACH,OAEF,MAAMQ,EAxCV,SAAyBR,EAAWM,EAAgBR,EAAYM,EAAcC,GAC5E,IAAIjkD,EACJ,MAAMkV,EAA4D,OAAnDlV,EAAK,YAAYikD,EAAcC,IAA2BlkD,EAAK,GACxEqkD,EAActgD,QACpB,IAAIugD,GAAc,EAClB,IAAK,IAAIC,EAAkBX,EAAWW,IACpCD,EAAapvC,EAAMmhB,UAAWzsB,GAAMA,EAAE46C,MAAMC,UAAU9gD,IAAI4gD,KACtC,IAAhBD,GAFiDC,EAAkBP,EAAahhD,IAAIuhD,GAKxFF,EAAYK,QAAQH,GAgBtB,OAd2B,IAAvBF,EAAYnzC,SACdozC,GAAc,KAEmB,IAAhBA,EAAoB,GAAKpvC,EAAMovC,GAAYngB,UAC7Ckf,MAAagB,EAAYztB,MAAM,GAAI,GAAGz0B,IAAKqC,IAC1D,MAAMhF,EAAOkkD,EAAW1gD,IAAIwB,GAC5B,IAAKhF,EACH,MAAM,IAAI0B,MAAM,eAAesD,GAEjC,GAAIhF,EAAK4G,SAAS,KAChB,MAAM,IAAIlF,MAAM,mBAAmB0iD,iBAAyBp/C,0BAE9D,OAAOhF,KAgBUmlD,CAAgBf,EAAWM,EAAgB/xC,KAAKuxC,WAAYvxC,KAAK6xC,aAAc7xC,KAAK8xC,cAIrG,MAHkB,KAAKrkD,KACdwkD,EAAW,YAAaD,EAAYvkD,IAMjD,MAAMglD,GAAiBpS,EAA2B,kBAAmB,IAAM,6BAAc,IACzF,SAASqS,GAAY1B,GACnB,MAAMe,EAAiB,cACjBxC,EAAmB,qBAAWnP,EAAmB,oBACjDuS,EAA+B,MAApBpD,OAA2B,EAASA,EAAiB9O,UAAU,GAC1EmS,EAAY,kBAAQ,IAAMD,GAAYA,EAASr7C,QAAQ05C,EAAUe,GAAiB,CAACY,EAAU3B,EAAUe,IAC7G,IAAKxC,EACH,MAAM,IAAIxgD,MAAM,+CAElB,IAAK4jD,EACH,MAAM,IAAI5jD,MAAM,mCAElB,MAAM8jD,EAAa,aAAc7B,GAAYA,EAASvT,SACtD,IAAKmV,IAAcC,EACjB,MAAM,IAAI9jD,MAAM,eAAeiiD,GAEjC,OAAO4B,EAET,MAAME,GAAkB,EACtBvB,aACAM,eACAC,eACAN,gBACAl/C,eAEA,MACMwuC,EAAiBP,EAAwB,CAACQ,EAD/B,IAAI,GAAcwQ,EAAYM,EAAcC,EAAcN,KAE3E,OAAuB,IAAM9+C,cAAc+/C,GAAezR,SAAU,CAClEpyC,MAAOkyC,GACNxuC,IAEL,SAASygD,GAAkBC,GACzB,OAAO,cAGT,SAASC,GAAwBr8C,GAC/B,MAAM,UAACpG,EAAS,WAAEmH,GAAcf,EAChC,OAAOs8C,GAAqB,CAC1B1iD,UAAW,CACT2iD,KAAM,IAAM3iD,IAAY+G,KAAM67C,IAC5B,MAAMC,EAA4BjhD,IAChC,IACEsgD,GAAY/6C,GACZ,MAAOpJ,GACP,GAAa,MAATA,OAAgB,EAASA,EAAM4d,QAAQW,WAAW,gBACpD,MAAM,IAAI/d,MAAM,iDAAiD4I,uMAEnE,MAAMpJ,EAER,OAAuB,IAAMmE,cAAc0gD,EAAgB,IACtDhhD,KAGDkhD,EAAgBF,EAAezZ,aAAeyZ,EAAejlD,MAAQ,gBAE3E,OADAklD,EAAyB1Z,YAAc,qBAAqB2Z,KACrDD,GACL9kD,GACgCgZ,IAChC,MAAM2oC,EAAMZ,MACN,cAACiE,GAAiBrD,EAAIE,gBAC5B,OAAuB,IAAM19C,cAAc6gD,EAAe,CACxDC,KAAM,aACNjlD,aAMRyI,KAAM,CACJ,kBAAmBW,KAIzB,SAAS87C,GAAyB78C,GAChC,MAAM,UAACpG,GAAaoG,EACpB,OAAOs8C,GAAqB,CAAC1iD,cAE/B,SAAS0iD,GAAqBt8C,GAC5B,MAAM,KAACI,EAAO,IAAMJ,EACpB,IAAI88C,EACJ,GAAI,SAAU98C,EAAQpG,UAAW,CAC/B,MAAMmjD,EAAa/8C,EAAQpG,UAAU2iD,KACrCO,EAAY,eAAK,IAAMC,IAAap8C,KAAM/G,IAAc,CAAEgX,QAAShX,WAEnEkjD,EAAY98C,EAAQpG,UAAUojD,KAEhC,MAAMN,EAAgBI,EAAU/Z,aAAe+Z,EAAUvlD,MAAQ,YACjE,MAAO,CACL,OAAO0lD,GACL,MAAMC,EAAU1hD,GAA0B,IAAMM,cAAc,WAAU,CACtE4rC,SAAU,OACO,IAAM5rC,cAAcghD,EAAW,IAC7CthD,KAELu9C,GAAoBmE,EAAQ,cAAeD,GAC3C,IAAK,MAAO7gD,EAAKpE,KAAUc,OAAO+O,QAAQzH,GACxC24C,GAAoBmE,EAAQ9gD,EAAKpE,GAGnC,OADAklD,EAAOna,YAAc,aAAa2Z,KAC3BQ,IAKb,MAAMC,GAAqB,CACzBC,YAAa,IACbC,QAAS,IACTC,KAAM,IACNC,UAAW,IACXva,MAAO,IACPtE,OAAQ,IACR7c,MAAO,IACP27B,KAAM,IACNC,KAAM,IACNC,QAAS,IACT5c,KAAM,KAEF6c,GAAyBvhD,GACVZ,IACjB,MACMoiD,EADMlF,KACKmF,cAAczhD,GAC/B,OAAOwhD,EAAuB,IAAM9hD,cAAc8hD,EAAM,IACnDpiD,IACgB,IAAMM,cAAc,IAAoB,IACxDN,KAWHsiD,IANkBH,GAAsB,eAC7BA,GAAsB,QACjBA,GAAsB,aAC1BA,GAAsB,SACrBA,GAAsB,UACvBA,GAAsB,SACvBA,GAAsB,SACtBA,GAAsB,QACnBA,GAAsB,WACzBA,GAAsB,QAEvC,MAAMI,GACJ,YAAY7uC,GACV9F,KAAK8F,OAASA,EAEhB,QACE,OAAO9F,KAAK8F,OAAO9Y,GAErB,UACE,IAAIa,EACJ,OAAkC,OAA1BA,EAAKmS,KAAK8F,OAAO8M,MAAgB/kB,EAAK,GAEhD,aACE,IAAIA,EACJ,OAAoC,OAA5BA,EAAKmS,KAAK8F,OAAO3O,QAAkBtJ,EAAK,GAElD,qBACE,IAAIA,EACJ,OAA4C,OAApCA,EAAKmS,KAAK8F,OAAO63B,gBAA0B9vC,EAAK,GAE1D,SACE,GAAImS,KAAK40C,aACP,OAAO50C,KAAK40C,aAEd,IAAK50C,KAAK8F,OAAO+uC,SACf,MAAO,GAET,MAAMC,EAAU,IAAIljD,MAmBpB,OAlBAoO,KAAK8F,OAAO+uC,SAAS,CACnB7hC,OAAQ,CACN,SAASxjB,EAAQgB,EAAWoG,GAC1Bk+C,EAAQhlD,KAAK,CACXZ,KAAM,QACNM,SACAgB,YACAoG,cAINm+C,aAAc,CACZ,SAAS5mD,GACP2mD,EAAQhlD,KAAK,CAACZ,KAAM,eAAgBf,aAI1C6R,KAAK40C,aAAeE,EACb90C,KAAK40C,aAEd,QAAQI,GACN,OAAOA,EAAUC,OAAOj1C,MAE1B,WACE,MAAO,UAAUA,KAAK8F,OAAO9Y,OAGjC,SAASkoD,GAAapvC,GACpB,OAAO,IAAI6uC,GAAW7uC,GA4CxB,SAASqvC,GAAgBC,EAAoBC,GAC3C,MAAO,KAAM,CAAEC,YAAaF,IAAsBC,UAEpD,SAASE,GAAgB9E,GACvB,IAAI5iD,EACJ,OAA+B,OAAvBA,EAAK4iD,EAAQr+C,YAAiB,EAASvE,EAAGyE,SAEpD,SAASkjD,GAAuB/E,GAC9B,IAAI5iD,EAAIC,EAAI6f,EACZ,IAA6B,OAAvB9f,EAAK4iD,EAAQr+C,YAAiB,EAASvE,EAAGR,QAAkC,OAAvBS,EAAK2iD,EAAQr+C,YAAiB,EAAStE,EAAG2iD,SACnG,OAA+B,OAAvB9iC,EAAK8iC,EAAQr+C,YAAiB,EAASub,EAAG8iC,QAKtD,MAAMgF,GAAkBN,GAAgB,IAAM,IAAInkD,IAAO,CAAC8gB,EAAK1P,KAC7D,MAAMyxC,EAAShE,GAAiBztC,EAAM,eAClCyxC,GACF/hC,EAAIpgB,IAAImiD,KAIZ,SAAS6B,GAActzC,GACrB,IAAIvU,EACJ,MAAM4iD,EAA+B,OAApB5iD,EAAKuU,EAAKhQ,YAAiB,EAASvE,EAAG4iD,QACxD,IAAIO,EAAWnB,GAAiBztC,EAAM,mBAItC,OAHK4uC,GAAY,yBAAeP,KAC9BO,EAAWnB,GAAiBY,EAAS,oBAEhCO,EAET,MAAM2E,GAAqBR,GAAgB,IAAM,IAAI/0B,IAAO,CAACtO,EAAK1P,EAAM03B,EAAQ8b,KAC9E,IAAI/nD,EAAIC,EACR,IAAI+nD,EAAiBD,EACrB,IAAe,MAAV9b,OAAiB,EAASA,EAAO1nC,MAAMq+C,WAAaruC,EACvD,OAAOyzC,EAET,GAAIhG,GAAiBztC,EAAM,0BAA2B,CACpD,MAAM/U,EAA4B,OAApBQ,EAAKuU,EAAKhQ,YAAiB,EAASvE,EAAGR,KACrD,IAAKA,EACH,MAAM,IAAI0B,MAAM,yCAElB8mD,EAAiBxoD,EAEnB,MAAM2jD,EAAW0E,GAActzC,GAC/B,GAAI4uC,EAAU,CACZ,IAAI3jD,EAA4B,OAApBS,EAAKsU,EAAKhQ,YAAiB,EAAStE,EAAGT,KAQnD,GAPIwoD,IACExoD,EACFwoD,OAAiB,EAEjBxoD,EAAOwoD,IAGNxoD,EACH,MAAM,IAAI0B,MAAM,+CAElB+iB,EAAIngB,IAAIq/C,EAAU3jD,GAEpB,OAAOwoD,IAEHC,GAAuBX,GAAgB,IAAM,IAAI/0B,IAAO,CAACtO,EAAK1P,EAAM03B,EAAQic,KAChF,IAAIloD,EACJ,IAAe,MAAVisC,OAAiB,EAASA,EAAO1nC,MAAMq+C,WAAaruC,EACvD,OAAO2zC,EAET,IAAIC,EAAaD,EACjB,MAAM/E,EAAW0E,GAActzC,GAc/B,OAbI4uC,IACE+E,GAAkB,WAAYA,GAChCjkC,EAAIngB,IAAIq/C,EAAU+E,EAAeE,QAE/BD,GADuB,OAApBnoD,EAAKuU,EAAKhQ,YAAiB,EAASvE,EAAGR,MAC7B2jD,EAEA+E,IAGfjkC,EAAIngB,IAAIq/C,EAAU+E,GAClBC,EAAahF,IAGbnB,GAAiBztC,EAAM,0BAClB,CAAC6zC,OAAQD,GAEXA,IAEHE,GAAkB,CACtBC,eAAe,EACf9oD,KAAM,KACNojD,QAAS,YACT6B,UAAW,IAAIthD,KAEXolD,GAAuBjB,GAAgB,IAAMvjD,QAAS,CAACkgB,EAAK1P,EAAM03B,EAAQuc,KAC9E,IAAIxoD,EAAIC,EAAI6f,EACZ,MAAM2oC,EAA2E,OAAzDzoD,EAAkB,MAAbwoD,OAAoB,EAASA,EAAU/jD,UAAoBzE,EAAKikB,EAC7F,IAAe,MAAVgoB,OAAiB,EAASA,EAAO1nC,MAAMq+C,WAAaruC,EACvD,OAAOi0C,EAET,MAAMhpD,EAA4B,OAApBS,EAAKsU,EAAKhQ,YAAiB,EAAStE,EAAGT,KAC/C8oD,EAAgBxgB,QAA6B,OAApBhoB,EAAKvL,EAAKhQ,YAAiB,EAASub,EAAGwoC,eAChEnF,EAAW0E,GAActzC,GAC/B,GAAI4uC,EAAU,CACZ,GAAI3jD,EAAM,CACR,MAAMkpD,EAAY,CAChBJ,gBACA9oD,OACAojD,QAAS,UACT6B,UAAW,IAAIthD,IAAI,CAACggD,IACpB1+C,SAAU,CAAC4jD,KAGb,OADAI,EAAexmD,KAAKymD,GACbA,EAEI,MAAbF,GAA6BA,EAAU/D,UAAU5gD,IAAIs/C,GAGvD,GADmBnB,GAAiBztC,EAAM,0BAC1B,CACd,IAAK/U,EACH,MAAM,IAAI0B,MAAM,yCAElB,MAAMwnD,EAAY,CAChBJ,gBACA9oD,OACAojD,QAAS,WACT6B,UAAW,IAAIthD,IACfsB,SAAU,CAAC4jD,KAGb,OADAI,EAAexmD,KAAKymD,GACbA,EAET,OAAOF,IAiCT,MAAMG,GACJ,cACEx2C,KAAKy2C,aAAc,EAErB,YACE,IAAKz2C,KAAKy2C,YACR,MAAM,IAAI1nD,MAAM,4DAElB,OAAOiR,KAAK02C,OAEd,aACE,IAAK12C,KAAKy2C,YACR,MAAM,IAAI1nD,MAAM,6DAElB,OAAOiR,KAAK05B,QAEd,mBACE,IAAI7rC,EACJ,IAAKmS,KAAKy2C,YACR,MAAM,IAAI1nD,MAAM,6DAElB,OAAkC,OAA1BlB,EAAKmS,KAAK22C,kBAAuB,EAAS9oD,EAAG2e,KAAKxM,MAE5D,gBACE,IAAInS,EACJ,IAAKmS,KAAKy2C,YACR,MAAM,IAAI1nD,MAAM,uEAEgB,OAA1BlB,EAAKmS,KAAK42C,kBAAuB,EAAS/oD,EAAG2e,KAAKxM,OAC1D/F,SAAS48C,SAEX,gBAAgBxpC,GACd,IAAIrN,KAAKy2C,YAAT,CAGA,IAAKppC,EAAOqpC,OACV,MAAM,IAAI3nD,MAAM,0CAElB,IAAKse,EAAOqsB,QACV,MAAM,IAAI3qC,MAAM,2CAElBiR,KAAKy2C,aAAc,EACnBz2C,KAAK02C,OAASrpC,EAAOqpC,OACrB12C,KAAK05B,QAAUrsB,EAAOqsB,QACtB15B,KAAK22C,YAActpC,EAAOivB,WAC1Bt8B,KAAK42C,YAAcvpC,EAAOypC,UAqC9B,SAASC,IAAiB,SAACzkD,IACzB,MAAM0kD,EAAc5V,GAAOwC,IAGrBqT,EArCR,SAAsB3xC,EAAS4xC,EAAkBxK,GAC/C,QAAgB,IAAZpnC,EAAoB,CACtB,MAAM6xC,EAAgBzK,EAAO/4C,KAAMiC,GAAUA,EAAM5I,KAAOsY,GAC1D,GAAI6xC,EACF,OAAOA,EAGX,GAAID,EAAkB,CACpB,MAAME,EAAY1K,EAAO/4C,KAAMiC,GAA4B,SAAlBA,EAAMQ,SAC/C,GAAIghD,EACF,OAAOA,EAGX,MAAMC,EAAa3K,EAAO/4C,KAAMiC,GAA4B,UAAlBA,EAAMQ,SAChD,OAAIihD,GAGG3K,EAAO,GAoBG4K,CAFD,OAAAC,EAAA,GAAcP,EAAYlK,iBAAkBkK,EAAYQ,sBAC/C7hB,QAAQ37B,OAAOy9C,aAjBT,MAC/B,MAAMC,EAAa,kBAAQ,IAAM19C,OAAOy9C,WAAW,gCAAiC,KAC7EP,EAAkBS,GAAkB,mBAASD,EAAWE,SAU/D,OATA,oBAAU,KACR,MAAMC,EAAYvlC,IAChBqlC,EAAerlC,EAAMslC,UAGvB,OADAF,EAAWI,YAAYD,GAChB,KACLH,EAAWK,eAAeF,KAE3B,CAACH,IACGR,GAK+Cc,GACGhB,EAAYiB,sBACrE,IAAKhB,EACH,MAAM,IAAIloD,MAAM,qBAElB,OAAuB,IAAM2D,cAAcwlD,EAAA,EAAe,CACxDtiD,MAAOqhD,EAASrhD,OACC,IAAMlD,cAAcylD,EAAA,EAAa,KAAM7lD,IAG5D,SAAS8lD,GAAoBC,GAC3B,MAAMhrC,EAAS,IAAI+S,IACnB,GAAIi4B,EAAY,CAedA,EAAW,CAACC,KAdC,CAAC3a,EAAgB4a,KAC5B,IAAK,MAAOvlD,EAAKpE,KAAUc,OAAO+O,QAAQ85C,GAAe,CACvD,MAAMC,EAAgB7a,EAAe3qC,GACrC,IAAKwlD,EACH,MAAM,IAAIzpD,MAAM,OAAOiE,uCAEzB,IAAKpE,IAAU4pD,EAAc/a,SAC3B,MAAM,IAAI1uC,MAAM,kBAAkBiE,mCAEhCpE,GACFye,EAAO1b,IAAI6mD,EAAe5pD,OAMlC,OAAOye,EA2BT,MAAMorC,GACJ,YAAYvI,GACVlwC,KAAKkwC,IAAMA,EAEb,aAEE,OADAzvB,QAAQpX,KAAK,6DACNrJ,KAAKkwC,IAAIwI,aAElB,cAAc1lD,GACZ,OAAOgN,KAAKkwC,IAAIuE,cAAczhD,GAEhC,gBACE,OAAOgN,KAAKkwC,IAAIE,gBAElB,cAEE,OADA3vB,QAAQpX,KAAK,8DACNrJ,KAAKkwC,IAAIyI,cAElB,YAEE,OADAl4B,QAAQpX,KAAK,4DACNrJ,KAAKkwC,IAAI0I,YAElB,YAEE,OADAn4B,QAAQpX,KAAK,4DACNrJ,KAAKkwC,IAAI2I,aAqPpB,IAKe,GALmBnpD,OAAO6F,OAAO,CAC9CC,UAAW,KACXsjD,eApPF,MACE,YAAYliD,GACVoJ,KAAKk8B,YAAc,IAAIsa,GACvBx2C,KAAK4S,KAAOhc,EAAQgc,KACpB5S,KAAK+4C,MAAQniD,EAAQmiD,MACrB/4C,KAAKg5C,QAAU,IAAIhoD,IAAI4F,EAAQoiD,SAC/Bh5C,KAAKi5C,WAAariD,EAAQqiD,WAC1Bj5C,KAAK0sC,OAAS91C,EAAQ81C,OACtB1sC,KAAKk5C,aAAetiD,EAAQsiD,aAC5Bl5C,KAAKm5C,YAAcviD,EAAQuiD,YAC3Bn5C,KAAKq4C,WAAazhD,EAAQyhD,WAE5B,aACE,OAAOzmD,MAAMC,KAAKmO,KAAKg5C,SAEzB,cAAchmD,GACZ,OAAOgN,KAAK+4C,MAAM/lD,GAEpB,gBACE,OAAOgN,KAAKi5C,WAEd,YACE,MAAM9hD,EAAS,IAAIvF,OACb,kBAACu+C,GAAqBnwC,KAAKi5C,WACjC,IAAK,MAAMpF,KAAU7zC,KAAKg5C,QAAQrpD,SAChC,IAAK,MAAMurC,KAAU2Y,EAAO3Y,SAC1B,OAAQA,EAAOhsC,MACb,IAAK,eAAgB,CACnB,MAAM,KAAC7B,EAAMmD,UAAWkjD,GAAaxY,EACrC/jC,EAAOrH,KAAqB,IAAM4C,cAAc,IAAO,CACrDM,IAAK3F,EACLA,OACAojD,QAAyB,IAAM/9C,cAAcghD,EAAW,SAE1D,MAEF,IAAK,QAAS,CACZ,MAAM,OAAClkD,EAAQgB,UAAWkjD,GAAaxY,EACvC/jC,EAAOrH,KAAqB,IAAM4C,cAAc,IAAO,CACrDM,IAAK,GAAG6gD,EAAOuF,WAAW5pD,EAAOnC,OACjCA,KAAMmC,EAAOnC,KACbojD,QAAyB,IAAM/9C,cAAcghD,EAAW,SAE1D,MAEF,IAAK,wBAAyB,CAC5B,MAAM,KAACrmD,EAAI,OAAEmC,GAAU0rC,EACvB/jC,EAAOrH,KAAqB,IAAM4C,cAAc,IAAU,CACxDM,IAAK3F,EACLsF,GAAInD,KAEN,MAEF,IAAK,iBAAkB,CACrB,MAAM,KAACqC,EAAI,GAAEc,GAAMuoC,EACnB/jC,EAAOrH,KAAqB,IAAM4C,cAAc,IAAU,CACxDM,IAAKnB,EAAKxE,KACVsF,GAAIA,EAAGtF,QAET,OAUR,OALA8J,EAAOrH,KAAqB,IAAM4C,cAAc,IAAO,CACrDM,IAAK,uBACL3F,KAAM,KACNojD,QAAyB,IAAM/9C,cAAcy9C,EAAmB,SAE3Dh5C,EAET,cACE,MAAMk4C,EAAa,IAAIoJ,GAAez4C,MA0DtC,MAzDiB,EAAE1N,eACjB,MAAM0kD,EAAc,kBAAQ,IAAMvK,GAAiB4M,kBAAkBr5C,KAAK0sC,QAAS,KAC7E,WAAC6E,EAAU,aAAEM,EAAY,aAAEC,GAAgB,kBAAQ,KACvD,MAAMzkC,EAhcd,SAA6BzW,GAC3B,MAAM0iD,EAAa,GACnB,IAAK,MAAMnrD,KAAQyI,EAAQ0iD,WACrB1iD,EAAQ0iD,WAAW3kC,eAAexmB,KACpCmrD,EAAWnrD,GAAQyI,EAAQ0iD,WAAWnrD,MAG1C,MAAMorD,EAAQ,CACZ,CACEn3C,KAAM,WAASmuC,QAAQ35C,EAAQQ,MAC/B0iC,YAAQ,EACR0f,SAAU,KAGd,KAAwB,IAAjBD,EAAMx6C,QAAc,CACzB,MAAM,KAACqD,EAAI,OAAE03B,EAAM,SAAE0f,GAAYD,EAAMxX,QACvC,WAASv/B,QAAQJ,EAAOquC,IACtB,IAAK,yBAAeA,GAClB,OAEF,MAAMgJ,EAAe,GACrB,IAAK,MAAMtrD,KAAQmrD,EACjB,GAAIA,EAAW3kC,eAAexmB,GAAO,CACnC,MAAMurD,EAAYJ,EAAWnrD,GAC7BsrD,EAAatrD,GAAQurD,EAAUrE,MAAMqE,EAAUpE,YAAa7E,EAAS3W,EAAQ0f,EAASrrD,IAG1F,IAAK,MAAMwrD,KAAc/iD,EAAQgjD,YAAa,CAC5C,MAAMtnD,EAAWqnD,EAAWlJ,GACxBn+C,GACFinD,EAAMzpD,KAAK,CACTsS,KAAM9P,EACNwnC,OAAQ2W,EACR+I,SAAUC,OAMpB,OAAO/pD,OAAOw+C,YAAYx+C,OAAO+O,QAAQ66C,GAAYtpD,IAAI,EAAE7B,EAAM6kC,KAAO,CAAC7kC,EAAM6kC,EAAEsiB,eAyZ5DuE,CAAoB,CACjCziD,KAAM9E,EACNsnD,YAAa,CAACrE,GAAiBC,IAC/B8D,WAAY,CACV/H,WAAYoE,GACZ9D,aAAciE,GACdhE,aAAcsE,GACd0D,iBAAkBrE,MAOtB,OAhSR,SAAwBlE,EAAYM,GAClC,MAAMkI,EAAgB,IAAI/oD,IAAI6gD,EAAaliD,UAC3CoqD,EAActoD,YAAO,GACrB,IAAK,MAAM4gD,KAASR,EAAa18B,OAAQ,CACvC,GAAI4kC,EAAcvoD,IAAI6gD,GACpB,SAEF,IAAI2H,EAAkB3H,EAClB4H,EAAW,GACf,KAAOD,GAAiB,CACtB,MAAM3sD,EAAOkkD,EAAW1gD,IAAImpD,GAC5B,IAAK3sD,EACH,MAAM,IAAI0B,MAAM,eAAeirD,GAEjCC,EAAW,GAAG5sD,IAAO4sD,IACrBD,EAAkBnI,EAAahhD,IAAImpD,GAErC,MAAMvsD,EAASwsD,EAASl3C,MAAM,WAC9B,GAAItV,EACF,IAAK,IAAIo9B,EAAI,EAAGA,EAAIp9B,EAAOsR,OAAQ8rB,IACjC,IAAK,IAAI93B,EAAI83B,EAAI,EAAG93B,EAAItF,EAAOsR,OAAQhM,IACrC,GAAItF,EAAOsF,KAAOtF,EAAOo9B,GACvB,MAAM,IAAI97B,MAAM,aAAatB,EAAOsF,4BAA4BknD,MAsQpEC,CAAe7sC,EAAOkkC,WAAYlkC,EAAOwkC,cACzCxkC,EAAOysC,iBAAiBt3C,QAASqxC,GAAW7zC,KAAKg5C,QAAQtnD,IAAImiD,IAC7D7zC,KAAKm6C,cAAcn6C,KAAKg5C,SACxBh5C,KAAKo6C,eACE/sC,GACN,CAAC/a,IACE+nD,EAhJZ,SAAyBnB,EAAcD,EAAYjC,GACjD,IAAInpD,EACJ,MAAMysD,EAAY3kB,QAAQujB,GACpBpzC,EAAS,OAAAy0C,EAAA,GAASrB,GAAgB,KAAOjpD,QAAQqH,QAAQ,MAC/D,IAAIkjD,OAAe,EACnB,GAAIF,GAAax0C,EAAOxX,QAAS,CAC/B,MAAM,SAACmsD,GAAYxB,EACnBuB,EAA+B,IAAM9nD,cAAc+nD,EAAU,WACxD,GAAI30C,EAAOvX,MAAO,CACvB,MAAM,cAACglD,GAAiB0F,EACxBuB,EAA+B,IAAM9nD,cAAc6gD,EAAe,CAChEC,KAAM,cACNjlD,MAAOuX,EAAOvX,QAGlB,OAAIisD,EACK,CACLp4C,KAAsB,IAAM1P,cAAckuC,GAAa,CACrDhuB,KAAM8uB,GAAY7vC,KAAK,CAAC,CAAC+xC,GAAgBoT,MACxB,IAAMtkD,cAAcqkD,GAAkB,KAAMyD,KAI5D,CAAC3nC,IADa,EAAa6nC,YAAmC,OAAtB7sD,EAAKiY,EAAOlX,OAAiBf,EAAK,KA0HxD8sD,CAAgB36C,KAAKk5C,aAAcl5C,KAAKi5C,WAAYjC,GACnE4D,EAAe,QAASP,EAC9B,GAAIO,EAAc,CAChB,MAAM,IAAC/nC,GAAOwnC,EACdr6C,KAAK66C,UAAYhoC,EAoBnB,OAlBA,oBAAU,KACR,GAAI+nC,EAAc,CAChB,MAAME,EAAkB96C,KAAKo6C,eAAevpD,IAAIqzC,IAChD,IAAK,MAAM2P,KAAU7zC,KAAKg5C,QAAQrpD,SAChC,IAAK,MAAMurC,KAAU2Y,EAAO3Y,SAC1B,OAAQA,EAAOhsC,MACb,IAAK,eACH4rD,EAAgBC,aAAa,CAC3B5sD,KAAM+sC,EAAO/sC,KACbg/C,SAAU0G,EAAOuF,aAQ5B,CAACwB,EAAcP,IACd,SAAUA,EACLA,EAAaj4C,KAEC,IAAM1P,cAAckuC,GAAa,CACtDhuB,KAAM5S,KAAKo6C,gBACM,IAAM1nD,cAAc08C,GAAoB,CACzDC,cACiB,IAAM38C,cAAcqkD,GAAkB,KAAsB,IAAMrkD,cAAcogD,GAAiB,CAClHvB,aACAM,eACAC,eACAN,cAAe4G,GAAoBp4C,KAAKq4C,aACvC/lD,OAIP,YACE,MACEwrC,OAAQkd,EACRC,WAAYC,GACVl7C,KAAKi5C,WACHkC,EAAoB,EACxB3qD,UAAWkjD,EACXphD,eAEA,MAAO+a,EAAQ+tC,GAAa,qBAC5B,OAAI/tC,GACFrN,KAAKk8B,YAAYmf,gBAAgBhuC,GAC1B/a,GAEc,IAAMI,cAAcghD,EAAW,CACpD4H,SAAUF,KA8Bd,MA3BkB,EAAE9oD,eAClB,IAAIzE,EACJ,MAAMgtD,EAAYzZ,GAAOyC,IACzB,IAAI,SAAC7R,GAAY,IAAIf,IAAyD,OAApDpjC,EAAKgtD,EAAUxoB,kBAAkB,gBAA0BxkC,EAAK,IAAK,oBAI/F,OAHImkC,EAASkb,SAAS,OACpBlb,EAAWA,EAASE,QAAQ,MAAO,KAEhCgpB,EAakB,IAAMxoD,cAAcsoD,EAAiB,KAAsB,IAAMtoD,cAAcyoD,EAAmB,CACvH3qD,UAAW0qD,GACM,IAAMxoD,cAAc,IAAQ,KAAsB,IAAMA,cAAc,IAAO,CAC9FrF,KAAS2kC,EAAH,KACNye,QAAyB,IAAM/9C,cAAc,IAAMI,SAAU,KAAMR,SAhBnE0N,KAAKk8B,YAAYmf,gBAAgB,CAC/B3E,OAAQ,QACRhd,QAAS,CACPE,MAAO,oBACPD,YAAa,WAGM,IAAMjnC,cAAcsoD,EAAiB,KAAsB,IAAMtoD,cAAc,IAAQ,KAAsB,IAAMA,cAAc,IAAO,CAC7JrF,KAAS2kC,EAAH,KACNye,QAAyB,IAAM/9C,cAAc,IAAMI,SAAU,KAAMR,SAY3E,eACE,GAAI0N,KAAKmhC,UACP,OAAOnhC,KAAKmhC,UAEd,MAAMoa,EAAW,IAAI9Y,GACrB8Y,EAAS1G,SAAS,SAAU,CAC1BhiC,IAAK+wB,GACL9wB,KAAM,GACNC,QAAS,IAAM05B,GAAiB4M,kBAAkBr5C,KAAK0sC,UAEzD6O,EAAS1G,SAAS,SAAU,CAC1BhiC,IAAKgxB,GACL/wB,KAAM,GACNC,QAAS,KACP,IAAK/S,KAAK66C,UACR,MAAM,IAAI9rD,MAAM,uDAElB,OAAOiR,KAAK66C,aAGhBU,EAAS1G,SAAS,SAAU,CAC1BhiC,IAAKsxB,GACLrxB,KAAM,GACNC,QAAS,IAAM/S,KAAKk8B,cAEtBqf,EAAS1G,SAAS,UAAW,CAC3BhiC,IAAKqxB,GACLpxB,KAAM,GACNC,QAAS,IAAM,IAAI26B,KAErB,IAAK,MAAM36B,KAAW/S,KAAKm5C,YACzBoC,EAAS1G,SAAS,UAAW9hC,GAE/B,IAAK,MAAM8gC,KAAU7zC,KAAKg5C,QACxB,IAAK,MAAMjmC,KAAW8gC,EAAO2H,UAC3B,IAAKD,EAAS1G,SAAS,UAAW9hC,GAChC,MAAM,IAAIhkB,MAAM,UAAU8kD,EAAOuF,oEAAoErmC,EAAQF,OAInH,IAAK,MAAME,KAAW/S,KAAK4S,KACzB,IAAK2oC,EAAS1G,SAAS,MAAO9hC,GAC5B,MAAM,IAAIhkB,MAAM,0CAA0CgkB,EAAQF,cAKtE,OAFA8uB,GAAY8Z,kBAAkBF,EAAUA,EAASG,cACjD17C,KAAKmhC,UAAY,IAAIQ,GAAY4Z,GAC1Bv7C,KAAKmhC,UAEd,UAEA,cAAc6X,GACZ,MAAM2C,EAAY,IAAI3qD,IACtB,IAAK,MAAM6iD,KAAUmF,EAAS,CAC5B,MAAMhsD,EAAK6mD,EAAOuF,QAClB,GAAIuC,EAAUnqD,IAAIxE,GAChB,MAAM,IAAI+B,MAAM,2BAA2B/B,MAE7C2uD,EAAUjqD,IAAI1E,Q,skDChqFpB,MAAM2I,GAAY,OAAAimD,GAAA,GAAYhmD,IAAU,CACtCimD,QAAS,CACPC,SAAU,MACVC,SAAU,WACVC,OAAQpmD,EAAMG,QAAQ,GACtBkmD,MAAOrmD,EAAMG,QAAQ,GACrB,CAACH,EAAMsmD,YAAYC,KAAK,OAAQ,CAC9BL,SAAU,MACVC,SAAU,WACVC,OAAQ,QACRC,MAAO,QACP9sC,OAAQ,GAAGvZ,EAAMG,QAAQ,cAAcH,EAAMG,QAAQ,YAIrDqmD,GAAU,KACd,MAAM9lD,EAAUX,KAChB,OAAuB,IAAMjD,cAAc,MAAO,CAChD2pD,IC7FW,68SD8FX1lD,UAAWL,EAAQulD,QACnBS,IAAK,sCAST,SAAStvC,GAAMiB,GACb,OAAO,KAAGjB,MAAMiB,EAAa,CAC3BsuC,mBAAmB,EACnBC,oBAAoB,IAGxB,SAASC,GAAaxuC,EAAayuC,GAEjC,OADoB1vC,GAAMiB,GACPyuC,GAErB,SAASC,GAAgB1uC,EAAayuC,EAAW93C,GAK/C,OApBF,SAAmBg4C,GACjB,OAAO,KAAG1uC,UAAU0uC,EAAa,CAC/BJ,oBAAoB,IAkBftuC,CAJa,IACflB,GAAMiB,GACT,CAACyuC,GAAY93C,IAIjB,SAASi4C,GAAmBH,EAAWI,EAAe,KACpD,MAAOjqB,EAAckqB,GAAmB,eAClCC,EAAqBnqB,EAAalhB,YACjCsrC,EAAiBC,GAAsB,mBAAST,GAAaO,EAAoBN,IAWxF,OAVA,oBAAU,KACR,MAAMS,EAAWV,GAAaO,EAAoBN,GAClDQ,EAAoBE,GAAa,mBAAQD,EAAUC,GAAYA,EAAWD,IACzE,CAACH,EAAoBE,EAAoBR,IAC5C,OAAAW,GAAA,GAAY,KACV,MAAMpvC,EAAc0uC,GAAgBK,EAAoBN,EAAWO,GAC/DD,IAAuB/uC,GACzB8uC,EAAgB9uC,EAAa,CAACikB,SAAS,KAExC4qB,EAAc,CAACC,EAAiBE,EAAiBD,EAAoBN,IACjE,CAACO,EAAiBC,GAG3B,MAAMI,GAAyB,CAC7B9jD,IAAK,gDACLlJ,MAAO,CACL,CACEhD,MAAO,yBACPF,KAAM,UACN+qC,MAAO,CACL,CACE7qC,MAAO,+BACPkM,IAAK,6EAMf,SAAS+jD,KACP,MACMC,EADSpc,GAAOyC,IACO7E,kBAAkB,eAC/C,OAAKwe,EAGE,CACLhkD,IAAKgkD,EAAcppB,UAAU,OAC7B9jC,MAAOktD,EAAcC,eAAe,SAASttD,QAASutD,IACpD,IAAI7vD,EACJ,MAAO,CACLP,MAAOowD,EAAStpB,UAAU,SAC1BhnC,KAAMswD,EAASrrB,kBAAkB,QACjC8F,OAA2D,OAAlDtqC,EAAK6vD,EAASxqB,uBAAuB,UAAoBrlC,EAAK,IAAIsC,QAASwtD,IAAa,CAC/FnkD,IAAKmkD,EAASvpB,UAAU,OACxB9mC,MAAOqwD,EAASvpB,UAAU,gBAXzBkpB,GAkBX,MAAMljD,GAAc,OAAAwhD,GAAA,GAAchmD,IAAU,CAC1C2P,UAAW,CACTzP,QAASF,EAAMG,QAAQ,GACvB,CAACH,EAAMsmD,YAAYC,KAAK,OAAQ,CAC9BrmD,QAASF,EAAMG,QAAQ,KAG3BzI,MAAO,CACLswD,cAAehoD,EAAMG,QAAQ,GAC7B,CAACH,EAAMsmD,YAAYC,KAAK,OAAQ,CAC9ByB,cAAehoD,EAAMG,QAAQ,GAC7BoC,SAAU,KAGdiN,SAAU,CACRlL,MAAOtE,EAAM+G,QAAQkhD,eAGnBC,GAAY,EAChB7wC,SACA8wC,gBACAC,qBAEA,MAAM1nD,EAAU8D,KACV3L,EAAW,cACXwvD,EAAUV,KAChB,OAAuB,IAAM7qD,cAAcwrD,GAAA,EAAM,CAC/C34C,WAAW,EACXxP,QAAS,EACTY,UAAWL,EAAQiP,WACF,IAAM7S,cAAc0pD,GAAS,MAAuB,IAAM1pD,cAAcwrD,GAAA,EAAM,CAC/Fz4C,MAAM,EACNC,GAAI,GACJC,GAAI,EACJC,GAAI,GACa,IAAMlT,cAAcyrD,GAAA,EAAY,CACjD/nD,QAAS,QACTO,UAAWL,EAAQ8O,UAClB,SAAU6H,EAAQ,KAAM8wC,GAAgC,IAAMrrD,cAAcyrD,GAAA,EAAY,CACzF/nD,QAAS,QACTO,UAAWL,EAAQ8O,UAClB44C,GAAiC,IAAMtrD,cAAcyrD,GAAA,EAAY,CAClE/nD,QAAS,KACTO,UAAWL,EAAQhJ,OAClB,uCAAwD,IAAMoF,cAAcyrD,GAAA,EAAY,CACzF/nD,QAAS,MACQ,IAAM1D,cAAc0rD,GAAA,EAAQ,CAC7C,cAAe,eACfrkD,QAAS,IAAMtL,GAAU,IACxB,WAAY,gBAAiB,IAAqB,IAAMiE,cAAc0rD,GAAA,EAAQ,CAC/E3kD,KAAMwkD,EAAQzkD,IACd6kD,IAAK,uBACJ,mBAAoB,IAAK,kCAGxB,GAAYjsD,IAChB,MAAOksD,EAAWC,GAAgB,oBAAS,GAK3C,OAJA,oBAAU,KACR,MAAMC,EAASC,WAAW,IAAMF,GAAa,GAAO,KACpD,MAAO,IAAMG,aAAaF,IACzB,IACIF,EAA4B,IAAM5rD,cAAcisD,GAAA,EAAgB,IAClEvsD,EACH,cAAe,aACI,IAAMM,cAAc,MAAO,CAC9CgE,MAAO,CAACV,QAAS,WAIfmjD,GAAc,CAClBpW,GAAiB,CACflwB,IAAKixB,GACLhxB,KAAM,CAAC+nC,UAAWhX,IAClB9wB,QAAS,EAAE8nC,eAAe7N,GAAoB/xB,QAAW4/B,EAAUzmB,UAAU,mBAAvB,yBAExD2O,GAAiBY,GAAa,IDolChC,MACE,cACE3jC,KAAKgoC,QAAU,IAAI,GAErB,KAAK4W,GACH5+C,KAAKgoC,QAAQ3a,KAAKuxB,GAEpB,SACE,OAAO5+C,KAAKgoC,WC3lCdjF,GAAiB,CACflwB,IAAKkxB,GACLjxB,KAAM,CAACu6B,SAAU1J,IACjB5wB,QAAS,EAAEs6B,cAAc,IAAID,GAAaC,EAAU,IAAIG,MAE1DzK,GAAiB,CACflwB,IAAKwxB,GACLvxB,KAAM,CAACpkB,SAAUq1C,IACjBhxB,QAAS,EAAErkB,cAAc,GAAWmwD,OAAO,CAACnwD,eAE9Cq0C,GAAiBqB,GAAoB,IDwzCvC,MACE,cACEpkC,KAAKgoC,QAAU,IAAI,GAAgB,IACnChoC,KAAK8+C,gBAAkB,GACvB9+C,KAAK++C,aAAe,EAEtB,oBAAoBnoD,GAClB,MAAMooD,EAAU,IAAI5Q,GACdlwC,EAAQ8B,KAAK++C,aAenB,OAdA/+C,KAAK++C,eACLC,EAAQC,UAAUnX,UAAU,CAC1Bza,KAAO6xB,IACL,MAAMC,EAAcn/C,KAAK8+C,gBAAgBr6B,QACnC8pB,EAAUvuC,KAAKo/C,gBAAgBF,EAActoD,GAC9C23C,EAGH4Q,EAAYjhD,GAASqwC,SAFd4Q,EAAYjhD,GAIrB8B,KAAK8+C,gBAAkBK,EACvBn/C,KAAKgoC,QAAQ3a,KAAK8xB,EAAY7vD,OAAOqmC,aAGjC6P,GACCwZ,EAAQzQ,QAAQ/I,GAG3B,gBAAgB+I,EAAS33C,GACvB,MAAM,OAAC4uC,GAAU+I,EACjB,GAAK/I,EAGL,MAAO,CACLG,SAAU/uC,EAAQ+uC,SAClB0Z,QAASjwD,UACP,MAAMie,QAAezW,EAAQqvC,cAAcT,GAC3C+I,EAAQj3C,QAAQ+V,IAElBk3B,OAAQ,KACN,MAAMh2C,EAAQ,IAAIQ,MAAM,kCACxBR,EAAMJ,KAAO,gBACbogD,EAAQhK,OAAOh2C,KAIrB,eACE,OAAOyR,KAAKgoC,WCr2CdjF,GAAiB,CACflwB,IAAKowB,GACLnwB,KAAM,CACJpF,aAAco2B,GACd+B,gBAAiBzB,GACjByW,UAAWhX,IAEb9wB,QAAS,EAAErF,eAAcm4B,kBAAiBgV,eDm2B9C,MACE,eAAc,aACZntC,EAAY,gBACZm4B,EAAe,YACfH,EAAc,cAAa,SAC3BC,EAAWmG,GAAkB,cAC7B1E,EAAgB,CACd,SACG2E,GAAH,iBACGA,GAAH,sBAGF,OAAOR,GAAOsT,OAAO,CACnBnxC,eACAm4B,kBACAF,WACAD,cACA0B,gBACAoE,eAAehG,GACNA,EAAOx1C,IAAKwjB,GACH,WAAVA,EACKA,EAEK,YAAVA,GAAiC,UAAVA,EAClB,GAAGu4B,cAAwBv4B,IAEhCA,EAAM1G,WAAWi/B,IACZv4B,EAEF,GAAGu4B,KAAev4B,SCh4BqCqrC,OAAO,CACzEnxC,eACAm4B,kBACAH,YAAamV,EAAUxoB,kBAAkB,wBAG7C0Q,GAAiB,CACflwB,IAAKywB,GACLxwB,KAAM,CACJpF,aAAco2B,GACd+B,gBAAiBzB,GACjByW,UAAWhX,IAEb9wB,QAAS,EAAErF,eAAcm4B,kBAAiBgV,eDi/B9C,MACE,eAAc,YACZnV,EAAc,cAAa,SAC3BC,EAAW2G,GAAkB,gBAC7BzG,EAAe,aACfn4B,EAAY,cACZ05B,EAAgB,CACd,SACA,iBACA,UACA,QACA,eAGF,OAAOmE,GAAOsT,OAAO,CACnBnxC,eACAm4B,kBACAF,WACAD,cACA0B,oBCpgCqEyX,OAAO,CAC5EnxC,eACAm4B,kBACAH,YAAamV,EAAUxoB,kBAAkB,wBAG7C0Q,GAAiB,CACflwB,IAAKqwB,GACLpwB,KAAM,CACJpF,aAAco2B,GACd+B,gBAAiBzB,GACjByW,UAAWhX,IAEb9wB,QAAS,EAAErF,eAAcm4B,kBAAiBgV,eAAenQ,GAAWmU,OAAO,CACzEnxC,eACAm4B,kBACAuB,cAAe,CAAC,aAChB1B,YAAamV,EAAUxoB,kBAAkB,wBAG7C0Q,GAAiB,CACflwB,IAAKswB,GACLrwB,KAAM,CACJpF,aAAco2B,GACd+B,gBAAiBzB,GACjByW,UAAWhX,IAEb9wB,QAAS,EAAErF,eAAcm4B,kBAAiBgV,eD82B9C,MACE,eAAc,aACZntC,EAAY,YACZg4B,EAAc,cAAa,SAC3BC,EAAWqG,GAAkB,gBAC7BnG,EAAe,cACfuB,EAAgB,CAAC,SAAU,QAAS,UAAW,oBAE/C,OAAOmE,GAAOsT,OAAO,CACnBnxC,eACAm4B,kBACAF,WACAD,cACA0B,gBACAoE,eAAehG,GACNA,EAAOx1C,IAAKwjB,GACby4B,GAAiBz6C,IAAIgiB,IAGrBA,EAAM1G,WApBM,SAkBP0G,EAKF,QAAuBA,OCp4B8BqrC,OAAO,CACvEnxC,eACAm4B,kBACAH,YAAamV,EAAUxoB,kBAAkB,wBAG7C0Q,GAAiB,CACflwB,IAAKuwB,GACLtwB,KAAM,CACJpF,aAAco2B,GACd+B,gBAAiBzB,GACjByW,UAAWhX,IAEb9wB,QAAS,EAAErF,eAAcm4B,kBAAiBgV,eDsxB9C,MACE,eAAc,aACZntC,EAAY,YACZg4B,EAAc,cAAa,SAC3BC,EAAWkG,GAAkB,gBAC7BhG,EAAe,cACfuB,EAAgB,CAAC,eAEjB,OAAOmE,GAAOsT,OAAO,CACnBnxC,eACAm4B,kBACAF,WACAD,cACA0B,oBCnyBkEyX,OAAO,CACzEnxC,eACAm4B,kBACAH,YAAamV,EAAUxoB,kBAAkB,wBAG7C0Q,GAAiB,CACflwB,IAAKwwB,GACLvwB,KAAM,CACJpF,aAAco2B,GACd+B,gBAAiBzB,GACjByW,UAAWhX,IAEb9wB,QAAS,EAAErF,eAAcm4B,kBAAiBgV,eDq6B9C,MACE,eAAc,aACZntC,EAAY,YACZg4B,EAAc,cAAa,SAC3BC,EAAW0G,GAAkB,gBAC7BxG,EAAe,cACfuB,EAAgB,CAAC,SAAU,QAAS,aAEpC,OAAOmE,GAAOsT,OAAO,CACnBnxC,eACAm4B,kBACAF,WACAD,cACA0B,oBCl7BiEyX,OAAO,CACxEnxC,eACAm4B,kBACAH,YAAamV,EAAUxoB,kBAAkB,wBAG7C0Q,GAAiB,CACflwB,IAAK0wB,GACLzwB,KAAM,CACJpF,aAAco2B,GACd+B,gBAAiBzB,GACjByW,UAAWhX,IAEb9wB,QAAS,EAAErF,eAAcm4B,kBAAiBgV,eAAetP,GAAOsT,OAAO,CACrEnxC,eACAm4B,kBACAH,YAAamV,EAAUxoB,kBAAkB,wBAG7C0Q,GAAiB,CACflwB,IAAK4wB,GACL3wB,KAAM,CACJpF,aAAco2B,GACd+W,UAAWhX,IAEb9wB,QAAS,EAAErF,eAAcmtC,eAAe1O,GAAS0S,OAAO,CACtDnxC,eACAg4B,YAAamV,EAAUxoB,kBAAkB,wBAG7C0Q,GAAiB,CACflwB,IAAK6wB,GACL5wB,KAAM,CACJpF,aAAco2B,GACd+B,gBAAiBzB,GACjByW,UAAWhX,IAEb9wB,QAAS,EAAErF,eAAcm4B,kBAAiBgV,eD87B9C,MACE,eAAc,aACZntC,EAAY,YACZg4B,EAAc,cAAa,SAC3BC,EAAW4G,GAAkB,gBAC7B1G,IAEA,OAAO0F,GAAOsT,OAAO,CACnBnxC,eACAm4B,kBACAF,WACAD,cACA0B,cAAe,CAAC,SAAU,QAAS,UAAW,kBAC9CoE,eAAehG,GACNA,EAAOx1C,IAAKwjB,GACbg5B,GAAYh7C,IAAIgiB,IAGhBA,EAAM1G,WAnBG,aAiBJ0G,EAKF,YAAoBA,OCn9BqCqrC,OAAO,CAC3EnxC,eACAm4B,kBACAH,YAAamV,EAAUxoB,kBAAkB,wBAG7C0Q,GAAiB,CACflwB,IAAK2wB,GACL1wB,KAAM,CACJpF,aAAco2B,GACd+B,gBAAiBzB,GACjByW,UAAWhX,IAEb9wB,QAAS,EAAErF,eAAcm4B,kBAAiBgV,eAAetP,GAAOsT,OAAO,CACrEnxC,eACAm4B,kBACAF,SAAU,CACR34C,GAAI,OACJM,MAAO,yBACPF,KAAM,KAERs4C,YAAamV,EAAUxoB,kBAAkB,0BAKxCymB,eAAc,IAAI,GACnBwG,GAAsBlwD,MAAOmwD,EAAoB,qCACrD,MAAMC,EAAY,qTAClB,IAAKA,EACH,MAAM,IAAIzwD,MAAM,oCAElB,IAAK6C,MAAMulB,QAAQqoC,GACjB,MAAM,IAAIzwD,MAAM,2CAElB,MAAMgkC,EAAUysB,EAAU/6B,QAC1B,GAAI86B,IAAsB,kCAAkCE,kBAAkB,SAC5E,IACE,MAAMzoD,EAAO+V,KAAKC,MAAMuyC,GACpB3tD,MAAMulB,QAAQngB,GAChB+7B,EAAQjjC,QAAQkH,GAEhB+7B,EAAQjjC,KAAK,CAACkH,OAAM8e,QAAS,QAE/B,MAAOvnB,GACP,MAAM,IAAIQ,MAAM,yCAAyCR,GAG7D,MAAMmxD,EAAkB1lD,OAAO2lD,eAO/B,OANID,GACF3sB,EAAQjjC,KAAK,CACXgmB,QAAS,SACT9e,KAAM0oD,IAGH3sB,GAET,SAAS6sB,IAAuB,SAACttD,IAC/B,OAAI,cACqB,IAAMI,cAAc,IAAMI,SAAU,KAAMR,GAE5C,IAAMI,cAAc,IAAc,KAAMJ,GAEjE,SAASutD,GAAUjpD,GACjB,IAAI/I,EAAIC,EAAI6f,EAAIC,EAChB,MAgBMgF,EAAyD,OAAjD/kB,EAAgB,MAAX+I,OAAkB,EAASA,EAAQgc,MAAgB/kB,EAAK,GACrEkrD,EAAQ,IAAIhF,MAAkC,MAAXn9C,OAAkB,EAASA,EAAQmiD,OACtEC,EAA+D,OAApDlrD,EAAgB,MAAX8I,OAAkB,EAASA,EAAQoiD,SAAmBlrD,EAAK,GAC3EmrD,EAAa,CACjB9I,kBApB0B,IAAsB,IAAMz9C,cAAcorD,GAAW,CAC/E7wC,OAAQ,MACR8wC,cAAe,mBAmBfxK,cAjB2B,EAAEC,OAAMjlD,YACnC,IAAI4d,EAAU,GAMd,MALa,gBAATqnC,EACFrnC,EAAU,+EAA+E5d,EAAM4d,QAC7E,eAATqnC,IACTrnC,EAAU,6DAA6D5d,EAAM4d,SAExD,IAAMzZ,cAAcktD,GAAwB,KAAsB,IAAMltD,cAAcorD,GAAW,CACtH7wC,OAAQ,MACR8wC,cAAe5xC,MASjBsuC,SAAQ,GACR3c,OAAQ,QACM,MAAXlnC,OAAkB,EAASA,EAAQqiD,YAElCvM,EAA6D,OAAnD/+B,EAAgB,MAAX/W,OAAkB,EAASA,EAAQ81C,QAAkB/+B,EAAK,CAC7E,CACE3gB,GAAI,QACJM,MAAO,cACP8I,QAAS,QACTR,MAAO,KACPxI,KAAsB,IAAMsF,cAAc,KAAW,OAEvD,CACE1F,GAAI,OACJM,MAAO,aACP8I,QAAS,OACTR,MAAO,KACPxI,KAAsB,IAAMsF,cAAc,KAAU,QAGlDwmD,EAAyE,OAAzDtrC,EAAgB,MAAXhX,OAAkB,EAASA,EAAQsiD,cAAwBtrC,EAAK0xC,GACrFpP,EAAM,IAAI,GAAe,CAC7Bt9B,OACAmmC,QACAC,UACAC,aACAvM,SACAwM,eACAC,eACAd,WAAuB,MAAXzhD,OAAkB,EAASA,EAAQyhD,aAGjD,OADAnI,EAAI4P,SACG5P,EAGT,MAAM6P,GAAe,KACnB,MAAOtgC,EAAUugC,GAAe,mBAAS,IACnC3S,EAAWjM,GAAOuC,IAOxB,GANA,oBAAU,KACR,MAAMuL,EAAe7B,EAAS4S,SAASnY,UAAW37B,GAAY6zC,EAAaE,GAASA,EAAK5mD,OAAO6S,KAChG,MAAO,KACL+iC,EAAaiR,gBAEd,CAAC9S,IACoB,IAApB5tB,EAAS1gB,OACX,OAAO,KAET,MAAOqhD,GAAgB3gC,EAIvB,OAAuB,IAAM/sB,cAAc2tD,GAAA,EAAU,CACnD1mD,MAAM,EACN2mD,aAAc,CAACC,SAAU,MAAOC,WAAY,WAC3B,IAAM9tD,cAAc+tD,GAAA,EAAO,CAC5C1wC,OAAwB,IAAMrd,cAAcguD,GAAA,EAAY,CACtDxmD,MAAO,UACPymD,KAAM,QACN5mD,QAVgB,KAClBimD,EAAaE,GAASA,EAAK5wD,OAAQ0a,GAAQA,IAAQo2C,KAUjD,cAAe,sBACE,IAAM1tD,cAAc,KAAW,OAClDgf,SAAU0uC,EAAa1uC,UACN,IAAMhf,cAAc,OAAQ,KAAM0tD,EAAaj0C,QAAQwF,WAAY8N,EAAS1gB,OAAS,GAAqB,IAAMrM,cAAc,KAAM,KAAM,KAAK+sB,EAAS1gB,OAAS,WAAW,KAAU,UAAW0gB,EAAS1gB,OAAS,WAGxO,SAAS6hD,GAAcz2C,GACrB,IAAIgoB,EAAO,EACX,IAAK,IAAIp/B,EAAI,EAAGA,EAAIoX,EAAIpL,OAAQhM,IAC9Bo/B,EAAOhoB,EAAI6f,WAAWj3B,KAAOo/B,GAAQ,GAAKA,GAE5C,IAAIj4B,EAAQ,IACZ,IAAK,IAAInH,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAE1BmH,IAAS,MADKi4B,GAAY,EAAJp/B,EAAQ,KACV4e,SAAS,KAAMgqB,QAAQ,GAE7C,OAAOzhC,EAMT,MAAMmB,GAAc,OAAAugD,GAAA,GAAYhmD,GAAU,OAAAirD,GAAA,GAAa,CACrDC,OAAQ,CACN3rD,MAAO,OACPsB,OAAQ,OACRyD,MAAO,OACP9B,WAAYxC,EAAMmrD,WAAWC,eAC7BC,cAAe,MACfC,cAAe,gBAGb,GAAS,EAAEvnB,cAAaE,UAASsnB,mBACrC,MAAM7qD,EAAU+E,KAChB,OAAuB,IAAM3I,cAAc0uD,GAAA,EAAU,CACnD9E,IAAK3iB,EACL0iB,IAAKxiB,EACLljC,UAAWL,EAAQwqD,OACnBpqD,MAAO,CACL2qD,gBAAiBT,GAAcjnB,GAAeE,GAAW,OACtDsnB,IAEJxnB,GAA+BA,EAvBrB52B,MAAM,SAASpO,KAAK,IAAIs9B,UAAU,EAAG,KA0B9C,GAAS,IAAMqvB,WAAW,CAAClvD,EAAOC,IAAwB,IAAMK,cAAc6uD,GAAA,EAAU,CAC5FlvD,MACA7B,UAAW,QACR4B,KAGC4S,GAAe,CACnBw8C,aAAc,IACdC,YAAa,4BAETC,GAAkBtvD,IACtB,MAAM,KAAC6C,EAAI,aAAEusD,EAAY,YAAEC,GAAe,IACrCz8C,MACA5S,GAEC1D,EAAW0yC,GAAO2C,IAClB4d,EAAW,iBAAO,OACjBhoD,EAAMa,GAAW,oBAAS,GAajC,OAAuB,IAAM9H,cAAc,IAAMI,SAAU,KAAsB,IAAMJ,cAAc,WAAY,CAC/GL,IAAKsvD,EACLjrD,MAAO,CAACqlD,SAAU,WAAYrX,KAAM,KAAMF,MAAO,MACjDlqB,aAAcrlB,IACI,IAAMvC,cAAckvD,GAAA,EAAS,CAC/C50D,GAAI,oBACJM,MAAOm0D,EACPvsD,UAAW,MACX2sD,WAAYL,EACZ5nD,QAAS,IAAMY,GAAQ,GACvBb,QACiB,IAAMjH,cAAcguD,GAAA,EAAY,CACjD3mD,QAxBuB3G,IACvBA,EAAE0uD,kBACFtnD,GAAQ,GACR,IACMmnD,EAAS3lD,UACX2lD,EAAS3lD,QAAQ+lD,SACjBC,SAASC,YAAY,SAEvB,MAAO1zD,GACPG,EAASI,KAAKP,MAgBC,IAAMmE,cAAc,KAAU,UAEnDgvD,GAAergB,UAAY,CACzBpsC,KAAM,IAAUoO,OAAOk+B,WACvBigB,aAAc,IAAUniB,OACxBoiB,YAAa,IAAUp+C,QAGzB,MAAM6+C,GAAc,EAClBjtD,OACAktD,WACAC,mBAAkB,EAClBC,sBAAqB,EACrBC,qBACAC,kBAEA,MAAM3sD,EAAQ,OAAA4sD,GAAA,KACRl4C,EAA8B,SAAvB1U,EAAM+G,QAAQzN,KAAkB,QAAO,SAC9CuzD,EAAwC,SAAvB7sD,EAAM+G,QAAQzN,KAAkB,UAAY,UACnE,OAAuB,IAAMwD,cAAc,MAAO,CAChDgE,MAAO,CAACqlD,SAAU,aACD,IAAMrpD,cAAc,KAAmB,CACxD6vD,cACAJ,WACAzrD,MAAO4T,EACP83C,kBACAM,WAAW,EACXC,gBAAiB,CAACzoD,MAAOtE,EAAM+G,QAAQimD,gBACvCC,UAAYjxB,IAAsC,MAAtB0wB,OAA6B,EAASA,EAAmBruD,SAAS29B,IAAe,CAC3Gl7B,MAAO,CACL2qD,gBAAiBoB,IAEjB,IACHxtD,GAAOotD,GAAsC,IAAM3vD,cAAc,MAAO,CACzEgE,MAAO,CAACqlD,SAAU,WAAYrX,IAAK,EAAGuX,MAAO,IAC5B,IAAMvpD,cAAcgvD,GAAgB,CACrDzsD,YAIJ,IAAI6tD,GACMC,GAMNC,GACMC,GAMNC,GACMC,GAKNC,GACMC,IApBAN,GAKPD,KAAcA,GAAY,KAJJ,WAAI,KAC3BC,GAAuB,WAAI,KAC3BA,GAAuB,WAAI,KAC3BA,GAAuB,WAAI,MAGnBE,GAKPD,KAAcA,GAAY,KAJP,QAAI,KACxBC,GAAqB,SAAI,KACzBA,GAAsB,UAAI,KAC1BA,GAAuB,WAAI,MAGnBE,GAIPD,KAAWA,GAAS,KAHI,gBAAI,kBAC7BC,GAAoB,WAAI,aACxBA,GAAsB,aAAI,gBAGlBE,GAIPD,KAAkBA,GAAgB,KAHd,KAAI,IACzBC,GAAsB,MAAI,IAC1BA,GAAuB,OAAI,IAG7B,IAAI15C,GAAqBja,OAAO6F,OAAO,CACrCC,UAAW,KACX,gBAAmB,OAAOstD,IAC1B,gBAAmB,OAAOE,IAC1B,aAAgB,OAAOE,IACvB,oBAAuB,OAAOE,MAGhC,MAAM1mD,GAAc,OAAAk/C,GAAA,GAAchmD,IAAU,CAC1CwM,KAAM,CACJvK,KAAMjC,EAAM+G,QAAQlB,WAAW6nD,MAC/BxrD,OAAQlC,EAAM+G,QAAQ4mD,QAExBtuD,KAAM,CACJ4C,KAAMjC,EAAM+G,QAAQ6mD,iBAGxB,SAASC,IAAarhD,MAAM,GAACpV,KAC3B,MAAMsJ,EAAUoG,MACTvH,EAAOuuD,GAAY,IAAMjpD,SAAS,IAClChE,EAAQktD,GAAa,IAAMlpD,SAAS,GACrCmpD,EAAQ,IAAMC,OAAO,MAC3B,IAAMC,gBAAgB,KACpB,GAAIF,EAAM5nD,QAAS,CACjB,IACEvF,OAAQstD,EACR5uD,MAAO6uD,GACLJ,EAAM5nD,QAAQE,UAClB6nD,EAAiB7iD,KAAK+iD,MAAMF,GAC5BC,EAAgB9iD,KAAK+iD,MAAMD,GACvBD,IAAmBttD,GAAUutD,IAAkB7uD,IACjDuuD,EAASM,GACTL,EAAUI,MAGb,CAAC5uD,EAAOsB,IACX,MACMytD,EAAc/uD,EAAQW,GACtBquD,EAAe1tD,EAASX,GAC9B,OAAuB,IAAMpD,cAAc,IAAK,KAAsB,IAAMA,cAAc,OAAQ,CAChGiE,UAAWL,EAAQ8L,KACnBjN,MAAO+uD,EACPztD,OAAQ0tD,EACR3nD,GAAI,KACc,IAAM9J,cAAc,OAAQ,CAC9CL,IAAKuxD,EACLjtD,UAAWL,EAAQrB,KACnBkE,EAAGgrD,EAAe,EAClBxpD,EAAGupD,EAAc,EACjB9qD,WAAY,SACZgrD,kBAAmB,UAClBp3D,IAGL,MAKM8P,GAAc,KAAclH,IAAU,CAC1CwM,KAAM,CACJiiD,WAAezuD,EAAM0uD,YAAYC,SAASC,SAA9B,SAGVC,GAAiBryD,GAA0B,IAAMM,cAAc+wD,GAAa,IAC7ErxD,IAEL,SAASsyD,IAAK,OACZpwD,EAASmwD,GAAa,QACtBE,EAAO,KACPviD,IAEA,MAAM,MAACjN,EAAK,OAAEsB,EAAM,EAAEkE,EAAI,EAAC,EAAExB,EAAI,KAAMyrD,GAAaxiD,EAC9C9L,EAAUwG,KACV+nD,EAAU,IAAMhB,OAAO,MAkB7B,OAjBA,IAAMC,gBAAgB,KACpB,GAAIe,EAAQ7oD,QAAS,CACnB,IACEvF,OAAQstD,EACR5uD,MAAO6uD,GACLa,EAAQ7oD,QAAQE,UACpB6nD,EAAiB7iD,KAAK+iD,MAAMF,GAC5BC,EAAgB9iD,KAAK+iD,MAAMD,GACvBD,IAAmBttD,GAAUutD,IAAkB7uD,GACjDwvD,EAAQviD,EAAKpV,GAAI,IACZoV,EACH3L,OAAQstD,EACR5uD,MAAO6uD,MAIZ,CAAC5hD,EAAMjN,EAAOsB,EAAQkuD,IACF,IAAMjyD,cAAc,IAAK,CAC9CL,IAAKwyD,EACL,cAvCiB,OAwCjBluD,UAAWL,EAAQ8L,KACnBnH,UAAW,aAAaN,EAAIxF,EAAQ,KAAKgE,EAAI1C,EAAS,MACrDnC,EAAO,CAAC8N,KAAMwiD,KAGnB,MAAM3/C,GAAc,KAAcrP,IAAU,CAC1CX,KAAM,CACJ4C,KAAMjC,EAAM+G,QAAQ6mD,iBAGxB,SAASsB,IAAc10C,MAAM,MAACqb,KAC5B,MAAMn1B,EAAU2O,KAChB,OAAuB,IAAMvS,cAAc,OAAQ,CACjDiE,UAAWL,EAAQrB,KACnBmE,WAAY,UACXqyB,GAGL,MAAMs5B,GAAc,KAAcnvD,IAAU,CAC1CvI,KAAM,CACJ0K,YAAa,EACbD,OAAQlC,EAAM+G,QAAQkhD,WACtBhmD,KAAM,OACNwsD,WAAezuD,EAAM0uD,YAAYC,SAASC,SAA9B,MAEd/4B,MAAO,CACL44B,WAAezuD,EAAM0uD,YAAYC,SAASC,SAA9B,SAGVQ,GAAmB5yD,GAA0B,IAAMM,cAAcoyD,GAAc,IAChF1yD,IAEC6yD,GAAa,OAAAC,GAAA,KAAOvqD,EAAGI,GAAMA,EAAEJ,GAAGxB,EAAG4B,GAAMA,EAAE5B,GAAGgsD,MAAM,MAC5D,SAASC,IAAK,OACZ9wD,EAAS0wD,GAAe,QACxBK,EAAO,GACPr4D,EAAE,KACFojB,IAEA,MAAM,EAACzV,EAAI,EAAC,EAAExB,EAAI,EAAC,MAAEhE,EAAK,OAAEsB,EAAM,OAAE6uD,KAAWC,GAAcn1C,EACvD9Z,EAAUyuD,KACVS,EAAW,IAAM3B,OAAO,MAC9B,IAAMC,gBAAgB,KACpB,GAAI0B,EAASxpD,QAAS,CACpB,IACEvF,OAAQstD,EACR5uD,MAAO6uD,GACLwB,EAASxpD,QAAQE,UACrB6nD,EAAiB7iD,KAAK+iD,MAAMF,GAC5BC,EAAgB9iD,KAAK+iD,MAAMD,GACvBD,IAAmBttD,GAAUutD,IAAkB7uD,GACjDkwD,EAAQr4D,EAAI,IACPojB,EACH3Z,OAAQstD,EACR5uD,MAAO6uD,MAIZ,CAAC5zC,EAAM3Z,EAAQtB,EAAOkwD,EAASr4D,IAClC,IAAIK,EAAO,GACX,GAAIi4D,EAAQ,CACV,MAAMG,EAAeH,EAAOh2D,OAAQ2S,GAAU,KAASA,EAAMtH,IAAM,KAASsH,EAAM9I,IAClF9L,EAAO43D,GAAWQ,IAAiB,GAErC,OAAuB,IAAM/yD,cAAc,IAAMI,SAAU,KAAMzF,GAAwB,IAAMqF,cAAc,OAAQ,CACnH,cAxGiB,OAyGjBiE,UAAWL,EAAQjJ,KACnBq4D,UAAW,qBACX3qD,EAAG1N,IACDk4D,EAAW95B,MAAwB,IAAM/4B,cAAc,IAAK,CAC9DL,IAAKmzD,EACL,cA7GkB,QA8GlB7uD,UAAWL,EAAQm1B,MACnBxwB,UAAW,aAAaN,KAAKxB,MAC5B7E,EAAO,CAAC8b,KAAMm1C,KAAgB,MAInC,SAASI,IAAgB,MACvBC,EAAK,MACLriD,EAAK,WACLsiD,EAAU,UACVrgD,EAAYs9C,GAAUgD,WAAU,MAChCC,EAAK,WACLC,EAAa,GAAE,WACfC,EAAa,GAAE,WACfC,EAAa,GAAE,SACfC,EAAW,EAAC,SACZC,EAAW,EAAC,UACZC,EAAS,OACTC,EAASpD,GAAOqD,gBAAe,cAC/BC,EAAgBpD,GAAcqD,MAAK,YACnCC,EAAc,GAAE,UAChBC,EAAY,EAAC,WACbC,EAAa,EAAC,YACdC,EAAW,KACXthC,KACGlhB,IAEH,IAAIxW,EAAIC,EACR,MAAM8H,EAAQ,QACPkxD,EAAgBC,GAAqB,IAAMtsD,SAAS,MACpDusD,EAAiBC,GAAsB,IAAMxsD,SAAS,KACvDysD,EAAQ,IAAMrD,OAAO,IAAI,KAAMsD,SAASC,QACvCC,EAAYC,GAAiB,IAAM7sD,UAA0C,OAA/B5M,EAAKq5D,EAAMlrD,QAAQkrD,cAAmB,EAASr5D,EAAGsH,QAAU,IAC1GoyD,EAAaC,GAAkB,IAAM/sD,UAA0C,OAA/B3M,EAAKo5D,EAAMlrD,QAAQkrD,cAAmB,EAASp5D,EAAG2I,SAAW,IAC7GgxD,EAAYC,GAAiB,IAAMjtD,SAAS,KAC5CktD,EAAYC,GAAiB,IAAMntD,SAAS,IAC7CqhD,EAAW56C,KAAKI,IAAI+lD,EAAYP,GAChCe,EAAY3mD,KAAKI,IAAIimD,EAAaP,GAClCc,EAAe,IAAMC,QAAQ,IAAM,KAAU3lD,IACjD,IAAKA,EACH,OAEF,MAAMmD,EAAY,aAAOnD,GACnB4lD,EAAY,aAAO5lD,EAAK6lD,eAtCb,cAuCXC,EAAS,eAAOC,YAAY,CAAC,EAAG,KAAKC,GAAG,OAAS91C,IACrDA,EAAMrX,UAAUN,EAAIuG,KAAKG,IAAI,EAAGH,KAAKI,IAAIgR,EAAMrX,UAAUN,EAAGmhD,EAAWA,EAAWxpC,EAAMrX,UAAUgpB,IAClG3R,EAAMrX,UAAU9B,EAAI+H,KAAKG,IAAI,EAAGH,KAAKI,IAAIgR,EAAMrX,UAAU9B,EAAG0uD,EAAYA,EAAYv1C,EAAMrX,UAAUgpB,IACpG+jC,EAAUK,KAAK,YAAa/1C,EAAMrX,aAEpCsK,EAAUiH,KAAK07C,GACf,MACE/yD,MAAOmzD,EACP7xD,OAAQ8xD,GACNnmD,EAAKomD,wBACL1B,IAAmBwB,GACrBvB,EAAkBuB,GAEhBtB,IAAoBuB,GACtBtB,EAAmBsB,IAEpB,KAAM,CAACvB,EAAiBF,EAAgBhL,EAAU+L,IAC/CY,EAAmB,IAAMC,YAAY,KACzC,MAAMC,EAAoBzB,EAAMlrD,QAAQuH,QAClCqlD,EAAoB1B,EAAMlrD,QAAQ4pD,QACxC+C,EAAkBnmD,QAASqmD,IACHtlD,EAAM6T,KAAMhV,GAASA,EAAKpV,KAAO67D,IAErD3B,EAAMlrD,QAAQ8sD,WAAWD,KAG7BD,EAAkBpmD,QAASpP,IACHwyD,EAAMxuC,KAAMhH,GAASA,EAAKve,OAASuB,EAAEsuB,GAAKtR,EAAKzd,KAAOS,EAAE21D,IAE5E7B,EAAMlrD,QAAQgtD,WAAW51D,EAAEsuB,EAAGtuB,EAAE21D,KAGpCxlD,EAAMf,QAASJ,IACb,MAAM6mD,EAAe/B,EAAMlrD,QAAQuH,QAAQ5P,KAAMk1D,GAAWzmD,EAAKpV,KAAO67D,GACxE,GAAII,EAAc,CAChB,MAAM,MAAC9zD,EAAK,OAAEsB,EAAM,EAAEkE,EAAC,EAAExB,GAAK+tD,EAAMlrD,QAAQoG,KAAK6mD,GACjD/B,EAAMlrD,QAAQ2oD,QAAQsE,EAAc,IAAI7mD,EAAMjN,QAAOsB,SAAQkE,IAAGxB,WAEhE+tD,EAAMlrD,QAAQ2oD,QAAQviD,EAAKpV,GAAI,IAAIoV,EAAMjN,MAAO,EAAGsB,OAAQ,MAG/DmvD,EAAMpjD,QAASpP,IACb8zD,EAAMlrD,QAAQqpD,QAAQjyD,EAAEvB,KAAMuB,EAAET,GAAI,IAC/BS,EACHq4B,MAAOr4B,EAAEq4B,MACTt2B,MAAO,EACPsB,OAAQ,EACRyyD,SAAU1C,EACV2C,YAAazC,EACb0C,OAAQxC,EACRyC,OAAQ1C,OAGX,CAACf,EAAOriD,EAAOijD,EAAeE,EAAaE,EAAYD,IACpD2C,EAAc,IAAMvB,QAAQ,IAAM,KAAS,KAC/C,KAAMwB,OAAOrC,EAAMlrD,SACnB,MAAM,OAACvF,EAAM,MAAEtB,GAAS+xD,EAAMlrD,QAAQkrD,QAChCsC,EAAYtoD,KAAKI,IAAI,EAAG7K,GAAU,GAClCgzD,EAAWvoD,KAAKI,IAAI,EAAGnM,GAAS,GACtCmyD,EAAcmC,GACdjC,EAAegC,GACf9B,EAAcR,EAAMlrD,QAAQuH,SAC5BqkD,EAAcV,EAAMlrD,QAAQ4pD,UAC3B,IAAK,CAAC8D,SAAS,IAAQ,IA6B1B,SAAS/E,EAAQ33D,EAAIoV,GAGnB,OAFA8kD,EAAMlrD,QAAQ2oD,QAAQ33D,EAAIoV,GAC1BknD,IACOpC,EAAMlrD,QAEf,SAASqpD,EAAQr4D,EAAIojB,GAGnB,OAFA82C,EAAMlrD,QAAQqpD,QAAQr4D,EAAIojB,GAC1Bk5C,IACOpC,EAAMlrD,QAEf,OAtCA,IAAM2tD,UAAU,KACdzC,EAAMlrD,QAAQ4tD,SAAS,CACrBC,QAASrkD,EACTugD,QACA+D,QAAS9D,EACT+D,QAAS9D,EACT+D,QAAS9D,EACT+D,QAAS9D,EACT+D,QAAS9D,EACTC,YACAC,WAEFmC,IACAa,IACOA,EAAYa,QAClB,CACD9D,EACAN,EACAvgD,EACAygD,EACAE,EACAC,EACAJ,EACAE,EACAI,EACAmC,EACAa,IAYqB,IAAM52D,cAAc,MAAO,CAChDL,IAAKy1D,KACFzjD,EACHlP,MAAO2mD,EACPrlD,OAAQoxD,EACRuC,QAAS,OAAOtO,KAAY+L,KACX,IAAMn1D,cAAc,OAAQ,KAAsB,IAAMA,cAAc,SAAU,CACjG1F,GA1QoB,eA2QpBo9D,QAAS,YACTC,YAAa,KACbC,aAAc,KACdC,KAAM,KACNC,KAAM,KACNC,OAAQ,OACRC,YAAa,eACI,IAAMh4D,cAAc,OAAQ,CAC7CmF,KAAMjC,EAAM+G,QAAQkhD,WACpB9iD,EAAG,4DACAwqB,GAAuB,IAAM7yB,cAAc,IAAK,CACnD1F,GAhKiB,aAiKA,IAAM0F,cAAc,MAAO,CAC5CyC,MAAOkyD,EACP5wD,OAAQ8wD,EACRpuD,EAAG0uD,EAAY,EAAIN,EAAc,EACjC5sD,EAAGmhD,EAAW,EAAIuL,EAAa,EAC/B+C,QAAS,OAAO/C,KAAcE,KAC7BI,EAAW33D,IAAKoD,IACjB,MAAMgd,EAAO82C,EAAMlrD,QAAQoU,KAAKhd,GAChC,OAAKgd,EAEkB,IAAM1d,cAAc0yD,GAAM,CAC/CpyD,IAAK,GAAGI,EAAEsuB,KAAKtuB,EAAE21D,IACjB/7D,GAAIoG,EACJiyD,UACA/wD,OAAQuyD,EACRz2C,SANO,OAQPq3C,EAAWz3D,IAAKhD,IAClB,MAAMoV,EAAO8kD,EAAMlrD,QAAQoG,KAAKpV,GAChC,OAAKoV,EAEkB,IAAM1P,cAAcgyD,GAAM,CAC/C1xD,IAAKhG,EACL23D,UACArwD,OAAQuxD,EACRzjD,SALO,UAUO,OAAAw5C,GAAA,GAAYhmD,IAAU,CACxCwB,KAAM,CACJtB,QAASF,EAAMG,QAAQ,GACvBoH,aAAcvH,EAAMG,QAAQ,GAC5BmH,UAAWtH,EAAMG,QAAQ,GACzBC,QAAS,OACT20D,SAAU,cAEZC,YAAa,CACX7O,SAAU,WACV5+C,aAAcvH,EAAMG,QAAQ,GAC5BmH,WAAYtH,EAAMG,QAAQ,GAC1B80D,OAAQ,SAEVz9D,KAAM,CACJ+K,SAAU,IAEZ2B,QAAS,CACP3E,MAAO,OACP2mD,SAAU,WAEZ3vC,QAAS,CACPnW,QAAS,OACTsY,WAAY,SACZpU,MAAOtE,EAAM+G,QAAQmuD,OAAO71D,KAC5B,MAAO,CACLiF,MAAOtE,EAAM+G,QAAQmuD,OAAOzwD,OAGhC0wD,KAAM,CACJ1J,gBAAiBzrD,EAAM+G,QAAQmuD,OAAOC,MAExCx8D,MAAO,CACL8yD,gBAAiBzrD,EAAM+G,QAAQmuD,OAAOv8D,UAjC1C,MAoFMy8D,GAAc,OAAApP,GAAA,GAAW,CAC7BqP,WAAY,CACV91D,MAAO,MACP01D,OAAQ,EACR9O,SAAU,WACVvX,KAAM,MACNE,IAAK,MACLzpC,UAAW,0BAGTiwD,GAAkB,EAAEt5C,cACxB,MAAMtb,EAAU00D,KAChB,OAAQp5C,GACN,IAAK,QACH,OAAuB,IAAMlf,cAAc,MAAO,CAChD2pD,IE/mCO,ywUFgnCP1lD,UAAWL,EAAQ20D,WACnB3O,IAAK,0BAET,IAAK,OACH,OAAuB,IAAM5pD,cAAc,MAAO,CAChD2pD,IGrnCO,y9GHsnCPC,IAAK,iBACL3lD,UAAWL,EAAQ20D,aAEvB,IAAK,UACH,OAAuB,IAAMv4D,cAAc,MAAO,CAChD2pD,II3nCO,q2MJ4nCPC,IAAK,mBACL3lD,UAAWL,EAAQ20D,aAEvB,IAAK,OACH,OAAuB,IAAMv4D,cAAc,MAAO,CAChD2pD,IKjoCO,6xLLkoCPC,IAAK,WACL3lD,UAAWL,EAAQ20D,aAEvB,QACE,OAAO,OAIPE,GAAc,OAAAvP,GAAA,GAAYhmD,IAAU,CACxCwB,KAAM,CACJiqD,gBAAiBzrD,EAAM+G,QAAQlB,WAAW+L,QAC1C1R,QAASF,EAAMG,QAAQ,EAAG,EAAG,EAAG,IAElCga,OAAQ,CACN7S,UAAWtH,EAAMG,QAAQ,IAE3Bq1D,eAAgB,CACdrP,SAAU,eAGRsP,GAAa,EAAE/9D,QAAOL,cAAa2kB,UAAS7B,aAChD,MAAMzZ,EAAU60D,KAChB,OAAuB,IAAMz4D,cAAcwrD,GAAA,EAAM,CAC/C34C,WAAW,EACXC,UAAW,MACX8lD,QAAS,eACTh9C,WAAY,aACZ3X,UAAWL,EAAQc,KACnBrB,QAAS,GACQ,IAAMrD,cAAcwrD,GAAA,EAAM,CAC3Cz4C,MAAM,EACNF,WAAW,EACXC,UAAW,SACXE,GAAI,GACJE,GAAI,GACa,IAAMlT,cAAcwrD,GAAA,EAAM,CAC3Cz4C,MAAM,GACW,IAAM/S,cAAcyrD,GAAA,EAAY,CACjD/nD,QAAS,MACR9I,IAAyB,IAAMoF,cAAcwrD,GAAA,EAAM,CACpDz4C,MAAM,GACW,IAAM/S,cAAcyrD,GAAA,EAAY,CACjD/nD,QAAS,SACRnJ,IAA+B,IAAMyF,cAAcwrD,GAAA,EAAM,CAC1Dz4C,MAAM,EACN9O,UAAWL,EAAQyZ,QAClBA,IAA0B,IAAMrd,cAAcwrD,GAAA,EAAM,CACrDz4C,MAAM,EACNC,GAAI,GACJE,GAAI,EACJjP,UAAWL,EAAQ80D,gBACF,IAAM14D,cAAcw4D,GAAiB,CACtDt5C,eAIE25C,GAAiB,0NAWjBC,GAAc,OAAA5P,GAAA,GAAYhmD,IAAU,CACxCwR,KAAM,CACJoJ,aAAc,EACdrB,OAAWvZ,EAAMG,QAAQ,GAAjB,SACR0F,WAAmC,SAAvB7F,EAAM+G,QAAQzN,KAAkB,OAAS,WAGnDu8D,GAA8B,EAAEC,iBACpC,MAAMp1D,EAAUk1D,KACVv+D,EAA8B,IAAMyF,cAAc,IAAMI,SAAU,KAAM,OAAwB,IAAMJ,cAAc,OAAQ,KAAMg5D,GAAa,6GACrJ,OAAuB,IAAMh5D,cAAc24D,GAAY,CACrDz5C,QAAS,QACTtkB,MAAO,qBACPL,cACA8iB,OAAwB,IAAMrd,cAAc,IAAMI,SAAU,KAAsB,IAAMJ,cAAcyrD,GAAA,EAAY,CAChH/nD,QAAS,SACR,wFAAyG,IAAM1D,cAAc,MAAO,CACrIiE,UAAWL,EAAQ8Q,MACF,IAAM1U,cAAcwvD,GAAa,CAClDjtD,KAAMs2D,GAAer5B,QAAQ,aAAcw5B,GAC3CvJ,SAAU,OACVC,iBAAiB,EACjBE,mBAAoB,CAAC,EAAG,GACxBC,YAAa,CAAC9mD,WAAY,UAAWtD,SAAU,WAC5B,IAAMzF,cAAc6uD,GAAA,EAAU,CACjDnrD,QAAS,YACT8D,MAAO,UACPT,KAAM,8EACL,iBAIDkyD,GAAwB,OAAA/P,GAAA,GAAYhmD,IAAU,CAClDwB,KAAM,CACJw0D,YAAah2D,EAAMG,QAAQ,GAC3B8B,KAAMjC,EAAM+G,QAAQkvD,gBAGlBC,GAAqB,KACzB,MAAMx1D,EAAUq1D,KAChB,OAAuB,IAAMj5D,cAAc,KAAc,CACvD4D,aAGEy1D,GAAuB,KAC3B,MAAMz1D,EAAUq1D,KAChB,OAAuB,IAAMj5D,cAAc,KAAgB,CACzD4D,aAGE01D,GAAc,OAAApQ,GAAA,GAAYhmD,IAAU,CACxCq2D,MAAO,CACL5K,gBAAiBzrD,EAAM+G,QAAQuvD,kBAC/BhyD,MAAOtE,EAAM+G,QAAQkvD,YACrBM,cAAe,UAEjBC,QAAS,CACPp2D,QAAS,OACTq2D,cAAe,OAEjBC,YAAa,CACXpyD,MAAOtE,EAAM+G,QAAQkvD,YACrBzzD,WAAY,QAEd+T,QAAS,CACPhX,MAAO,OACPa,QAAS,QACTkE,MAAOtE,EAAM+G,QAAQkvD,YACrBxK,gBAAiBzrD,EAAM+G,QAAQuvD,mBAEjCK,QAAS,CACPp3D,MAAO,OACPa,QAAS,QACTkE,MAAOtE,EAAM+G,QAAQ6mD,aACrBnC,gBAAiBzrD,EAAM+G,QAAQlB,WAAW+L,QAC1C+7C,OAAQ,aAAa3tD,EAAM+G,QAAQ4mD,OACnCztD,QAASF,EAAMG,QAAQ,GACvBy2D,WAAY,iBAMVC,GAAgBr6D,IACpB,MAAMkE,EAAU01D,GAAY55D,IACtB,SAACsf,EAAQ,MAAEpkB,EAAK,QAAE6e,EAAO,SAAE7Z,GAAYF,EACvCs6D,GAAYh7C,GANA6qB,EAMsB7qB,GAL/Bi7C,OAAO,GAAGlN,kBAAkB,SAAWljB,EAAE9X,MAAM,GAKJ,YAAcn3B,EAAQ,KAAKA,EAAU,IANxE,IAACivC,EAOlB,OAAuB,IAAM7pC,cAAck6D,GAAA,EAAW,CACpDj2D,UAAWL,EAAQ21D,OACF,IAAMv5D,cAAcm6D,GAAA,EAAkB,CACvDC,WAA4B,IAAMp6D,cAAcq5D,GAAsB,MACtEp1D,UAAWL,EAAQ81D,SACF,IAAM15D,cAAco5D,GAAoB,MAAuB,IAAMp5D,cAAcyrD,GAAA,EAAY,CAChHxnD,UAAWL,EAAQg2D,YACnBl2D,QAAS,aACRs2D,KAAavgD,GAAW7Z,IAA6B,IAAMI,cAAcq6D,GAAA,EAAkB,KAAsB,IAAMr6D,cAAcwrD,GAAA,EAAM,CAC5I34C,WAAW,GACV4G,GAA2B,IAAMzZ,cAAcwrD,GAAA,EAAM,CACtDz4C,MAAM,EACNC,GAAI,IACa,IAAMhT,cAAcyrD,GAAA,EAAY,CACjDxnD,UAAWL,EAAQ6V,QACnB/V,QAAS,SACR+V,IAAW7Z,GAA4B,IAAMI,cAAcwrD,GAAA,EAAM,CAClEz4C,MAAM,EACNC,GAAI,GACJ/O,UAAWL,EAAQi2D,SAClBj6D,OAGC06D,GAAc,OAAApR,GAAA,GAAYhmD,IAAU,CACxCX,KAAM,CACJu3D,WAAY,YACZS,WAAY,MACZ9nD,UAAW,OACXymD,YAAah2D,EAAMG,QAAQ,IAE7B2a,QAAS,CACPvB,OAAQvZ,EAAMG,QAAQ,OAGpBm3D,GAAoB,EACxB3+D,QACAggD,UACApiC,UACAmB,QACAe,WAEA,MAAM/X,EAAU02D,KAChB,OAAuB,IAAMt6D,cAAcy6D,GAAA,EAAM,CAC/Cl9C,OAAO,GACU,IAAMvd,cAAc06D,GAAA,EAAU,CAC/C9+C,WAAY,cACK,IAAM5b,cAAc26D,GAAA,EAAc,CACnD/2D,QAAS,CAACsG,UAAWtG,EAAQrB,MAC7Bsb,QAAS,QACT3T,UAAWrO,IACO,IAAMmE,cAAcgvD,GAAgB,CACtDzsD,KAAM1G,KACa,IAAMmE,cAAc06D,GAAA,EAAU,CACjD9+C,WAAY,cACK,IAAM5b,cAAc26D,GAAA,EAAc,CACnD/2D,QAAS,CAACsG,UAAWtG,EAAQrB,MAC7Bsb,QAAS,UACT3T,UAAWuP,IACO,IAAMzZ,cAAcgvD,GAAgB,CACtDzsD,KAAMkX,KACHoiC,GAA2B,IAAM77C,cAAc06D,GAAA,EAAU,CAC5D9+C,WAAY,cACK,IAAM5b,cAAc26D,GAAA,EAAc,CACnD/2D,QAAS,CAACsG,UAAWtG,EAAQrB,MAC7Bsb,QAAS,UACT3T,UAAW2xC,IACO,IAAM77C,cAAcgvD,GAAgB,CACtDzsD,KAAMs5C,KACHjhC,GAAyB,IAAM5a,cAAc06D,GAAA,EAAU,CAC1D9+C,WAAY,cACK,IAAM5b,cAAc26D,GAAA,EAAc,CACnD/2D,QAAS,CAACsG,UAAWtG,EAAQrB,MAC7Bsb,QAAS,cACT3T,UAAW0Q,IACO,IAAM5a,cAAcgvD,GAAgB,CACtDzsD,KAAMqY,KACHe,GAAwB,IAAM3b,cAAc,IAAMI,SAAU,KAAsB,IAAMJ,cAAc46D,GAAA,EAAS,CAClH98D,UAAW,KACXmG,UAAWL,EAAQoa,UACD,IAAMhe,cAAc06D,GAAA,EAAU,CAChD9+C,WAAY,cACK,IAAM5b,cAAc26D,GAAA,EAAc,CACnD/2D,QAAS,CAACsG,UAAWtG,EAAQrB,MAC7Bsb,QAAS,qBACT3T,UAA2B,IAAMlK,cAAcwvD,GAAa,CAC1DC,SAAU,OACVltD,KAAMoZ,MAEU,IAAM3b,cAAcgvD,GAAgB,CACtDzsD,KAAMoZ,QAGJk/C,GAAuB,EAAEh/D,YAC7B,IAAIV,EACJ,GAAmB,kBAAfU,EAAMJ,KACR,OAAuB,IAAMuE,cAAcw6D,GAAmB,CAC5D3+D,MAAOA,EAAMJ,KACbge,QAAS5d,EAAM4d,QACfmB,MAAO/e,EAAM+e,QAGjB,MAAM,KAACtW,EAAI,MAAEoV,GAAS7d,GAChB,QAACggD,EAAO,SAAE3hC,GAAY5V,EACtBw2D,EAAc,GAAG5gD,EAASO,eAAef,EAAMje,OAC/Cs/D,EAAgBlf,GAAW,GAAGA,EAAQ5R,UAAU4R,EAAQ/0C,MACxDk0D,EAAgBthD,EAAMD,QAAQ+lB,QAAQ,OAAQ,MAC9Cy7B,EAAoC,OAArB9/D,EAAKue,EAAMkB,YAAiB,EAASzf,EAAGqkC,QAAQ,OAAQ,MACvE07B,EAAa7gD,KAAKmB,UAAUlX,OAAM,EAAQ,GAChD,OAAuB,IAAMtE,cAAcw6D,GAAmB,CAC5D3+D,MAAOi/D,EACPrhD,QAASuhD,EACTnf,QAASkf,EACTngD,MAAOqgD,EACPt/C,KAAMu/C,KAGJC,GAAqB,EAAEt/D,WACJ,IAAMmE,cAAc+5D,GAAc,CACvDn/D,MAAOiB,EAAM4d,SACI,IAAMzZ,cAAc66D,GAAsB,CAC3Dh/D,WAgEgB,OAAAqtD,GAAA,GAAW,CAC7B,6BAA8B,CAC5B,KAAM,CAAC3gD,UAAW,cAClB,OAAQ,CAACA,UAAW,eAEtB,4BAA6B,CAC3B,KAAM,CAACA,UAAW,aAAcM,QAAS,IACzC,OAAQ,CAACN,UAAW,aAAcM,QAAS,IAE7CuyD,eAAgB,CACd/R,SAAU,YAEZgS,SAAU,CACRlD,OAAQ,IACR9O,SAAU,QACV/+C,SAAU,SACVwnC,KAAM,EACNyX,MAAO,EACPvX,IAAK,EACLsX,OAAQ,GAEVgS,IAAK,CACHjS,SAAU,WACVsF,gBAAiB,cACjB7wC,aAAc,OACd+yC,OAAQ,sCACRh0C,UAAW,yCACXs7C,OAAQ,KACRoD,gBAAiB,gBACjBC,UAAW,gFAEbC,YAAa,CACXh5D,MAAO,OACPsB,OAAQ,OACR4qD,gBAAiB,cACjB7wC,aAAc,OACd+yC,OAAQ,kBACRsH,OAAQ,KACRoD,gBAAiB,gBACjBC,UAAW,oEAEbj5D,KAAM,CACJ8mD,SAAU,WACV7hD,MAAO,QACP2wD,OAAQ,QA5CZ,MAkIM,GAAO,IAAMvJ,WAAW,CAAClvD,EAAOC,KACpC,MAAMM,EAAK2J,OAAOlK,EAAMO,IACxB,MAH6B,gBAAgBkyB,KAGxBlyB,GAAsB,IAAMD,cAAc0rD,GAAA,EAAQ,CACrE/rD,MACAoH,KAAM9G,KACHP,IACgB,IAAMM,cAAc0rD,GAAA,EAAQ,CAC/C/rD,MACA7B,UAAW,QACR4B,MAIDg8D,GAAgB,OAAAxS,GAAA,GAAYhmD,IAAU,CAC1CyE,KAAM,CACJrE,QAAS,OACTq4D,aAAc,SACdC,QAAS,EACTC,UAAW,UAEbz/C,SAAU,CACR5U,MAAO,OACPI,OAAQ,WAEViW,QAAS,CACPrW,MAAOtE,EAAM+G,QAAQ4T,QAAQi+C,MAE/B5xD,UAAW,CACT1C,MAAOtE,EAAM+G,QAAQC,UAAU4xD,MAEjC/iC,MAAO,CACLtzB,SAAU,SACV+oD,cAAe,YACf9oD,WAAY,IACZ6oD,cAAe,QAGnB,SAASwN,IAAiB,MACxBv0D,EAAQ,UAAS,SACjB4U,GAAW,EAAK,KAChBrV,EAAO,IAAG,KACVrM,EAAuB,IAAMsF,cAAc,KAAU,MAAK,MAC1D+4B,EAAK,QACL1xB,EAAO,MACPzM,IAEA,MAAMgJ,EAAU83D,KAChB,OAAIt/C,EACqB,IAAMpc,cAAc0rD,GAAA,EAAQ,CACjD9wD,QACAqJ,UAAW,KAAWL,EAAQ+D,KAAM/D,EAAQwY,UAC5C4/C,UAAW,QACVthE,EAAsB,IAAMsF,cAAc,OAAQ,CACnDiE,UAAWL,EAAQm1B,OAClBA,IAEkB,IAAM/4B,cAAc0rD,GAAA,EAAQ,CACjD9wD,QACAqJ,UAAW,KAAWL,EAAQ+D,KAAM/D,EAAQ4D,IAC5CvH,GAAI8G,EACJjJ,UAAW,GACXuJ,WACC3M,EAAsB,IAAMsF,cAAc,OAAQ,CACnDiE,UAAWL,EAAQm1B,OAClBA,IAGL,MAAMkjC,GAAc,OAAA/S,GAAA,GAAYhmD,IAAU,CACxCuiC,MAAO,CACLhpB,OAAQvZ,EAAMG,QAAQ,EAAG,GACzBC,QAAS,OACT44D,aAAc,SACdC,gBAAiB,cACjBP,QAAS14D,EAAMG,QAAQ,OAGrB+4D,GAAoB,EAAE32B,YAC1B,MAAM7hC,EAAUq4D,KAChB,OAAuB,IAAMj8D,cAAc,MAAO,CAChDiE,UAAWL,EAAQ6hC,OAClBA,EAAMnoC,IAAI,CAACqK,EAAM6D,IAA0B,IAAMxL,cAAc+7D,GAAkB,CAClFz7D,IAAKkL,EAAQ,KACV7D,OAID00D,GAAyBC,IAC7B,MAAMC,EAA0B,SAAdD,EAAuB,MAAQ,MACjD,MAAO,oBACQC,2BACCA,oCACAA,qCACAA,qCACAA,mCACAA,qCACAA,qCACAA,oCACAA,oCACAA,qCACAA,qCACAA,mCACAA,qCACAA,qCACAA,qCACAA,kBAKE,OAAArT,GAAA,GAAYhmD,IAAU,CACxCwB,KAAM,CACJ2kD,SAAU,WACV/lD,QAAS,OACT20D,SAAU,aACVr8C,WAAY,UAEd/I,UAAW,CACTvI,SAAU,OACVkyD,eAAgB,EAChB,uBAAwB,CACtBl5D,QAAS,SAGbm5D,KAAM,CACJpT,SAAU,WACV5mD,MAlBa,IAmBbsB,OAAQ,oBACR4tD,WAAY,gBACZpsD,cAAe,QAEjBm3D,SAAU,CACR5qB,MAvBgB,GAwBhB/oC,WAAY,0BAA0BszD,GAAsBn5D,EAAM+G,QAAQzN,UAE5EmgE,UAAW,CACTpT,OA3BgB,GA4BhBxgD,WAAY,2BAA2BszD,GAAsBn5D,EAAM+G,QAAQzN,UAE7EogE,WAAY,CACV/zD,QAAS,GAEX4U,OAAQ,CACN4rC,SAAU,YAEZwT,WAAY,CACV/qB,MAAO5uC,EAAMG,QAAQ,IAEvBy5D,YAAa,CACXvT,OAAQrmD,EAAMG,QAAQ,OAqD1B,MA+CM05D,GAAc,OAAA7T,GAAA,GAAW,CAC7BnpC,MAAO,CACLvY,MAAO,UACPsyD,WAAY,QACZp0D,WAAY,SACZs3D,UAAW,UAEbC,KAAM,CACJz1D,MAAO,UACPsyD,WAAY,QACZp0D,WAAY,SACZs3D,UAAW,YAGTE,GAAax9D,IACjB,MAAMkE,EAAUm5D,GAAYr9D,IACtB,UAACy9D,EAAS,MAAEp9C,GAASrgB,EAC3B,OAAOy9D,EAA4B,IAAMn9D,cAAc,OAAQ,CAC7DiE,UAAWL,EAAQmc,EAAQ,QAAU,QACrC/b,MAAO,CAACyB,SAAU,SACjBsa,EAAwB,IAAM/f,cAAc,IAAMI,SAAU,KAAM,KAA4B,IAAMJ,cAAc,IAAMI,SAAU,KAAM,MAA6B,IAAMJ,cAAc,OAAQ,CAClMiE,UAAWL,EAAQmc,EAAQ,QAAU,SACpCA,EAAQ,QAAU,SAGjBq9C,GAAc,OAAAlU,GAAA,GAAYhmD,IAAU,CACxCm6D,SAAU,CACR,UAAW,CACTC,eAAgB,WAChBzM,OAAQ,aAAa3tD,EAAM+G,QAAQ4mD,QAErC,aAAc,CACZA,OAAQ,aAAa3tD,EAAM+G,QAAQ4mD,OACnCztD,QAASF,EAAMG,QAAQ,IAEzB,OAAQ,CACNk6D,UAAW,aACXjzD,SAAU,SACVmvD,cAAe,SACf+D,WAAY,IACZ/gD,OAAQ,EACRrZ,QAASF,EAAMG,QAAQ,EAAG,EAAG,EAAG,KAChCo6D,aAAc,GAEhB,OAAQ,CACN9O,gBAAiBzrD,EAAM+G,QAAQlB,WAAW6nD,OAE5C,OAAQ,CACNjC,gBAAiBzrD,EAAM+G,QAAQlB,WAAW6nD,OAE5C,sBAAuB,CACrBjC,gBAAiBzrD,EAAM+G,QAAQlB,WAAW+L,SAE5C,MAAO,CACLtN,MAAOtE,EAAM+G,QAAQtC,MAEvB,QAAS,CACPyhD,SAAU,YAIVsU,GAAY,CAChBhpD,KAAM,EAAE+6C,WAAUvzD,WACO,IAAM8D,cAAcwvD,GAAa,CACtDC,WACAltD,KAAMrG,KAINyhE,GAAkB,EAAEv2D,UAASw2D,UAAU,UAC3C,MAAMh6D,EAAUw5D,KAChB,OAAuB,IAAMp9D,cAAc,KAAe,CACxDsmD,QAAqB,QAAZsX,EAAoB,CAAC,MAAO,GACrC35D,UAAWL,EAAQy5D,SACnBz9D,SAAUwH,EACVs2D,gBAIEG,GAAgB,OAAA3U,GAAA,GAAYhmD,IAAU,CAC1CwB,KAAM,CACJqG,YAAa7H,EAAMG,QAAQ,OAGzBy6D,GAAuB,EAAEjiB,UAASkiB,OAAMC,cAC5C,MAAMp6D,EAAUi6D,MACThiE,EAAOoiE,GAAY,qBAWpBC,EAAgBriB,EAAQ5I,SAASv4C,KACvC,OAAuB,IAAMsF,cAAc06D,GAAA,EAAU,CACnDj9C,QAAQ,EACRrB,SAAU2hD,EACV12D,QAdqB3K,UACrBshE,GAAQ,GACR,UACQniB,EAAQ8Q,UACd,MAAOjsD,GACPu9D,EAASv9D,GACT,QACAs9D,GAAQ,KAQVp6D,QAAS,CAACc,KAAMd,EAAQc,OACP,IAAM1E,cAAcm+D,GAAA,EAAgB,KAAsB,IAAMn+D,cAAck+D,EAAe,CAC9Gz4D,SAAU,WACS,IAAMzF,cAAc26D,GAAA,EAAc,CACrD98C,QAASg+B,EAAQ5I,SAASr4C,MAC1BsP,UAAWrO,GAAyB,IAAMmE,cAAcyrD,GAAA,EAAY,CAClEjkD,MAAO,SACN3L,EAAM4d,SAAW,qCAIlB2kD,GAAc,OAAAlV,GAAA,GAAYhmD,IAAU,CACxCm7D,OAAQ,CACNC,WAAYp7D,EAAMG,QAAQ,IAE5BzI,MAAO,CACLkJ,SAAU,GAEZy6D,YAAa,CACXn7D,QAAS,MAGPo7D,GAAqB,KACzB,MAAM56D,EAAUw6D,MACTL,EAAMC,GAAW,oBAAS,GAC3B7qB,EAAkBzE,GAAOgD,IACzBiK,EAAW,OAAAkJ,EAAA,GAAc,kBAAQ,IAAM1R,EAAgBsrB,eAAgB,CAACtrB,IAAmB,IAIjG,OAAuB,IAAMnzC,cAAc0+D,GAAA,EAAQ,CACjDz3D,KAAMg8B,QAAQ0Y,EAAStvC,QACvBsyD,WAAW,EACXvV,SAAU,KACVxlD,QAAS,CAACgtD,MAAOhtD,EAAQy6D,SACR,IAAMr+D,cAAc4+D,GAAA,EAAa,CAClDh7D,QAAS,CAACc,KAAMd,EAAQhJ,QACvB,kBAAmC,IAAMoF,cAAc6+D,GAAA,EAAe,CACvEj7D,QAAS,CAACc,KAAMd,EAAQ26D,cACP,IAAMv+D,cAAcy6D,GAAA,EAAM,KAAM9e,EAASr+C,IAAKu+C,GAA4B,IAAM77C,cAAc89D,GAAsB,CACrIx9D,IAAKu7C,EAAQ5I,SAASr4C,MACtBihD,UACAkiB,OACAC,eACqB,IAAMh+D,cAAc8+D,GAAA,EAAe,KAAsB,IAAM9+D,cAAc6uD,GAAA,EAAU,CAC5GxnD,QAlBsB,KACtBs0C,EAAS7rC,QAAS+rC,GAAYA,EAAQhK,YAkBrC,iBAGCktB,GAAc,OAAA7V,GAAA,GAAW,CAC7Br2C,UAAW,CACTvI,SAAU,wBAGR00D,GAAmBt/D,IACvB,IAAIvE,EACJ,MAAO8jE,EAAOC,GAAY,oBAAS,GAC7Bt7D,EAAUm7D,KAIhB,OAAuB,IAAM/+D,cAAckvD,GAAA,EAAS,CAClDt0D,MAA6B,OAArBO,EAAKuE,EAAM9E,OAAiBO,EAAKuE,EAAM6C,MAAQ,GACvDC,UAAW9C,EAAM8C,UACjB28D,sBAAuBF,GACN,IAAMj/D,cAAc,KAAc,CACnDuC,KAAM7C,EAAM6C,KACZiwD,KAAM9yD,EAAM8yD,KACZ4M,UAVqBC,IACrBH,EAASG,IAUTC,mBAAoB17D,EAAQiP,cAI1B0sD,GAAU,EAAEC,kBACO,IAAMx/D,cAAc,MAAO,CAChDwI,KAAM,SACL,6BAA8B,IAAKg3D,GAAgC,IAAMx/D,cAAc,IAAMI,SAAU,KAAM,kBAAmBo/D,EAAc,eAE7IC,GAAgB,cAA6B,YACjD,YAAY//D,GACVka,MAAMla,GACN4N,KAAK4E,MAAQ,CACXrW,WAAO,EACP6jE,eAAW,GAGf,kBAAkB7jE,EAAO6jE,GACvB3xC,QAAQlyB,MAAM,yBAAyBA,YAAgB6jE,KACvDpyD,KAAKqyD,SAAS,CAAC9jE,QAAO6jE,cAExB,SACE,MAAM,aAACF,GAAgBlyD,KAAK5N,OACtB,MAAC7D,EAAK,UAAE6jE,GAAapyD,KAAK4E,MAChC,OAAKwtD,EAGkB,IAAM1/D,cAAcu/D,GAAS,CAClD1jE,QACA2jE,iBAJOlyD,KAAK5N,MAAME,WASlBggE,GAAc,OAAA1W,GAAA,GAAYhmD,IAAU,CACxCwB,KAAM,CACJ0kD,SAAU,cACVhmD,QAASF,EAAMG,QAAQ,EAAG,EAAG,EAAG,MAElCw8D,SAAU,CACRpjD,OAAQ,EACRjV,MAAOtE,EAAM+G,QAAQkhD,YAEvB2U,MAAO,CACLt4D,MAAOtE,EAAM+G,QAAQkhD,eAGnB4U,GAAa,EAAEp4D,OAAM/M,QAAOyM,cAChC,MAAMzD,EAAUg8D,KAChB,OAAuB,IAAM5/D,cAAc,MAAO,KAAsB,IAAMA,cAAc46D,GAAA,EAAS,MAAuB,IAAM56D,cAAc,GAAM,CACpJC,GAAI0H,EACJN,UACA20D,UAAW,QACM,IAAMh8D,cAAc06D,GAAA,EAAU,CAC/Cz2D,UAAWL,EAAQc,MACF,IAAM1E,cAAc26D,GAAA,EAAc,KAAsB,IAAM36D,cAAcggE,GAAA,EAAK,CAClG/7D,UAAWL,EAAQi8D,SACnBn6D,WAAY,iBACZX,EAAG,GACFnK,IAAyB,IAAMoF,cAAcigE,GAAA,EAAc,KAAsB,IAAMjgE,cAAc,KAAW,CACjHiE,UAAWL,EAAQk8D,aAIjBI,GAAc,OAAAhX,GAAA,GAAYhmD,IAAU,CACxCi9D,UAAW,CACT/8D,QAAS,EACT,eAAgB,CACd8nD,cAAe,IAGnBkV,OAAQ,CACN98D,QAAS,eACTF,QAASF,EAAMG,QAAQ,EAAG,EAAG,EAAG,MAElCg9D,YAAa,CACX36D,WAAY,KAEd46D,gBAAiB,CACfhC,WAAYp7D,EAAMG,QAAQ,IAE5Bk9D,aAAc,GACdC,aAAc,GACdC,cAAe,MAEXC,GAAsB,OAAAC,GAAA,GAAYz9D,IAAU,CAChDwB,KAAM,CACJpB,QAAS,eACTF,QAASF,EAAMG,QAAQ,EAAG,EAAG,EAAG,GAChCu9D,MAAO,WAJiB,CAMxBC,GAAA,GACEC,GACE,CACJhlD,KAAM,CACJxY,QAAS,OACTq2D,cAAe,UAEjBoH,WAAY,CACVz9D,QAAS,OACTq2D,cAAe,SACf51D,OAAQ,QAEVi9D,SAAU,CACR19D,QAAS,OACTq2D,cAAe,SACf51D,OAAQ,oBACR0G,aAAc,SAfdq2D,GAkBS,CACXC,WAAY,CACVjlD,KAAM,GAERklD,SAAU,CACRllD,KAAM,IAINmlD,GAAW,EACfrmE,QACAsmE,YACAljD,WAAU,EACVmjD,WACA3B,eAAe,aACf97D,UACA9D,WACAwhE,cACAC,cACAC,mBACAC,UACAC,gBACAC,kBACAx9D,YACAk8D,YACAuB,2BAEA,MAAM99D,EAAUs8D,KAChB,IAAIyB,EAAkB,GAClBC,EAAsB,GAC1B,GAAIl+D,EAAS,CACMA,EAAQqb,MAAM,UACtBjP,QAASrU,IAChBkmE,EAAkB,IACbA,KACAb,GAAoBrlE,IAEzBmmE,EAAsB,IACjBA,KACAd,GAA2BrlE,MAIpC,OAAuB,IAAMuE,cAAc6hE,GAAA,EAAM,CAC/C79D,MAAO29D,EACP19D,aACiB,IAAMjE,cAAcy/D,GAAe,CACpDD,gBACC5kE,GAAyB,IAAMoF,cAAc8hE,GAAA,EAAY,CAC1Dl+D,QAAS,CACPc,KAAMd,EAAQw8D,OACdxlE,MAAOgJ,EAAQy8D,YACfa,UAAWt9D,EAAQ08D,gBACnBlS,OAAQxqD,EAAQ28D,aAChBljD,OAAQzZ,EAAQ48D,aAChBp5D,QAASxD,EAAQ68D,eAEnB7lE,QACAsmE,YACAl9D,MAAO,IAAIo9D,GACXM,0BACGL,IACDI,GAAmC,IAAMzhE,cAAc0gE,GAAqB,KAAMe,GAAkBzjD,GAA2B,IAAMhe,cAAc46D,GAAA,EAAS,MAAuB,IAAM56D,cAAc+hE,GAAA,EAAa,CACtN99D,UAAW,KAAWu9D,EAAe,CACnC,CAAC59D,EAAQu8D,WAAYA,IAEvBn8D,MAAO49D,GACNhiE,GAAW2hE,GAA2B,IAAMvhE,cAAc6gE,GAAA,EAAa,CACxE58D,UAAWq9D,GACVC,GAAUJ,GAA4B,IAAMnhE,cAAc+/D,GAAY,IACpEoB,OAIa,OAAAjY,GAAA,GAAYhmD,IAAU,CACxCwB,KAAM,CACJ2kD,SAAU,WACVmU,WAAY,GAEdwE,QAAS,CACP3Y,SAAU,WACVrX,IAAK,MACLF,KAAM,MACNvpC,UAAW,wBACX9C,SAAU,GACVC,WAAY,OACZ8B,MAAOtE,EAAM+G,QAAQ6mD,cAEvBmR,OAAQ,CACNx/D,MAAO,MACP8F,UAAW,qBAEb25D,aAAc,MA4CI,OAAAhZ,GAAA,GAAW,CAC7BxkD,KAAM,CACJX,OAAQ,OACRtB,MAAO,OA1BX,MAiEM0/D,GAAc,OAAAjZ,GAAA,GAAW,IAAM,OAAAiF,GAAA,GAAa,CAChDzzD,KAAM,CACJ2uD,SAAU,WACVE,MAAO,MACPhkD,cAAe,WAGb68D,GAAiB,KACrB,MAAMx+D,EAAUu+D,KAChB,OAAuB,IAAMniE,cAAcqiE,GAAA,EAAS,CAClDp+D,UAAWL,EAAQlJ,KACnByK,KAAM,OACNm9D,MAAO,8BACU,IAAMtiE,cAAc,OAAQ,CAC7CqI,EAAG,4EACHlD,KAAM,cAIJo9D,GAAc,OAAArZ,GAAA,GAAW,IAAM,OAAAiF,GAAA,GAAa,CAChDzzD,KAAM,CACJ2uD,SAAU,WACVE,MAAO,MACPhkD,cAAe,WAGbi9D,GAAiB,KACrB,MAAM5+D,EAAU2+D,KAChB,OAAuB,IAAMviE,cAAcqiE,GAAA,EAAS,CAClDp+D,UAAWL,EAAQlJ,KACnByK,KAAM,OACNm9D,MAAO,8BACU,IAAMtiE,cAAc,OAAQ,CAC7CqI,EAAG,oFACHlD,KAAM,cAIJs9D,GAAiB,OAAA9B,GAAA,GAAcz9D,GAAU,OAAAirD,GAAA,GAAe,CAC5DzpD,KAAM,CACJ,YAAa,CACX8F,UAAWtH,EAAMG,QAAQ,KAG7BwY,MAAO,CACLiC,aAAc,EACdurC,SAAU,WACVsF,gBAAiBzrD,EAAM+G,QAAQlB,WAAW6nD,MAC1CC,OAAQ,oBACRprD,SAAU,GACVrC,QAAS,sBACTuuD,WAAYzuD,EAAM0uD,YAAYzF,OAAO,CAAC,eAAgB,eACtD2N,WAAY,iBACZ,UAAW,CACT/wD,WAAY7F,EAAM+G,QAAQlB,WAAW6nD,MACrC9yC,aAAc,MAjBG,CAoBnB4kD,GAAA,GACEC,GAAc,OAAAzZ,GAAA,GAAchmD,GAAU,OAAAirD,GAAA,GAAe,CACzDyU,YAAa,CACXnmD,OAAWvZ,EAAMG,QAAQ,GAAjB,OACR+lD,SAAU,KAEZrwB,MAAO,CACLxwB,UAAW,UACX7C,WAAY,OACZD,SAAU,GACVq0D,WAAY52D,EAAMmrD,WAAWyL,WAC7BtyD,MAAOtE,EAAM+G,QAAQ1H,KAAKsb,QAC1B,gBAAiB,CACfrW,MAAOtE,EAAM+G,QAAQ1H,KAAKsb,UAG9BglD,MAAO,CACLv/D,QAAS,OACTw/D,SAAU,QAEZC,KAAM,CACJtmD,OAAQ,GAEVK,SAAU,GACVpY,KAAM,CACJpB,QAAS,OACTq2D,cAAe,aAGbqJ,GAAkB,EACtBC,WACArlE,QACAm7B,QACA1c,cACAiB,WACAhB,WACA4mD,mBAEA,MAAMt/D,EAAU++D,MACTzmE,EAAOinE,GAAY,mBAAS7lD,IAAa2lD,EAAW,GAAK,MACzDG,EAAQt7D,GAAW,oBAAS,GACnC,oBAAU,KACRq7D,EAASF,EAAW,GAAK,KACxB,CAACC,EAAcD,IAClB,oBAAU,UACS,IAAb3lD,GACF6lD,EAAS7lD,IAEV,CAACA,IACJ,MAeM+lD,EAAgBC,GAAkB,KACtC,MAAM5kE,EAAWxC,EAAMU,OAAQmmE,GAASA,IAASO,GACjDH,EAASzkE,GACT4d,EAAS5d,IAEX,OAAuB,IAAMsB,cAAc,MAAO,CAChDiE,UAAWL,EAAQc,MACF,IAAM1E,cAAcyrD,GAAA,EAAY,CACjD/nD,QAAS,UACRq1B,GAAwB,IAAM/4B,cAAcujE,GAAA,EAAmB,CAChEC,YAbsB,KACtB17D,GAAQ,KAaS,IAAM9H,cAAcyjE,GAAA,EAAa,CAClDx/D,UAAWL,EAAQg/D,aACF,IAAM5iE,cAAc0jE,GAAA,EAAQ,CAC7CxnE,QACA,cAAe,SACfynE,cAAc,EACdV,WACA3mD,SAjCoBsD,IACpBujD,EAASvjD,EAAM9iB,OAAOZ,OACtBogB,EAASsD,EAAM9iB,OAAOZ,QAgCtBmL,QA9BmBuY,IACnB9X,EAAS87D,MACHX,GAAcrjD,EAAM9iB,kBAAkB+mE,eAGlCD,IA0BV38D,KAAMm8D,EACNvnD,MAAuB,IAAM7b,cAAcyiE,GAAgB,MAC3DqB,YAAcj6B,IACZ,IAAI1uC,EACJ,OAAO8nE,GAA6B,IAAjB/mE,EAAMmQ,OAA+B,IAAMrM,cAAc,MAAO,CACjFiE,UAAWL,EAAQi/D,OAClBh5B,EAAEvsC,IAAKgmE,IACR,IAAI7kE,EAAKrD,EACT,OAAuB,IAAM4E,cAAc+jE,GAAA,EAAM,CAC/CzjE,IAA+D,OAAzD7B,EAAMb,EAAMqD,KAAM+iE,GAAOA,EAAG9nE,QAAUonE,SAA0B,EAAS7kE,EAAIvC,MACnF68B,MAAgE,OAAxD39B,EAAKwC,EAAMqD,KAAM+iE,GAAOA,EAAG9nE,QAAUonE,SAA0B,EAASloE,EAAG29B,MACnFkrC,WAAW,EACXC,SAAUb,EAAaC,GACvBr/D,UAAWL,EAAQm/D,UAED,IAAM/iE,cAAcyrD,GAAA,EAAY,KAAuB,IAAjBvvD,EAAMmQ,OAAegQ,GAAe,GAAkD,OAA5ClhB,EAAKyC,EAAMqD,KAAM+iE,GAAOA,EAAG9nE,QAAU2tC,SAAc,EAAS1uC,EAAG49B,QAEvKmlC,cAAe,IAAOkF,EAAqF,IAAMpjE,cAAcwiE,GAAgB,MAAhG,IAAMxiE,cAAcoiE,GAAgB,MACnF+B,UAAW,CACTvW,aAAc,CACZC,SAAU,SACVC,WAAY,QAEdyN,gBAAiB,CACf1N,SAAU,MACVC,WAAY,QAEdsW,mBAAoB,OAErB/nD,IAAgB4mD,GAA4B,IAAMjjE,cAAcqkE,GAAA,EAAU,CAC3EnoE,MAAO,IACNmgB,GAAcze,GAASA,EAAMN,IAAKyV,GAAyB,IAAM/S,cAAcqkE,GAAA,EAAU,CAC1F/jE,IAAKyS,EAAK7W,MACVA,MAAO6W,EAAK7W,OACX+mE,GAA4B,IAAMjjE,cAAcskE,GAAA,EAAU,CAC3D98D,MAAO,UACPoW,QAAS1hB,EAAMqF,SAASwR,EAAK7W,SAAU,EACvC+H,UAAWL,EAAQkZ,WACjB/J,EAAKgmB,aAGLwrC,GAAO,OAgKPC,IA9JyB,IAAMC,cAAc,CACjDC,cAAe,EACfC,UAAW,EACXC,aAAcL,GACdM,YAAa,GACbC,eAAgBP,GAChBQ,aAAcR,KAwCI,OAAArb,GAAA,GAAYhmD,IAAU,CACxCwB,KAAM,CACJ8F,UAAWtH,EAAMG,QAAQ,GACzB,WAAY,CACV61D,YAAah2D,EAAMG,QAAQ,QAgFb,OAAA6lD,GAAA,GAAYhmD,IAAU,CACxC8hE,IAAK,CACH5hE,QAASF,EAAMG,QAAQ,OA0BP,OAAA6lD,GAAA,GAAYhmD,IAAU,CACxCqX,OAAQ,CACN7U,WAAY,IACZ,YAAa,CACXjD,MAAO,QACPsB,OAAQ,QACRT,QAAS,eACT41D,YAAa,EACbp7C,aAAc,MACd1W,QAAS,OAGbsiB,GAAI,CACF,YAAa,CACXilC,gBAAiBzrD,EAAM+G,QAAQsQ,OAAOmP,KAG1Ck4B,QAAS,CACP,YAAa,CACX+M,gBAAiBzrD,EAAM+G,QAAQsQ,OAAOqnC,UAG1C/lD,MAAO,CACL,YAAa,CACX8yD,gBAAiBzrD,EAAM+G,QAAQsQ,OAAO1e,QAG1C0wD,QAAS,CACP,YAAa,CACXoC,gBAAiBzrD,EAAM+G,QAAQsQ,OAAOgyC,UAG1C0Y,QAAS,CACP,YAAa,CACXtW,gBAAiBzrD,EAAM+G,QAAQsQ,OAAO0qD,UAG1CC,QAAS,CACP,YAAa,CACXvW,gBAAiBzrD,EAAM+G,QAAQsQ,OAAO2qD,cAItCC,GAAYzlE,IAChB,MAAMkE,EAAU4gE,GAAY9kE,GAC5B,OAAuB,IAAMM,cAAc,OAAQ,CACjDiE,UAAW,KAAWL,EAAQ2W,OAAQ3W,EAAQ8lB,IAC9C,aAAc,eACXhqB,KAGD0lE,GAAiB1lE,IACrB,MAAMkE,EAAU4gE,GAAY9kE,GAC5B,OAAuB,IAAMM,cAAc,OAAQ,CACjDiE,UAAW,KAAWL,EAAQ2W,OAAQ3W,EAAQg+C,SAC9C,aAAc,oBACXliD,KAGD2lE,GAAe3lE,IACnB,MAAMkE,EAAU4gE,GAAY9kE,GAC5B,OAAuB,IAAMM,cAAc,OAAQ,CACjDiE,UAAW,KAAWL,EAAQ2W,OAAQ3W,EAAQ/H,OAC9C,aAAc,kBACX6D,KAGD4lE,GAAiB5lE,IACrB,MAAMkE,EAAU4gE,GAAY9kE,GAC5B,OAAuB,IAAMM,cAAc,OAAQ,CACjDiE,UAAW,KAAWL,EAAQ2W,OAAQ3W,EAAQ2oD,SAC9C,aAAc,oBACX7sD,KAGD6lE,GAAiB7lE,IACrB,MAAMkE,EAAU4gE,GAAY9kE,GAC5B,OAAuB,IAAMM,cAAc,OAAQ,CACjDiE,UAAW,KAAWL,EAAQ2W,OAAQ3W,EAAQqhE,SAC9C,aAAc,oBACXvlE,KAGD8lE,GAAiB9lE,IACrB,MAAMkE,EAAU4gE,GAAY9kE,GAC5B,OAAuB,IAAMM,cAAc,OAAQ,CACjDiE,UAAW,KAAWL,EAAQ2W,OAAQ3W,EAAQshE,SAC9C,aAAc,oBACXxlE,KAgCD+lE,GAAY,OAAA9E,GAAA,GA5BYz9D,GAAU,OAAAirD,GAAA,GAAa,CACnDzpD,KAAM,CACJgB,WAAY,SACZ60D,WAAY,SACZmL,aAAcxiE,EAAMG,QAAQ,GAC5BwtD,OAAQ,IACR4I,cAAe,SAsBD,CAAiCkM,GAAA,GAC7CC,GAAc,OAAAjF,GAAA,GApBW,CAC7Bj8D,KAAM,CACJmsD,OAAQ,IACR4I,cAAe,QAiBC,CAAmCkM,GAAA,GACjDE,GAAgB,EACpBtoD,QACA3d,cACoB,IAAMI,cAAc8lE,GAAA,EAAS,CACjD7X,KAAM1wC,EAAQ,QAAU,UACP,IAAMvd,cAAc+lE,GAAA,EAAW,KAAMnmE,IAClDomE,GAAoB,EACxBprE,QACAgF,cACGqmE,KACiB,IAAMjmE,cAAckmE,GAAA,EAAU,KAAMtrE,GAAyB,IAAMoF,cAAcylE,GAAW,KAAM7qE,GAAwB,IAAMoF,cAAc4lE,GAAa,CAC/KO,QAASvrE,EAAQ,EAAI,KAClBqrE,GACFrmE,IACGwmE,GAAe,OAAAzF,GAAA,GA7BDz9D,GAAU,OAAAirD,GAAA,GAAa,CACzCzpD,KAAM,CACJ2hE,UAAW,OACX5pD,OAAQvZ,EAAMG,QAAQ,EAAG,GAAI,EAAG,GAChCD,QAAS,OAyBQ,CAAuB,EAAEQ,UAAShE,cAA8B,IAAMI,cAAc,KAAM,CAC7GiE,UAAWL,EAAQc,MAClB9E,IACG0mE,GAAmB,OAAA3F,GAAA,GAzBDz9D,GAAU,OAAAirD,GAAA,GAAa,CAC7CzpD,KAAM,CACJtB,QAASF,EAAMG,QAAQ,EAAG,EAAG,EAAG,IAElCkN,OAAQ,KAqBe,CAA2B,EAAE3M,UAAShE,cAA8B,IAAMI,cAAc,KAAM,CACrHiE,UAAWL,EAAQc,MAClB9E,IAEGymE,GAAY,OAAAlY,GAAA,GAAa,CAC7BzpD,KAAM,CACJ+X,OAAQ,MACR8pD,cAAe,UASbC,GAAa,OAAA7F,GAAA,GAAW0F,GAAX,CAAsB,EAAEziE,UAAShE,cAA8B,IAAMI,cAAcomE,GAAc,CAClHxiE,WACChE,IACG6mE,GAAmB,OAAA9F,GAAA,GATAz9D,GAAU,OAAAirD,GAAA,GAAa,CAC9CzpD,KAAM,IACD2hE,GAAU3hE,KACbqG,YAAa7H,EAAMG,QAAQ,MAMN,CAA4B,EAAEO,UAAShE,cAA8B,IAAMI,cAAcomE,GAAc,CAC9HxiE,WACChE,IAiBH,SAAS8mE,GAAQxqE,EAAOgI,EAASyiE,GAC/B,OAAI,IAAMC,eAAe1qE,GACA,IAAM8D,cAAc,WAAU,KAAM9D,GAExC,iBAAVA,GAAuBgD,MAAMulB,QAAQvoB,GAG5CgD,MAAMulB,QAAQvoB,GAvBpB,SAAoB0iC,EAAM+nC,GACxB,MAAM1pE,EAAS2hC,EAAKthC,IAAI,CAACyV,EAAMvH,IAA0B,IAAMxL,cAAcsmE,GAAkB,CAC7FhmE,IAAKkL,GACJk7D,GAAQ3zD,KACX,OAAO4zD,EAAyB,IAAM3mE,cAAcymE,GAAkB,KAAMxpE,GAA0B,IAAM+C,cAAcwmE,GAAY,KAAMvpE,GAoBnI4pE,CAAW3qE,EAAOyqE,GAEN,kBAAVzqE,EACc,IAAM8D,cAAc,WAAU,KAAM9D,EAAQ,IAAW,KAEzD,IAAM8D,cAAc,WAAU,KAAM9D,GAvB7D,SAAmBoB,EAAKqpE,EAAQziE,GAC9B,MAAMjH,EAASD,OAAOylB,KAAKnlB,GAAKA,IAAKgD,IACnC,MAAMpE,EAAQwqE,GAAQppE,EAAIgD,IAAM,GAC1BwmE,EAAS5iE,GAAWA,EAAQ6iE,YAAc7iE,EAAQ6iE,YAAYzmE,GAAO,KAAUA,GACrF,OAAuB,IAAMN,cAAcsmE,GAAkB,CAC3DhmE,OACIwmE,EAAH,KAAe5qE,KAEpB,OAAOyqE,EAAyB,IAAM3mE,cAAcymE,GAAkB,KAAMxpE,GAA0B,IAAM+C,cAAcwmE,GAAY,KAAMvpE,GAOnI+pE,CAAU9qE,EAAOgI,EAASyiE,GAUrC,MAAMM,GAAY,EAAE/qE,QAAOgI,aAA6B,IAAMlE,cAAc,WAAU,KAAM0mE,GAAQxqE,EAAOgI,IACrGgjE,GAAY,EAChBtsE,QACAsB,QACAgI,aAEuB,IAAMlE,cAAcgmE,GAAmB,CAC5DprE,MAAOsJ,GAAWA,EAAQ6iE,YAAc7iE,EAAQ6iE,YAAYnsE,GAAS,KAAUA,IAC9D,IAAMoF,cAAcinE,GAAW,CAChD/qE,QACAgI,aAWJ,MAAMijE,GAA0B,EAC9B3rE,WACA+hB,SAAQ,EACRrZ,cAEA,MAAMkjE,EAbR,SAAoB/O,EAAMn0D,GACxB,OAAOlH,OAAOylB,KAAK41C,GAAM/6D,IAAKgD,GAAwB,IAAMN,cAAcknE,GAAW,CACnF5mE,MACA1F,MAAO0F,EACPpE,MAAOm8D,EAAK/3D,GACZ4D,aAQoBmjE,CAAW7rE,EAAU0I,GAAW,IACtD,OAAuB,IAAMlE,cAAc6lE,GAAe,CACxDtoD,SACC6pD,IAGCE,GAAc,OAAApe,GAAA,GAAYhmD,IAAU,CACxCqkE,SAAU,CACRrO,YAAah2D,EAAMG,QAAQ,IAE7BmkE,YAAa,CACX1jE,SAAU,IACVslD,SAAU,QAGRqe,GAAc,EAAE/sE,WACpB,IAAIS,EACJ,MAAMqiD,EAAMZ,KACNkF,EAAOpnD,GAAyC,OAAjCS,EAAKqiD,EAAIuE,cAAcrnD,IAAiBS,EAAgB6mD,GAC7E,OAAuB,IAAMhiD,cAAc8hD,EAAM,OAE7C4lB,GAAc,EAAE//D,WACpB,IAAIxM,EACJ,OAAuB,IAAM6E,cAAc,GAAM,CAC/CC,GAAI0H,EAAKb,IACThK,OAAQ,SACR6uD,IAAK,uBACiB,OAApBxwD,EAAKwM,EAAK/M,OAAiBO,EAAKwM,EAAKb,MAErC6gE,GAAkB,EAAE50D,WACxB,IAAI5X,EACJ,OAAuB,IAAM6E,cAAc06D,GAAA,EAAU,KAAsB,IAAM16D,cAAcigE,GAAA,EAAc,KAAsB,IAAMjgE,cAAcynE,GAAa,CAClK/sE,KAAMqY,EAAKrY,QACQ,IAAMsF,cAAc26D,GAAA,EAAc,CACrD98C,QAAS9K,EAAKnY,MACdsP,UAAgC,OAApB/O,EAAK4X,EAAK0yB,YAAiB,EAAStqC,EAAGgkB,OAAO,CAACyoD,EAAMjgE,EAAMkgE,IAAQ,IAC1ED,EACHC,EAAM,GAAqB,IAAM7nE,cAAc,KAAM,CACnDM,IAAKunE,IAES,IAAM7nE,cAAc0nE,GAAa,CAC/C//D,OACArH,IAAKqH,EAAKb,OAEX,QAGDghE,GAAgB,EAAEloE,eACtB,MAAM,MAAChC,GAASitD,MACTkd,EAAaC,GAAkB,oBAAS,IACxCC,EAAUC,GAAe,mBAAS,MACnCtkE,EAAU0jE,KAKVa,EAAsB,KAC1BH,GAAe,IAEjB,OAAuB,IAAMhoE,cAAc,WAAU,KAAsB,IAAMA,cAAc6uD,GAAA,EAAU,CACvG,cAAe,iBACfrnD,MAAO,UACPH,QAVsBuY,IACtBsoD,EAAYtoD,EAAMwoD,eAClBJ,GAAe,KASE,IAAMhoE,cAAcgiD,GAAU,CAC/C/9C,UAAWL,EAAQ2jE,WACjB,WAA4B,IAAMvnE,cAAcqoE,GAAA,EAAS,CAC3D,cAAe,yBACfphE,KAAM8gE,EACNE,WACAra,aAAc,CACZC,SAAU,SACVC,WAAY,SAEdyN,gBAAiB,CACf1N,SAAU,MACVC,WAAY,SAEd5mD,QAASihE,GACQ,IAAMnoE,cAAcy6D,GAAA,EAAM,CAC3Cx2D,UAAWL,EAAQ4jE,aAClB,IAAMc,SAAShrE,IAAIsC,EAAU,CAACk+C,EAAOz9C,IAAsB,IAAML,cAAc06D,GAAA,EAAU,CAC1F9+C,WAAY,aACZtb,IAAKD,GACJy9C,IAASlgD,GAASA,EAAMN,IAAI,CAACyV,EAAM1S,IAAsB,IAAML,cAAc2nE,GAAiB,CAC/F50D,OACAzS,IAAKD,MACe,IAAML,cAAc8+D,GAAA,EAAe,KAAsB,IAAM9+D,cAAc6uD,GAAA,EAAU,CAC3GrnD,MAAO,UACPH,QAAS8gE,GACR,aAGCI,GAAc,OAAArf,GAAA,GAAYhmD,IAAU,CACxCwB,KAAM,CACJ8jE,SAAU,cACV1kE,SAAU,EACVw6D,WAAYp7D,EAAMG,QAAQ,GAC1B6nD,cAAehoD,EAAMG,QAAQ,MAC1BH,EAAMulE,OAAOC,QAAQ,KAE1BC,QAAS,CACPrlE,QAAS,OACTq2D,cAAe,SACfiP,SAAU,GAEZzI,UAAW,CACT/8D,QAAS,MAGPylE,GAAU,EACd5kE,YACA0kE,UACAxI,YACAvgE,cACGF,MAEH,MAAMkE,EAAU2kE,KAChB,OAAuB,IAAMvoE,cAAc,UAAW,IACjDN,EACHuE,UAAW,KAAWL,EAAQc,KAAMT,EAAW,CAC7C,CAACL,EAAQ+kE,SAAUA,EACnB,CAAC/kE,EAAQu8D,WAAYA,KAEtBvgE,IAGCkpE,GAAc,OAAA5f,GAAA,GAAYhmD,IAAU,CACxC6lE,YAAa,CACXP,SAAU,gBACV7Z,gBAAiBzrD,EAAM+G,QAAQlB,WAAW6nD,MAC1C7lD,YAAa7H,EAAMG,QAAQ,IAE7B2lE,WAAY,CACV5lE,QAASF,EAAMG,QAAQ,EAAG,MACvBH,EAAMmrD,WAAW4a,QACpBza,cAAe,YACf9oD,WAAY,OACZ8B,MAAOtE,EAAM+G,QAAQ1H,KAAK2H,WAE5BoT,SAAU,CACR9V,MAAOtE,EAAM+G,QAAQ1H,KAAKsb,YAGxBqrD,GAAa,EACjBC,OACA7sD,WACA8sD,oBAEA,MAAOC,EAAaC,GAAkB,mBAA0B,MAAjBF,EAAwBA,EAAgB,GACjFG,EAAST,KAaf,OALA,oBAAU,UACc,IAAlBM,GACFE,EAAeF,IAEhB,CAACA,IACmB,IAAMppE,cAAc,MAAO,CAChDiE,UAAWslE,EAAOR,aACD,IAAM/oE,cAAcwpE,GAAA,EAAQ,CAC7CC,eAAgB,UAChBC,UAAW,UACXhmE,QAAS,aACTimE,cAAe,OACf,aAAc,+BACdrtD,SApBmB,CAACzH,EAAGrJ,UACD,IAAlB49D,GACFE,EAAe99D,GAEb8Q,GACFA,EAAS9Q,IAgBXtP,MAAOmtE,GACNF,EAAK7rE,IAAI,CAACssE,EAAKp+D,IAA0B,IAAMxL,cAAc6pE,GAAA,EAAK,IAChED,EAAIE,SACP/wC,MAAO6wC,EAAI7wC,MACXz4B,IAAKspE,EAAItvE,GACT4B,MAAOsP,EACPvH,UAAWslE,EAAOP,WAClBplE,QAAS,CAAC0Z,SAAUisD,EAAOjsD,gBAqB/B,MAAMysD,GAAa,EAAEtlE,aACnB,MAAM1I,EAAW,eACX,MAACyP,EAAK,MAAEm0C,EAAK,QAAE5B,GAnBvB,SAA6BisB,GAC3B,IAAI7uE,EAAIC,EAAI6f,EACZ,MAAMlgB,EAAS,cACT0J,EAASulE,EAAU1sE,IAAI,EAAE3C,OAAMiF,eAAc,CACjD6jD,eAAe,EACf9oD,KAASA,EAAH,KACNojD,QAASn+C,KAELm+C,EAAsC,OAA3B5iD,EAAK,YAAUsJ,IAAmBtJ,EAAK6uE,EAAU,GAAGpqE,UAC9DqqE,GAAiE,OAAhD7uE,EAAK,YAAYqJ,EAAQ,IAAI1J,EAAO,OAAmBK,EAAK,GAC9E8uE,EAAaD,EAAeD,EAAUx4C,UAAWhkB,GAASA,EAAE7S,KAAL,OAAkBsvE,EAAatqB,MAAMhlD,MAAQ,EAC1G,MAAO,CACL6Q,OAAuB,IAAhB0+D,EAAoB,EAAIA,EAC/BnsB,UACA4B,MAAuC,OAA/B1kC,EAAK+uD,EAAUE,IAAuBjvD,EAAK+uD,EAAU,IAK/BG,CAAoB1lE,GAC9C2lE,EAAa,kBAAQ,IAAM3lE,EAAOnH,IAAKkQ,IAAM,CACjDlT,GAAIkT,EAAE7S,KACNo+B,MAAOvrB,EAAE5S,MACTkvE,SAAUt8D,EAAEs8D,YACT,CAACrlE,IAEN,OAAuB,IAAMzE,cAAc,IAAMI,SAAU,KAAsB,IAAMJ,cAAckpE,GAAY,CAC/GC,KAAMiB,EACNhB,cAAe59D,EACf8Q,SAJmB7T,GAAa1M,EAAS0I,EAAOgE,GAAU9N,KAAK6kC,QAAQ,QAAS,IAAIA,QAAQ,MAAO,OAKjF,IAAMx/B,cAAc6oE,GAAS,KAAsB,IAAM7oE,cAAcqqE,GAAA,EAAQ,CACjGzvE,MAAO+kD,EAAM/kD,QACXmjD,KAGAusB,GAAQ,IAAM,KACpBrtB,GAAoBqtB,GAAO,0BAA0B,GAoBrD,MAAMC,GAAe,EAAE3qE,eACrB,MAAM6E,EApBR,SAAS+lE,EAA4BC,GACnC,MAAMC,EAA6B,IAAM1qE,cAAcsqE,GAAO,CAC5D3vE,KAAM,GACNC,MAAO,IACU,IAAMoF,cAAc,MAAO,OAAQxD,KACtD,OAAO,WAASqhD,QAAQ4sB,GAAehtE,QAASqgD,IAC9C,IAAK,yBAAeA,GAClB,MAAO,GAET,GAAIA,EAAMthD,OAAS,WACjB,OAAOguE,EAA4B1sB,EAAMp+C,MAAME,UAEjD,GAAIk+C,EAAMthD,OAASkuE,EACjB,MAAM,IAAIruE,MAAM,uDAElB,MAAM,KAAC1B,EAAI,MAAEC,EAAK,SAAEgF,EAAQ,SAAEkqE,GAAYhsB,EAAMp+C,MAChD,MAAO,CAAC,CAAC/E,OAAMC,QAAOgF,WAAUkqE,eAInBU,CAA4B5qE,GAC3C,OAAuB,IAAMI,cAAc+pE,GAAY,CACrDtlE,YAGJ8lE,GAAaD,MAAQA,GAErB,MAAMK,GAAwB,OAAAzhB,GAAA,GAAYhmD,IAAU,CAClDhH,MAAO,CACLuO,aAAc,OAEhBmgE,SAAU,CACRpjE,MAAOtE,EAAM+G,QAAQkhD,WACrBzlD,WAAY,aAGVmlE,GAAe,EAAE3uE,QAAO0uE,eAC5B,MAAMhnE,EAAU+mE,KAChB,OAAuB,IAAM3qE,cAAc,IAAMI,SAAU,KAAsB,IAAMJ,cAAc,MAAO,CAC1GiE,UAAWL,EAAQ1H,OAClBA,GAAwB,IAAM8D,cAAc,MAAO,CACpDiE,UAAWL,EAAQgnE,UAClBA,KAGCE,GAAc,OAAA5hB,GAAA,GAAchmD,GAAU,OAAAirD,GAAA,GAAe,CACzDzpD,KAAM,CACJjC,MAAO,OACPqB,SAAU,GACVslD,SAAU,IACVuF,gBAAiB,cACjB,UAAW,CACTA,gBAAiB,eAEnB,WAAY,CACV6M,UAAW,OACXjzD,UAAW,SAGfo+D,OAAQ,CACN57D,YAAa7H,EAAMG,QAAQ,GAC3BU,OAAQ,OACR,UAAW,CACT4qD,gBAAiB,gBAGrBoc,aAAc,CACZjnE,SAAU,IAEZknE,SAAU,CACR,UAAW,CACTrc,gBAAiB,gBAGrBpsD,KAAM,CACJ,gBAAiB,CACfmD,WAAY,SACZD,SAAU,QAIVwlE,GAAU,CAAC/4D,EAAOmL,KACtB,OAAQA,EAAO7gB,MACb,IAAK,cACH,OAAO,aAAQ0V,EAAQu4C,IACrB,MAAMygB,EAAWzgB,EAASptC,EAAO22B,QAAQm3B,kBACnCC,EAASF,EAAShnE,QAAQmZ,EAAO22B,QAAQq3B,aAC/CD,EAAOE,WAAaF,EAAOE,UAC3BJ,EAASI,UAAYtuE,OAAOC,OAAOiuE,EAAShnE,SAAS0/B,MAAO1iC,GAAMA,EAAEoqE,aAGxE,IAAK,gBACH,OAAO,aAAQp5D,EAAQu4C,IACrB,MAAMygB,EAAWzgB,EAASptC,EAAO22B,SAC3B9vC,EAAUgnE,EAAShnE,QACzBgnE,EAASI,WAAaJ,EAASI,UAC/B,IAAK,MAAMF,KAAUlnE,EACnBA,EAAQknE,GAAQE,UAAYJ,EAASI,YAI3C,IAAK,iBACH,OAAO,aAAQp5D,EAAQu4C,IACrB,MAAMygB,EAAWzgB,EAASptC,EAAO22B,SACjCk3B,EAAS9H,QAAU8H,EAAS9H,SAEhC,IAAK,eACH,OAAO,aAAQlxD,EAAQu4C,IACrB,IAAK,MAAMygB,KAAYzgB,EAAU,CAC/BA,EAASygB,GAAUI,WAAY,EAC/B,IAAK,MAAMF,KAAU3gB,EAASygB,GAAUhnE,QACtCumD,EAASygB,GAAUhnE,QAAQknE,GAAQE,UAAY7gB,EAASygB,GAAUI,aAK1E,IAAK,mBACH,OAAO,aAAQp5D,EAAQu4C,IACrB,IAAK,MAAMygB,KAAYzgB,SACdA,EAASygB,GAElB,IAAK,MAAMA,KAAY7tD,EAAO22B,QAC5ByW,EAASygB,GAAY7tD,EAAO22B,QAAQk3B,GAChCh5D,EAAMg5D,KACRzgB,EAASygB,GAAUI,UAAYp5D,EAAMg5D,GAAUI,UAC/C7gB,EAASygB,GAAU9H,OAASlxD,EAAMg5D,GAAU9H,UAKpD,IAAK,iBACH,OAAO,aAAQlxD,EAAQu4C,IACrB,IAAItvD,EACJ,IAAK,MAAM+vE,KAAYzgB,EAAU,CAC/B,MAAM8gB,EAAYluD,EAAO22B,QAAQ/yC,KAAM4oC,GAAMA,EAAEqhC,WAAaA,GAC5D,GAAIK,EAAW,CACb9gB,EAASygB,GAAUI,WAAY,EAC/B,IAAK,MAAMF,KAAU3gB,EAASygB,GAAUhnE,QACtCumD,EAASygB,GAAUhnE,QAAQknE,GAAQE,WAAkD,OAApCnwE,EAAKowE,EAAUC,uBAA4B,EAASrwE,EAAGoG,SAAS6pE,MAAY,MAMvI,QACE,OAAOl5D,IAGPu5D,GAAWC,GAAQA,EAAIvsD,OAAO,CAACyjC,EAAaohB,IAC5CA,EAAG9/D,QACE,IACF0+C,EACH,CAACohB,EAAGjrC,OAAQ,CACVA,MAAOirC,EAAGjrC,MACVuyC,UAAWtH,EAAGsH,YAAa,EAC3BlI,QAAQ,EACRl/D,QAASunE,GAAQzH,EAAG9/D,WAInB,IACF0+C,EACH,CAACohB,EAAGjrC,OAAQ,IAAIirC,EAAIsH,UAAWtH,EAAGsH,YAAa,IAEhD,IACGK,GAAe,EACnBC,gBACA7yC,QACAzb,WACAhB,WACA4mD,mBAEA,MAAMt/D,EAAUknE,MACT54D,EAAO25D,GAAY,qBAAWZ,GAASQ,GAAQG,IAChDE,EAAa,CAAClsD,EAAO1jB,KACzB0jB,EAAMwvC,kBACNyc,EAAS,CAACrvE,KAAM,iBAAkBw3C,QAAS93C,KAEvC6vE,EAAwB,OAAAC,GAAA,GAAYJ,GAwB1C,OAvBA,oBAAU,KACR,MAAM3uE,EAASD,OAAOC,OAAOiV,GAAO5U,IAAK4tE,IAAa,CACpDA,SAAUA,EAASI,UAAYJ,EAASnyC,WAAQ,EAChDyyC,iBAAkBxuE,OAAOC,OAAOiuE,EAAShnE,SAAStH,OAAQwuE,GAAWA,EAAOE,WAAWhuE,IAAK8tE,GAAWA,EAAOryC,UAEhHzc,EAASrf,IACR,CAACiV,IACJ,oBAAU,KACR25D,EAAS,CAACrvE,KAAM,kBACf,CAAC0mE,IACJ,oBAAU,KACJ5lD,GACFuuD,EAAS,CAACrvE,KAAM,iBAAkBw3C,QAAS12B,KAE5C,CAACA,IACJ,oBAAU,KACH,mBAAQsuD,EAAeG,IAC1BF,EAAS,CACPrvE,KAAM,mBACNw3C,QAASy3B,GAAQG,MAGpB,CAACA,EAAeG,IACI,IAAM/rE,cAAc,MAAO,KAAsB,IAAMA,cAAcyrD,GAAA,EAAY,CACtG/nD,QAAS,UACRq1B,GAAwB,IAAM/4B,cAAcy6D,GAAA,EAAM,CACnDx2D,UAAWL,EAAQc,MAClB1H,OAAOC,OAAOiV,GAAO5U,IAAKyV,GAAyB,IAAM/S,cAAc,MAAO,CAC/EM,IAAKyS,EAAKgmB,OACO,IAAM/4B,cAAc06D,GAAA,EAAU,CAC/Cz2D,UAAWL,EAAQonE,SACnBztD,OAAO,EACPE,QAAQ,EACRpW,QAAS,IAAMwkE,EAAS,CACtBrvE,KAAM,gBACNw3C,QAASjhC,EAAKgmB,SAEC,IAAM/4B,cAAcigE,GAAA,EAAc,CACnDh8D,UAAWL,EAAQmnE,cACF,IAAM/qE,cAAcskE,GAAA,EAAU,CAC/C98D,MAAO,UACPkW,KAAM,QACNE,QAAS7K,EAAKu4D,UACd7iE,UAAW,EACXkV,eAAe,KACI,IAAM3d,cAAc26D,GAAA,EAAc,CACrD12D,UAAWL,EAAQrB,KACnBsb,QAAS9K,EAAKgmB,QACZ/7B,OAAOC,OAAO8V,EAAK7O,SAASmI,OAAyB,IAAMrM,cAAc,IAAMI,SAAU,KAAM2S,EAAKqwD,OAAyB,IAAMpjE,cAAc,KAAY,CAC/J,cAAe,aACfqH,QAAUuY,GAAUksD,EAAWlsD,EAAO7M,EAAKgmB,SACxB,IAAM/4B,cAAc,KAAgB,CACvD,cAAe,aACfqH,QAAUuY,GAAUksD,EAAWlsD,EAAO7M,EAAKgmB,UACvC,MAAuB,IAAM/4B,cAAcisE,GAAA,EAAU,CACzDC,GAAIn5D,EAAKqwD,OACT+I,QAAS,OACTC,eAAe,GACE,IAAMpsE,cAAcy6D,GAAA,EAAM,CAC3C38D,UAAW,MACX0f,gBAAgB,GACfxgB,OAAOC,OAAO8V,EAAK7O,SAAS5G,IAAK8tE,GAA2B,IAAMprE,cAAc06D,GAAA,EAAU,CAC3Fj9C,QAAQ,EACRnd,IAAK8qE,EAAOryC,MACZ90B,UAAWL,EAAQ+iE,OACnBt/D,QAAS,IAAMwkE,EAAS,CACtBrvE,KAAM,cACNw3C,QAAS,CACPm3B,iBAAkBp4D,EAAKgmB,MACvBsyC,YAAaD,EAAOryC,UAGP,IAAM/4B,cAAcigE,GAAA,EAAc,CACnDh8D,UAAWL,EAAQmnE,cACF,IAAM/qE,cAAcskE,GAAA,EAAU,CAC/C98D,MAAO,UACPkW,KAAM,QACNE,QAASwtD,EAAOE,UAChB7iE,UAAW,EACXkV,eAAe,KACI,IAAM3d,cAAc26D,GAAA,EAAc,CACrD12D,UAAWL,EAAQrB,KACnBsb,QAASutD,EAAOryC,iBAIdszC,GAA0B,OAAAnjB,GAAA,GAAYhmD,IAAU,CACpDwB,KAAM,CACJX,OAAQ,OACRtB,MAAO,QACPa,QAAS,OACTq2D,cAAe,SACfT,YAAah2D,EAAMG,QAAQ,IAE7BnH,MAAO,CACLwJ,WAAY,OACZD,SAAU,IAEZ26D,OAAQ,CACN98D,QAAS,OACTsY,WAAY,SACZ7X,OAAQ,OACRR,eAAgB,gBAChBk6D,aAAc,aAAav6D,EAAM+G,QAAQqiE,KAAK,MAEhD9vD,QAAS,CACPlZ,QAAS,OACTq2D,cAAe,SACf,QAAS,CACPnvD,UAAWtH,EAAMG,QAAQ,QAIzB2Z,GAAWtd,IACf,IAAIvE,EACJ,MAAMyI,EAAUyoE,MACV,gBAACE,GAAmB7sE,GACnB8e,EAAiBC,GAAsB,mBAAS,IAClD/e,EAAM8e,mBAEJ2G,EAAO+9C,GAAgB,oBAAS,GAQvC,OAHA,oBAAU,KACRqJ,EAAgB/tD,IACf,CAACA,EAAiB+tD,IACE,IAAMvsE,cAAc,MAAO,CAChDiE,UAAWL,EAAQc,MACF,IAAM1E,cAAc,MAAO,CAC5CiE,UAAWL,EAAQw8D,QACF,IAAMpgE,cAAc,MAAO,CAC5CiE,UAAWL,EAAQ1H,OAClB,WAA4B,IAAM8D,cAAc6uD,GAAA,EAAU,CAC3DrnD,MAAO,UACPH,QAfkB,KAClBoX,EAAmB,IACnBykD,EAAcc,IAAQA,KAcrB,cAA+B,IAAMhkE,cAAc,MAAO,CAC3DiE,UAAWL,EAAQ4Y,UACO,OAAvBrhB,EAAKuE,EAAM8c,cAAmB,EAASrhB,EAAGkR,SAAW3M,EAAM8c,QAAQlf,IAAKV,GAA2B,kBAAhBA,EAAOJ,KAA2C,IAAMwD,cAAc2rE,GAAc,CAC1KzI,aAAc/9C,EACd7kB,IAAK1D,EAAOmhD,QAAQhlB,SACjBn8B,EAAOmhD,QACVzgC,SAAUkB,EAAgB5hB,EAAOmhD,QAAQhlB,OAASva,EAAgB5hB,EAAOmhD,QAAQhlB,OAAOz7B,IAAKusC,IAAM,CACjGqhC,SAAUrhC,UACN,EACNvtB,SAAW0nD,GAAOvlD,EAAmB,IAChCD,EACH,CAAC5hB,EAAOmhD,QAAQhlB,OAAQirC,EAAGpnE,OAAQ4vE,GAAmBA,EAAetB,UAAYsB,EAAehB,iBAAiBn/D,QAAQ/O,IAAKkvE,GAAmBA,EAAetB,SAAW,IACtKsB,EAAehB,iBAClBgB,EAAetB,UACbsB,EAAehB,kBAAkBiB,WAEpB,IAAMzsE,cAAcgjE,GAAiB,CACxDE,aAAc/9C,EACd7kB,IAAK1D,EAAOmhD,QAAQhlB,SACjBn8B,EAAOmhD,QACVzgC,SAAUkB,EAAgB5hB,EAAOmhD,QAAQhlB,OACzCzc,SAAW0nD,GAAOvlD,EAAmB,IAChCD,EACH,CAAC5hB,EAAOmhD,QAAQhlB,OAAQirC,UAKxB0I,GAAa,CACjBC,IAAK,qBAAW,CAACjtE,EAAOC,IAAwB,IAAMK,cAAc,KAAQ,IACvEN,EACHC,SAEFitE,MAAO,qBAAW,CAACltE,EAAOC,IAAwB,IAAMK,cAAc,KAAO,IACxEN,EACHC,SAEFktE,MAAO,qBAAW,CAACntE,EAAOC,IAAwB,IAAMK,cAAc,KAAO,IACxEN,EACHC,SAEFmtE,OAAQ,qBAAW,CAACptE,EAAOC,IAAwB,IAAMK,cAAc,KAAe,IACjFN,EACHC,SAEFotE,YAAa,qBAAW,CAACrtE,EAAOC,IAAwB,IAAMK,cAAc,KAAc,IACrFN,EACHC,SAEFqtE,KAAM,qBAAW,CAACttE,EAAOC,IAAwB,IAAMK,cAAc,KAAM,IACtEN,EACHC,SAEFstE,OAAQ,qBAAW,CAACvtE,EAAOC,IAAwB,IAAMK,cAAc,KAAS,IAC3EN,EACHC,SAEFutE,OAAQ,qBAAW,CAACxtE,EAAOC,IAAwB,IAAMK,cAAc,KAAY,IAC9EN,EACHC,SAEFwtE,UAAW,qBAAW,CAACztE,EAAOC,IAAwB,IAAMK,cAAc,KAAW,IAChFN,EACHC,SAEFytE,SAAU,qBAAW,CAAC1tE,EAAOC,IAAwB,IAAMK,cAAc,KAAU,IAC9EN,EACHC,SAEF0tE,SAAU,qBAAW,CAAC3tE,EAAOC,IAAwB,IAAMK,cAAc,KAAc,IAClFN,EACHC,SAEF2tE,aAAc,qBAAW,CAAC5tE,EAAOC,IAAwB,IAAMK,cAAc,KAAiB,IACzFN,EACHC,SAEF4tE,YAAa,qBAAW,CAAC7tE,EAAOC,IAAwB,IAAMK,cAAc,KAAO,IAC9EN,EACHC,SAEF6tE,OAAQ,qBAAW,CAAC9tE,EAAOC,IAAwB,IAAMK,cAAc,KAAQ,IAC1EN,EACHC,SAEF8tE,UAAW,qBAAW,CAAC/tE,EAAOC,IAAwB,IAAMK,cAAc,KAAa,IAClFN,EACHC,SAEF+tE,gBAAiB,qBAAW,CAAChuE,EAAOC,IAAwB,IAAMK,cAAc,KAAQ,IACnFN,EACHC,SAEFguE,WAAY,qBAAW,CAACjuE,EAAOC,IAAwB,IAAMK,cAAc,KAAY,IAClFN,EACHC,UAGJ,SAASiuE,GAAoBtpE,EAAMhC,GACjC,MAAM3H,EAAO2H,EAAMyc,MAAM,KACzB,IAAI7iB,EAAQoI,EAAK3J,EAAK,IACtB,IAAK,IAAI0F,EAAI,EAAGA,EAAI1F,EAAK0R,SAAUhM,EAAG,CACpC,QAAc,IAAVnE,EACF,OAAOA,EAGTA,EAAQA,EADEvB,EAAK0F,IAGjB,OAAOnE,EAET,MAAM2xE,GAAqB,OAAAlN,GAAA,GAAYz9D,IAAU,CAC/Ck9D,OAAQ,CACNh9D,QAASF,EAAMG,QAAQ,EAAG,EAAG,EAAG,KAChCyqE,UAAW,aAAa5qE,EAAM+G,QAAQqiE,KAAKyB,KAC3CtQ,aAAc,aAAav6D,EAAM+G,QAAQqiE,KAAKyB,KAC9CvmE,MAAOtE,EAAM+G,QAAQkhD,WACrBzlD,WAAYxC,EAAMmrD,WAAWC,eAC7BjF,SAAU,SACVkU,UAAW,YARY,CAUvB,iBACEyQ,GAAsB,OAAArN,GAAA,GAAYz9D,IAAU,CAChDwB,KAAM,CACJtB,QAASF,EAAMG,QAAQ,EAAG,EAAG,IAAK,MAEpCzI,MAAO,CACL,SAAU,CACR8K,WAAY,SAGhBuoE,YAAa,CACXvI,aAAcxiE,EAAMG,QAAQ,MAVJ,CAYxB,kBACE6qE,GAAkB,OAAAhlB,GAAA,GAAW,KAAM,CACvCxkD,KAAM,CACJpB,QAAS,OACTsY,WAAY,SACZrY,eAAgB,iBAElB3I,MAAO,CACL8K,WAAY,OACZD,SAAU,GACV80D,WAAY,aAGV4T,GAAiB,OAAAjlB,GAAA,GAAW,KAAM,CACtCxkD,KAAM,CACJpB,QAAS,OACTsY,WAAY,YAyBhB,MAAMwyD,GAAsB,CAC1BjqE,OAAQ,GACRkqE,aAAa,EACb7xD,QAAS,IAEX,SAAS8xD,GAAaC,GACpB,MAAM,WACJC,EAAU,UACVC,EAAS,WACTC,EAAU,sBACVC,EAAqB,cACrBpwD,GACEgwD,EACEK,EAAiBV,KACjBW,EAAkB,sBAAaC,IACnCP,EAAaM,gBAAgBC,GAC7BL,EAAUK,IACT,CAACP,EAAcE,IAClB,OAAIC,EACqB,IAAM1uE,cAAc,MAAO,CAChDiE,UAAW2qE,EAAelqE,MACT,IAAM1E,cAAc,MAAO,CAC5CiE,UAAW2qE,EAAelqE,MACT,IAAM1E,cAAcguD,GAAA,EAAY,CACjD3mD,QAASkX,EACT,aAAc,eACG,IAAMve,cAAc,KAAY,OAAwB,IAAMA,cAAcyrD,GAAA,EAAY,CACzGxnD,UAAW2qE,EAAeh0E,OACzB,YAAa+zE,EAAuB,MAAuB,IAAM3uE,cAAcguE,GAAqB,IAClGO,EACH5uE,IAAK6uE,EACLK,qBAGmB,IAAM7uE,cAAcguE,GAAqB,IAC3DO,EACH5uE,IAAK6uE,EACLK,oBAGJ,SAAS,IAAM,QACblrE,EAAO,QACPO,EAAO,MACPtJ,EAAK,SACL8X,EAAQ,QACR8J,EAAO,aACPuyD,EAAY,aACZtrE,EAAY,cACZurE,KACGtvE,IAEH,MAAMuvE,EAAed,MACf,KAAC7pE,KAAS4qE,GAAoBxvE,EAC9BwD,EAAQ,OAAA4sD,GAAA,KACRqf,EAAyB,IAAIf,MAAwBW,IACpDV,EAAae,GAAkB,mBAASD,EAAuBd,aAChE9vD,EAAgB,sBAAY,IAAM6wD,EAAgBpgD,IAAOA,GAAI,CACjEogD,KAEKT,EAAuBU,GAA4B,mBAAS,IAC5DC,EAAWC,GAAgB,mBAASjrE,IACpCka,EAAiBC,GAAsB,mBAAS0wD,EAAuB3yD,SACxEgzD,EApFR,SAAwB7rE,EAAST,GAC/B,OAAOS,EAAQrG,IAAKmyE,IAClB,MAAMrO,EAAc,GACdsO,EAAwC,iBAArBD,EAAOC,UAAyBD,EAAOC,UAAY,GAK5E,OAJID,EAAOpuE,YACT+/D,EAAY55D,MAAQtE,EAAM+G,QAAQ6mD,aAClC4e,EAAUhqE,WAAaxC,EAAMmrD,WAAWC,gBAEnC,IACFmhB,EACHrO,cACAsO,eAyEcC,CAAehsE,EAAST,IACnCiB,EAAQsqE,GAAa,mBAASU,EAAuBhrE,QACtDqqE,EAAa,mBACnB,oBAAU,KACJA,EAAWllE,SACbklE,EAAWllE,QAAQsmE,eAAezrE,IAEnC,CAACA,EAAQqqE,IACZ,oBAAU,KACR,GAAIQ,EAAe,CACjB,MAAM98D,EA/EZ,SAA6BA,EAAO29D,GAClC,OAAO,qBAAU39D,EAAO,CAACyI,EAAQze,EAAOoE,KACjC,mBAAQpE,EAAO2zE,EAAavvE,MAC/Bqa,EAAOra,GAAOpE,KA4EA4zE,CAAoB,CAChC3rE,SACAkqE,cACA7xD,QAASgC,GACR4vD,IACHY,EAAc98D,KAEf,CAAC/N,EAAQkqE,EAAa7vD,EAAiBwwD,IAC1C,MAKMe,EAAkB,sBAAaC,IACnC,IAAI70E,EACJ,OAA+D,OAAvDA,EAAKwI,EAAQ1C,KAAM+iE,GAAOA,EAAGppE,QAAUo1E,SAAuB,EAAS70E,EAAGmH,OACjF,CAACqB,IACJ,oBAAU,KACR,GAAoB,mBAATW,EACT,OAEF,IAAKka,EAEH,YADA+wD,EAAajrE,GAGf,MAAM2rE,EAAuBjzE,OAAOC,OAAOuhB,GAC3C,GAAIla,GAAQ2rE,EAAqBxD,OAAOpgE,OAAQ,CAC9C,MAAM6jE,EAAU5rE,EAAK1H,OAAQonE,KAAShnE,OAAO+O,QAAQyS,GAAiB5hB,OAAO,EAAE,CAAEV,OAAaA,EAAMmQ,QAAQu3B,MAAM,EAAEtjC,EAAK6vE,MACvH,MAAMC,EAAaxC,GAAoB5J,EAAI+L,EAAgBzvE,IAC3D,OAAIpB,MAAMulB,QAAQ2rD,IAAelxE,MAAMulB,QAAQ0rD,GACtCC,EAAW1rD,KAAMsK,GAAMmhD,EAAY5uE,SAASytB,IAC1C9vB,MAAMulB,QAAQ2rD,GAChBA,EAAW7uE,SAAS4uE,GAClBjxE,MAAMulB,QAAQ0rD,GAChBA,EAAY5uE,SAAS6uE,GAEvBA,IAAeD,KAExBZ,EAAaW,QAEbX,EAAajrE,GAEf+qE,EAAyBY,EAAqBxD,OAAOpgE,SACpD,CAAC/H,EAAMka,EAAiBuxD,IAC3B,MA2CMrB,KAA2B,MAAXlyD,OAAkB,EAASA,EAAQnQ,QACnDgkE,EAAU,sBAAa9B,GACJ,IAAMvuE,cAAcsuE,GAAc,CACvDE,aACAC,YACAC,aACAC,wBACApwD,mBACGgwD,IAEJ,CAAChwD,EAAemwD,EAAYC,EAAuBF,EAAWD,IAC3D8B,EAA4B,mBAAThsE,GAAuC,IAAhBA,EAAK+H,OAC/CkkE,EAAc5sE,EAAQ0I,OACtBmkE,EAAO,sBAAaC,GACpBhtE,GAAgB6sE,EACK,IAAMtwE,cAAc,QAAS,KAAsB,IAAMA,cAAc,KAAM,KAAsB,IAAMA,cAAc,KAAM,CAClJmmE,QAASoK,GACR9sE,KAEkB,IAAMzD,cAAc,cAAY,IAClDywE,IAEJ,CAACH,EAAW7sE,EAAc8sE,IAC7B,OAAuB,IAAMvwE,cAAc,MAAO,CAChDiE,UAAWgrE,EAAavqE,MACvB2pE,GAAe/pE,GAAwB,mBAATA,IAAmC,MAAXkY,OAAkB,EAASA,EAAQnQ,SAA2B,IAAMrM,cAAcgd,GAAS,CAClJR,QArEuB,EAACk0D,EAAcC,KACtC,MAAMC,EAAyBtuE,IAC7B,MAAMuuE,EAAiB,IAAIvyE,IACrBwyE,EAAY50E,IACZA,SACF20E,EAAe7xE,IAAI9C,IAavB,OAVIy0E,GACFA,EAAU7gE,QAASk0D,IACjB,MAAM9nE,EAAQ0xE,GAAoB5J,EAAI+L,EAAgBztE,IAClDpD,MAAMulB,QAAQvoB,GAChBA,EAAM4T,QAAQghE,GAEdA,EAAS50E,KAIR20E,GAEHE,EAAyBn0E,IAAW,CACxCm8B,MAAOn8B,EAAO6yE,OACd7D,cAAe,IAAIgF,EAAsBh0E,EAAO6yE,SAASnyE,IAAK0xB,IAAM,CAClE+J,MAAO/J,EACP9qB,QAAS,QAGP8sE,EAAmBp0E,IAChB,CACLyf,YAAa,cACb0c,MAAOn8B,EAAO6yE,OACdxM,SAA0B,oBAAhBrmE,EAAOJ,KACjBoB,MAAO,IAAIgzE,EAAsBh0E,EAAO6yE,SAASzxB,OAAO1gD,IAAKpB,IAAU,CACrE68B,MAAO78B,EACPA,aAIN,OAAOw0E,EAAapzE,IAAKV,IAAW,CAClCJ,KAAMI,EAAOJ,KACbuhD,QAAyB,kBAAhBnhD,EAAOJ,KAA2Bu0E,EAAsBn0E,GAAUo0E,EAAgBp0E,OA6BpFq0E,CAAiBz0D,EAASlY,GACnCka,kBACA+tD,gBAAiB9tD,IACC,IAAMze,cAAc,KAAQ,CAC9CumD,WAAY,CACV2qB,OAAQrD,GACRwC,UACAG,QAEFtsE,QAAS,CAjHTk9D,YAAa,CACX5S,cAAe,gBAgHetqD,GAChCP,QAAS6rE,EACTnpB,MAAOqmB,GACP9xE,MAAuB,IAAMoF,cAAc,IAAMI,SAAU,KAAsB,IAAMJ,cAAcyrD,GAAA,EAAY,CAC/G/nD,QAAS,MACR9I,GAAQ8X,GAA4B,IAAM1S,cAAcyrD,GAAA,EAAY,CACrEjkD,MAAO,gBACP9D,QAAS,SACRgP,IACHpO,KAAsB,mBAATA,EAAsBA,EAAOgrE,EAC1CtrE,MAAO,CAACvB,MAAO,WACZysE,KA2Ba,OAAAhmB,GAAA,GAAW,KAAM,CACnCxkD,KAAM,CACJ8C,MAAO,UACP8C,SAAU,UACV7E,SAAU,SACVo2D,UAAW,SACX/9C,aAAc,MACd6wC,gBAAiB,UACjBwiB,WAAazxE,GAAUA,EAAM0xE,OAAS,OAAS,IAC/ClY,YAAcx5D,GAAUA,EAAM0xE,OAAS,IAAM,OAC7C,UAAW,CACTziB,gBAAiB,UACjB9lD,QAAS,SA0BK,OAAAqgD,GAAA,GAAYhmD,IAAU,CACxCwB,KAAM,CACJ8pD,cAAe,OACfzqD,OAAQ,OACR2B,WAAYxC,EAAMmrD,WAAWC,eAC7B7oD,SAAUvC,EAAMmrD,WAAWgjB,QAAQ,IACnC7pE,MAAOtE,EAAM+G,QAAQkhD,WACrBgmB,WAAazxE,IAAU4xE,OAhBJC,EAgBkB7xE,EAAM6xE,WAAY7xE,EAAM8xE,aAdzDD,EACK,OAEF,IAEF,OAPa,IAACA,GAiBnB9uE,MAAO,QACPqB,SAAU,QACV,UAAW,CACT2tE,QAAS,OACT9iB,gBAAiB,cACjBnnD,MAAOtE,EAAM+G,QAAQkhD,gBAcP,OAAAjC,GAAA,GAAYhmD,IAAU,CACxCwuE,UAAW,CACTpuE,QAAS,OACTC,eAAgB,SAChBorD,gBAAiBzrD,EAAM+G,QAAQ0nE,OAAOD,UACtC3tE,OAAQ,OAEV6tE,cAAe,CACbh2D,WAAY,UAEdlX,KAAM,CACJ,eAAgB,CACdysE,WAAY,YAaE,OAAAjoB,GAAA,GAAchmD,IAAU,CAC1CwB,KAAM,CACJkkE,SAAU,EACVnmE,MAAO,QAETovE,WAAY,CACVljB,gBAAiBzrD,EAAM+G,QAAQlB,WAAW6nD,OAE5CkhB,OAAQ,CACNj1D,UAAW,OACX8xC,gBAAiBzrD,EAAM+G,QAAQlB,WAAW6nD,MAC1C7lD,YAAa,OACb26D,aAAc,WA+ElB,MAiDMqM,GAAe,EACnBn3E,QAAQ,eACRqJ,eACoB,IAAMjE,cAAcyrD,GAAA,EAAY,CACpD/nD,QAAS,KACT5F,UAAW,KACXmG,YACA,cAAe,gBACdrJ,GACGo3E,GAAgB,EACpBz3E,cACAK,QACAq3E,eAAgBC,EAChBtyE,WACAi8D,YAAY,WAEZ,MAAMj4D,GAjDalE,EAiDS,CAACm8D,aAjDA,OAAA3S,GAAA,GAAYhmD,IAAU,CACnD2P,UAAW,CACTpQ,MAAO,OACPa,QAAS,OACTq2D,cAAe,MACfmJ,SAAU,OACVv/D,eAAgB,WAChBqY,WAAY,SACZnR,aAAcvH,EAAMG,QAAQ,GAC5Bw4D,UAAWn8D,EAAMm8D,WAEnBsW,aAAc,CACZr2D,KAAM,WACNrR,aAAcvH,EAAMG,QAAQ,GAC5BS,SAAU,EACVwG,SAAU,WAEZ8nE,cAAe,CACbt2D,KAAM,WACNxY,QAAS,OACTq2D,cAAe,MACfmJ,SAAU,OACVlnD,WAAY,SACZu1D,WAAYjuE,EAAMG,QAAQ,GAC1BoH,aAAcvH,EAAMG,QAAQ,GAC5BS,SAAU,EACVwG,SAAU,WAEZ/P,YAAa,GACbK,MAAO,CACL0I,QAAS,qBA9BO,IAAC5D,EAkDnB,MAAM2yE,EAAgBH,EAAiC,IAAMlyE,cAAckyE,EAAgB,MAAwB,IAAMlyE,cAAc+xE,GAAc,CACnJn3E,QACAqJ,UAAWL,EAAQhJ,QAErB,OAAuB,IAAMoF,cAAc,WAAU,KAAsB,IAAMA,cAAcqqE,GAAA,EAAQ,CACrGzvE,UACkB,IAAMoF,cAAc,MAAO,CAC7CiE,UAAWL,EAAQiP,WACF,IAAM7S,cAAc,MAAO,CAC5CiE,UAAWL,EAAQuuE,cAClBE,EAAe93E,GAA+B,IAAMyF,cAAcyrD,GAAA,EAAY,CAC/ExnD,UAAWL,EAAQrJ,YACnBmJ,QAAS,SACRnJ,IAA+B,IAAMyF,cAAc,MAAO,CAC3DiE,UAAWL,EAAQwuE,eAClBxyE,MAGC0yE,GAAgB,OAAA3R,GAAA,GAAW,CAC/Bj8D,KAAM,CACJ6tE,eAAgB,YAChB3qE,OAAQ,YAHU,CAKnB6jD,GAAA,GACG+mB,GAAY,OAAA7R,GAAA,GAAW,CAC3Bj8D,KAAM,CACJ6tE,eAAgB,YAChB/qE,MAAO,YAHO,CAKfw4D,GAAA,GACG,GAAc,EAAEpgE,cAAaF,MACjC,MAAOuoE,EAAUC,GAAe,IAAMngE,SAAS,MACzC0qE,EAAgB,IAAMnK,SAASzqB,QAAQj+C,IACtC8yE,EAAWC,KAAeC,GAAmBH,EAC9CI,EAAcD,EAAgBvmE,OAASumE,EAAgBE,MAAQL,EAAcA,EAAcpmE,OAAS,GACpG0mE,EAAuBN,EAAcpmE,OAAS,EAO9CpF,EAAOg8B,QAAQglC,GACrB,OAAuB,IAAMjoE,cAAc,WAAU,KAAsB,IAAMA,cAAcgzE,GAAA,EAAe,CAC5G,aAAc,gBACXtzE,GACF+yE,EAAcpmE,OAAS,GAAqB,IAAMrM,cAAcwyE,GAAW,CAC5ES,OAAO,GACNP,GAAYD,EAAcpmE,OAAS,GAAqB,IAAMrM,cAAcwyE,GAAW,CACxFS,OAAO,GACNN,GAAaI,GAAwC,IAAM/yE,cAAcsyE,GAAe,CACzFjrE,QAfmBuY,IACnBsoD,EAAYtoD,EAAMwoD,iBAejB,OAAwB,IAAMpoE,cAAcggE,GAAA,EAAO,CACpDh8D,MAAO,CAACg5D,UAAW,WAClB6V,IAA+B,IAAM7yE,cAAcqoE,GAAA,EAAS,CAC7DphE,OACAghE,WACA/gE,QAlBkB,KAClBghE,EAAY,OAkBZta,aAAc,CACZC,SAAU,SACVC,WAAY,QAEdyN,gBAAiB,CACf1N,SAAU,MACVC,WAAY,SAEG,IAAM9tD,cAAcy6D,GAAA,EAAM,KAAMmY,EAAgBt1E,IAAI,CAAC41E,EAAU1nE,IAA0B,IAAMxL,cAAc06D,GAAA,EAAU,CACxIp6D,IAAKkL,EACLiS,QAAQ,GACS,IAAMzd,cAAcwyE,GAAW,CAChDS,OAAO,GACNC,SAGCC,GAAc,OAAAjqB,GAAA,GAAYhmD,IAAU,CACxCk9D,OAAQ,CACNoI,SAAU,aACVplE,QAASF,EAAMG,QAAQ,GACvB+vE,UAAW,IACX3wE,MAAO,OACPoa,UAAW,oCACXwsC,SAAU,WACV8O,OAAQ,IACR70D,QAAS,OACTq2D,cAAe,MACfmJ,SAAU,OACVv/D,eAAgB,WAChBqY,WAAY,SACZy3D,gBAAiBnwE,EAAMowE,KAAKD,gBAC5BE,mBAAoB,SACpBC,eAAgB,SAElBrB,aAAc,CACZr2D,KAAM,YAERs2D,cAAe,CACbt2D,KAAM,WACNxY,QAAS,OACTq2D,cAAe,MACfmJ,SAAU,OACVlnD,WAAY,SACZs9C,YAAah2D,EAAMG,QAAQ,IAE7BzI,MAAO,CACL4M,MAAOtE,EAAM+G,QAAQwpE,OAAOC,UAC5BlW,WAAY,QACZD,UAAW,YACX93D,SAAU,2CACVgF,aAAcvH,EAAMG,QAAQ,IAE9BqP,SAAU,CACRlL,MAAO,2BACPg2D,WAAY,SAEdhhE,KAAM,CACJgyD,cAAe,YACf/oD,SAAU,GACVoD,QAAS,GACT4B,aAAcvH,EAAMG,QAAQ,GAC5BmE,MAAOtE,EAAM+G,QAAQwpE,OAAOC,WAE9BC,WAAY,CACVluE,SAAU,2CACV+B,MAAOtE,EAAM+G,QAAQwpE,OAAOC,WAE9BE,eAAgB,CACdnuE,SAAU,UACVoD,QAAS,GACTqwD,aAAch2D,EAAMG,QAAQ,IAC5BoH,aAAcvH,EAAMG,QAAQ,KAE9BwwE,gBAAiB,CACfpuE,SAAU,UACV0rE,YAAajuE,EAAMG,QAAQ,IAC3BoH,aAAcvH,EAAMG,QAAQ,QAG1BywE,GAAe,EACnBt3E,OACAu3E,WACAnwE,UACA+O,eAEKnW,EAGAu3E,EAKkB,IAAM/zE,cAAc,GAAa,CACtDiE,UAAWL,EAAQ+vE,YACF,IAAM3zE,cAAc,GAAM,CAC3CC,GAAI8zE,GACHv3E,GAAuB,IAAMwD,cAAcyrD,GAAA,EAAY,KAAM94C,IARvC,IAAM3S,cAAcyrD,GAAA,EAAY,CACrDxnD,UAAWL,EAAQpH,MAClBA,GALI,KAaLw3E,GAAgB,EAAErhE,YAAW/O,UAASqwE,cAC1C,MAAMC,EAA6B,IAAMl0E,cAAcyrD,GAAA,EAAY,CACjExnD,UAAWL,EAAQhJ,MACnB8I,QAAS,MACRiP,GACH,OAAKshE,EAGkB,IAAMj0E,cAAckvD,GAAA,EAAS,CAClDt0D,MAAOq5E,EACPzxE,UAAW,aACV0xE,GALMA,GAOLC,GAAmB,EAAEvwE,UAAS8O,cAC7BA,EAGmB,iBAAbA,EACc,IAAM1S,cAAc,IAAMI,SAAU,KAAMsS,GAE5C,IAAM1S,cAAcyrD,GAAA,EAAY,CACrDxnD,UAAWL,EAAQ8O,SACnBhP,QAAS,YACT5F,UAAW,QACV4U,GATM,KAWLw+D,GAAS,EACbtxE,WACAw0E,oBACApwE,QACA0O,WACA9X,QACAq5E,UACAz3E,OACAu3E,eAEA,MAAMnwE,EAAUuvE,KACVkB,EAAgBD,GAAqBx5E,EACrC+X,EAAY/X,GAASw5E,EACrBE,EAAmBD,EAAH,oBAChBE,EAAkBF,EAAH,eACrB,OAAuB,IAAMr0E,cAAc,IAAMI,SAAU,KAAsB,IAAMJ,cAAcqqE,GAAA,EAAQ,CAC3GiK,gBACAC,iBACkB,IAAMv0E,cAAc,SAAU,CAChDgE,QACAC,UAAWL,EAAQw8D,QACF,IAAMpgE,cAAc,MAAO,CAC5CiE,UAAWL,EAAQuuE,cACF,IAAMnyE,cAAc8zE,GAAc,CACnDlwE,UACApH,OACAu3E,WACAphE,cACkB,IAAM3S,cAAcg0E,GAAe,CACrDpwE,UACA+O,YACAshE,YACkB,IAAMj0E,cAAcm0E,GAAkB,CACxDvwE,UACA8O,cACmB,IAAM1S,cAAc,MAAO,CAC9CiE,UAAWL,EAAQwuE,eAClBxyE,MAGC40E,GAAc,OAAAtrB,GAAA,GAAYhmD,IAAU,CACxCwB,KAAM,CACJm3D,UAAW,OACXp/C,OAAQvZ,EAAMG,QAAQ,GACtBC,QAAS,gBAEXy1B,MAAO,CACLvxB,MAAO,UACP9B,WAAY,OACZ83D,WAAY,OACZjP,cAAe,EACf9oD,SAAU,GACV1B,OAAQ,OACR0G,aAAc,GAEhBvO,MAAO,CACLsL,MAAO,2BACPg2D,WAAY,OACZ/3D,SAAU,GACV1B,OAAQ,WAGN0wE,GAAqB,EAAEv4E,QAAO+H,eAA+B,IAAMjE,cAAcyrD,GAAA,EAAY,CACjGxnD,aACC/H,GACGw4E,GAAc,EAAE37C,QAAO78B,QAAO4K,UAClC,MAAMlD,EAAU4wE,KACVptE,EAA0B,IAAMpH,cAAcy0E,GAAoB,CACtExwE,UAAWL,EAAQ1H,MACnBA,MAAOA,GAAS,cAElB,OAAuB,IAAM8D,cAAc,OAAQ,CACjDiE,UAAWL,EAAQc,MACF,IAAM1E,cAAcyrD,GAAA,EAAY,CACjDxnD,UAAWL,EAAQm1B,OAClBA,GAAQjyB,EAAsB,IAAM9G,cAAc0rD,GAAA,EAAQ,CAC3D3kD,KAAMD,GACLM,GAAWA,IAmChB,MAgCMutE,GAAc,OAAAzrB,GAAA,GATJhmD,GAAU,OAAAirD,GAAA,GAAa,CACrCzpD,KAAM,CACJ8C,MAAOtE,EAAM+G,QAAQ2qE,OAAOC,MAC5BzxE,QAASF,EAAMG,QAAQ,EAAG,EAAG,GAC7BgwE,gBAAiB,uDACjBE,mBAAoB,EACpBC,eAAgB,cAIdsB,GAAkBp1E,IACtB,MAAM,MAAC9E,EAAK,SAAE8X,EAAQ,SAAE9S,GAAYF,EAC9BkE,EAAU+wE,GAAYj1E,GAC5B,OAAuB,IAAMM,cAAc,MAAO,CAChDiE,UAAWL,EAAQc,MAClBgO,GAA4B,IAAM1S,cAAcyrD,GAAA,EAAY,CAC7D/nD,QAAS,YACT5F,UAAW,MACV4U,GAAW9X,GAAyB,IAAMoF,cAAcyrD,GAAA,EAAY,CACrE/nD,QAAS,KACT5F,UAAW,MACVlD,GAAQgF,IAsCPm1E,GAAc,OAAA7rB,GAAA,GARFhmD,GAAU,OAAAirD,GAAA,GAAa,CACvCzpD,KAAM,CACJpB,QAAS,OACT0xE,oBAAqB,uCACrBC,aAAc,MACdrZ,QAAS14D,EAAMG,QAAQ,OAIrB6xE,GAAgBx1E,IACpB,MAAM,SAACE,KAAau1E,GAAcz1E,EAC5BkE,EAAUmxE,GAAYI,GAC5B,OAAuB,IAAMn1E,cAAc,MAAO,CAChDwI,KAAM,OACNvE,UAAWL,EAAQc,QAChBywE,GACFv1E,IAGCw1E,GAAc,OAAAlsB,GAAA,GAAW,KAAM,CACnCxkD,KAAM,CACJpB,QAAS,OACT+xE,kBAAmB,mHACnBC,iBAAkB,gBAClBN,oBAAqB,gBACrB5B,UAAW,YAGTmC,GAAO,EAAE3iE,UAAShT,eACtB,MAAMgE,EAAUwxE,KAChB,OAAuB,IAAMp1E,cAAcwlD,EAAA,EAAe,CACxDtiD,MAAQsyE,IAAc,IACjBA,EACHlC,KAAMkC,EAAUC,aAAa,CAAC7iE,eAEf,IAAM5S,cAAc,MAAO,CAC5CiE,UAAWL,EAAQc,MAClB9E,KAMC81E,GAAgB,CACpBC,kBAJwB,GAKxBC,gBAAiB,IACjBC,mBAAoB,IACpBC,oBAAqB,EACrBC,oBAAqB,IACrBC,WAAY,GACZC,mBAVwB,GAWxBC,SAAUP,GACVQ,YAXkB,GAYlBC,uBAAwB,EACxBC,iBAZuB,GAavBC,kBAAmBX,IAGfY,GAAiB,wBAAc,CACnCnT,QAAQ,IAGV,IAAIoT,IAGDA,KAAqBA,GAAmB,KADJ,kBAAI,kBAE3C,MAAMC,GAAe,CACnB,qBACE,IAAIv6E,EACJ,IACEA,EAAQme,KAAKC,MAAMhT,OAAOiwC,aAAaG,QAAQ8+B,GAAiBE,oBAAsB,SACtF,MACA,OAAO,EAET,QAASx6E,GAEXy6E,mBAAmBzkE,GACV5K,OAAOiwC,aAAaO,QAAQ0+B,GAAiBE,kBAAmBr8D,KAAKmB,UAAUtJ,KAIpF0kE,GAAc,OAAA1tB,GAAA,GAAW,CAC7BxkD,KAAM,CACJjC,MAAO,OACP2wE,UAAW,OACXzhB,WAAY,6BACZ5mD,YAAa,EAAE8rE,cAAcA,EAAWnB,GAAcE,gBAAkBF,GAAcC,qBAGpFmB,GAAyB,wBAAc,CAC3CD,UAAU,EACVE,sBAAuB,SAGnBC,GAAet3E,IACnB,MAAOm3E,EAAUI,GAAe,mBAAS,IAAMR,GAAaS,sBAC5D,oBAAU,KACRT,GAAaE,mBAAmBE,IAC/B,CAACA,IACJ,MACMjzE,EAAUgzE,GAAY,CAACC,aAC7B,OAAuB,IAAM72E,cAAc82E,GAAuBxoC,SAAU,CAC1EpyC,MAAO,CACL26E,WACAE,sBAL0B,IAAME,GAAaJ,KAO9B,IAAM72E,cAAc,MAAO,CAC5CiE,UAAWL,EAAQc,MAClBhF,EAAME,YAGLu3E,GAAc,OAAAjuB,GAAA,GAAYhmD,IAAU,CACxCwB,KAAM,CACJyzD,OAAQ,IACR9O,SAAU,WACV/+C,SAAU,UACV7H,MAAOS,EAAMG,QAAQ,GAAK,GAE5B+zE,OAAQ,CACN9zE,QAAS,OACT20D,SAAU,gBACVr8C,WAAY,aACZytC,SAAU,QACVvX,KAAM,EACNE,IAAK,EACLsX,OAAQ,EACRlmD,QAAS,EACT2F,WAAY7F,EAAM+G,QAAQotE,WAAWtuE,WACrC0J,UAAW,SACX6kE,gBAAiB,OACjB9a,eAAgB,OAChB/5D,MAAOizE,GAAcC,kBACrBhkB,WAAYzuD,EAAM0uD,YAAYzF,OAAO,QAAS,CAC5CorB,OAAQr0E,EAAM0uD,YAAY2lB,OAAOC,MACjC3lB,SAAU3uD,EAAM0uD,YAAYC,SAASC,WAEvC,QAAS,CACP2lB,WAAY,GAEd,uBAAwB,CACtBn0E,QAAS,SAGbo0E,WAAY,CACVj1E,MAAOizE,GAAcE,gBACrBjkB,WAAYzuD,EAAM0uD,YAAYzF,OAAO,QAAS,CAC5CorB,OAAQr0E,EAAM0uD,YAAY2lB,OAAOC,MACjC3lB,SAAU3uD,EAAM0uD,YAAYC,SAAS8lB,WAGzCC,WAAY,CACVn1E,MAAOizE,GAAcC,kBAAoB,MAG7C,IAAIkC,GACMC,OAIPD,KAAUA,GAAQ,KAHZC,GAAe,OAAI,GAAK,SAC/BA,GAAOA,GAAa,KAAI,GAAK,OAC7BA,GAAOA,GAAa,KAAI,GAAK,OAE/B,MAAMC,GAAU,EACdC,cAActC,GAAcG,mBAC5BoC,eAAevC,GAAcI,oBAC7Bl2E,eAEA,MAAMgE,EAAUuzE,MACTjlE,EAAOytD,GAAY,mBAAS,GAC7BuY,EAAgB,oBAChB,SAACrB,GAAY,qBAAWC,IACxBhL,EAAa,KACb+K,IAGAqB,EAAc5uE,UAChB0iD,aAAaksB,EAAc5uE,SAC3B4uE,EAAc5uE,aAAU,GAEZ,IAAV4I,IACFgmE,EAAc5uE,QAAUhC,OAAOykD,WAAW,KACxCmsB,EAAc5uE,aAAU,EACxBq2D,EAAS,IACRqY,GACHrY,EAAS,MAGP/zD,EAAc,KACdirE,IAGAqB,EAAc5uE,UAChB0iD,aAAaksB,EAAc5uE,SAC3B4uE,EAAc5uE,aAAU,GAEZ,IAAV4I,EACFytD,EAAS,GACU,IAAVztD,IACTgmE,EAAc5uE,QAAUhC,OAAOykD,WAAW,KACxCmsB,EAAc5uE,aAAU,EACxBq2D,EAAS,IACRsY,MAGP,OAAuB,IAAMj4E,cAAc,MAAO,CAChDiE,UAAWL,EAAQc,KACnBwD,aAAc4jE,EACdqM,QAASrM,EACT3jE,aAAcyD,EACdwsE,OAAQxsE,EACR,cAAe,gBACE,IAAM5L,cAAcu2E,GAAejoC,SAAU,CAC9DpyC,MAAO,CACLknE,OAAkB,IAAVlxD,GAAe2kE,IAER,IAAM72E,cAAc,MAAO,CAC5CiE,UAAW,aAAKL,EAAQwzE,OAAQ,CAC9B,CAACxzE,EAAQg0E,YAAuB,IAAV1lE,EACtB,CAACtO,EAAQ8zE,YAAuB,IAAVxlE,GAAe2kE,KAEtCj3E,MAGCy4E,GAAc,OAAAnvB,GAAA,GAAYhmD,IAC9B,MAAM,uBACJkzE,EAAsB,kBACtBT,EAAiB,gBACjBC,EAAe,mBACfK,EAAkB,SAClBC,GACER,GACJ,MAAO,CACLhxE,KAAM,CACJ8C,MAAOtE,EAAM+G,QAAQotE,WAAW7vE,MAChClE,QAAS,OACT20D,SAAU,aACVr8C,WAAY,SACZ7X,OAAQ,GACR6D,OAAQ,WAEV0wE,WAAY,CACVvvE,WAAY,OACZ8nD,OAAQ,OACRpuD,MAAO,OACPga,OAAQ,EACRrZ,QAAS,EACTy4D,UAAW,UACX0c,KAAM,WAERpmC,OAAQ,CACN1vC,MAAOkzE,EACPpyE,eAAgB,UAElB0D,KAAM,CACJxE,MAAOmzE,GAET78C,MAAO,CACLrzB,WAAY,OACZ60D,WAAY,SACZiD,WAAY,OACZ1hD,KAAM,WACNrZ,MAAO,QACP6H,SAAU,SACV,gBAAiB,YAEnBkuE,cAAe,CACbC,UAAW,aACX10E,OAAQ,OACRtB,MAAOwzE,EACP/c,aAAch2D,EAAMG,QAAQ,GAC5BC,QAAS,OACTsY,WAAY,SACZrY,eAAgB,UAElB7I,KAAM,CACJ+H,MAAOyzE,EACPnyE,OAAQmyE,GAEVwC,WAAY,CACVjuE,aAAc,IAEhBwjE,YAAa,CACXzmE,MAAO,UACP9B,WAAY,OACZD,SAAUvC,EAAMmrD,WAAW5oD,UAE7BkzE,gBAAiB,CACfl2E,MAAOmzE,EAAkBK,GAE3B2C,gBAAiB,CACfn2E,MAAOS,EAAMG,QAAQ,GACrBw4D,UAAW,SACX3C,YAAah2D,EAAMG,QAAQ,IAE7Bia,SAAU,CACR,SAAU,CACRu7D,WAAY,SAASzC,OAA4BlzE,EAAM+G,QAAQotE,WAAW3F,YAC1ElqE,MAAOtE,EAAM+G,QAAQotE,WAAWyB,eAElC,WAAY,CACVr2E,MAAOkzE,EAAoBS,GAE7B,mBAAoB,CAClBjF,YAAaiF,OAKrB,SAAS2C,GAAar5E,GACpB,YAAoB,IAAbA,EAAMO,GAEf,MAAM+4E,GAAc,qBAAW,CAACt5E,EAAOC,KACrC,MACEjF,KAAMonD,EAAI,KACVv/C,EAAI,iBACJ02E,GAAmB,EAAK,QACxB5xE,EAAO,SACPzH,EAAQ,UACRqE,KACGi1E,GACDx5E,EACEkE,EAAUy0E,MACV,OAACjV,GAAU,qBAAWmT,IACtB4C,EAA2B,IAAMn5E,cAAco5E,GAAA,EAAO,CAC1D5xE,MAAO,YACP9D,QAAS,MACT21E,QAAS,SACTC,WAAYL,GACK,IAAMj5E,cAAc8hD,EAAM,CAC3Cr8C,SAAU,QACVxB,UAAWL,EAAQlJ,QAEf6+E,EAAgBJ,EAChBK,EAA8B,IAAMx5E,cAAc,IAAMI,SAAU,KAAsB,IAAMJ,cAAc,MAAO,CACvH,cAAe,eACfiE,UAAWL,EAAQ40E,eAClBW,GAAW52E,GAAwB,IAAMvC,cAAcyrD,GAAA,EAAY,CACpE/nD,QAAS,YACTO,UAAWL,EAAQm1B,OAClBx2B,GAAuB,IAAMvC,cAAc,MAAO,CACnDiE,UAAWL,EAAQg1E,iBAClBh5E,IACGwH,EAAUg8D,EAASoW,EAAcD,EACjCE,EAAa,CACjBpyE,UACApD,UAAW,aAAKA,EAAWL,EAAQc,KAAM0+D,EAASx/D,EAAQqD,KAAOrD,EAAQuuC,OAAQ4mC,GAAar5E,IAAUkE,EAAQ00E,aAElH,OAAIS,GAAar5E,GACQ,IAAMM,cAAc,SAAU,IAChDy5E,EACH95E,OACCyH,GAEkB,IAAMpH,cAAc,KAAS,IAC/Cy5E,EACHC,gBAAiB91E,EAAQ0Z,SACzBrd,GAAIP,EAAMO,GACVN,SACGu5E,GACF9xE,KAECuyE,GAAsBj6E,IAC1B,MAAOmc,EAAO+9D,GAAY,mBAAS,IAC7Bh2E,EAAUy0E,KACVl0E,EAAS,KACbzE,EAAMmhB,SAAShF,GACf+9D,EAAS,KAkBX,OAAuB,IAAM55E,cAAc,MAAO,CAChDiE,UAAWL,EAAQ80E,YACF,IAAM14E,cAAcg5E,GAAa,CAClDt+E,KAAM,KACNuF,GAAIP,EAAMO,GACVoH,QATuBwyE,IACvB11E,IACA01E,EAAGh6D,mBAQc,IAAM7f,cAAc85E,GAAA,EAAW,CAChDz9D,YAAa,SACbngB,MAAO2f,EACPxU,QAjBwBwyE,IACxBA,EAAGh6D,iBACHg6D,EAAGzqB,mBAgBH9yC,SArBmBu9D,IACnBD,EAASC,EAAG/8E,OAAOZ,QAqBnB69E,UA3BmBF,IACJ,UAAXA,EAAGv5E,KACL6D,KA0BFF,UAAWL,EAAQ+0E,gBACnBqB,WAAY,CACVC,kBAAkB,EAClBh2E,UAAWL,EAAQqqE,kBAInBiM,GAAe,OAAAC,GAAA,GAAO,MAAP,CAAc,CACjCr+D,KAAM,IAKFs+D,IAHgB,OAAAD,GAAA,GAAO,MAAP,CAAc,CAClCp2E,OAAQ,IAEa,OAAAo2E,GAAA,GAAO,KAAP,CAAa,CAClCp2E,OAAQ,EACRtB,MAAO,OACPsG,WAAY,UACZ8nD,OAAQ,OACRp0C,OAAQ,cAGU,OAAAysC,GAAA,GAAYhmD,IAAU,CACxCm3E,UAAW,CACT7yE,MAAO,UACP/B,SAAU,GACVhD,MAAOizE,GAAcE,gBACrBprE,UAAW,GACXC,aAAc,GACdM,YAAa2qE,GAAcS,YAC3BzQ,aAAcgQ,GAAcS,aAE9BmE,aAAc,CACZh3E,QAAS,OACTC,eAAgB,WAChBqY,WAAY,SACZpR,UAAW,IAEb+vE,iBAAkB,CAChB/yE,MAAO,UACPlE,QAAS,OACTsY,WAAY,SACZnR,aAAc,EACd,UAAW,CACTjD,MAAOtE,EAAM+G,QAAQuwE,UACrB7oB,WAAYzuD,EAAM0uD,YAAYzF,OAAO,QAAS,CAC5CorB,OAAQr0E,EAAM0uD,YAAY2lB,OAAOC,MACjC3lB,SAAU3uD,EAAM0uD,YAAYC,SAASC,aAI3C2oB,iBAAkB,CAChBh1E,SAAU,SACVC,WAAY,OACZ8oD,cAAe,YACfD,cAAe,GAEjBmsB,iBAAkB,CAChBj4E,MAAO,GACPsB,OAAQ,GACRm1D,YAAa,OA+EG,OAAAhQ,GAAA,GAAW,CAC7Br2C,UAAW,CACTzP,QAAS,EACTijE,UAAW,QAEbtzD,KAAM,CACJzP,QAAS,OACTq2D,cAAe,SACfl3D,MAAO,OACP2mD,SAAU,QACV3sC,OAAQ,EACRrZ,QAAS,KA4FS,OAAA8lD,GAAA,GAAYhmD,IAAU,CAC1Cy3E,KAAM,CACJr3E,QAAS,OACT20D,SAAU,iBAEZx6C,OAAQ,CACNm9D,UAAW,SACXpwE,UAAWtH,EAAMG,QAAQ,OAgF7B,MAqLMw3E,GAAgB,OAAA3xB,GAAA,GAAYhmD,IAAU,CAC1CwB,KAAM,CACJtB,QAASF,EAAMG,QAAQ,EAAG,EAAG,EAAG,KAChC+vE,UAAWlwE,EAAMG,QAAQ,IAE3BquE,UAAW,CACT/iB,gBAAiBzrD,EAAM+G,QAAQouD,KAAKyD,KACpC/3D,OAAQb,EAAMG,QAAQ,QAGpBy3E,GAAa,OAAAna,GAAA,GAAYz9D,IAAU,CACvCwB,KAAM,CAACtB,QAASF,EAAMG,QAAQ,EAAG,EAAG,EAAG,KAAMC,QAAS,gBACtD1I,MAAO,CAAC8K,WAAY,KACpBw7D,UAAW,CAAC5C,WAAYp7D,EAAMG,QAAQ,MAHrB,CAIfy+D,GAAA,GACEiZ,GAAa,EACjBvb,eAAe,aACf5/D,WACAhF,QACAumE,WACAjlE,QACAogB,eAEA,MAAM0+D,EAAcH,MACbzR,EAAe6R,GAAe,mBAAS,GACxCC,EAAe5+D,GAAsB,EAAC6+D,EAAKC,IAAqBH,EAAYG,IAClF,IAAIC,EAYJ,OAXKn/E,EAMH,IAAMosE,SAAShrE,IAAIsC,EAAWk+C,KACd,MAATA,OAAgB,EAASA,EAAMp+C,MAAMxD,SAAWA,IACnDm/E,EAA8B,MAATv9B,OAAgB,EAASA,EAAMp+C,MAAME,YAP9D,IAAM0oE,SAAShrE,IAAIsC,EAAU,CAACk+C,EAAOtyC,KAC/BA,IAAU49D,IACZiS,EAA8B,MAATv9B,OAAgB,EAASA,EAAMp+C,MAAME,YAQzC,IAAMI,cAAc6hE,GAAA,EAAM,KAAsB,IAAM7hE,cAAcy/D,GAAe,CACxGD,gBACC5kE,GAAyB,IAAMoF,cAAc86E,GAAY,CAC1DlgF,UACkB,IAAMoF,cAAcwpE,GAAA,EAAQ,CAC9C5lE,QAASo3E,EACT9+E,MAAOA,GAASktE,EAChB9sD,SAAU4+D,GACTt7E,GAA2B,IAAMI,cAAc46D,GAAA,EAAS,MAAuB,IAAM56D,cAAc+hE,GAAA,EAAa,KAAMsZ,GAAqBla,GAA4B,IAAMnhE,cAAc+/D,GAAY,IACrMoB,OAGDma,GAAmB,OAAApyB,GAAA,GAAYhmD,IAAU,CAC7CwB,KAAM,CACJZ,SAAUZ,EAAMG,QAAQ,GACxB+vE,UAAWlwE,EAAMG,QAAQ,GACzBoZ,OAAQvZ,EAAMG,QAAQ,EAAG,EAAG,EAAG,GAC/BD,QAASF,EAAMG,QAAQ,GAAK,EAAG,GAAK,GACpCmrD,cAAe,QAEjBlxC,SAAU,CACR5X,WAAY,WAGV61E,GAAU,EAAE37E,cAAaF,MAC7B,MAAMkE,EAAU03E,KAChB,OAAuB,IAAMt7E,cAAc6pE,GAAA,EAAK,CAC9ClsD,eAAe,EACf/Z,aACGlE,M,iCMxyKP1C,OAAOuW,eAAeC,EAAS,aAAc,CAAEtX,OAAO,IACtDsX,EAAQgoE,eAAiBhoE,EAAQ+Q,UAAO,EACxC,MAAMiT,EAAa,EAAQ,KACrBrjB,EAAS,EAAQ,IACjBH,EAAY,EAAQ,IAC1B,IAAIuQ,GACJ,SAAWA,GACPA,EAAKA,EAAU,IAAI,GAAK,MACxBA,EAAKA,EAAU,IAAI,GAAK,MAF5B,CAGGA,EAAO/Q,EAAQ+Q,OAAS/Q,EAAQ+Q,KAAO,KAS1C/Q,EAAQgoE,eARR,SAAwBrlE,EAAIslE,EAAMxiE,GAC9B,MAAMmL,EAQV,SAAsBjO,GAAI,QAAEyN,EAAO,WAAEoB,EAAU,OAAEzQ,EAAM,WAAEiD,EAAU,cAAElB,EAAa,aAAE4M,IAChF,QAAgBpL,IAAZ8L,QAAoC9L,IAAXvD,EACzB,MAAM,IAAIlY,MAAM,wDAEpB,QAAgByb,IAAZ8L,EAAuB,CACvB,MAAMe,EAAMxO,EAAG5B,OAAOqP,GACtB,YAAsB9L,IAAfkN,EACD,CACEzQ,OAAQoQ,EACRnN,WAAYxD,EAAUa,CAAE,GAAGsB,EAAGqB,aAAaxD,EAAUqO,YAAYuB,KACjEtN,cAAe,GAAGH,EAAGG,iBAAiBsN,KAExC,CACErP,OAAQoQ,EAAIK,GACZxN,WAAYxD,EAAUa,CAAE,GAAGsB,EAAGqB,aAAaxD,EAAUqO,YAAYuB,KAAW5P,EAAUqO,YAAY2C,KAClG1O,cAAe,GAAGH,EAAGG,iBAAiBsN,KAAWzP,EAAOunE,eAAe12D,MAGnF,QAAelN,IAAXvD,EAAsB,CACtB,QAAmBuD,IAAfN,QAA8CM,IAAlBxB,QAAgDwB,IAAjBoL,EAC3D,MAAM,IAAI7mB,MAAM,+EAEpB,MAAO,CACHkY,SACAiD,aACA0L,eACA5M,iBAGR,MAAM,IAAIja,MAAM,+CArCEs/E,CAAaxlE,EAAIslE,IAuCvC,SAA6Br3D,EAAWjO,GAAI,SAAEkO,EAAUC,aAAcs3D,EAAM,KAAEt3E,EAAI,UAAE4iB,EAAS,aAAEwU,IAC3F,QAAa5jB,IAATxT,QAAmCwT,IAAbuM,EACtB,MAAM,IAAIhoB,MAAM,uDAEpB,MAAM,IAAEgY,GAAQ8B,EAChB,QAAiB2B,IAAbuM,EAAwB,CACxB,MAAM,UAAElB,EAAS,YAAE04D,EAAW,KAAEt8E,GAAS4W,EAEzC2lE,EADiBznE,EAAI4D,IAAI,OAAQjE,EAAUa,CAAE,GAAGsB,EAAG7R,OAAO0P,EAAUqO,YAAYgC,MAAa,IAE7FD,EAAUjB,UAAYnP,EAAUyD,GAAI,GAAG0L,IAgC/C,SAAsBkB,EAAUC,EAAcwH,GAE1C,GAAIzH,aAAoBrQ,EAAU4E,KAAM,CACpC,MAAMmjE,EAAWz3D,IAAiBC,EAAKC,IACvC,OAAOsH,EACDiwD,EACI/nE,EAAUa,CAAE,SAASwP,UACrBrQ,EAAUa,CAAE,UAAUwP,WAC1B03D,EACI/nE,EAAUa,CAAE,SAASwP,IACrBrQ,EAAUa,CAAE,SAASwP,8CAEnC,OAAOyH,EAAmB9X,EAAUqO,YAAYgC,GAAUpF,WAAa,IAAM9K,EAAO6nE,kBAAkB33D,GA5C/C43D,CAAa53D,EAAUu3D,EAAQr8E,EAAKusB,oBACvF1H,EAAU9O,mBAAqBtB,EAAUa,CAAE,GAAGwP,IAC9CD,EAAUy3D,YAAc,IAAIA,EAAaz3D,EAAU9O,oBAEvD,QAAawC,IAATxT,EAAoB,CAEpBw3E,EADiBx3E,aAAgB0P,EAAU4E,KAAOtU,EAAO+P,EAAI4D,IAAI,OAAQ3T,GAAM,SAE1DwT,IAAjB4jB,IACAtX,EAAUsX,aAAeA,GAG7BxU,IACA9C,EAAU8C,UAAYA,GAC1B,SAAS40D,EAAiBI,GACtB93D,EAAU9f,KAAO43E,EACjB93D,EAAU+3D,UAAYhmE,EAAGgmE,UAAY,EACrC/3D,EAAU8C,UAAY,GACtB/Q,EAAG6hB,kBAAoB,IAAI15B,IAC3B8lB,EAAU/O,WAAac,EAAG7R,KAC1B8f,EAAUg4D,UAAY,IAAIjmE,EAAGimE,UAAWF,IAlE5CG,CAAoBj4D,EAAWjO,EAAIslE,GAqEvC,SAA6Br3D,GAAW,iBAAEk4D,EAAgB,YAAEC,EAAW,cAAEt3D,EAAa,aAAE0X,EAAY,UAAE9Y,SAC5E/L,IAAlBmN,IACAb,EAAUa,cAAgBA,QACTnN,IAAjB6kB,IACAvY,EAAUuY,aAAeA,QACX7kB,IAAd+L,IACAO,EAAUP,UAAYA,GAC1BO,EAAUk4D,iBAAmBA,EAC7Bl4D,EAAUm4D,YAAcA,EA5ExBC,CAAoBp4D,EAAWq3D,GAC/B,MAAMgB,EAAc,IAAKtmE,KAAOiO,EAAWxmB,WAAOka,EAAWpY,WAAOoY,GAEpE,OADA0f,EAAW7jB,cAAc8oE,EAAaxjE,GAC/BwjE,I,iCCjBX,shBAeA,MAAMC,EAAY,aAAa,CAC7BpiF,GAAI,QAEAqiF,EAAyBD,EAAU/3E,QAAQ,aAAyB,CACxE7G,UAAW,CACT2iD,KAAM,IAAM,8BAAsC57C,KAAME,GAAMA,EAAE63E,sBAG9DC,EAAwBH,EAAU/3E,QAAQ,aAAyB,CACvE7G,UAAW,CACT2iD,KAAM,IAAM,8BAAsC57C,KAAME,GAAMA,EAAE+3E,qBAG9DC,EAAsBL,EAAU/3E,QAAQ,aAAyB,CACrE7G,UAAW,CACT2iD,KAAM,IAAM,8BAAsC57C,KAAME,GAAMA,EAAEi4E,mBAG9DC,EAAwBP,EAAU/3E,QAAQ,aAAyB,CACvE7G,UAAW,CACT2iD,KAAM,IAAM,8BAAsC57C,KAAME,GAAMA,EAAEm4E,qBAI9Dj6E,EAAY,YAAYC,GAAU,YAAa,CACnDi6E,KAAM,CACJtsB,OAAQ,aAAa3tD,EAAM+G,QAAQ+T,QACnCnB,UAAW3Z,EAAMk6E,QAAQ,GACzBt/D,aAAc,MACdxT,SAAU,UACV++C,SAAU,WACV5sC,OAAQvZ,EAAMG,QAAQ,EAAG,EAAG,GAC5ByY,KAAM,IACNhY,SAAU,UAGRu5E,EAAkB,EAAEC,aACxB,IAAIniF,EACJ,MAAMyI,EAAUX,KAEdzH,UAAWC,KAAM8hF,GACjBniE,MAAM,QAAC4rB,IACLs2C,EACEr2C,EAAuE,OAAxD9rC,EAAgB,MAAX6rC,OAAkB,EAASA,EAAQC,aAAuB9rC,EAAKoiF,EACzF,OAAuB,IAAMv9E,cAAc,IAAM,CAC/C+S,MAAM,EACNF,WAAW,EACXG,GAAI,GACJC,GAAI,EACJC,GAAI,EACJsqE,GAAI,GACa,IAAMx9E,cAAc,IAAK,CAC1CiE,UAAWL,EAAQu5E,MACF,IAAMn9E,cAAc,IAAK,CAC1CsD,QAAS,OACTq2D,cAAe,SACf50D,EAAG,EACH6W,WAAY,SACZrY,eAAgB,UACC,IAAMvD,cAAc,IAAQ,CAC7CinC,cACAE,QAAoB,MAAXH,OAAkB,EAASA,EAAQG,QAC5CsnB,aAAc,CACZpF,SAAU,WACVrX,IAAK,WAEW,IAAMhyC,cAAc,IAAK,CAC3Cy9E,GAAI,EACJ5hB,UAAW,UACM,IAAM77D,cAAc,IAAY,CACjD0D,QAAS,MACQ,IAAM1D,cAAc,IAAM,CAC3ClC,UAAW,IACXmC,GAAI,YAAa,4BAA4Bs9E,EAAY,YAAkBD,KAC1Er2C,IAA+B,IAAMjnC,cAAc,IAAY,CAChE0D,QAAS,WACG,MAAXsjC,OAAkB,EAASA,EAAQE,YAElC41C,EAAmBY,IACvB,IAAIviF,EACJ,MAAOD,OAAQyiF,GAAe,eAE5BniF,UAAWC,KAAMmiF,EAAWriF,UAAWsiF,GACvCziE,MAAM,QAAC4rB,IACL22C,EACE1hF,EAAa,aAAO,KACpBgrC,EAAuE,OAAxD9rC,EAAgB,MAAX6rC,OAAkB,EAASA,EAAQC,aAAuB9rC,EAAKyiF,EACnFE,EAAiBD,GAAgB,KAChCvK,EAAMyK,GAAW,IAAMh2E,SAAS,IAKjC,QAACnM,EAAO,MAAEC,EAAOK,MAAOmrC,GAAW,YAAS3qC,gBACtBT,EAAW0B,YAAY,CAC/Cf,OAAQ,CAACvB,KAAM,WAEoBuC,MAAMhB,OAAQ0gF,IACjD,IAAI7+E,EACJ,OAA6D,OAArDA,EAAgB,MAAV6+E,OAAiB,EAASA,EAAO3gF,gBAAqB,EAAS8B,EAAIimB,KAAM7nB,GAAMA,EAAEL,OAAS,KAAsBK,EAAEC,OAAOrB,KAAKqE,kBAAkB,WAAa89E,EAAU99E,kBAAkB,UAAYjD,EAAEC,OAAOvB,UAAUuE,kBAAkB,WAAag+E,EAAeh+E,kBAAkB,YAGvS,CAAC7D,EAAY0hF,IAChB,GAAI/hF,EACF,OAAuB,IAAMoE,cAAc,IAAU,MAChD,GAAInE,EACT,OAAuB,IAAMmE,cAAc,IAAoB,CAC7DnE,UAGJ,MAAMmiF,EAAUxvE,KAAK2C,OAAkB,MAAXk2B,OAAkB,EAASA,EAAQh7B,SAAW,GAlBzD,IAmBX4xE,EAAkBD,EAAU,EAAI,GAAK,UAAU1K,QAAW0K,IAC1DE,EAA6B,IAAMl+E,cAAc,IAAY,CACjE46B,MAAOojD,EACP1K,OACAh3D,SA1BiB,CAACzH,EAAGspE,KACrBJ,EAAQI,IA0BRC,iBAAiB,EACjBC,gBAAgB,IAElB,OAAuB,IAAMr+E,cAAc,IAAM,CAC/C+S,MAAM,GACW,IAAM/S,cAAc,IAAU,CAC/CpF,MAAO,aAAwB,MAAXysC,OAAkB,EAASA,EAAQh7B,SAAW,IAAI4xE,KACtE/c,UAAW,MAAMj6B,EACjBs6B,QAAS2c,GACQ,IAAMl+E,cAAc,IAAM,CAC3C6S,WAAW,EACXxP,QAAS,GACRgkC,GAAWA,EAAQh7B,OAAS,EAAIg7B,EAAQtV,MApC1B,IAoC4CuhD,EAAO,GApCnD,GAoCkEA,GAAMh2E,IAAKggF,GAA2B,IAAMt9E,cAAcq9E,EAAiB,CAC5JC,SACAh9E,IAAKg9E,EAAO9hF,SAAS6pC,OACD,IAAMrlC,cAAc,IAAK,CAC7CiO,EAAG,GACc,IAAMjO,cAAc,IAAY,KAAM,mCAGrDs+E,EAAY,EAAE1jF,WAA2B,IAAMoF,cAAc,IAAK,CACtEsD,QAAS,OACTsY,WAAY,UACK,IAAM5b,cAAc,IAAW,CAChDyF,SAAU,YACQ,IAAMzF,cAAc,IAAK,CAC3Cu+E,GAAI,GACH3jF,IACGgiF,EAAmB,EACvBl5E,cAEA,IAAIvI,EACJ,MAAOD,OAAQ6qB,GAAS,cACxB,IAAKA,EACH,OAAuB,IAAM/lB,cAAc,IAAO,CAChDgf,SAAU,SACT,mBAEL,MACExjB,UAAU,KAACC,EAAI,YAAElB,GACjB6gB,MAAM,QAAC4rB,IACLjhB,EACEy4D,EAAiB,YAAmBz4D,EAAO,IAAoB,CACnE1qB,KAAM,UAEFojF,EAAkB,YAAmB14D,EAAO,IAAmB,CACnE1qB,KAAM,UAEF4rC,EAAuE,OAAxD9rC,EAAgB,MAAX6rC,OAAkB,EAASA,EAAQC,aAAuB9rC,EAAKM,EACnFijF,GAAwB,MAAX13C,OAAkB,EAASA,EAAQE,OAAS,UAAUF,EAAQE,WAAU,EAC3F,OAAuB,IAAMlnC,cAAc,IAAU,CACnDpF,MAAuB,IAAMoF,cAAcs+E,EAAW,CACpD1jF,MAAOqsC,IAETi6B,UAAW3mE,EACXmJ,WACiB,IAAM1D,cAAc,IAAM,CAC3C6S,WAAW,EACXxP,QAAS,GACQ,IAAMrD,cAAc,IAAM,CAC3C+S,MAAM,EACNC,GAAI,GACJC,GAAI,EACJuqE,GAAI,GACa,IAAMx9E,cAAc,IAAQ,CAC7CinC,cACAE,QAAoB,MAAXH,OAAkB,EAASA,EAAQG,WACzB,IAAMnnC,cAAc,IAAM,CAC7C+S,MAAM,EACNG,GAAI,GACJsqE,GAAI,IACa,IAAMx9E,cAAc,IAAM,MAAkB,MAAXgnC,OAAkB,EAASA,EAAQE,QAA0B,IAAMlnC,cAAc,IAAU,KAAsB,IAAMA,cAAc,IAAc,KAAsB,IAAMA,cAAc,IAAS,CACxPpF,MAAO,SACU,IAAMoF,cAAc,IAAW,QAAyB,IAAMA,cAAc,IAAc,KAAsB,IAAMA,cAAc,IAAM,CAC3J+G,KAAM23E,GACL13C,EAAQE,SAAUu3C,EAAgBpyE,OAAyB,IAAMrM,cAAc,IAAU,KAAsB,IAAMA,cAAc,IAAc,KAAsB,IAAMA,cAAc,IAAS,CACrMpF,MAAO,gBACU,IAAMoF,cAAc,IAAiB,QAAyB,IAAMA,cAAc,IAAc,KAAsB,IAAMA,cAAc,IAAgB,CAC3KG,WAAYs+E,EACZj/E,YAAa,YACR,KAAMg/E,EAAenyE,OAAyB,IAAMrM,cAAc,IAAU,KAAsB,IAAMA,cAAc,IAAc,KAAsB,IAAMA,cAAc,IAAS,CAC5LpF,MAAO,gBACU,IAAMoF,cAAc,IAAW,QAAyB,IAAMA,cAAc,IAAc,KAAsB,IAAMA,cAAc,IAAgB,CACrKG,WAAYq+E,EACZh/E,YAAa,YACR,UAGHm/E,EAAc,EAAE/jF,WAAWA,EAAwB,IAAMoF,cAAc,IAAK,CAChFsD,QAAS,OACTsY,WAAY,UACK,IAAM5b,cAAc,IAAY,CACjDyF,SAAU,YACQ,IAAMzF,cAAc,IAAK,CAC3Cu+E,GAAI,GACH3jF,IAAU,KACPsiF,EAAkB,EACtBx5E,cAEA,IAAIvI,EACJ,MAAOD,OAAQymD,GAAQ,cACvB,IAAKA,EACH,OAAuB,IAAM3hD,cAAc,IAAO,CAChDgf,SAAU,SACT,kBAEL,MACExjB,UAAWC,KAAM8hF,GACjBniE,MAAM,QAAC4rB,IACL2a,EACE1a,EAAuE,OAAxD9rC,EAAgB,MAAX6rC,OAAkB,EAASA,EAAQC,aAAuB9rC,EAAKoiF,EACnFmB,GAAwB,MAAX13C,OAAkB,EAASA,EAAQE,OAAS,UAAUF,EAAQE,WAAU,EACrF03C,EAAoB,YAAmBj9B,EAAM,IAAoB,CACrEtmD,KAAM,UAER,OAAuB,IAAM2E,cAAc,IAAU,CACnDpF,MAAuB,IAAMoF,cAAc2+E,EAAa,CACtD/jF,MAAOqsC,IAETvjC,WACiB,IAAM1D,cAAc,IAAM,CAC3C6S,WAAW,EACXxP,QAAS,EACTuY,WAAY,cACK,IAAM5b,cAAc,IAAM,CAC3C+S,MAAM,EACNC,GAAI,GACJC,GAAI,EACJuqE,GAAI,GACa,IAAMx9E,cAAc,IAAQ,CAC7CinC,cACAE,QAAoB,MAAXH,OAAkB,EAASA,EAAQG,WACzB,IAAMnnC,cAAc,IAAM,CAC7C+S,MAAM,EACNG,GAAI,GACJsqE,GAAI,IACa,IAAMx9E,cAAc,IAAM,MAAkB,MAAXgnC,OAAkB,EAASA,EAAQE,QAA0B,IAAMlnC,cAAc,IAAU,KAAsB,IAAMA,cAAc,IAAc,KAAsB,IAAMA,cAAc,IAAS,CACxPpF,MAAO,SACU,IAAMoF,cAAc,IAAW,QAAyB,IAAMA,cAAc,IAAc,KAAsB,IAAMA,cAAc,IAAM,CAC3J+G,KAAM23E,GACL13C,EAAQE,SAA0B,IAAMlnC,cAAc,IAAU,KAAsB,IAAMA,cAAc,IAAc,KAAsB,IAAMA,cAAc,IAAS,CAC5KpF,MAAO,aACU,IAAMoF,cAAc,IAAW,QAAyB,IAAMA,cAAc,IAAc,KAAsB,IAAMA,cAAc,IAAgB,CACrKG,WAAYy+E,EACZp/E,YAAa,iBAIXq/E,EAAkB,CAAC37E,EAAO47E,EAAUC,KACxC,MAAM,OAACC,GAAU97E,EAAMuyE,aAAa,CAAC7iE,QAASmsE,KACxC,MAACnwC,GAAS1rC,EAAMuyE,aAAa,CAAC7iE,QAASksE,IAC7C,OAAO,YAAaE,EAAQpwC,GAAOykC,iBAE/B3rE,EAAc,YAAYxE,GAAU,YAAa,CACrDi6E,KAAM,CACJtsB,OAAQ,aAAa3tD,EAAM+G,QAAQ+T,QACnCnB,UAAW3Z,EAAMk6E,QAAQ,GACzBt/D,aAAc,MACd1a,QAASF,EAAMG,QAAQ,GACvBmE,MAAO,OACPmqD,WAAezuD,EAAM0uD,YAAYC,SAASotB,SAA9B,KACZ,UAAW,CACTpiE,UAAW3Z,EAAMk6E,QAAQ,KAG7B8B,KAAM,CACJx5E,WAAYxC,EAAMmrD,WAAWC,gBAE/B6wB,QAAS,CACPp2E,WAAY81E,EAAgB37E,EAAO,OAAQ,YAE7Ck8E,QAAS,CACPr2E,WAAY81E,EAAgB37E,EAAO,OAAQ,YAE7Cm8E,QAAS,CACPt2E,WAAY81E,EAAgB37E,EAAO,OAAQ,YAE7Co8E,cAAe,CACbv2E,WAAY81E,EAAgB37E,EAAO,OAAQ,kBAE7Cid,IAAK,CACHpX,WAAY81E,EAAgB37E,EAAO,OAAQ,SAE7Cq8E,KAAM,CACJx2E,WAAY81E,EAAgB37E,EAAO,OAAQ,YAGzCs8E,EAAkB,CAAC/iF,EAAUpB,EAAMmB,IAASC,EAASG,OAAQ8D,IACjE,IAAIvF,EACJ,OAAOuF,EAAErF,OAASA,KAASmB,IAA8C,OAArCrB,EAAU,MAALuF,OAAY,EAASA,EAAE0a,WAAgB,EAASjgB,EAAGqB,QAAUA,KACrG6P,OACGozE,EAAkB,EACtBC,UACAz7E,YACAxI,WAEA,MAAMmI,EAAU8D,IAChB,OAAuB,IAAM1H,cAAc,IAAK,CAC9CiE,UAAW,GAAGL,EAAQu5E,QAAQv5E,EAAQK,KACtCX,QAAS,OACTq2D,cAAe,SACf/9C,WAAY,UACK,IAAM5b,cAAc,IAAY,CACjDiE,UAAWL,EAAQs7E,KACnBx7E,QAAS,MACRg8E,GAA0B,IAAM1/E,cAAc,IAAY,CAC3DiE,UAAWL,EAAQs7E,KACnBx7E,QAAS,MACRjI,KAECuhF,EAAgB,EACpBt5E,cAEA,MAAM,OAACxI,GAAU,cACXe,EAAa,aAAO,MACpB,QACJL,EAAO,MACPC,EACAK,MAAOyjF,GACL,YAASjjF,UACX,MAaMkjF,SAZqB3jF,EAAW0B,YAAY,CAChDf,OAAQ,CACNvB,KAHU,CAAC,YAAa,QAK1BwkF,OAAQ,CACN,OACA,gBACA,qBACA,YACA,gBAGmCjiF,MAAMhB,OAAQkB,GAAc,YAAU5C,EAAQ4C,IACrF,MAAO,CACL,CACE4hF,QAASF,EAAgBI,EAAmB,YAAa,WACzD37E,UAAW,UACXxI,KAAM,YAER,CACEikF,QAASF,EAAgBI,EAAmB,YAAa,iBACzD37E,UAAW,gBACXxI,KAAM,iBAER,CACEikF,QAASF,EAAgBI,EAAmB,OAC5C37E,UAAW,MACXxI,KAAM,QAER,CACEikF,QAASF,EAAgBI,EAAmB,YAAa,WACzD37E,UAAW,UACXxI,KAAM,aAER,CACEikF,QAASF,EAAgBI,EAAmB,YAAa,WACzD37E,UAAW,UACXxI,KAAM,YAER,CACEikF,QAASF,EAAgBI,EAAmB,YAAa,QACzD37E,UAAW,OACXxI,KAAM,WAGT,CAACQ,EAAYf,IAChB,OAAIU,EACqB,IAAMoE,cAAc,IAAU,MAC5CnE,EACc,IAAMmE,cAAc,IAAoB,CAC7DnE,UAGmB,IAAMmE,cAAc,IAAU,CACnDpF,MAAO,YACP8I,WACiB,IAAM1D,cAAc,IAAM,CAC3C6S,WAAW,GACgB,MAA1B8sE,OAAiC,EAASA,EAAuBriF,IAAKgjC,GAAsB,IAAMtgC,cAAc,IAAM,CACvH+S,MAAM,EACNC,GAAI,EACJE,GAAI,EACJ4sE,GAAI,EACJx/E,IAAKggC,EAAE7kC,MACU,IAAMuE,cAAcy/E,EAAiB,CACtDC,QAASp/C,EAAEo/C,QACXz7E,UAAWq8B,EAAEr8B,UACbxI,KAAM6kC,EAAE7kC,a,iCCnaZ,mWAgBA,MAAMskF,EAAwB,aAAa,CACzCzlF,GAAI,iCACJC,YAAa,uDAETylF,EAAiB,aAAa,CAClC1lF,GAAI,0BACJC,YAAa,+CAGf,MAAM0lF,EACJ,aAAY,UACV93B,EAAS,aACTntC,EAAY,YACZwuB,IAEAl8B,KAAK66C,UAAYA,EACjB76C,KAAK0N,aAAeA,EACpB1N,KAAKk8B,YAAcA,EAErB,qBACE,IAAIruC,EACJ,OAAyE,OAAjEA,EAAKmS,KAAK66C,UAAUxoB,kBAAkB,wBAAkCxkC,QAAWmS,KAAK0N,aAAaS,WAAW,YAE1H,0BAA0BykE,GACxB,MAAM,KAAC7kF,EAAI,UAAEE,EAAS,KAAEE,GAAQykF,EAE1BC,EAAa,SADK7yE,KAAK8yE,oCACwB7kF,KAAaF,KAAQI,IACpEmkC,QAActyB,KAAKk8B,YAAYI,aAC/BiS,QAAgBngC,MAAM,GAAGykE,EAAc,CAC3ChmE,QAASylB,EAAQ,CAACmK,cAAe,UAAUnK,GAAW,KAGxD,aADkBic,EAAQlgC,OAG5B,wBAAwBukE,GACtB,MAAM,KAAC7kF,EAAI,UAAEE,EAAS,KAAEE,GAAQykF,EAE1BC,EAAa,SADK7yE,KAAK8yE,kCACsB7kF,KAAaF,KAAQI,IAClEmkC,QAActyB,KAAKk8B,YAAYI,aAC/BiS,QAAgBngC,MAAM,GAAGykE,EAAc,CAC3ChmE,QAASylB,EAAQ,CAACmK,cAAe,UAAUnK,GAAW,KAGxD,aADkBic,EAAQlgC,QAI9B,MAAM0kE,EACJ,aAAY,UACVl4B,EAAS,aACTntC,EAAY,YACZwuB,IAEAl8B,KAAK66C,UAAYA,EACjB76C,KAAK0N,aAAeA,EACpB1N,KAAKk8B,YAAcA,EAErB,qBACE,IAAIruC,EACJ,OAAyE,OAAjEA,EAAKmS,KAAK66C,UAAUxoB,kBAAkB,wBAAkCxkC,QAAWmS,KAAK0N,aAAaS,WAAW,YAE1H,sBACE,IAAItgB,EACJ,OAAyE,OAAjEA,EAAKmS,KAAK66C,UAAUxoB,kBAAkB,wBAAkCxkC,QAAcmS,KAAK0N,aAAaS,WAAW,YAAtC,eAEvF,mBACE,OAAOnO,KAAK66C,UAAUzmB,UAAU,oBAElC,oBAAoBw+C,EAAUvlF,GAC5B,MAAM,KAACU,EAAI,UAAEE,EAAS,KAAEE,GAAQykF,EAE1Bp5E,EAAM,SADawG,KAAKgzE,mBACD/kF,KAAaF,KAAQI,KAAQd,IACpDilC,QAActyB,KAAKk8B,YAAYI,aAC/BiS,QAAgBngC,OAAS5U,EAAI0zC,SAAS,KAAO1zC,EAASA,EAAH,KAA7B,aAAoD,CAC9EqT,QAASylB,EAAQ,CAACmK,cAAe,UAAUnK,GAAW,KAExD,IAAI2gD,EAAe,GACnB,OAAQ1kC,EAAQthC,QACd,KAAK,IAKH,MAJAgmE,EAAe,mBACV5lF,IACH4lF,GAAgB,yGAEZ,IAAI,IAAcA,GAC1B,KAAK,IAEH,MADAA,EAAe,yEACT,IAAIlkF,MAAMkkF,GAEpB,OAAO1kC,EAAQt5C,OAEjB,qBAAqB29E,GACnB,MAAM,KAAC7kF,EAAI,UAAEE,EAAS,KAAEE,GAAQykF,EAE1Bp5E,EAAM,SADYwG,KAAK8yE,uBACI7kF,KAAaF,KAAQI,IAChDmkC,QAActyB,KAAKk8B,YAAYI,aACrC,IAAIiS,EACA2kC,EAAW,EACf,MAAQ3kC,GAA8B,MAAnBA,EAAQthC,QAAkBimE,EAAW,GACtDA,IACA3kC,QAAgBngC,MAAM5U,EAAK,CACzBqT,QAASylB,EAAQ,CAACmK,cAAe,UAAUnK,GAAW,KAG1D,OAAQic,EAAQthC,QACd,KAAK,IACH,MAAM,IAAI,WAAqBshC,EAAQlgC,QAAQ9f,OACjD,KAAK,IACL,KAAK,IACL,KAAK,IACH,OAAO,EACT,KAAK,IACL,QACE,OAAO,GAGb,iBAAiB4kF,EAAYP,EAAUvlF,GACrC,MAAM,KAACU,EAAI,UAAEE,EAAS,KAAEE,GAAQykF,EAC1BQ,QAAkBpzE,KAAK8yE,eAC7B,OAAO,IAAI7hD,IAAIkiD,EAAY,GAAGC,iBAAyBnlF,KAAaF,KAAQI,KAAQd,KAAQskB,YAIhG,MAAM1a,EAAe,aAAe,CAClC5J,KAAM,GACNC,MAAO,0BAEH+lF,EAAmB,aAAe,CACtChmF,KAAM,2BACNC,MAAO,SAEHgmF,EAA0B,aAAe,CAC7CjmF,KAAM,IACNC,MAAO,SAGHimF,EAAiB,aAAa,CAClCvmF,GAAI,WACJ4lB,KAAM,CACJ,aAAiB,CACfC,IAAK4/D,EACL3/D,KAAM,CACJ+nC,UAAW,KACXntC,aAAc,KACdwuB,YAAa,MAEfnpB,QAAS,EAAE8nC,YAAWntC,eAAcwuB,iBAAiB,IAAI62C,EAAsB,CAC7El4B,YACAntC,eACAwuB,kBAGJ,aAAiB,CACfrpB,IAAK6/D,EACL5/D,KAAM,CACJ+nC,UAAW,KACXntC,aAAc,KACdwuB,YAAa,MAEfnpB,QAAS,EAAE8nC,YAAWntC,eAAcwuB,iBAAiB,IAAIy2C,EAAe,CACtE93B,YACAntC,eACAwuB,mBAIN/kC,OAAQ,CACNC,KAAMH,EACNu8E,cAAeF,KAGbG,EAAeF,EAAel8E,QAAQ,aAAwB,CAClE7G,UAAW,IAAMP,QAAQqH,UAAUC,MAAK,WAAc,OAAOm8E,MAAan8E,KAAME,GAAMA,EAAEqmC,QACxFnmC,WAAYV,KAER08E,EAAwBJ,EAAel8E,QAAQ,aAAwB,CAC3E7G,UAAW,IAAMP,QAAQqH,UAAUC,MAAK,WAAc,OAAOm8E,MAAan8E,KAAME,GAAMA,EAAEm8E,oBACxFj8E,WAAY27E,KAqBRO,GAnBeN,EAAel8E,QAAQ,aAAyB,CACnE7G,UAAW,CACT2iD,KAAM,IAAMljD,QAAQqH,UAAUC,MAAK,WAAc,OAAOu8E,MAAmBv8E,KAAME,GAAMA,EAAEs8E,kBAG3ER,EAAel8E,QAAQ,aAAyB,CAChE7G,UAAW,CACT2iD,KAAM,IAAMljD,QAAQqH,UAAUC,MAAK,WAAc,OAAOy8E,MAAgBz8E,KAAME,GAAMA,EAAEw8E,eAG/DV,EAAel8E,QAAQ,aAAwB,CACxE7G,UAAW,IAAMP,QAAQqH,UAAUC,MAAK,WAAc,OAAO28E,MAAyB38E,KAAME,GAAMA,EAAE08E,oBACpGx8E,WAAYV,KAEas8E,EAAel8E,QAAQ,aAAwB,CACxE7G,UAAW,IAAMP,QAAQqH,UAAUC,MAAK,WAAc,OAAO68E,MAAmB78E,KAAME,GAAMA,EAAE48E,cAC9F18E,WAAY07E,KAGK,EACjBiB,qBACA1B,WACAvlF,UAEQknF,IACN,MAAMC,EAAY,CAACljD,EAAMmjD,KACvB7iF,MAAMC,KAAKy/B,GAAMhiC,OAAQolF,KAAWA,EAAKC,aAAaF,IAAgBjyE,QAAQpT,MAAOslF,IACnF,MAAME,EAAgBF,EAAKC,aAAaF,GACnCG,GAELF,EAAKr4E,aAAao4E,QAAqBH,EAAmBnmE,WAAWymE,EAAehC,EAAUvlF,OAMlG,OAHAmnF,EAAUD,EAAIM,iBAAiB,OAAQ,OACvCL,EAAUD,EAAIM,iBAAiB,UAAW,OAC1CL,EAAUD,EAAIM,iBAAiB,QAAS,QACjCN,IAILO,EAAsB34C,GAClBo4C,IACN,MAAMQ,EAAeR,EAAIS,cAAc,4BACvC,IAAKD,IAAiBA,EAAat7E,KACjC,OAAO86E,EAET,MAAMU,EAAY,IAAIhkD,IAAI8jD,EAAat7E,MACjCm8B,EAAcuG,EAAmBzG,MAAMu/C,GAC7C,GAA0D,YAAtC,MAAfr/C,OAAsB,EAASA,EAAY1mC,OAA4E,YAAtC,MAAf0mC,OAAsB,EAASA,EAAY1mC,MAChH,OAAOqlF,EAET,MAAMjnF,EAAQinF,EAAIS,cAAc,cAAcE,WAAW,GAAGC,YACtDC,EAAa54C,mBAAmB,2BAA2BlvC,GAC3D+nF,EAAY74C,mBAAmB,iBACvCu4C,EAAat7E,qBAGL67E,EAAWL,EAAUjjD,SAASvgB,MAAM,KAAKgT,MAAM,EAAG,GAAG9vB,KAAK,KAC1D4gF,EAAeR,EAAaS,YAClC,OAAuB,MAAf5/C,OAAsB,EAASA,EAAY1mC,MACjD,IAAK,SACHqmF,EAAa97E,KAAO,GAAGw7E,EAAUlwC,SAASuwC,6BAAoCF,wBAAiCC,IAC/G,MACF,IAAK,SACHE,EAAa97E,KAAO,GAAGw7E,EAAUlwC,SAASuwC,sBAA6BF,UAAmBC,IAC1F,MACF,QACE,OAAOd,EAOX,OALA,IAASjgF,OAAO,IAAM5B,cAAc,KAAuB6iF,GAC3DA,EAAa7+E,MAAM+G,YAAc,MACjC83E,EAAajoF,MAAQ,+BACrBioF,EAAavoF,GAAK,oBACF,MAAhB+nF,GAAgCA,EAAaU,sBAAsB,cAAeF,GAC3EhB,GAILmB,EAAkB,IACdnB,IACY,IAACjjD,EAAMmjD,EAazB,OAbmBnjD,EAYT1/B,MAAMC,KAAK0iF,EAAIoB,qBAAqB,MAZrBlB,EAY4B,OAXnD7iF,MAAMC,KAAKy/B,GAAMhiC,OAAQolF,GAASA,EAAKkB,aAAanB,IAAgBjyE,QAASkyE,IAC3E,MAAME,EAAgBF,EAAKC,aAAaF,GACxC,GAAIG,EAAe,CACbA,EAAc7xE,MAAM,kBACtB2xE,EAAKr4E,aAAa,SAAU,UAE9B,MAAMw5E,EAShB,SAAsBtnE,GACpB,MAAM/U,EAAM,IAAIy3B,IAAI1iB,GAIpB,OAHK/U,EAAIw4B,SAASkb,SAAS,OACzB1zC,EAAIw4B,UAAY,KAEXx4B,EAAImY,WAd8BmkE,CAAa97E,OAAOC,SAASR,MAC9Di7E,EAAKr4E,aAAao4E,EAAe,IAAIxjD,IAAI2jD,EAAeiB,GAA0BlkE,eAKjF4iE,GAWX,MAAMwB,EAAuB,EAC3BjhD,UACA/6B,aAEQw6E,IACN3iF,MAAMC,KAAK0iF,EAAIoB,qBAAqB,MAAMnzE,QAASkyE,IACjDA,EAAKt3C,iBAAiB,QAAUhqC,IAC9B,MACMqG,EADSi7E,EACKC,aAAa,QAC5Bl7E,GAEDA,EAAKqT,WAAWgoB,KAClB1hC,EAAEmf,iBACFxY,EAAQ3G,EAAGqG,QAIV86E,GAoBLyB,EAAa,EACjBC,gBACAC,YACAC,cAEQ5B,IACN,MAAM6B,EAAWxkF,MAAMC,KAAK0iF,EAAIM,iBAAiB,kCAAkCvlF,OAAOF,MAAOslF,IAC/F,IAAI7mF,EACJ,OAA2C,OAAnCA,EAAK6mF,EAAKC,aAAa,cAAmB,EAAS9mF,EAAGif,iBAAiBmpE,KAEjF,IAAI3oD,EAAQ8oD,EAASr3E,OAUrB,OATIuuB,EAAQ,GACV4oD,EAAU3B,GAEZ6B,EAAS5zE,QAAS6zE,GAAYA,EAAQj5C,iBAAiB,OAAQ,KAC7D9P,GAAS,EACK,IAAVA,GACF6oD,EAAS5B,MAGNA,GAmOL+B,EAAwB,CA9N5B,IACA,OACA,UACA,UACA,OACA,UACA,QACA,QACA,IACA,MACA,MACA,MACA,QACA,aACA,OACA,KACA,SACA,SACA,UACA,SACA,OACA,OACA,MACA,WACA,UACA,OACA,WACA,KACA,YACA,MACA,UACA,MACA,MACA,MACA,KACA,KACA,UACA,KACA,WACA,aACA,SACA,OACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,MACA,QACA,MACA,MACA,QACA,SACA,KACA,OACA,OACA,MACA,OACA,UACA,OACA,WACA,QACA,MACA,OACA,KACA,WACA,SACA,SACA,IACA,UACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,UACA,SACA,SACA,QACA,SACA,SACA,OACA,SACA,SACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,WACA,QACA,KACA,QACA,OACA,KACA,QACA,KACA,IACA,KACA,MACA,QACA,MAGA,MACA,IACA,WACA,cACA,eACA,eACA,gBACA,mBACA,QACA,SACA,SACA,WACA,OACA,OACA,UACA,SACA,OACA,IACA,QACA,WACA,QACA,QACA,OACA,iBACA,SACA,OACA,WACA,QACA,SACA,OACA,UACA,UACA,WACA,iBACA,OACA,OACA,SACA,SACA,OACA,WACA,QACA,OACA,QACA,QACA,OACA,QAGA,UACA,gBACA,sBACA,cACA,mBACA,oBACA,oBACA,iBACA,UACA,UACA,UACA,UACA,UACA,iBACA,UACA,cACA,eACA,WACA,eACA,qBACA,cACA,SACA,eAGA,OACA,WACA,SACA,UACA,QACA,SACA,KACA,aACA,gBACA,KACA,KACA,QACA,UACA,WACA,QACA,OACA,KACA,SACA,QACA,SACA,OACA,OACA,UACA,SACA,MACA,QACA,MACA,SACA,aAEY,QAOZ,UAoWIC,EAA8B,CAClC,IAAK,CAjWL,SACA,SACA,QACA,MACA,iBACA,eACA,uBACA,WACA,aACA,UACA,SACA,UACA,cACA,cACA,UACA,OACA,QACA,QACA,QACA,OACA,UACA,WACA,eACA,SACA,cACA,WACA,WACA,UACA,MACA,WACA,0BACA,wBACA,WACA,YACA,UACA,eACA,OACA,MACA,UACA,SACA,SACA,OACA,OACA,WACA,KACA,YACA,YACA,QACA,OACA,QACA,OACA,OACA,UACA,OACA,MACA,MACA,YACA,QACA,SACA,MACA,YACA,WACA,QACA,OACA,UACA,aACA,SACA,OACA,UACA,UACA,cACA,cACA,SACA,UACA,UACA,aACA,WACA,MACA,WACA,MACA,WACA,OACA,OACA,UACA,aACA,QACA,WACA,QACA,OACA,QACA,OACA,UACA,QACA,MACA,SACA,OACA,QACA,UACA,WACA,QACA,YACA,OACA,SACA,SACA,QACA,QACA,QAGA,gBACA,aACA,WACA,qBACA,SACA,gBACA,gBACA,UACA,gBACA,iBACA,QACA,OACA,KACA,QACA,OACA,YACA,YACA,QACA,sBACA,8BACA,gBACA,kBACA,KACA,KACA,IACA,KACA,KACA,OACA,kBACA,YACA,UACA,UACA,MACA,WACA,YACA,MACA,OACA,eACA,YACA,SACA,cACA,cACA,gBACA,cACA,YACA,mBACA,eACA,aACA,eACA,cACA,KACA,KACA,KACA,KACA,aACA,WACA,gBACA,oBACA,SACA,OACA,KACA,kBACA,KACA,MACA,IACA,KACA,KACA,KACA,KACA,UACA,YACA,aACA,WACA,OACA,eACA,iBACA,eACA,mBACA,iBACA,QACA,aACA,aACA,eACA,eACA,cACA,cACA,mBACA,YACA,MACA,OACA,QACA,SACA,OACA,MACA,OACA,aACA,SACA,WACA,UACA,QACA,SACA,cACA,SACA,WACA,cACA,OACA,aACA,sBACA,mBACA,eACA,SACA,gBACA,sBACA,iBACA,IACA,KACA,KACA,SACA,OACA,OACA,cACA,YACA,UACA,SACA,SACA,QACA,OACA,kBACA,mBACA,mBACA,eACA,cACA,eACA,cACA,aACA,eACA,mBACA,oBACA,iBACA,kBACA,oBACA,iBACA,SACA,eACA,QACA,eACA,WACA,UACA,UACA,YACA,cACA,kBACA,iBACA,a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","file":"static/module-backstage.77d6af03.js","sourcesContent":["import { createApiRef, createRouteRef, useRouteRefParams, useApi, errorApiRef, storageApiRef, Link, OverflowTooltip, Table } from '@backstage/core';\nimport React, { createContext, useEffect, useContext, useState, useCallback, forwardRef } from 'react';\nimport { useNavigate, generatePath } from 'react-router';\nimport { useAsync, useObservable } from 'react-use';\nimport { ENTITY_DEFAULT_NAMESPACE, serializeEntityRef, RELATION_MEMBER_OF, getEntityName, RELATION_OWNED_BY, RELATION_PART_OF } from '@backstage/catalog-model';\nimport { groupBy, chunk } from 'lodash';\nimport { makeStyles } from '@material-ui/core';\n\nconst catalogApiRef = createApiRef({\n  id: \"plugin.catalog.service\",\n  description: \"Used by the Catalog plugin to make requests to accompanying backend\"\n});\n\nconst NoIcon = () => null;\nconst rootRoute = createRouteRef({\n  icon: NoIcon,\n  path: \"\",\n  title: \"Catalog\"\n});\nconst catalogRouteRef = rootRoute;\nconst entityRoute = createRouteRef({\n  icon: NoIcon,\n  path: \":namespace/:kind/:name/*\",\n  title: \"Entity\",\n  params: [\"namespace\", \"kind\", \"name\"]\n});\nconst entityRouteRef = entityRoute;\nfunction entityRouteParams(entity) {\n  var _a, _b;\n  return {\n    kind: entity.kind.toLowerCase(),\n    namespace: (_b = (_a = entity.metadata.namespace) == null ? void 0 : _a.toLowerCase()) != null ? _b : ENTITY_DEFAULT_NAMESPACE,\n    name: entity.metadata.name\n  };\n}\n\nconst useEntityCompoundName = () => {\n  const {kind, namespace, name} = useRouteRefParams(entityRouteRef);\n  return {kind, namespace, name};\n};\n\nconst EntityContext = createContext({\n  entity: void 0,\n  loading: true,\n  error: void 0\n});\nconst useEntityFromUrl = () => {\n  const {kind, namespace, name} = useEntityCompoundName();\n  const navigate = useNavigate();\n  const errorApi = useApi(errorApiRef);\n  const catalogApi = useApi(catalogApiRef);\n  const {value: entity, error, loading} = useAsync(() => catalogApi.getEntityByName({kind, namespace, name}), [catalogApi, kind, namespace, name]);\n  useEffect(() => {\n    if (!name) {\n      errorApi.post(new Error(\"No name provided!\"));\n      navigate(\"/\");\n    }\n  }, [errorApi, navigate, error, loading, entity, name]);\n  return {entity, loading, error};\n};\nfunction useEntity() {\n  const {entity, loading, error} = useContext(EntityContext);\n  return {entity, loading, error};\n}\n\nconst BATCH_SIZE = 20;\nfunction useRelatedEntities(entity, {type, kind}) {\n  const catalogApi = useApi(catalogApiRef);\n  const {loading, value: entities, error} = useAsync(async () => {\n    const relations = entity.relations && entity.relations.filter((r) => (!type || r.type.toLowerCase() === type.toLowerCase()) && (!kind || r.target.kind.toLowerCase() === kind.toLowerCase()));\n    if (!relations) {\n      return [];\n    }\n    const relationsByKindAndNamespace = Object.values(groupBy(relations, ({target}) => {\n      return `${target.kind}:${target.namespace}`.toLowerCase();\n    }));\n    const batchedRelationsByKindAndNamespace = [];\n    for (const rs of relationsByKindAndNamespace) {\n      batchedRelationsByKindAndNamespace.push({\n        kind: rs[0].target.kind,\n        namespace: rs[0].target.namespace,\n        nameBatches: chunk(rs.map((r) => r.target.name), BATCH_SIZE)\n      });\n    }\n    const results = await Promise.all(batchedRelationsByKindAndNamespace.flatMap((rs) => {\n      return rs.nameBatches.map((names) => {\n        return catalogApi.getEntities({\n          filter: {\n            kind: rs.kind,\n            \"metadata.namespace\": rs.namespace,\n            \"metadata.name\": names\n          }\n        });\n      });\n    }));\n    return results.flatMap((r) => r.items);\n  }, [entity, type]);\n  return {\n    entities,\n    loading,\n    error\n  };\n}\n\nconst buildEntityKey = (component) => {\n  var _a;\n  return `entity:${component.kind}:${(_a = component.metadata.namespace) != null ? _a : \"default\"}:${component.metadata.name}`;\n};\nconst useStarredEntities = () => {\n  var _a;\n  const storageApi = useApi(storageApiRef);\n  const settingsStore = storageApi.forBucket(\"settings\");\n  const rawStarredEntityKeys = (_a = settingsStore.get(\"starredEntities\")) != null ? _a : [];\n  const [starredEntities, setStarredEntities] = useState(new Set(rawStarredEntityKeys));\n  const observedItems = useObservable(settingsStore.observe$(\"starredEntities\"));\n  useEffect(() => {\n    var _a2;\n    if (observedItems == null ? void 0 : observedItems.newValue) {\n      const currentValue = (_a2 = observedItems == null ? void 0 : observedItems.newValue) != null ? _a2 : [];\n      setStarredEntities(new Set(currentValue));\n    }\n  }, [observedItems == null ? void 0 : observedItems.newValue]);\n  const toggleStarredEntity = useCallback((entity) => {\n    const entityKey = buildEntityKey(entity);\n    if (starredEntities.has(entityKey)) {\n      starredEntities.delete(entityKey);\n    } else {\n      starredEntities.add(entityKey);\n    }\n    settingsStore.set(\"starredEntities\", Array.from(starredEntities));\n  }, [starredEntities, settingsStore]);\n  const isStarredEntity = useCallback((entity) => {\n    const entityKey = buildEntityKey(entity);\n    return starredEntities.has(entityKey);\n  }, [starredEntities]);\n  return {\n    starredEntities,\n    toggleStarredEntity,\n    isStarredEntity\n  };\n};\n\nconst EntityProvider = ({entity, children}) => /* @__PURE__ */ React.createElement(EntityContext.Provider, {\n  value: {\n    entity,\n    loading: !Boolean(entity),\n    error: void 0\n  }\n}, children);\n\nfunction formatEntityRefTitle(entityRef, opts) {\n  const defaultKind = opts == null ? void 0 : opts.defaultKind;\n  let kind;\n  let namespace;\n  let name;\n  if (\"metadata\" in entityRef) {\n    kind = entityRef.kind;\n    namespace = entityRef.metadata.namespace;\n    name = entityRef.metadata.name;\n  } else {\n    kind = entityRef.kind;\n    namespace = entityRef.namespace;\n    name = entityRef.name;\n  }\n  if (namespace === ENTITY_DEFAULT_NAMESPACE) {\n    namespace = void 0;\n  }\n  kind = kind.toLowerCase();\n  return `${serializeEntityRef({\n    kind: defaultKind && defaultKind.toLowerCase() === kind ? void 0 : kind,\n    name,\n    namespace\n  })}`;\n}\n\nconst EntityRefLink = forwardRef((props, ref) => {\n  var _a;\n  const {entityRef, defaultKind, children, ...linkProps} = props;\n  let kind;\n  let namespace;\n  let name;\n  if (\"metadata\" in entityRef) {\n    kind = entityRef.kind;\n    namespace = entityRef.metadata.namespace;\n    name = entityRef.metadata.name;\n  } else {\n    kind = entityRef.kind;\n    namespace = entityRef.namespace;\n    name = entityRef.name;\n  }\n  kind = kind.toLocaleLowerCase(\"en-US\");\n  const routeParams = {\n    kind,\n    namespace: (_a = namespace == null ? void 0 : namespace.toLocaleLowerCase(\"en-US\")) != null ? _a : ENTITY_DEFAULT_NAMESPACE,\n    name\n  };\n  return /* @__PURE__ */ React.createElement(Link, {\n    ...linkProps,\n    ref,\n    to: generatePath(`/catalog/${entityRoute.path}`, routeParams)\n  }, children, !children && formatEntityRefTitle(entityRef, {defaultKind}));\n});\n\nconst EntityRefLinks = ({\n  entityRefs,\n  defaultKind,\n  ...linkProps\n}) => /* @__PURE__ */ React.createElement(React.Fragment, null, entityRefs.map((r, i) => /* @__PURE__ */ React.createElement(React.Fragment, {\n  key: i\n}, i > 0 && \", \", /* @__PURE__ */ React.createElement(EntityRefLink, {\n  ...linkProps,\n  entityRef: r,\n  defaultKind\n}))));\n\nfunction getEntityRelations(entity, relationType, filter) {\n  var _a, _b;\n  let entityNames = ((_b = (_a = entity == null ? void 0 : entity.relations) == null ? void 0 : _a.filter((r) => r.type === relationType)) == null ? void 0 : _b.map((r) => r.target)) || [];\n  if (filter == null ? void 0 : filter.kind) {\n    entityNames = entityNames == null ? void 0 : entityNames.filter((e) => e.kind.toLowerCase() === filter.kind.toLowerCase());\n  }\n  return entityNames;\n}\n\nfunction isOwnerOf(owner, owned) {\n  const possibleOwners = [\n    ...getEntityRelations(owner, RELATION_MEMBER_OF, {kind: \"group\"}),\n    ...owner ? [getEntityName(owner)] : []\n  ];\n  const owners = getEntityRelations(owned, RELATION_OWNED_BY);\n  for (const ownerItem of owners) {\n    if (possibleOwners.find((o) => ownerItem.kind.toLowerCase() === o.kind.toLowerCase() && ownerItem.namespace.toLowerCase() === o.namespace.toLowerCase() && ownerItem.name.toLowerCase() === o.name.toLowerCase()) !== void 0) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction createEntityRefColumn({\n  defaultKind\n}) {\n  function formatContent(entity) {\n    return formatEntityRefTitle(entity, {\n      defaultKind\n    });\n  }\n  return {\n    title: \"Name\",\n    highlight: true,\n    customFilterAndSearch(filter, entity) {\n      return formatContent(entity).includes(filter);\n    },\n    customSort(entity1, entity2) {\n      return formatContent(entity1).localeCompare(formatContent(entity2));\n    },\n    render: (entity) => /* @__PURE__ */ React.createElement(EntityRefLink, {\n      entityRef: entity,\n      defaultKind\n    })\n  };\n}\nfunction createEntityRelationColumn({\n  title,\n  relation,\n  defaultKind,\n  filter: entityFilter\n}) {\n  function getRelations(entity) {\n    return getEntityRelations(entity, relation, entityFilter);\n  }\n  function formatContent(entity) {\n    return getRelations(entity).map((r) => formatEntityRefTitle(r, {defaultKind})).join(\", \");\n  }\n  return {\n    title,\n    customFilterAndSearch(filter, entity) {\n      return formatContent(entity).includes(filter);\n    },\n    customSort(entity1, entity2) {\n      return formatContent(entity1).localeCompare(formatContent(entity2));\n    },\n    render: (entity) => {\n      return /* @__PURE__ */ React.createElement(EntityRefLinks, {\n        entityRefs: getRelations(entity),\n        defaultKind\n      });\n    }\n  };\n}\nfunction createOwnerColumn() {\n  return createEntityRelationColumn({\n    title: \"Owner\",\n    relation: RELATION_OWNED_BY,\n    defaultKind: \"group\"\n  });\n}\nfunction createDomainColumn() {\n  return createEntityRelationColumn({\n    title: \"Domain\",\n    relation: RELATION_PART_OF,\n    defaultKind: \"domain\",\n    filter: {\n      kind: \"domain\"\n    }\n  });\n}\nfunction createSystemColumn() {\n  return createEntityRelationColumn({\n    title: \"System\",\n    relation: RELATION_PART_OF,\n    defaultKind: \"system\",\n    filter: {\n      kind: \"system\"\n    }\n  });\n}\nfunction createMetadataDescriptionColumn() {\n  return {\n    title: \"Description\",\n    field: \"metadata.description\",\n    render: (entity) => /* @__PURE__ */ React.createElement(OverflowTooltip, {\n      text: entity.metadata.description,\n      placement: \"bottom-start\"\n    }),\n    width: \"auto\"\n  };\n}\nfunction createSpecLifecycleColumn() {\n  return {\n    title: \"Lifecycle\",\n    field: \"spec.lifecycle\"\n  };\n}\nfunction createSpecTypeColumn() {\n  return {\n    title: \"Type\",\n    field: \"spec.type\"\n  };\n}\n\nvar columnFactories = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  createEntityRefColumn: createEntityRefColumn,\n  createEntityRelationColumn: createEntityRelationColumn,\n  createOwnerColumn: createOwnerColumn,\n  createDomainColumn: createDomainColumn,\n  createSystemColumn: createSystemColumn,\n  createMetadataDescriptionColumn: createMetadataDescriptionColumn,\n  createSpecLifecycleColumn: createSpecLifecycleColumn,\n  createSpecTypeColumn: createSpecTypeColumn\n});\n\nconst systemEntityColumns = [\n  createEntityRefColumn({defaultKind: \"system\"}),\n  createDomainColumn(),\n  createOwnerColumn(),\n  createMetadataDescriptionColumn()\n];\nconst componentEntityColumns = [\n  createEntityRefColumn({defaultKind: \"component\"}),\n  createSystemColumn(),\n  createOwnerColumn(),\n  createSpecTypeColumn(),\n  createSpecLifecycleColumn(),\n  createMetadataDescriptionColumn()\n];\n\nconst useStyles = makeStyles((theme) => ({\n  empty: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    justifyContent: \"center\"\n  }\n}));\nfunction EntityTable({\n  entities,\n  title,\n  emptyContent,\n  variant = \"gridItem\",\n  columns\n}) {\n  const classes = useStyles();\n  const tableStyle = {\n    minWidth: \"0\",\n    width: \"100%\"\n  };\n  if (variant === \"gridItem\") {\n    tableStyle.height = \"calc(100% - 10px)\";\n  }\n  return /* @__PURE__ */ React.createElement(Table, {\n    columns,\n    title,\n    style: tableStyle,\n    emptyContent: emptyContent && /* @__PURE__ */ React.createElement(\"div\", {\n      className: classes.empty\n    }, emptyContent),\n    options: {\n      search: false,\n      paging: false,\n      actionsColumnIndex: -1,\n      padding: \"dense\"\n    },\n    data: entities\n  });\n}\nEntityTable.columns = columnFactories;\nEntityTable.systemEntityColumns = systemEntityColumns;\nEntityTable.componentEntityColumns = componentEntityColumns;\n\nexport { EntityContext, EntityProvider, EntityRefLink, EntityRefLinks, EntityTable, catalogApiRef, catalogRouteRef, entityRoute, entityRouteParams, entityRouteRef, formatEntityRefTitle, getEntityRelations, isOwnerOf, rootRoute, useEntity, useEntityCompoundName, useEntityFromUrl, useRelatedEntities, useStarredEntities };\n//# sourceMappingURL=index.esm.js.map\n","import { createRouteRef, createPlugin, createRoutableExtension, MarkdownContent, Progress, useApi, errorApiRef, Page, Header, Content, ContentHeader, SupportButton } from '@backstage/core';\nimport React, { useRef, useLayoutEffect, useState, useEffect } from 'react';\nimport { makeStyles, DialogContent, DialogActions, Button, Grid } from '@material-ui/core';\nimport { useAsync } from 'react-use';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport LinkIcon from '@material-ui/icons/Link';\nimport color from 'color';\nimport { forceSimulation, forceCollide } from 'd3-force';\n\nconst rootRouteRef = createRouteRef({\n  title: \"Tech Radar\"\n});\nconst techRadarPlugin = createPlugin({\n  id: \"tech-radar\",\n  routes: {\n    root: rootRouteRef\n  }\n});\nconst TechRadarPage = techRadarPlugin.provide(createRoutableExtension({\n  component: () => Promise.resolve().then(function () { return RadarPage$1; }).then((m) => m.RadarPage),\n  mountPoint: rootRouteRef\n}));\n\nconst useStyles = makeStyles(() => ({\n  ring: {\n    fill: \"none\",\n    stroke: \"#bbb\",\n    strokeWidth: \"1px\"\n  },\n  axis: {\n    fill: \"none\",\n    stroke: \"#bbb\",\n    strokeWidth: \"1px\"\n  },\n  text: {\n    pointerEvents: \"none\",\n    userSelect: \"none\",\n    fill: \"#e5e5e5\",\n    fontSize: \"25px\",\n    fontWeight: 800\n  }\n}));\nconst RadarGrid = (props) => {\n  const {radius, rings} = props;\n  const classes = useStyles(props);\n  const makeRingNode = (ringIndex, ringRadius) => [\n    /* @__PURE__ */ React.createElement(\"circle\", {\n      key: `c${ringIndex}`,\n      cx: 0,\n      cy: 0,\n      r: ringRadius,\n      className: classes.ring\n    }),\n    /* @__PURE__ */ React.createElement(\"text\", {\n      key: `t${ringIndex}`,\n      y: ringRadius !== void 0 ? -ringRadius + 42 : void 0,\n      textAnchor: \"middle\",\n      className: classes.text\n    }, rings[ringIndex].name)\n  ];\n  const axisNodes = [\n    /* @__PURE__ */ React.createElement(\"line\", {\n      key: \"x\",\n      x1: 0,\n      y1: -radius,\n      x2: 0,\n      y2: radius,\n      className: classes.axis,\n      \"data-testid\": \"radar-grid-x-line\"\n    }),\n    /* @__PURE__ */ React.createElement(\"line\", {\n      key: \"y\",\n      x1: -radius,\n      y1: 0,\n      x2: radius,\n      y2: 0,\n      className: classes.axis,\n      \"data-testid\": \"radar-grid-y-line\"\n    })\n  ];\n  const ringNodes = rings.map((r) => r.outerRadius).map((ringRadius, ringIndex) => makeRingNode(ringIndex, ringRadius));\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, axisNodes.concat(...ringNodes));\n};\n\nconst WithLink = ({\n  url,\n  className,\n  children\n}) => url ? /* @__PURE__ */ React.createElement(\"a\", {\n  href: url,\n  className\n}, children) : /* @__PURE__ */ React.createElement(React.Fragment, null, children);\n\nconst RadarDescription = (props) => {\n  const {open, onClose, title, description, url} = props;\n  const handleClick = () => {\n    onClose();\n    if (url) {\n      window.location.href = url;\n    }\n  };\n  return /* @__PURE__ */ React.createElement(Dialog, {\n    \"data-testid\": \"radar-description\",\n    open,\n    onClose\n  }, /* @__PURE__ */ React.createElement(DialogTitle, {\n    \"data-testid\": \"radar-description-dialog-title\"\n  }, title), /* @__PURE__ */ React.createElement(DialogContent, {\n    dividers: true\n  }, /* @__PURE__ */ React.createElement(MarkdownContent, {\n    content: description\n  })), url && /* @__PURE__ */ React.createElement(DialogActions, null, /* @__PURE__ */ React.createElement(Button, {\n    onClick: handleClick,\n    color: \"primary\",\n    startIcon: /* @__PURE__ */ React.createElement(LinkIcon, null),\n    href: url\n  }, \"LEARN MORE\")));\n};\n\nconst useStyles$1 = makeStyles(() => ({\n  text: {\n    pointerEvents: \"none\",\n    userSelect: \"none\",\n    fontSize: \"9px\",\n    fill: \"#fff\",\n    textAnchor: \"middle\"\n  },\n  link: {\n    cursor: \"pointer\"\n  }\n}));\nconst makeBlip = (color, moved) => {\n  const style = {fill: color};\n  let blip = /* @__PURE__ */ React.createElement(\"circle\", {\n    r: 9,\n    style\n  });\n  if (moved && moved > 0) {\n    blip = /* @__PURE__ */ React.createElement(\"path\", {\n      d: \"M -11,5 11,5 0,-13 z\",\n      style\n    });\n  } else if (moved && moved < 0) {\n    blip = /* @__PURE__ */ React.createElement(\"path\", {\n      d: \"M -11,-5 11,-5 0,13 z\",\n      style\n    });\n  }\n  return blip;\n};\nconst RadarEntry = (props) => {\n  const classes = useStyles$1(props);\n  const [open, setOpen] = React.useState(false);\n  const {\n    moved,\n    description,\n    title,\n    color,\n    url,\n    value,\n    x,\n    y,\n    onMouseEnter,\n    onMouseLeave,\n    onClick\n  } = props;\n  const blip = makeBlip(color, moved);\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const toggle = () => {\n    setOpen(!open);\n  };\n  return /* @__PURE__ */ React.createElement(\"g\", {\n    transform: `translate(${x}, ${y})`,\n    onMouseEnter,\n    onMouseLeave,\n    onClick,\n    \"data-testid\": \"radar-entry\"\n  }, \" \", open && /* @__PURE__ */ React.createElement(RadarDescription, {\n    open,\n    onClose: handleClose,\n    title: title ? title : \"no title\",\n    description: description ? description : \"no description\",\n    url\n  }), description ? /* @__PURE__ */ React.createElement(\"a\", {\n    className: classes.link,\n    onClick: handleClickOpen,\n    role: \"button\",\n    href: \"#\",\n    tabIndex: 0,\n    onKeyPress: toggle\n  }, blip) : /* @__PURE__ */ React.createElement(WithLink, {\n    url,\n    className: classes.link\n  }, blip), /* @__PURE__ */ React.createElement(\"text\", {\n    y: 3,\n    className: classes.text\n  }, value));\n};\n\nconst useStyles$2 = makeStyles(() => ({\n  bubble: {\n    pointerEvents: \"none\",\n    userSelect: \"none\",\n    opacity: 0\n  },\n  visibleBubble: {\n    pointerEvents: \"none\",\n    userSelect: \"none\",\n    opacity: 0.8\n  },\n  background: {\n    fill: \"#333\"\n  },\n  text: {\n    pointerEvents: \"none\",\n    userSelect: \"none\",\n    fontSize: \"10px\",\n    fill: \"#fff\"\n  }\n}));\nconst RadarBubble = (props) => {\n  const classes = useStyles$2(props);\n  const {visible, text} = props;\n  const textElem = useRef(null);\n  const svgElem = useRef(null);\n  const rectElem = useRef(null);\n  const pathElem = useRef(null);\n  const updatePosition = () => {\n    if (textElem.current) {\n      const {x, y} = props;\n      const bbox = textElem.current.getBBox();\n      const marginX = 5;\n      const marginY = 4;\n      if (svgElem.current) {\n        svgElem.current.setAttribute(\"transform\", `translate(${x - bbox.width / 2}, ${y - bbox.height - marginY})`);\n      }\n      if (rectElem.current) {\n        rectElem.current.setAttribute(\"x\", String(-marginX));\n        rectElem.current.setAttribute(\"y\", String(-bbox.height));\n        rectElem.current.setAttribute(\"width\", String(bbox.width + 2 * marginX));\n        rectElem.current.setAttribute(\"height\", String(bbox.height + marginY));\n      }\n      if (pathElem.current) {\n        pathElem.current.setAttribute(\"transform\", `translate(${bbox.width / 2 - marginX}, ${marginY - 1})`);\n      }\n    }\n  };\n  useLayoutEffect(() => {\n    updatePosition();\n  });\n  return /* @__PURE__ */ React.createElement(\"g\", {\n    ref: svgElem,\n    x: 0,\n    y: 0,\n    className: visible ? classes.visibleBubble : classes.bubble,\n    \"data-testid\": \"radar-bubble\"\n  }, /* @__PURE__ */ React.createElement(\"rect\", {\n    ref: rectElem,\n    rx: 4,\n    ry: 4,\n    className: classes.background\n  }), /* @__PURE__ */ React.createElement(\"text\", {\n    ref: textElem,\n    className: classes.text\n  }, text), /* @__PURE__ */ React.createElement(\"path\", {\n    ref: pathElem,\n    d: \"M 0,0 10,0 5,8 z\",\n    className: classes.background\n  }));\n};\n\nconst useStyles$3 = makeStyles((theme) => ({\n  text: {\n    pointerEvents: \"none\",\n    userSelect: \"none\",\n    fontSize: \"10px\",\n    fill: theme.palette.text.secondary\n  }\n}));\nconst RadarFooter = (props) => {\n  const {x, y} = props;\n  const classes = useStyles$3(props);\n  return /* @__PURE__ */ React.createElement(\"text\", {\n    \"data-testid\": \"radar-footer\",\n    transform: `translate(${x}, ${y})`,\n    className: classes.text\n  }, \"\\u25B2 moved up\\xA0\\xA0\\xA0\\xA0\\xA0\\u25BC moved down\");\n};\n\nconst useStyles$4 = makeStyles((theme) => ({\n  quadrant: {\n    height: \"100%\",\n    width: \"100%\",\n    overflow: \"hidden\",\n    pointerEvents: \"none\"\n  },\n  quadrantHeading: {\n    pointerEvents: \"none\",\n    userSelect: \"none\",\n    marginTop: 0,\n    marginBottom: theme.spacing(8 / (18 * 0.375)),\n    fontSize: \"18px\"\n  },\n  rings: {\n    columns: 3\n  },\n  ring: {\n    breakInside: \"avoid-column\",\n    pageBreakInside: \"avoid\",\n    \"-webkit-column-break-inside\": \"avoid\",\n    fontSize: \"12px\"\n  },\n  ringHeading: {\n    pointerEvents: \"none\",\n    userSelect: \"none\",\n    marginTop: 0,\n    marginBottom: theme.spacing(8 / (12 * 0.375)),\n    fontSize: \"12px\",\n    fontWeight: 800\n  },\n  ringList: {\n    listStylePosition: \"inside\",\n    marginTop: 0,\n    paddingLeft: 0,\n    fontVariantNumeric: \"proportional-nums\",\n    \"-moz-font-feature-settings\": \"pnum\",\n    \"-webkit-font-feature-settings\": \"pnum\",\n    \"font-feature-settings\": \"pnum\"\n  },\n  entry: {\n    pointerEvents: \"visiblePainted\",\n    userSelect: \"none\",\n    fontSize: \"11px\"\n  },\n  entryLink: {\n    pointerEvents: \"visiblePainted\"\n  }\n}));\nconst RadarLegend = (props) => {\n  const classes = useStyles$4(props);\n  const getSegment = (segmented, quadrant, ring, ringOffset = 0) => {\n    const quadrantIndex = quadrant.index;\n    const ringIndex = ring.index;\n    const segmentedData = quadrantIndex === void 0 ? {} : segmented[quadrantIndex] || {};\n    return ringIndex === void 0 ? [] : segmentedData[ringIndex + ringOffset] || [];\n  };\n  const RadarLegendLink = ({\n    url,\n    description,\n    title\n  }) => {\n    const [open, setOpen] = React.useState(false);\n    const handleClickOpen = () => {\n      setOpen(true);\n    };\n    const handleClose = () => {\n      setOpen(false);\n    };\n    const toggle = () => {\n      setOpen(!open);\n    };\n    if (description) {\n      return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\"span\", {\n        className: classes.entryLink,\n        onClick: handleClickOpen,\n        role: \"button\",\n        tabIndex: 0,\n        onKeyPress: toggle\n      }, /* @__PURE__ */ React.createElement(\"span\", {\n        className: classes.entry\n      }, title)), open && /* @__PURE__ */ React.createElement(RadarDescription, {\n        open,\n        onClose: handleClose,\n        title: title ? title : \"no title\",\n        url,\n        description\n      }));\n    }\n    return /* @__PURE__ */ React.createElement(WithLink, {\n      url,\n      className: classes.entryLink\n    }, /* @__PURE__ */ React.createElement(\"span\", {\n      className: classes.entry\n    }, title));\n  };\n  const RadarLegendRing = ({\n    ring,\n    entries: entries2,\n    onEntryMouseEnter: onEntryMouseEnter2,\n    onEntryMouseLeave: onEntryMouseLeave2\n  }) => {\n    return /* @__PURE__ */ React.createElement(\"div\", {\n      \"data-testid\": \"radar-ring\",\n      key: ring.id,\n      className: classes.ring\n    }, /* @__PURE__ */ React.createElement(\"h3\", {\n      className: classes.ringHeading\n    }, ring.name), entries2.length === 0 ? /* @__PURE__ */ React.createElement(\"p\", null, \"(empty)\") : /* @__PURE__ */ React.createElement(\"ol\", {\n      className: classes.ringList\n    }, entries2.map((entry) => /* @__PURE__ */ React.createElement(\"li\", {\n      key: entry.id,\n      value: (entry.index || 0) + 1,\n      onMouseEnter: onEntryMouseEnter2 && (() => onEntryMouseEnter2(entry)),\n      onMouseLeave: onEntryMouseLeave2 && (() => onEntryMouseLeave2(entry))\n    }, /* @__PURE__ */ React.createElement(RadarLegendLink, {\n      url: entry.url,\n      title: entry.title,\n      description: entry.description\n    })))));\n  };\n  const RadarLegendQuadrant = ({\n    segments: segments2,\n    quadrant,\n    rings: rings2,\n    onEntryMouseEnter: onEntryMouseEnter2,\n    onEntryMouseLeave: onEntryMouseLeave2\n  }) => {\n    return /* @__PURE__ */ React.createElement(\"foreignObject\", {\n      key: quadrant.id,\n      x: quadrant.legendX,\n      y: quadrant.legendY,\n      width: quadrant.legendWidth,\n      height: quadrant.legendHeight,\n      \"data-testid\": \"radar-quadrant\"\n    }, /* @__PURE__ */ React.createElement(\"div\", {\n      className: classes.quadrant\n    }, /* @__PURE__ */ React.createElement(\"h2\", {\n      className: classes.quadrantHeading\n    }, quadrant.name), /* @__PURE__ */ React.createElement(\"div\", {\n      className: classes.rings\n    }, rings2.map((ring) => /* @__PURE__ */ React.createElement(RadarLegendRing, {\n      key: ring.id,\n      ring,\n      entries: getSegment(segments2, quadrant, ring),\n      onEntryMouseEnter: onEntryMouseEnter2,\n      onEntryMouseLeave: onEntryMouseLeave2\n    })))));\n  };\n  const setupSegments = (entries2) => {\n    const segments2 = {};\n    for (const entry of entries2) {\n      const quadrantIndex = entry.quadrant.index;\n      const ringIndex = entry.ring.index;\n      let quadrantData = {};\n      if (quadrantIndex !== void 0) {\n        if (segments2[quadrantIndex] === void 0) {\n          segments2[quadrantIndex] = {};\n        }\n        quadrantData = segments2[quadrantIndex];\n      }\n      let ringData = [];\n      if (ringIndex !== void 0) {\n        if (quadrantData[ringIndex] === void 0) {\n          quadrantData[ringIndex] = [];\n        }\n        ringData = quadrantData[ringIndex];\n      }\n      ringData.push(entry);\n    }\n    return segments2;\n  };\n  const {\n    quadrants,\n    rings,\n    entries,\n    onEntryMouseEnter,\n    onEntryMouseLeave\n  } = props;\n  const segments = setupSegments(entries);\n  return /* @__PURE__ */ React.createElement(\"g\", {\n    \"data-testid\": \"radar-legend\"\n  }, quadrants.map((quadrant) => /* @__PURE__ */ React.createElement(RadarLegendQuadrant, {\n    key: quadrant.id,\n    segments,\n    quadrant,\n    rings,\n    onEntryMouseEnter,\n    onEntryMouseLeave\n  })));\n};\n\nconst RadarPlot = (props) => {\n  const {\n    width,\n    height,\n    radius,\n    quadrants,\n    rings,\n    entries,\n    activeEntry,\n    onEntryMouseEnter,\n    onEntryMouseLeave\n  } = props;\n  return /* @__PURE__ */ React.createElement(\"g\", {\n    \"data-testid\": \"radar-plot\"\n  }, /* @__PURE__ */ React.createElement(RadarLegend, {\n    quadrants,\n    rings,\n    entries,\n    onEntryMouseEnter: onEntryMouseEnter && ((entry) => onEntryMouseEnter(entry)),\n    onEntryMouseLeave: onEntryMouseLeave && ((entry) => onEntryMouseLeave(entry))\n  }), /* @__PURE__ */ React.createElement(\"g\", {\n    transform: `translate(${width / 2}, ${height / 2})`\n  }, /* @__PURE__ */ React.createElement(RadarGrid, {\n    radius,\n    rings\n  }), /* @__PURE__ */ React.createElement(RadarFooter, {\n    x: -0.5 * width,\n    y: 0.5 * height\n  }), entries.map((entry) => /* @__PURE__ */ React.createElement(RadarEntry, {\n    key: entry.id,\n    x: entry.x || 0,\n    y: entry.y || 0,\n    color: entry.color || \"\",\n    value: ((entry == null ? void 0 : entry.index) || 0) + 1,\n    url: entry.url,\n    description: entry.description,\n    moved: entry.moved,\n    title: entry.title,\n    onMouseEnter: onEntryMouseEnter && (() => onEntryMouseEnter(entry)),\n    onMouseLeave: onEntryMouseLeave && (() => onEntryMouseLeave(entry))\n  })), /* @__PURE__ */ React.createElement(RadarBubble, {\n    visible: !!activeEntry,\n    text: (activeEntry == null ? void 0 : activeEntry.title) || \"\",\n    x: (activeEntry == null ? void 0 : activeEntry.x) || 0,\n    y: (activeEntry == null ? void 0 : activeEntry.y) || 0\n  })));\n};\n\nclass Segment {\n  constructor(quadrant, ring, radius, nextSeed) {\n    this.nextSeed = nextSeed;\n    this.polarMin = {\n      t: quadrant.radialMin,\n      r: ring.innerRadius\n    };\n    this.polarMax = {\n      t: quadrant.radialMax,\n      r: ring.outerRadius\n    };\n    this.cartesianMin = {\n      x: 15 * quadrant.offsetX,\n      y: 15 * quadrant.offsetY\n    };\n    this.cartesianMax = {\n      x: radius * quadrant.offsetX,\n      y: radius * quadrant.offsetY\n    };\n  }\n  clipx(d) {\n    const c = boundedBox(d, this.cartesianMin, this.cartesianMax);\n    const p = boundedRing(polar(c), this.polarMin.r + 15, this.polarMax.r - 15);\n    d.x = cartesian(p).x;\n    return d.x;\n  }\n  clipy(d) {\n    const c = boundedBox(d, this.cartesianMin, this.cartesianMax);\n    const p = boundedRing(polar(c), this.polarMin.r + 15, this.polarMax.r - 15);\n    d.y = cartesian(p).y;\n    return d.y;\n  }\n  random() {\n    return cartesian({\n      t: this._randomBetween(this.polarMin.t, this.polarMax.t),\n      r: this._normalBetween(this.polarMin.r, this.polarMax.r)\n    });\n  }\n  _random() {\n    const x = Math.sin(this.nextSeed()) * 1e4;\n    return x - Math.floor(x);\n  }\n  _randomBetween(min, max) {\n    return min + this._random() * (max - min);\n  }\n  _normalBetween(min, max) {\n    return min + (this._random() + this._random()) * 0.5 * (max - min);\n  }\n}\nfunction polar({x, y}) {\n  return {\n    t: Math.atan2(y, x),\n    r: Math.sqrt(x * x + y * y)\n  };\n}\nfunction cartesian({r, t}) {\n  return {\n    x: r * Math.cos(t),\n    y: r * Math.sin(t)\n  };\n}\nfunction boundedInterval(value, min, max) {\n  const low = Math.min(min, max);\n  const high = Math.max(min, max);\n  return Math.min(Math.max(value, low), high);\n}\nfunction boundedRing(polarValue, rMin, rMax) {\n  return {\n    t: polarValue.t,\n    r: boundedInterval(polarValue.r, rMin, rMax)\n  };\n}\nfunction boundedBox(point, min, max) {\n  return {\n    x: boundedInterval(point.x, min.x, max.x),\n    y: boundedInterval(point.y, min.y, max.y)\n  };\n}\n\nconst adjustQuadrants = (quadrants, radius, width, height) => {\n  const margin = 16;\n  const xStops = [\n    margin,\n    width / 2 - radius - margin,\n    width / 2 + radius + margin,\n    width - margin\n  ];\n  const yStops = [margin, height / 2 - margin, height / 2, height - margin];\n  const legendParams = [\n    {\n      x: xStops[2],\n      y: yStops[2],\n      width: xStops[3] - xStops[2],\n      height: yStops[3] - yStops[2]\n    },\n    {\n      x: xStops[0],\n      y: yStops[2],\n      width: xStops[1] - xStops[0],\n      height: yStops[3] - yStops[2]\n    },\n    {\n      x: xStops[0],\n      y: yStops[0],\n      width: xStops[1] - xStops[0],\n      height: yStops[1] - yStops[0]\n    },\n    {\n      x: xStops[2],\n      y: yStops[0],\n      width: xStops[3] - xStops[2],\n      height: yStops[1] - yStops[0]\n    }\n  ];\n  quadrants.forEach((quadrant, index) => {\n    const legendParam = legendParams[index % 4];\n    quadrant.index = index;\n    quadrant.radialMin = index * Math.PI / 2;\n    quadrant.radialMax = (index + 1) * Math.PI / 2;\n    quadrant.offsetX = index % 4 === 0 || index % 4 === 3 ? 1 : -1;\n    quadrant.offsetY = index % 4 === 0 || index % 4 === 1 ? 1 : -1;\n    quadrant.legendX = legendParam.x;\n    quadrant.legendY = legendParam.y;\n    quadrant.legendWidth = legendParam.width;\n    quadrant.legendHeight = legendParam.height;\n  });\n};\nconst adjustEntries = (entries, quadrants, rings, radius, activeEntry) => {\n  let seed = 42;\n  entries.forEach((entry, index) => {\n    const quadrant = quadrants.find((q) => {\n      const match = typeof entry.quadrant === \"object\" ? entry.quadrant.id : entry.quadrant;\n      return q.id === match;\n    });\n    const ring = rings.find((r) => {\n      const match = typeof entry.ring === \"object\" ? entry.ring.id : entry.ring;\n      return r.id === match;\n    });\n    if (!quadrant) {\n      throw new Error(`Unknown quadrant ${entry.quadrant} for entry ${entry.id}!`);\n    }\n    if (!ring) {\n      throw new Error(`Unknown ring ${entry.ring} for entry ${entry.id}!`);\n    }\n    entry.index = index;\n    entry.quadrant = quadrant;\n    entry.ring = ring;\n    entry.segment = new Segment(quadrant, ring, radius, () => seed++);\n    const point = entry.segment.random();\n    entry.x = point.x;\n    entry.y = point.y;\n    entry.active = activeEntry ? entry.id === activeEntry.id : false;\n    entry.color = entry.active ? entry.ring.color : color(entry.ring.color).desaturate(0.5).lighten(0.1).string();\n  });\n  const simulation = forceSimulation().nodes(entries).velocityDecay(0.19).force(\"collision\", forceCollide().radius(12).strength(0.85)).stop();\n  for (let i = 0, n = Math.ceil(Math.log(simulation.alphaMin()) / Math.log(1 - simulation.alphaDecay())); i < n; ++i) {\n    simulation.tick();\n    for (const entry of entries) {\n      if (entry.segment) {\n        entry.x = entry.segment.clipx(entry);\n        entry.y = entry.segment.clipy(entry);\n      }\n    }\n  }\n};\nconst adjustRings = (rings, radius) => {\n  rings.forEach((ring, index) => {\n    ring.index = index;\n    ring.outerRadius = (index + 2) / (rings.length + 1) * radius;\n    ring.innerRadius = (index === 0 ? 0 : index + 1) / (rings.length + 1) * radius;\n  });\n};\n\nconst Radar = (props) => {\n  const {width, height, quadrants, rings, entries} = props;\n  const radius = Math.min(width, height) / 2;\n  const [activeEntry, setActiveEntry] = useState();\n  const node = useRef(null);\n  adjustQuadrants(quadrants, radius, width, height);\n  adjustRings(rings, radius);\n  adjustEntries(entries, quadrants, rings, radius, activeEntry);\n  return /* @__PURE__ */ React.createElement(\"svg\", {\n    ref: node,\n    width,\n    height,\n    ...props.svgProps\n  }, /* @__PURE__ */ React.createElement(RadarPlot, {\n    width,\n    height,\n    radius,\n    entries,\n    quadrants,\n    rings,\n    activeEntry,\n    onEntryMouseEnter: (entry) => setActiveEntry(entry),\n    onEntryMouseLeave: () => setActiveEntry(void 0)\n  }));\n};\n\nconst rings = new Array();\nrings.push({id: \"use\", name: \"USE\", color: \"#93c47d\"});\nrings.push({id: \"trial\", name: \"TRIAL\", color: \"#93d2c2\"});\nrings.push({id: \"assess\", name: \"ASSESS\", color: \"#fbdb84\"});\nrings.push({id: \"hold\", name: \"HOLD\", color: \"#efafa9\"});\nconst quadrants = new Array();\nquadrants.push({id: \"infrastructure\", name: \"Infrastructure\"});\nquadrants.push({id: \"frameworks\", name: \"Frameworks\"});\nquadrants.push({id: \"languages\", name: \"Languages\"});\nquadrants.push({id: \"process\", name: \"Process\"});\nconst entries = new Array();\nentries.push({\n  timeline: [\n    {\n      moved: 0,\n      ringId: \"use\",\n      date: new Date(\"2020-08-06\"),\n      description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua\"\n    }\n  ],\n  url: \"#\",\n  key: \"javascript\",\n  id: \"javascript\",\n  title: \"JavaScript\",\n  quadrant: \"languages\",\n  description: \"Excepteur **sint** occaecat *cupidatat* non proident, sunt in culpa qui officia deserunt mollit anim id est laborum\"\n});\nentries.push({\n  timeline: [\n    {\n      moved: -1,\n      ringId: \"use\",\n      date: new Date(\"2020-08-06\"),\n      description: \"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat\"\n    }\n  ],\n  url: \"#\",\n  key: \"typescript\",\n  id: \"typescript\",\n  title: \"TypeScript\",\n  quadrant: \"languages\",\n  description: \"Itaque earum rerum hic tenetur a sapiente delectus, ut aut reiciendis voluptatibus maiores alias consequatur aut perferendis doloribus asperiores repellat\"\n});\nentries.push({\n  timeline: [\n    {\n      moved: 1,\n      ringId: \"use\",\n      date: new Date(\"2020-08-06\"),\n      description: \"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur\"\n    }\n  ],\n  url: \"https://webpack.js.org/\",\n  key: \"webpack\",\n  id: \"webpack\",\n  title: \"Webpack\",\n  quadrant: \"frameworks\"\n});\nentries.push({\n  timeline: [\n    {\n      moved: 0,\n      ringId: \"use\",\n      date: new Date(\"2020-08-06\")\n    }\n  ],\n  url: \"https://reactjs.org/\",\n  key: \"react\",\n  id: \"react\",\n  title: \"React\",\n  quadrant: \"frameworks\"\n});\nentries.push({\n  timeline: [\n    {\n      moved: 0,\n      ringId: \"use\",\n      date: new Date(\"2020-08-06\")\n    }\n  ],\n  url: \"#\",\n  key: \"code-reviews\",\n  id: \"code-reviews\",\n  title: \"Code Reviews\",\n  quadrant: \"process\"\n});\nentries.push({\n  timeline: [\n    {\n      moved: 0,\n      ringId: \"assess\",\n      date: new Date(\"2020-08-06\")\n    }\n  ],\n  url: \"#\",\n  key: \"mob-programming\",\n  id: \"mob-programming\",\n  title: \"Mob Programming\",\n  quadrant: \"process\"\n});\nentries.push({\n  timeline: [\n    {\n      moved: 0,\n      ringId: \"use\",\n      date: new Date(\"2020-08-06\")\n    }\n  ],\n  url: \"#\",\n  key: \"docs-like-code\",\n  id: \"docs-like-code\",\n  title: \"Docs-like-code\",\n  quadrant: \"process\"\n});\nentries.push({\n  timeline: [\n    {\n      ringId: \"hold\",\n      date: new Date(\"2020-08-06\")\n    }\n  ],\n  url: \"#\",\n  key: \"force-push\",\n  id: \"force-push\",\n  title: \"Force push to master\",\n  quadrant: \"process\"\n});\nentries.push({\n  timeline: [\n    {\n      ringId: \"use\",\n      date: new Date(\"2020-08-06\")\n    }\n  ],\n  url: \"#\",\n  key: \"github-actions\",\n  id: \"github-actions\",\n  title: \"GitHub Actions\",\n  quadrant: \"infrastructure\"\n});\nfunction getSampleData() {\n  return Promise.resolve({\n    rings,\n    quadrants,\n    entries\n  });\n}\n\nconst useTechRadarLoader = (props) => {\n  const errorApi = useApi(errorApiRef);\n  const {getData} = props;\n  const state = useAsync(async () => {\n    if (getData) {\n      const response = await getData();\n      return response;\n    }\n    return void 0;\n  }, [getData, errorApi]);\n  useEffect(() => {\n    const {error} = state;\n    if (error) {\n      errorApi.post(error);\n    }\n  }, [errorApi, state]);\n  return state;\n};\nconst RadarComponent = (props) => {\n  const {loading, error, value: data} = useTechRadarLoader(props);\n  const mapToEntries = (loaderResponse) => {\n    return loaderResponse.entries.map((entry) => {\n      return {\n        id: entry.key,\n        quadrant: loaderResponse.quadrants.find((q) => q.id === entry.quadrant),\n        title: entry.title,\n        ring: loaderResponse.rings.find((r) => r.id === entry.timeline[0].ringId),\n        timeline: entry.timeline.map((e) => {\n          return {\n            date: e.date,\n            ring: loaderResponse.rings.find((a) => a.id === e.ringId),\n            description: e.description,\n            moved: e.moved\n          };\n        }),\n        moved: entry.timeline[0].moved,\n        description: entry.description || entry.timeline[0].description,\n        url: entry.url\n      };\n    });\n  };\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, loading && /* @__PURE__ */ React.createElement(Progress, null), !loading && !error && /* @__PURE__ */ React.createElement(Radar, {\n    ...props,\n    rings: data.rings,\n    quadrants: data.quadrants,\n    entries: mapToEntries(data)\n  }));\n};\nRadarComponent.defaultProps = {\n  getData: getSampleData\n};\n\nconst useStyles$5 = makeStyles(() => ({\n  overflowXScroll: {\n    overflowX: \"scroll\"\n  }\n}));\nconst RadarPage = ({\n  title,\n  subtitle,\n  pageTitle,\n  ...props\n}) => {\n  const classes = useStyles$5();\n  return /* @__PURE__ */ React.createElement(Page, {\n    themeId: \"tool\"\n  }, /* @__PURE__ */ React.createElement(Header, {\n    title,\n    subtitle\n  }), /* @__PURE__ */ React.createElement(Content, {\n    className: classes.overflowXScroll\n  }, /* @__PURE__ */ React.createElement(ContentHeader, {\n    title: pageTitle\n  }, /* @__PURE__ */ React.createElement(SupportButton, null, \"This is used for visualizing the official guidelines of different areas of software development such as languages, frameworks, infrastructure and processes.\")), /* @__PURE__ */ React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    direction: \"row\"\n  }, /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    md: 4\n  }, /* @__PURE__ */ React.createElement(RadarComponent, {\n    ...props\n  })))));\n};\nRadarPage.defaultProps = {\n  title: \"Tech Radar\",\n  subtitle: \"Pick the recommended technologies for your projects\",\n  pageTitle: \"Company Radar\"\n};\n\nvar RadarPage$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  RadarPage: RadarPage\n});\n\nexport { RadarPage as Router, RadarComponent as TechRadarComponent, TechRadarPage, techRadarPlugin as plugin, techRadarPlugin };\n//# sourceMappingURL=index.esm.js.map\n","import { createApiRef } from '@backstage/core';\nimport { ScmIntegrations } from '@backstage/integration';\n\nclass ScmIntegrationsApi {\n  static fromConfig(config) {\n    return ScmIntegrations.fromConfig(config);\n  }\n}\nconst scmIntegrationsApiRef = createApiRef({\n  id: \"integration.scmintegrations\",\n  description: \"All of the registered SCM integrations of your config\"\n});\n\nexport { ScmIntegrationsApi, scmIntegrationsApiRef };\n//# sourceMappingURL=index.esm.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkStrictMode = exports.schemaCxtHasRules = exports.subschemaCode = exports.validateFunctionCode = void 0;\nconst boolSchema_1 = require(\"./boolSchema\");\nconst dataType_1 = require(\"./dataType\");\nconst iterate_1 = require(\"./iterate\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst resolve_1 = require(\"../resolve\");\nconst util_1 = require(\"../util\");\n// schema compilation - generates validation function, subschemaCode (below) is used for subschemas\nfunction validateFunctionCode(it) {\n    if (isSchemaObj(it)) {\n        checkKeywords(it);\n        if (schemaCxtHasRules(it)) {\n            topSchemaObjCode(it);\n            return;\n        }\n    }\n    validateFunction(it, () => boolSchema_1.topBoolOrEmptySchema(it));\n}\nexports.validateFunctionCode = validateFunctionCode;\nfunction validateFunction({ gen, validateName, schema, schemaEnv, opts }, body) {\n    if (opts.code.es5) {\n        gen.func(validateName, codegen_1._ `${names_1.default.data}, ${names_1.default.valCxt}`, schemaEnv.$async, () => {\n            gen.code(codegen_1._ `\"use strict\"; ${funcSourceUrl(schema, opts)}`);\n            destructureValCxtES5(gen, opts);\n            gen.code(body);\n        });\n    }\n    else {\n        gen.func(validateName, codegen_1._ `${names_1.default.data}, ${destructureValCxt(opts)}`, schemaEnv.$async, () => gen.code(funcSourceUrl(schema, opts)).code(body));\n    }\n}\nfunction destructureValCxt(opts) {\n    return codegen_1._ `{${names_1.default.dataPath}=\"\", ${names_1.default.parentData}, ${names_1.default.parentDataProperty}, ${names_1.default.rootData}=${names_1.default.data}${opts.dynamicRef ? codegen_1._ `, ${names_1.default.dynamicAnchors}={}` : codegen_1.nil}}={}`;\n}\nfunction destructureValCxtES5(gen, opts) {\n    gen.if(names_1.default.valCxt, () => {\n        gen.var(names_1.default.dataPath, codegen_1._ `${names_1.default.valCxt}.${names_1.default.dataPath}`);\n        gen.var(names_1.default.parentData, codegen_1._ `${names_1.default.valCxt}.${names_1.default.parentData}`);\n        gen.var(names_1.default.parentDataProperty, codegen_1._ `${names_1.default.valCxt}.${names_1.default.parentDataProperty}`);\n        gen.var(names_1.default.rootData, codegen_1._ `${names_1.default.valCxt}.${names_1.default.rootData}`);\n        if (opts.dynamicRef)\n            gen.var(names_1.default.dynamicAnchors, codegen_1._ `${names_1.default.valCxt}.${names_1.default.dynamicAnchors}`);\n    }, () => {\n        gen.var(names_1.default.dataPath, codegen_1._ `\"\"`);\n        gen.var(names_1.default.parentData, codegen_1._ `undefined`);\n        gen.var(names_1.default.parentDataProperty, codegen_1._ `undefined`);\n        gen.var(names_1.default.rootData, names_1.default.data);\n        if (opts.dynamicRef)\n            gen.var(names_1.default.dynamicAnchors, codegen_1._ `{}`);\n    });\n}\nfunction topSchemaObjCode(it) {\n    const { schema, opts, gen } = it;\n    validateFunction(it, () => {\n        if (opts.$comment && schema.$comment)\n            commentKeyword(it);\n        checkNoDefault(it);\n        gen.let(names_1.default.vErrors, null);\n        gen.let(names_1.default.errors, 0);\n        if (opts.unevaluated)\n            resetEvaluated(it);\n        typeAndKeywords(it);\n        returnResults(it);\n    });\n    return;\n}\nfunction resetEvaluated(it) {\n    // TODO maybe some hook to execute it in the end to check whether props/items are Name, as in assignEvaluated\n    const { gen, validateName } = it;\n    it.evaluated = gen.const(\"evaluated\", codegen_1._ `${validateName}.evaluated`);\n    gen.if(codegen_1._ `${it.evaluated}.dynamicProps`, () => gen.assign(codegen_1._ `${it.evaluated}.props`, codegen_1._ `undefined`));\n    gen.if(codegen_1._ `${it.evaluated}.dynamicItems`, () => gen.assign(codegen_1._ `${it.evaluated}.items`, codegen_1._ `undefined`));\n}\nfunction funcSourceUrl(schema, opts) {\n    return typeof schema == \"object\" && schema.$id && (opts.code.source || opts.code.process)\n        ? codegen_1._ `/*# sourceURL=${schema.$id} */`\n        : codegen_1.nil;\n}\n// schema compilation - this function is used recursively to generate code for sub-schemas\nfunction subschemaCode(it, valid) {\n    if (isSchemaObj(it)) {\n        checkKeywords(it);\n        if (schemaCxtHasRules(it)) {\n            subSchemaObjCode(it, valid);\n            return;\n        }\n    }\n    boolSchema_1.boolOrEmptySchema(it, valid);\n}\nexports.subschemaCode = subschemaCode;\nfunction schemaCxtHasRules({ schema, self }) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (self.RULES.all[key])\n            return true;\n    return false;\n}\nexports.schemaCxtHasRules = schemaCxtHasRules;\nfunction isSchemaObj(it) {\n    return typeof it.schema != \"boolean\";\n}\nfunction subSchemaObjCode(it, valid) {\n    const { schema, gen, opts } = it;\n    if (opts.$comment && schema.$comment)\n        commentKeyword(it);\n    updateContext(it);\n    checkAsync(it);\n    const errsCount = gen.const(\"_errs\", names_1.default.errors);\n    typeAndKeywords(it, errsCount);\n    // TODO var\n    gen.var(valid, codegen_1._ `${errsCount} === ${names_1.default.errors}`);\n}\nfunction checkKeywords(it) {\n    util_1.checkUnknownRules(it);\n    checkRefsAndKeywords(it);\n}\nfunction typeAndKeywords(it, errsCount) {\n    if (it.opts.jtd)\n        return iterate_1.schemaKeywords(it, [], false, errsCount);\n    const types = dataType_1.getSchemaTypes(it.schema);\n    const checkedTypes = dataType_1.coerceAndCheckDataType(it, types);\n    iterate_1.schemaKeywords(it, types, !checkedTypes, errsCount);\n}\nfunction checkRefsAndKeywords(it) {\n    const { schema, errSchemaPath, opts, self } = it;\n    if (schema.$ref && opts.ignoreKeywordsWithRef && util_1.schemaHasRulesButRef(schema, self.RULES)) {\n        self.logger.warn(`$ref: keywords ignored in schema at path \"${errSchemaPath}\"`);\n    }\n}\nfunction checkNoDefault(it) {\n    const { schema, opts } = it;\n    if (schema.default !== undefined && opts.useDefaults && opts.strict) {\n        checkStrictMode(it, \"default is ignored in the schema root\");\n    }\n}\nfunction updateContext(it) {\n    if (it.schema.$id)\n        it.baseId = resolve_1.resolveUrl(it.baseId, it.schema.$id);\n}\nfunction checkAsync(it) {\n    if (it.schema.$async && !it.schemaEnv.$async)\n        throw new Error(\"async schema in sync schema\");\n}\nfunction commentKeyword({ gen, schemaEnv, schema, errSchemaPath, opts }) {\n    const msg = schema.$comment;\n    if (opts.$comment === true) {\n        gen.code(codegen_1._ `${names_1.default.self}.logger.log(${msg})`);\n    }\n    else if (typeof opts.$comment == \"function\") {\n        const schemaPath = codegen_1.str `${errSchemaPath}/$comment`;\n        const rootName = gen.scopeValue(\"root\", { ref: schemaEnv.root });\n        gen.code(codegen_1._ `${names_1.default.self}.opts.$comment(${msg}, ${schemaPath}, ${rootName}.schema)`);\n    }\n}\nfunction returnResults(it) {\n    const { gen, schemaEnv, validateName, ValidationError, opts } = it;\n    if (schemaEnv.$async) {\n        // TODO assign unevaluated\n        gen.if(codegen_1._ `${names_1.default.errors} === 0`, () => gen.return(names_1.default.data), () => gen.throw(codegen_1._ `new ${ValidationError}(${names_1.default.vErrors})`));\n    }\n    else {\n        gen.assign(codegen_1._ `${validateName}.errors`, names_1.default.vErrors);\n        if (opts.unevaluated)\n            assignEvaluated(it);\n        gen.return(codegen_1._ `${names_1.default.errors} === 0`);\n    }\n}\nfunction assignEvaluated({ gen, evaluated, props, items }) {\n    if (props instanceof codegen_1.Name)\n        gen.assign(codegen_1._ `${evaluated}.props`, props);\n    if (items instanceof codegen_1.Name)\n        gen.assign(codegen_1._ `${evaluated}.items`, items);\n}\nfunction checkStrictMode(it, msg, mode = it.opts.strict) {\n    if (!mode)\n        return;\n    msg = `strict mode: ${msg}`;\n    if (mode === true)\n        throw new Error(msg);\n    it.self.logger.warn(msg);\n}\nexports.checkStrictMode = checkStrictMode;\n//# sourceMappingURL=index.js.map","import { serializeError as serializeError$1, deserializeError as deserializeError$1 } from 'serialize-error';\n\nclass CustomErrorBase extends Error {\n  constructor(message, cause) {\n    var _a;\n    let fullMessage = message;\n    if (cause) {\n      if (fullMessage) {\n        fullMessage += `; caused by ${cause}`;\n      } else {\n        fullMessage = `caused by ${cause}`;\n      }\n    }\n    super(fullMessage);\n    (_a = Error.captureStackTrace) == null ? void 0 : _a.call(Error, this, this.constructor);\n    this.name = this.constructor.name;\n    this.cause = cause;\n  }\n}\n\nclass InputError extends CustomErrorBase {\n}\nclass AuthenticationError extends CustomErrorBase {\n}\nclass NotAllowedError extends CustomErrorBase {\n}\nclass NotFoundError extends CustomErrorBase {\n}\nclass ConflictError extends CustomErrorBase {\n}\nclass NotModifiedError extends CustomErrorBase {\n}\n\nfunction serializeError(error, options) {\n  const serialized = serializeError$1(error);\n  const result = {\n    name: \"Unknown\",\n    message: \"<no reason given>\",\n    ...serialized\n  };\n  if (!(options == null ? void 0 : options.includeStack)) {\n    delete result.stack;\n  }\n  return result;\n}\nfunction deserializeError(data) {\n  const result = deserializeError$1(data);\n  if (!data.stack) {\n    result.stack = void 0;\n  }\n  return result;\n}\n\nasync function parseErrorResponse(response) {\n  var _a;\n  try {\n    const text = await response.text();\n    if (text) {\n      if ((_a = response.headers.get(\"content-type\")) == null ? void 0 : _a.startsWith(\"application/json\")) {\n        try {\n          const body = JSON.parse(text);\n          if (body.error && body.response) {\n            return body;\n          }\n        } catch {\n        }\n      }\n      return {\n        error: {\n          name: \"Unknown\",\n          message: `Request failed with status ${response.status} ${response.statusText}, ${text}`\n        },\n        response: {\n          statusCode: response.status\n        }\n      };\n    }\n  } catch {\n  }\n  return {\n    error: {\n      name: \"Unknown\",\n      message: `Request failed with status ${response.status} ${response.statusText}`\n    },\n    response: {\n      statusCode: response.status\n    }\n  };\n}\n\nclass ResponseError extends Error {\n  static async fromResponse(response) {\n    const data = await parseErrorResponse(response);\n    const status = data.response.statusCode || response.status;\n    const statusText = data.error.name || response.statusText;\n    const message = `Request failed with ${status} ${statusText}`;\n    const cause = deserializeError(data.error);\n    return new ResponseError({\n      message,\n      response,\n      data,\n      cause\n    });\n  }\n  constructor(props) {\n    super(props.message);\n    this.name = \"ResponseError\";\n    this.response = props.response;\n    this.data = props.data;\n    this.cause = props.cause;\n  }\n}\n\nexport { AuthenticationError, ConflictError, CustomErrorBase, InputError, NotAllowedError, NotFoundError, NotModifiedError, ResponseError, deserializeError, parseErrorResponse, serializeError };\n//# sourceMappingURL=index.esm.js.map\n","import { createApiRef, useApi, Progress, EmptyState, Table, Link, useQueryParamState, Page, Header, Content, Lifecycle, createRouteRef, createPlugin, createApiFactory, discoveryApiRef, createRoutableExtension, useRouteRef, SidebarSearchField } from '@backstage/core';\nimport { ENTITY_DEFAULT_NAMESPACE } from '@backstage/catalog-model';\nimport qs from 'qs';\nimport { catalogApiRef } from '@backstage/plugin-catalog-react';\nimport { Paper, makeStyles as makeStyles$1, IconButton as IconButton$1, Typography, Card, CardHeader, Button, Divider, CardContent, Select, MenuItem, List, ListItem, Checkbox, ListItemText, Grid } from '@material-ui/core';\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useAsync, useDebounce } from 'react-use';\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputBase from '@material-ui/core/InputBase';\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\nimport ClearButton from '@material-ui/icons/Clear';\nimport { Alert } from '@material-ui/lab';\nimport FilterListIcon from '@material-ui/icons/FilterList';\nimport { useNavigate } from 'react-router-dom';\n\nconst searchApiRef = createApiRef({\n  id: \"plugin.search.queryservice\",\n  description: \"Used to make requests against the search API\"\n});\nclass SearchClient {\n  constructor(options) {\n    this.catalogApi = options.catalogApi;\n    this.discoveryApi = options.discoveryApi;\n  }\n  async entities() {\n    const entities = await this.catalogApi.getEntities();\n    return entities.items.map((entity) => {\n      var _a, _b, _c, _d, _e;\n      return {\n        name: entity.metadata.name,\n        description: entity.metadata.description,\n        owner: typeof ((_a = entity.spec) == null ? void 0 : _a.owner) === \"string\" ? (_b = entity.spec) == null ? void 0 : _b.owner : void 0,\n        kind: entity.kind,\n        lifecycle: typeof ((_c = entity.spec) == null ? void 0 : _c.lifecycle) === \"string\" ? (_d = entity.spec) == null ? void 0 : _d.lifecycle : void 0,\n        url: `/catalog/${((_e = entity.metadata.namespace) == null ? void 0 : _e.toLowerCase()) || ENTITY_DEFAULT_NAMESPACE}/${entity.kind.toLowerCase()}/${entity.metadata.name}`\n      };\n    });\n  }\n  getSearchResult() {\n    return this.entities();\n  }\n  async _alphaPerformSearch(query) {\n    const queryString = qs.stringify(query);\n    const url = `${await this.discoveryApi.getBaseUrl(\"search/query\")}?${queryString}`;\n    const response = await fetch(url);\n    return response.json();\n  }\n}\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  input: {\n    flex: 1\n  }\n}));\nconst SearchBar = ({\n  searchQuery,\n  handleSearch,\n  handleClearSearchBar\n}) => {\n  const classes = useStyles();\n  return /* @__PURE__ */ React.createElement(Paper, {\n    component: \"form\",\n    onSubmit: (e) => handleSearch(e),\n    className: classes.root\n  }, /* @__PURE__ */ React.createElement(IconButton, {\n    disabled: true,\n    type: \"submit\",\n    \"aria-label\": \"search\"\n  }, /* @__PURE__ */ React.createElement(SearchIcon, null)), /* @__PURE__ */ React.createElement(InputBase, {\n    className: classes.input,\n    placeholder: \"Search in Backstage\",\n    value: searchQuery,\n    onChange: (e) => handleSearch(e),\n    inputProps: {\"aria-label\": \"search backstage\"}\n  }), /* @__PURE__ */ React.createElement(IconButton, {\n    \"aria-label\": \"search\",\n    onClick: () => handleClearSearchBar()\n  }, /* @__PURE__ */ React.createElement(ClearButton, null)));\n};\n\nconst useStyles$1 = makeStyles$1((theme) => ({\n  filters: {\n    width: \"250px\",\n    display: \"flex\"\n  },\n  icon: {\n    margin: theme.spacing(-1, 0, 0, 0)\n  }\n}));\nconst FiltersButton = ({\n  numberOfSelectedFilters,\n  handleToggleFilters\n}) => {\n  const classes = useStyles$1();\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.filters\n  }, /* @__PURE__ */ React.createElement(IconButton$1, {\n    className: classes.icon,\n    \"aria-label\": \"settings\",\n    onClick: handleToggleFilters\n  }, /* @__PURE__ */ React.createElement(FilterListIcon, null)), /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"h6\"\n  }, \"Filters (\", numberOfSelectedFilters ? numberOfSelectedFilters : 0, \")\"));\n};\n\nconst useStyles$2 = makeStyles$1((theme) => ({\n  filters: {\n    background: \"transparent\",\n    boxShadow: \"0px 0px 0px 0px\"\n  },\n  checkbox: {\n    padding: theme.spacing(0, 1, 0, 1)\n  },\n  dropdown: {\n    width: \"100%\"\n  }\n}));\nconst Filters = ({\n  filters,\n  filterOptions,\n  resetFilters,\n  updateSelected,\n  updateChecked\n}) => {\n  const classes = useStyles$2();\n  return /* @__PURE__ */ React.createElement(Card, {\n    className: classes.filters\n  }, /* @__PURE__ */ React.createElement(CardHeader, {\n    title: /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"h6\"\n    }, \"Filters\"),\n    action: /* @__PURE__ */ React.createElement(Button, {\n      color: \"primary\",\n      onClick: () => resetFilters()\n    }, \"CLEAR ALL\")\n  }), /* @__PURE__ */ React.createElement(Divider, null), filterOptions.kind.length === 0 && filterOptions.lifecycle.length === 0 && /* @__PURE__ */ React.createElement(CardContent, null, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"subtitle2\"\n  }, \"Filters cannot be applied to available results\")), filterOptions.kind.length > 0 && /* @__PURE__ */ React.createElement(CardContent, null, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"subtitle2\"\n  }, \"Kind\"), /* @__PURE__ */ React.createElement(Select, {\n    id: \"outlined-select\",\n    onChange: (e) => {\n      var _a;\n      return updateSelected((_a = e == null ? void 0 : e.target) == null ? void 0 : _a.value);\n    },\n    variant: \"outlined\",\n    className: classes.dropdown,\n    value: filters.selected\n  }, filterOptions.kind.map((filter) => /* @__PURE__ */ React.createElement(MenuItem, {\n    selected: filter === \"\",\n    dense: true,\n    key: filter,\n    value: filter\n  }, filter)))), filterOptions.lifecycle.length > 0 && /* @__PURE__ */ React.createElement(CardContent, null, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"subtitle2\"\n  }, \"Lifecycle\"), /* @__PURE__ */ React.createElement(List, {\n    disablePadding: true,\n    dense: true\n  }, filterOptions.lifecycle.map((filter) => /* @__PURE__ */ React.createElement(ListItem, {\n    key: filter,\n    dense: true,\n    button: true,\n    onClick: () => updateChecked(filter)\n  }, /* @__PURE__ */ React.createElement(Checkbox, {\n    edge: \"start\",\n    disableRipple: true,\n    className: classes.checkbox,\n    color: \"primary\",\n    checked: filters.checked.includes(filter),\n    tabIndex: -1,\n    value: filter,\n    name: filter\n  }), /* @__PURE__ */ React.createElement(ListItemText, {\n    id: filter,\n    primary: filter\n  }))))));\n};\n\nconst useStyles$3 = makeStyles$1((theme) => ({\n  searchQuery: {\n    color: theme.palette.text.primary,\n    background: theme.palette.background.default,\n    borderRadius: \"10%\"\n  },\n  tableHeader: {\n    margin: theme.spacing(1, 0, 0, 0),\n    display: \"flex\"\n  },\n  divider: {\n    width: \"1px\",\n    margin: theme.spacing(0, 2),\n    padding: theme.spacing(2, 0)\n  }\n}));\nconst columns = [\n  {\n    title: \"Name\",\n    field: \"name\",\n    highlight: true,\n    render: (result) => /* @__PURE__ */ React.createElement(Link, {\n      to: result.url || \"\"\n    }, result.name)\n  },\n  {\n    title: \"Description\",\n    field: \"description\"\n  },\n  {\n    title: \"Owner\",\n    field: \"owner\"\n  },\n  {\n    title: \"Kind\",\n    field: \"kind\"\n  },\n  {\n    title: \"LifeCycle\",\n    field: \"lifecycle\"\n  }\n];\nconst TableHeader = ({\n  searchQuery,\n  numberOfSelectedFilters,\n  numberOfResults,\n  handleToggleFilters\n}) => {\n  const classes = useStyles$3();\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.tableHeader\n  }, /* @__PURE__ */ React.createElement(FiltersButton, {\n    numberOfSelectedFilters,\n    handleToggleFilters\n  }), /* @__PURE__ */ React.createElement(Divider, {\n    className: classes.divider,\n    orientation: \"vertical\"\n  }), /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: 12\n  }, searchQuery ? /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"h6\"\n  }, `${numberOfResults} `, numberOfResults > 1 ? `results for ` : `result for `, /* @__PURE__ */ React.createElement(\"span\", {\n    className: classes.searchQuery\n  }, '\"', searchQuery, '\"'), \" \") : /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"h6\"\n  }, `${numberOfResults} results`)));\n};\nconst SearchResult = ({searchQuery}) => {\n  const searchApi = useApi(searchApiRef);\n  const [showFilters, toggleFilters] = useState(false);\n  const [selectedFilters, setSelectedFilters] = useState({\n    selected: \"\",\n    checked: []\n  });\n  const [filteredResults, setFilteredResults] = useState([]);\n  const {loading, error, value: results} = useAsync(() => {\n    return searchApi.getSearchResult();\n  }, []);\n  useEffect(() => {\n    if (results) {\n      let withFilters = results;\n      if (selectedFilters.selected !== \"\") {\n        withFilters = results.filter((result) => selectedFilters.selected.includes(result.kind));\n      }\n      if (selectedFilters.checked.length > 0) {\n        withFilters = withFilters.filter((result) => result.lifecycle && selectedFilters.checked.includes(result.lifecycle));\n      }\n      if (searchQuery) {\n        withFilters = withFilters.filter((result) => {\n          var _a, _b, _c;\n          return ((_a = result.name) == null ? void 0 : _a.toLocaleLowerCase(\"en-US\").includes(searchQuery)) || ((_b = result.name) == null ? void 0 : _b.toLocaleLowerCase(\"en-US\").includes(searchQuery.split(\" \").join(\"-\"))) || ((_c = result.description) == null ? void 0 : _c.toLocaleLowerCase(\"en-US\").includes(searchQuery));\n        });\n      }\n      setFilteredResults(withFilters);\n    }\n  }, [selectedFilters, searchQuery, results]);\n  if (loading) {\n    return /* @__PURE__ */ React.createElement(Progress, null);\n  }\n  if (error) {\n    return /* @__PURE__ */ React.createElement(Alert, {\n      severity: \"error\"\n    }, \"Error encountered while fetching search results. \", error.toString());\n  }\n  if (!results || results.length === 0) {\n    return /* @__PURE__ */ React.createElement(EmptyState, {\n      missing: \"data\",\n      title: \"Sorry, no results were found\"\n    });\n  }\n  const resetFilters = () => {\n    setSelectedFilters({\n      selected: \"\",\n      checked: []\n    });\n  };\n  const updateSelected = (filter) => {\n    setSelectedFilters((prevState) => ({\n      ...prevState,\n      selected: filter\n    }));\n  };\n  const updateChecked = (filter) => {\n    if (selectedFilters.checked.includes(filter)) {\n      setSelectedFilters((prevState) => ({\n        ...prevState,\n        checked: prevState.checked.filter((item) => item !== filter)\n      }));\n      return;\n    }\n    setSelectedFilters((prevState) => ({\n      ...prevState,\n      checked: [...prevState.checked, filter]\n    }));\n  };\n  const filterOptions = results.reduce((acc, curr) => {\n    if (curr.kind && acc.kind.indexOf(curr.kind) < 0) {\n      acc.kind.push(curr.kind);\n    }\n    if (curr.lifecycle && acc.lifecycle.indexOf(curr.lifecycle) < 0) {\n      acc.lifecycle.push(curr.lifecycle);\n    }\n    return acc;\n  }, {\n    kind: [],\n    lifecycle: []\n  });\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Grid, {\n    container: true\n  }, showFilters && /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: 3\n  }, /* @__PURE__ */ React.createElement(Filters, {\n    filters: selectedFilters,\n    filterOptions,\n    resetFilters,\n    updateSelected,\n    updateChecked\n  })), /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: showFilters ? 9 : 12\n  }, /* @__PURE__ */ React.createElement(Table, {\n    options: {paging: true, pageSize: 20, search: false},\n    data: filteredResults,\n    columns,\n    title: /* @__PURE__ */ React.createElement(TableHeader, {\n      searchQuery,\n      numberOfResults: filteredResults.length,\n      numberOfSelectedFilters: (selectedFilters.selected !== \"\" ? 1 : 0) + selectedFilters.checked.length,\n      handleToggleFilters: () => toggleFilters(!showFilters)\n    })\n  }))));\n};\n\nconst SearchPage = () => {\n  const [queryString, setQueryString] = useQueryParamState(\"query\");\n  const [searchQuery, setSearchQuery] = useState(queryString != null ? queryString : \"\");\n  const handleSearch = (event) => {\n    event.preventDefault();\n    setSearchQuery(event.target.value);\n  };\n  useEffect(() => setSearchQuery(queryString != null ? queryString : \"\"), [queryString]);\n  useDebounce(() => {\n    setQueryString(searchQuery);\n  }, 200, [searchQuery]);\n  const handleClearSearchBar = () => {\n    setSearchQuery(\"\");\n  };\n  return /* @__PURE__ */ React.createElement(Page, {\n    themeId: \"home\"\n  }, /* @__PURE__ */ React.createElement(Header, {\n    title: \"Search\"\n  }), /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(Grid, {\n    container: true,\n    direction: \"row\"\n  }, /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: 12\n  }, /* @__PURE__ */ React.createElement(SearchBar, {\n    handleSearch,\n    handleClearSearchBar,\n    searchQuery\n  })), /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: 12\n  }, /* @__PURE__ */ React.createElement(SearchResult, {\n    searchQuery: (queryString != null ? queryString : \"\").toLocaleLowerCase(\"en-US\")\n  })))));\n};\n\nconst SearchPageNext = () => {\n  const [queryString, setQueryString] = useQueryParamState(\"query\");\n  const [searchQuery, setSearchQuery] = useState(queryString != null ? queryString : \"\");\n  const handleSearch = (event) => {\n    event.preventDefault();\n    setSearchQuery(event.target.value);\n  };\n  useEffect(() => setSearchQuery(queryString != null ? queryString : \"\"), [queryString]);\n  useDebounce(() => {\n    setQueryString(searchQuery);\n  }, 200, [searchQuery]);\n  const handleClearSearchBar = () => {\n    setSearchQuery(\"\");\n  };\n  return /* @__PURE__ */ React.createElement(Page, {\n    themeId: \"home\"\n  }, /* @__PURE__ */ React.createElement(Header, {\n    title: \"Search\",\n    subtitle: /* @__PURE__ */ React.createElement(Lifecycle, {\n      alpha: true\n    })\n  }), /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(Grid, {\n    container: true,\n    direction: \"row\"\n  }, /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: 12\n  }, /* @__PURE__ */ React.createElement(SearchBar, {\n    handleSearch,\n    handleClearSearchBar,\n    searchQuery\n  })), /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: 12\n  }, /* @__PURE__ */ React.createElement(SearchResult, {\n    searchQuery: (queryString != null ? queryString : \"\").toLowerCase()\n  })))));\n};\n\nconst rootRouteRef = createRouteRef({\n  path: \"/search\",\n  title: \"search\"\n});\nconst rootNextRouteRef = createRouteRef({\n  path: \"/search-next\",\n  title: \"search\"\n});\nconst searchPlugin = createPlugin({\n  id: \"search\",\n  apis: [\n    createApiFactory({\n      api: searchApiRef,\n      deps: {catalogApi: catalogApiRef, discoveryApi: discoveryApiRef},\n      factory: ({catalogApi, discoveryApi}) => {\n        return new SearchClient({catalogApi, discoveryApi});\n      }\n    })\n  ],\n  register({router}) {\n    router.addRoute(rootRouteRef, SearchPage);\n    router.addRoute(rootNextRouteRef, SearchPageNext);\n  },\n  routes: {\n    root: rootRouteRef,\n    nextRoot: rootNextRouteRef\n  }\n});\nconst SearchPage$1 = searchPlugin.provide(createRoutableExtension({\n  component: () => import('./index-47f3726b.esm.js').then((m) => m.SearchPage),\n  mountPoint: rootRouteRef\n}));\nconst SearchPageNext$1 = searchPlugin.provide(createRoutableExtension({\n  component: () => import('./index-9c2ae6a3.esm.js').then((m) => m.SearchPageNext),\n  mountPoint: rootNextRouteRef\n}));\n\nconst SidebarSearch = () => {\n  const searchRoute = useRouteRef(rootRouteRef);\n  const navigate = useNavigate();\n  const handleSearch = useCallback((query) => {\n    const queryString = qs.stringify({query}, {addQueryPrefix: true});\n    navigate(`${searchRoute()}${queryString}`);\n  }, [navigate, searchRoute]);\n  return /* @__PURE__ */ React.createElement(SidebarSearchField, {\n    onSearch: handleSearch,\n    to: \"/search\"\n  });\n};\n\nexport { Filters as F, SearchPage as S, SearchPageNext as a, SearchPage$1 as b, SearchPageNext$1 as c, FiltersButton as d, SearchBar as e, SearchResult as f, SidebarSearch as g, searchPlugin as s };\n//# sourceMappingURL=index-37ed06b2.esm.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"./codegen\");\nconst names = {\n    // validation function arguments\n    data: new codegen_1.Name(\"data\"),\n    // args passed from referencing schema\n    valCxt: new codegen_1.Name(\"valCxt\"),\n    dataPath: new codegen_1.Name(\"dataPath\"),\n    parentData: new codegen_1.Name(\"parentData\"),\n    parentDataProperty: new codegen_1.Name(\"parentDataProperty\"),\n    rootData: new codegen_1.Name(\"rootData\"),\n    dynamicAnchors: new codegen_1.Name(\"dynamicAnchors\"),\n    // function scoped variables\n    vErrors: new codegen_1.Name(\"vErrors\"),\n    errors: new codegen_1.Name(\"errors\"),\n    this: new codegen_1.Name(\"this\"),\n    // \"globals\"\n    self: new codegen_1.Name(\"self\"),\n    scope: new codegen_1.Name(\"scope\"),\n    // JTD serialize/parse name for JSON string and position\n    json: new codegen_1.Name(\"json\"),\n    jsonPos: new codegen_1.Name(\"jsonPos\"),\n    jsonLen: new codegen_1.Name(\"jsonLen\"),\n    jsonPart: new codegen_1.Name(\"jsonPart\"),\n};\nexports.default = names;\n//# sourceMappingURL=names.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateUnion = exports.validateArray = exports.usePattern = exports.callValidateCode = exports.schemaProperties = exports.allSchemaProperties = exports.noPropertyInData = exports.propertyInData = exports.isOwnProperty = exports.hasPropFunc = exports.reportMissingProp = exports.checkMissingProp = exports.checkReportMissingProp = void 0;\nconst codegen_1 = require(\"../compile/codegen\");\nconst util_1 = require(\"../compile/util\");\nconst subschema_1 = require(\"../compile/subschema\");\nconst names_1 = require(\"../compile/names\");\nfunction checkReportMissingProp(cxt, prop) {\n    const { gen, data, it } = cxt;\n    gen.if(noPropertyInData(gen, data, prop, it.opts.ownProperties), () => {\n        cxt.setParams({ missingProperty: codegen_1._ `${prop}` }, true);\n        cxt.error();\n    });\n}\nexports.checkReportMissingProp = checkReportMissingProp;\nfunction checkMissingProp({ gen, data, it: { opts } }, properties, missing) {\n    return codegen_1.or(...properties.map((prop) => codegen_1.and(noPropertyInData(gen, data, prop, opts.ownProperties), codegen_1._ `${missing} = ${prop}`)));\n}\nexports.checkMissingProp = checkMissingProp;\nfunction reportMissingProp(cxt, missing) {\n    cxt.setParams({ missingProperty: missing }, true);\n    cxt.error();\n}\nexports.reportMissingProp = reportMissingProp;\nfunction hasPropFunc(gen) {\n    return gen.scopeValue(\"func\", {\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        ref: Object.prototype.hasOwnProperty,\n        code: codegen_1._ `Object.prototype.hasOwnProperty`,\n    });\n}\nexports.hasPropFunc = hasPropFunc;\nfunction isOwnProperty(gen, data, property) {\n    return codegen_1._ `${hasPropFunc(gen)}.call(${data}, ${property})`;\n}\nexports.isOwnProperty = isOwnProperty;\nfunction propertyInData(gen, data, property, ownProperties) {\n    const cond = codegen_1._ `${data}${codegen_1.getProperty(property)} !== undefined`;\n    return ownProperties ? codegen_1._ `${cond} && ${isOwnProperty(gen, data, property)}` : cond;\n}\nexports.propertyInData = propertyInData;\nfunction noPropertyInData(gen, data, property, ownProperties) {\n    const cond = codegen_1._ `${data}${codegen_1.getProperty(property)} === undefined`;\n    return ownProperties ? codegen_1.or(cond, codegen_1.not(isOwnProperty(gen, data, property))) : cond;\n}\nexports.noPropertyInData = noPropertyInData;\nfunction allSchemaProperties(schemaMap) {\n    return schemaMap ? Object.keys(schemaMap).filter((p) => p !== \"__proto__\") : [];\n}\nexports.allSchemaProperties = allSchemaProperties;\nfunction schemaProperties(it, schemaMap) {\n    return allSchemaProperties(schemaMap).filter((p) => !util_1.alwaysValidSchema(it, schemaMap[p]));\n}\nexports.schemaProperties = schemaProperties;\nfunction callValidateCode({ schemaCode, data, it: { gen, topSchemaRef, schemaPath, errorPath }, it }, func, context, passSchema) {\n    const dataAndSchema = passSchema ? codegen_1._ `${schemaCode}, ${data}, ${topSchemaRef}${schemaPath}` : data;\n    const valCxt = [\n        [names_1.default.dataPath, codegen_1.strConcat(names_1.default.dataPath, errorPath)],\n        [names_1.default.parentData, it.parentData],\n        [names_1.default.parentDataProperty, it.parentDataProperty],\n        [names_1.default.rootData, names_1.default.rootData],\n    ];\n    if (it.opts.dynamicRef)\n        valCxt.push([names_1.default.dynamicAnchors, names_1.default.dynamicAnchors]);\n    const args = codegen_1._ `${dataAndSchema}, ${gen.object(...valCxt)}`;\n    return context !== codegen_1.nil ? codegen_1._ `${func}.call(${context}, ${args})` : codegen_1._ `${func}(${args})`;\n}\nexports.callValidateCode = callValidateCode;\nfunction usePattern(gen, pattern) {\n    return gen.scopeValue(\"pattern\", {\n        key: pattern,\n        ref: new RegExp(pattern, \"u\"),\n        code: codegen_1._ `new RegExp(${pattern}, \"u\")`,\n    });\n}\nexports.usePattern = usePattern;\nfunction validateArray(cxt) {\n    const { gen, data, keyword, it } = cxt;\n    const valid = gen.name(\"valid\");\n    if (it.allErrors) {\n        const validArr = gen.let(\"valid\", true);\n        validateItems(() => gen.assign(validArr, false));\n        return validArr;\n    }\n    gen.var(valid, true);\n    validateItems(() => gen.break());\n    return valid;\n    function validateItems(notValid) {\n        const len = gen.const(\"len\", codegen_1._ `${data}.length`);\n        gen.forRange(\"i\", 0, len, (i) => {\n            cxt.subschema({\n                keyword,\n                dataProp: i,\n                dataPropType: subschema_1.Type.Num,\n            }, valid);\n            gen.if(codegen_1.not(valid), notValid);\n        });\n    }\n}\nexports.validateArray = validateArray;\nfunction validateUnion(cxt) {\n    const { gen, schema, keyword, it } = cxt;\n    /* istanbul ignore if */\n    if (!Array.isArray(schema))\n        throw new Error(\"ajv implementation error\");\n    const alwaysValid = schema.some((sch) => util_1.alwaysValidSchema(it, sch));\n    if (alwaysValid && !it.opts.unevaluated)\n        return;\n    const valid = gen.let(\"valid\", false);\n    const schValid = gen.name(\"_valid\");\n    gen.block(() => schema.forEach((_sch, i) => {\n        const schCxt = cxt.subschema({\n            keyword,\n            schemaProp: i,\n            compositeRule: true,\n        }, schValid);\n        gen.assign(valid, codegen_1._ `${valid} || ${schValid}`);\n        const merged = cxt.mergeValidEvaluated(schCxt, schValid);\n        // can short-circuit if `unevaluatedProperties/Items` not supported (opts.unevaluated !== true)\n        // or if all properties and items were evaluated (it.props === true && it.items === true)\n        if (!merged)\n            gen.if(codegen_1.not(valid));\n    }));\n    cxt.result(valid, () => cxt.reset(), () => cxt.error(true));\n}\nexports.validateUnion = validateUnion;\n//# sourceMappingURL=code.js.map","import '@backstage/core';\nimport '@backstage/plugin-catalog-react';\nimport '@material-ui/lab';\nimport 'react';\nexport { a as ApiDefinitionCard, h as ApiExplorerPage, b as ApiTypeTitle, n as AsyncApiDefinitionWidget, C as ConsumedApisCard, c as ConsumingComponentsCard, E as EntityApiDefinitionCard, i as EntityConsumedApisCard, j as EntityConsumingComponentsCard, k as EntityHasApisCard, l as EntityProvidedApisCard, m as EntityProvidingComponentsCard, H as HasApisCard, O as OpenApiDefinitionWidget, o as PlainApiDefinitionWidget, P as ProvidedApisCard, e as ProvidingComponentsCard, f as apiDocsConfigRef, g as apiDocsPlugin, d as defaultDefinitionWidgets, g as plugin } from './esm/index-70fbe4d9.esm.js';\nimport '@asyncapi/react-component';\nimport '@asyncapi/react-component/lib/styles/fiori.css';\nimport '@material-ui/core/styles';\nimport 'graphiql/graphiql.css';\nimport 'graphql';\nimport 'swagger-ui-react';\nimport 'swagger-ui-react/swagger-ui.css';\nimport '@backstage/catalog-model';\nimport '@material-ui/core';\nimport 'react-router-dom';\nimport 'react-use';\n//# sourceMappingURL=index.esm.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.boolOrEmptySchema = exports.topBoolOrEmptySchema = void 0;\nconst errors_1 = require(\"../errors\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst boolError = {\n    message: \"boolean schema is false\",\n};\nfunction topBoolOrEmptySchema(it) {\n    const { gen, schema, validateName } = it;\n    if (schema === false) {\n        falseSchemaError(it, false);\n    }\n    else if (typeof schema == \"object\" && schema.$async === true) {\n        gen.return(names_1.default.data);\n    }\n    else {\n        gen.assign(codegen_1._ `${validateName}.errors`, null);\n        gen.return(true);\n    }\n}\nexports.topBoolOrEmptySchema = topBoolOrEmptySchema;\nfunction boolOrEmptySchema(it, valid) {\n    const { gen, schema } = it;\n    if (schema === false) {\n        gen.var(valid, false); // TODO var\n        falseSchemaError(it);\n    }\n    else {\n        gen.var(valid, true); // TODO var\n    }\n}\nexports.boolOrEmptySchema = boolOrEmptySchema;\nfunction falseSchemaError(it, overrideAllErrors) {\n    const { gen, data } = it;\n    // TODO maybe some other interface should be used for non-keyword validation errors...\n    const cxt = {\n        gen,\n        keyword: \"false schema\",\n        data,\n        schema: false,\n        schemaCode: false,\n        schemaValue: false,\n        params: {},\n        it,\n    };\n    errors_1.reportError(cxt, boolError, overrideAllErrors);\n}\n//# sourceMappingURL=boolSchema.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.schemaKeywords = void 0;\nconst applicability_1 = require(\"./applicability\");\nconst dataType_1 = require(\"./dataType\");\nconst defaults_1 = require(\"./defaults\");\nconst keyword_1 = require(\"./keyword\");\nconst util_1 = require(\"../util\");\nconst _1 = require(\".\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nfunction schemaKeywords(it, types, typeErrors, errsCount) {\n    const { gen, schema, data, allErrors, opts, self } = it;\n    const { RULES } = self;\n    if (schema.$ref && (opts.ignoreKeywordsWithRef || !util_1.schemaHasRulesButRef(schema, RULES))) {\n        gen.block(() => keyword_1.keywordCode(it, \"$ref\", RULES.all.$ref.definition)); // TODO typecast\n        return;\n    }\n    if (!opts.jtd)\n        checkStrictTypes(it, types);\n    gen.block(() => {\n        for (const group of RULES.rules)\n            groupKeywords(group);\n        groupKeywords(RULES.post);\n    });\n    function groupKeywords(group) {\n        if (!applicability_1.shouldUseGroup(schema, group))\n            return;\n        if (group.type) {\n            gen.if(dataType_1.checkDataType(group.type, data, opts.strict));\n            iterateKeywords(it, group);\n            if (types.length === 1 && types[0] === group.type && typeErrors) {\n                gen.else();\n                dataType_1.reportTypeError(it);\n            }\n            gen.endIf();\n        }\n        else {\n            iterateKeywords(it, group);\n        }\n        // TODO make it \"ok\" call?\n        if (!allErrors)\n            gen.if(codegen_1._ `${names_1.default.errors} === ${errsCount || 0}`);\n    }\n}\nexports.schemaKeywords = schemaKeywords;\nfunction iterateKeywords(it, group) {\n    const { gen, schema, opts: { useDefaults }, } = it;\n    if (useDefaults)\n        defaults_1.assignDefaults(it, group.type);\n    gen.block(() => {\n        for (const rule of group.rules) {\n            if (applicability_1.shouldUseRule(schema, rule)) {\n                keyword_1.keywordCode(it, rule.keyword, rule.definition, group.type);\n            }\n        }\n    });\n}\nfunction checkStrictTypes(it, types) {\n    if (it.schemaEnv.meta || !it.opts.strictTypes)\n        return;\n    checkContextTypes(it, types);\n    if (!it.opts.allowUnionTypes)\n        checkMultipleTypes(it, types);\n    checkKeywordTypes(it, it.dataTypes);\n}\nfunction checkContextTypes(it, types) {\n    if (!types.length)\n        return;\n    if (!it.dataTypes.length) {\n        it.dataTypes = types;\n        return;\n    }\n    types.forEach((t) => {\n        if (!includesType(it.dataTypes, t)) {\n            strictTypesError(it, `type \"${t}\" not allowed by context \"${it.dataTypes.join(\",\")}\"`);\n        }\n    });\n    it.dataTypes = it.dataTypes.filter((t) => includesType(types, t));\n}\nfunction checkMultipleTypes(it, ts) {\n    if (ts.length > 1 && !(ts.length === 2 && ts.includes(\"null\"))) {\n        strictTypesError(it, \"use allowUnionTypes to allow union type keyword\");\n    }\n}\nfunction checkKeywordTypes(it, ts) {\n    const rules = it.self.RULES.all;\n    for (const keyword in rules) {\n        const rule = rules[keyword];\n        if (typeof rule == \"object\" && applicability_1.shouldUseRule(it.schema, rule)) {\n            const { type } = rule.definition;\n            if (type.length && !type.some((t) => hasApplicableType(ts, t))) {\n                strictTypesError(it, `missing type \"${type.join(\",\")}\" for keyword \"${keyword}\"`);\n            }\n        }\n    }\n}\nfunction hasApplicableType(schTs, kwdT) {\n    return schTs.includes(kwdT) || (kwdT === \"number\" && schTs.includes(\"integer\"));\n}\nfunction includesType(ts, t) {\n    return ts.includes(t) || (t === \"integer\" && ts.includes(\"number\"));\n}\nfunction strictTypesError(it, msg) {\n    const schemaPath = it.schemaEnv.baseId + it.errSchemaPath;\n    msg += ` at \"${schemaPath}\" (strictTypes)`;\n    _1.checkStrictMode(it, msg, it.opts.strictTypes);\n}\n//# sourceMappingURL=iterate.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.assignDefaults = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst _1 = require(\".\");\nfunction assignDefaults(it, ty) {\n    const { properties, items } = it.schema;\n    if (ty === \"object\" && properties) {\n        for (const key in properties) {\n            assignDefault(it, key, properties[key].default);\n        }\n    }\n    else if (ty === \"array\" && Array.isArray(items)) {\n        items.forEach((sch, i) => assignDefault(it, i, sch.default));\n    }\n}\nexports.assignDefaults = assignDefaults;\nfunction assignDefault(it, prop, defaultValue) {\n    const { gen, compositeRule, data, opts } = it;\n    if (defaultValue === undefined)\n        return;\n    const childData = codegen_1._ `${data}${codegen_1.getProperty(prop)}`;\n    if (compositeRule) {\n        _1.checkStrictMode(it, `default is ignored for: ${childData}`);\n        return;\n    }\n    let condition = codegen_1._ `${childData} === undefined`;\n    if (opts.useDefaults === \"empty\") {\n        condition = codegen_1._ `${condition} || ${childData} === null || ${childData} === \"\"`;\n    }\n    // `${childData} === undefined` +\n    // (opts.useDefaults === \"empty\" ? ` || ${childData} === null || ${childData} === \"\"` : \"\")\n    gen.if(condition, codegen_1._ `${childData} = ${codegen_1.stringify(defaultValue)}`);\n}\n//# sourceMappingURL=defaults.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.keywordCode = void 0;\nconst context_1 = require(\"../context\");\nconst errors_1 = require(\"../errors\");\nconst code_1 = require(\"../../vocabularies/code\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nfunction keywordCode(it, keyword, def, ruleType) {\n    const cxt = new context_1.default(it, def, keyword);\n    if (\"code\" in def) {\n        def.code(cxt, ruleType);\n    }\n    else if (cxt.$data && def.validate) {\n        funcKeywordCode(cxt, def);\n    }\n    else if (\"macro\" in def) {\n        macroKeywordCode(cxt, def);\n    }\n    else if (def.compile || def.validate) {\n        funcKeywordCode(cxt, def);\n    }\n}\nexports.keywordCode = keywordCode;\nfunction macroKeywordCode(cxt, def) {\n    const { gen, keyword, schema, parentSchema, it } = cxt;\n    const macroSchema = def.macro.call(it.self, schema, parentSchema, it);\n    const schemaRef = useKeyword(gen, keyword, macroSchema);\n    if (it.opts.validateSchema !== false)\n        it.self.validateSchema(macroSchema, true);\n    const valid = gen.name(\"valid\");\n    cxt.subschema({\n        schema: macroSchema,\n        schemaPath: codegen_1.nil,\n        errSchemaPath: `${it.errSchemaPath}/${keyword}`,\n        topSchemaRef: schemaRef,\n        compositeRule: true,\n    }, valid);\n    cxt.pass(valid, () => cxt.error(true));\n}\nfunction funcKeywordCode(cxt, def) {\n    var _a;\n    const { gen, keyword, schema, parentSchema, $data, it } = cxt;\n    checkAsync(it, def);\n    const validate = !$data && def.compile ? def.compile.call(it.self, schema, parentSchema, it) : def.validate;\n    const validateRef = useKeyword(gen, keyword, validate);\n    const valid = gen.let(\"valid\");\n    cxt.block$data(valid, validateKeyword);\n    cxt.ok((_a = def.valid) !== null && _a !== void 0 ? _a : valid);\n    function validateKeyword() {\n        if (def.errors === false) {\n            assignValid();\n            if (def.modifying)\n                modifyData(cxt);\n            reportErrs(() => cxt.error());\n        }\n        else {\n            const ruleErrs = def.async ? validateAsync() : validateSync();\n            if (def.modifying)\n                modifyData(cxt);\n            reportErrs(() => addErrs(cxt, ruleErrs));\n        }\n    }\n    function validateAsync() {\n        const ruleErrs = gen.let(\"ruleErrs\", null);\n        gen.try(() => assignValid(codegen_1._ `await `), (e) => gen.assign(valid, false).if(codegen_1._ `${e} instanceof ${it.ValidationError}`, () => gen.assign(ruleErrs, codegen_1._ `${e}.errors`), () => gen.throw(e)));\n        return ruleErrs;\n    }\n    function validateSync() {\n        const validateErrs = codegen_1._ `${validateRef}.errors`;\n        gen.assign(validateErrs, null);\n        assignValid(codegen_1.nil);\n        return validateErrs;\n    }\n    function assignValid(_await = def.async ? codegen_1._ `await ` : codegen_1.nil) {\n        const passCxt = it.opts.passContext ? names_1.default.this : names_1.default.self;\n        const passSchema = !((\"compile\" in def && !$data) || def.schema === false);\n        gen.assign(valid, codegen_1._ `${_await}${code_1.callValidateCode(cxt, validateRef, passCxt, passSchema)}`, def.modifying);\n    }\n    function reportErrs(errors) {\n        var _a;\n        gen.if(codegen_1.not((_a = def.valid) !== null && _a !== void 0 ? _a : valid), errors);\n    }\n}\nfunction modifyData(cxt) {\n    const { gen, data, it } = cxt;\n    gen.if(it.parentData, () => gen.assign(data, codegen_1._ `${it.parentData}[${it.parentDataProperty}]`));\n}\nfunction addErrs(cxt, errs) {\n    const { gen } = cxt;\n    gen.if(codegen_1._ `Array.isArray(${errs})`, () => {\n        gen\n            .assign(names_1.default.vErrors, codegen_1._ `${names_1.default.vErrors} === null ? ${errs} : ${names_1.default.vErrors}.concat(${errs})`)\n            .assign(names_1.default.errors, codegen_1._ `${names_1.default.vErrors}.length`);\n        errors_1.extendErrors(cxt);\n    }, () => cxt.error());\n}\nfunction checkAsync({ schemaEnv }, def) {\n    if (def.async && !schemaEnv.$async)\n        throw new Error(\"async keyword in sync schema\");\n}\nfunction useKeyword(gen, keyword, result) {\n    if (result === undefined)\n        throw new Error(`keyword \"${keyword}\" failed to compile`);\n    return gen.scopeValue(\"keyword\", typeof result == \"function\" ? { ref: result } : { ref: result, code: codegen_1.stringify(result) });\n}\n//# sourceMappingURL=keyword.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeGen = exports.Name = exports.nil = exports.stringify = exports.str = exports._ = exports.KeywordCxt = void 0;\nconst context_1 = require(\"./compile/context\");\nexports.KeywordCxt = context_1.default;\nvar codegen_1 = require(\"./compile/codegen\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return codegen_1._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return codegen_1.str; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return codegen_1.stringify; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return codegen_1.nil; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return codegen_1.Name; } });\nObject.defineProperty(exports, \"CodeGen\", { enumerable: true, get: function () { return codegen_1.CodeGen; } });\nconst error_classes_1 = require(\"./compile/error_classes\");\nconst rules_1 = require(\"./compile/rules\");\nconst compile_1 = require(\"./compile\");\nconst codegen_2 = require(\"./compile/codegen\");\nconst resolve_1 = require(\"./compile/resolve\");\nconst dataType_1 = require(\"./compile/validate/dataType\");\nconst util_1 = require(\"./compile/util\");\nconst $dataRefSchema = require(\"./refs/data.json\");\nconst META_IGNORE_OPTIONS = [\"removeAdditional\", \"useDefaults\", \"coerceTypes\"];\nconst EXT_SCOPE_NAMES = new Set([\n    \"validate\",\n    \"serialize\",\n    \"parse\",\n    \"wrapper\",\n    \"root\",\n    \"schema\",\n    \"keyword\",\n    \"pattern\",\n    \"formats\",\n    \"validate$data\",\n    \"func\",\n    \"obj\",\n    \"Error\",\n]);\nconst removedOptions = {\n    errorDataPath: \"\",\n    format: \"`validateFormats: false` can be used instead.\",\n    nullable: '\"nullable\" keyword is supported by default.',\n    jsonPointers: \"Deprecated jsPropertySyntax can be used instead.\",\n    extendRefs: \"Deprecated ignoreKeywordsWithRef can be used instead.\",\n    missingRefs: \"Pass empty schema with $id that should be ignored to ajv.addSchema.\",\n    processCode: \"Use option `code: {process: (code, schemaEnv: object) => string}`\",\n    sourceCode: \"Use option `code: {source: true}`\",\n    schemaId: \"JSON Schema draft-04 is not supported in Ajv v7.\",\n    strictDefaults: \"It is default now, see option `strict`.\",\n    strictKeywords: \"It is default now, see option `strict`.\",\n    strictNumbers: \"It is default now, see option `strict`.\",\n    uniqueItems: '\"uniqueItems\" keyword is always validated.',\n    unknownFormats: \"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).\",\n    cache: \"Map is used as cache, schema object as key.\",\n    serialize: \"Map is used as cache, schema object as key.\",\n};\nconst deprecatedOptions = {\n    ignoreKeywordsWithRef: \"\",\n    jsPropertySyntax: \"\",\n    unicode: '\"minLength\"/\"maxLength\" account for unicode characters by default.',\n};\nfunction requiredOptions(o) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n    const strict = (_a = o.strict) !== null && _a !== void 0 ? _a : true;\n    const strictLog = strict ? \"log\" : false;\n    const _optz = (_b = o.code) === null || _b === void 0 ? void 0 : _b.optimize;\n    const optimize = _optz === true || _optz === undefined ? 1 : _optz || 0;\n    return {\n        strict,\n        strictTypes: (_c = o.strictTypes) !== null && _c !== void 0 ? _c : strictLog,\n        strictTuples: (_d = o.strictTuples) !== null && _d !== void 0 ? _d : strictLog,\n        code: o.code ? { ...o.code, optimize } : { optimize },\n        loopRequired: (_e = o.loopRequired) !== null && _e !== void 0 ? _e : Infinity,\n        loopEnum: (_f = o.loopEnum) !== null && _f !== void 0 ? _f : Infinity,\n        meta: (_g = o.meta) !== null && _g !== void 0 ? _g : true,\n        messages: (_h = o.messages) !== null && _h !== void 0 ? _h : true,\n        inlineRefs: (_j = o.inlineRefs) !== null && _j !== void 0 ? _j : true,\n        addUsedSchema: (_k = o.addUsedSchema) !== null && _k !== void 0 ? _k : true,\n        validateSchema: (_l = o.validateSchema) !== null && _l !== void 0 ? _l : true,\n        validateFormats: (_m = o.validateFormats) !== null && _m !== void 0 ? _m : true,\n    };\n}\nclass Ajv {\n    constructor(opts = {}) {\n        this.schemas = {};\n        this.refs = {};\n        this.formats = {};\n        this._compilations = new Set();\n        this._loading = {};\n        this._cache = new Map();\n        opts = this.opts = { ...opts, ...requiredOptions(opts) };\n        const { es5, lines } = this.opts.code;\n        this.scope = new codegen_2.ValueScope({ scope: {}, prefixes: EXT_SCOPE_NAMES, es5, lines });\n        this.logger = getLogger(opts.logger);\n        const formatOpt = opts.validateFormats;\n        opts.validateFormats = false;\n        this.RULES = rules_1.getRules();\n        checkOptions.call(this, removedOptions, opts, \"NOT SUPPORTED\");\n        checkOptions.call(this, deprecatedOptions, opts, \"DEPRECATED\", \"warn\");\n        this._metaOpts = getMetaSchemaOptions.call(this);\n        if (opts.formats)\n            addInitialFormats.call(this);\n        this._addVocabularies();\n        this._addDefaultMetaSchema();\n        if (opts.keywords)\n            addInitialKeywords.call(this, opts.keywords);\n        if (typeof opts.meta == \"object\")\n            this.addMetaSchema(opts.meta);\n        addInitialSchemas.call(this);\n        opts.validateFormats = formatOpt;\n    }\n    _addVocabularies() {\n        this.addKeyword(\"$async\");\n    }\n    _addDefaultMetaSchema() {\n        const { $data, meta } = this.opts;\n        if (meta && $data)\n            this.addMetaSchema($dataRefSchema, $dataRefSchema.$id, false);\n    }\n    defaultMeta() {\n        const { meta } = this.opts;\n        return (this.opts.defaultMeta = typeof meta == \"object\" ? meta.$id || meta : undefined);\n    }\n    validate(schemaKeyRef, // key, ref or schema object\n    data // to be validated\n    ) {\n        let v;\n        if (typeof schemaKeyRef == \"string\") {\n            v = this.getSchema(schemaKeyRef);\n            if (!v)\n                throw new Error(`no schema with key or ref \"${schemaKeyRef}\"`);\n        }\n        else {\n            v = this.compile(schemaKeyRef);\n        }\n        const valid = v(data);\n        if (!(\"$async\" in v))\n            this.errors = v.errors;\n        return valid;\n    }\n    compile(schema, _meta) {\n        const sch = this._addSchema(schema, _meta);\n        return (sch.validate || this._compileSchemaEnv(sch));\n    }\n    compileAsync(schema, meta) {\n        if (typeof this.opts.loadSchema != \"function\") {\n            throw new Error(\"options.loadSchema should be a function\");\n        }\n        const { loadSchema } = this.opts;\n        return runCompileAsync.call(this, schema, meta);\n        async function runCompileAsync(_schema, _meta) {\n            await loadMetaSchema.call(this, _schema.$schema);\n            const sch = this._addSchema(_schema, _meta);\n            return sch.validate || _compileAsync.call(this, sch);\n        }\n        async function loadMetaSchema($ref) {\n            if ($ref && !this.getSchema($ref)) {\n                await runCompileAsync.call(this, { $ref }, true);\n            }\n        }\n        async function _compileAsync(sch) {\n            try {\n                return this._compileSchemaEnv(sch);\n            }\n            catch (e) {\n                if (!(e instanceof error_classes_1.MissingRefError))\n                    throw e;\n                checkLoaded.call(this, e);\n                await loadMissingSchema.call(this, e.missingSchema);\n                return _compileAsync.call(this, sch);\n            }\n        }\n        function checkLoaded({ missingSchema: ref, missingRef }) {\n            if (this.refs[ref]) {\n                throw new Error(`AnySchema ${ref} is loaded but ${missingRef} cannot be resolved`);\n            }\n        }\n        async function loadMissingSchema(ref) {\n            const _schema = await _loadSchema.call(this, ref);\n            if (!this.refs[ref])\n                await loadMetaSchema.call(this, _schema.$schema);\n            if (!this.refs[ref])\n                this.addSchema(_schema, ref, meta);\n        }\n        async function _loadSchema(ref) {\n            const p = this._loading[ref];\n            if (p)\n                return p;\n            try {\n                return await (this._loading[ref] = loadSchema(ref));\n            }\n            finally {\n                delete this._loading[ref];\n            }\n        }\n    }\n    // Adds schema to the instance\n    addSchema(schema, // If array is passed, `key` will be ignored\n    key, // Optional schema key. Can be passed to `validate` method instead of schema object or id/ref. One schema per instance can have empty `id` and `key`.\n    _meta, // true if schema is a meta-schema. Used internally, addMetaSchema should be used instead.\n    _validateSchema = this.opts.validateSchema // false to skip schema validation. Used internally, option validateSchema should be used instead.\n    ) {\n        if (Array.isArray(schema)) {\n            for (const sch of schema)\n                this.addSchema(sch, undefined, _meta, _validateSchema);\n            return this;\n        }\n        let id;\n        if (typeof schema === \"object\") {\n            id = schema.$id;\n            if (id !== undefined && typeof id != \"string\")\n                throw new Error(\"schema id must be string\");\n        }\n        key = resolve_1.normalizeId(key || id);\n        this._checkUnique(key);\n        this.schemas[key] = this._addSchema(schema, _meta, _validateSchema, true);\n        return this;\n    }\n    // Add schema that will be used to validate other schemas\n    // options in META_IGNORE_OPTIONS are alway set to false\n    addMetaSchema(schema, key, // schema key\n    _validateSchema = this.opts.validateSchema // false to skip schema validation, can be used to override validateSchema option for meta-schema\n    ) {\n        this.addSchema(schema, key, true, _validateSchema);\n        return this;\n    }\n    //  Validate schema against its meta-schema\n    validateSchema(schema, throwOrLogError) {\n        if (typeof schema == \"boolean\")\n            return true;\n        let $schema;\n        $schema = schema.$schema;\n        if ($schema !== undefined && typeof $schema != \"string\") {\n            throw new Error(\"$schema must be a string\");\n        }\n        $schema = $schema || this.opts.defaultMeta || this.defaultMeta();\n        if (!$schema) {\n            this.logger.warn(\"meta-schema not available\");\n            this.errors = null;\n            return true;\n        }\n        const valid = this.validate($schema, schema);\n        if (!valid && throwOrLogError) {\n            const message = \"schema is invalid: \" + this.errorsText();\n            if (this.opts.validateSchema === \"log\")\n                this.logger.error(message);\n            else\n                throw new Error(message);\n        }\n        return valid;\n    }\n    // Get compiled schema by `key` or `ref`.\n    // (`key` that was passed to `addSchema` or full schema reference - `schema.$id` or resolved id)\n    getSchema(keyRef) {\n        let sch;\n        while (typeof (sch = getSchEnv.call(this, keyRef)) == \"string\")\n            keyRef = sch;\n        if (sch === undefined) {\n            const root = new compile_1.SchemaEnv({ schema: {} });\n            sch = compile_1.resolveSchema.call(this, root, keyRef);\n            if (!sch)\n                return;\n            this.refs[keyRef] = sch;\n        }\n        return (sch.validate || this._compileSchemaEnv(sch));\n    }\n    // Remove cached schema(s).\n    // If no parameter is passed all schemas but meta-schemas are removed.\n    // If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.\n    // Even if schema is referenced by other schemas it still can be removed as other schemas have local references.\n    removeSchema(schemaKeyRef) {\n        if (schemaKeyRef instanceof RegExp) {\n            this._removeAllSchemas(this.schemas, schemaKeyRef);\n            this._removeAllSchemas(this.refs, schemaKeyRef);\n            return this;\n        }\n        switch (typeof schemaKeyRef) {\n            case \"undefined\":\n                this._removeAllSchemas(this.schemas);\n                this._removeAllSchemas(this.refs);\n                this._cache.clear();\n                return this;\n            case \"string\": {\n                const sch = getSchEnv.call(this, schemaKeyRef);\n                if (typeof sch == \"object\")\n                    this._cache.delete(sch.schema);\n                delete this.schemas[schemaKeyRef];\n                delete this.refs[schemaKeyRef];\n                return this;\n            }\n            case \"object\": {\n                const cacheKey = schemaKeyRef;\n                this._cache.delete(cacheKey);\n                let id = schemaKeyRef.$id;\n                if (id) {\n                    id = resolve_1.normalizeId(id);\n                    delete this.schemas[id];\n                    delete this.refs[id];\n                }\n                return this;\n            }\n            default:\n                throw new Error(\"ajv.removeSchema: invalid parameter\");\n        }\n    }\n    // add \"vocabulary\" - a collection of keywords\n    addVocabulary(definitions) {\n        for (const def of definitions)\n            this.addKeyword(def);\n        return this;\n    }\n    addKeyword(kwdOrDef, def // deprecated\n    ) {\n        let keyword;\n        if (typeof kwdOrDef == \"string\") {\n            keyword = kwdOrDef;\n            if (typeof def == \"object\") {\n                this.logger.warn(\"these parameters are deprecated, see docs for addKeyword\");\n                def.keyword = keyword;\n            }\n        }\n        else if (typeof kwdOrDef == \"object\" && def === undefined) {\n            def = kwdOrDef;\n            keyword = def.keyword;\n            if (Array.isArray(keyword) && !keyword.length) {\n                throw new Error(\"addKeywords: keyword must be string or non-empty array\");\n            }\n        }\n        else {\n            throw new Error(\"invalid addKeywords parameters\");\n        }\n        checkKeyword.call(this, keyword, def);\n        if (!def) {\n            util_1.eachItem(keyword, (kwd) => addRule.call(this, kwd));\n            return this;\n        }\n        keywordMetaschema.call(this, def);\n        const definition = {\n            ...def,\n            type: dataType_1.getJSONTypes(def.type),\n            schemaType: dataType_1.getJSONTypes(def.schemaType),\n        };\n        util_1.eachItem(keyword, definition.type.length === 0\n            ? (k) => addRule.call(this, k, definition)\n            : (k) => definition.type.forEach((t) => addRule.call(this, k, definition, t)));\n        return this;\n    }\n    getKeyword(keyword) {\n        const rule = this.RULES.all[keyword];\n        return typeof rule == \"object\" ? rule.definition : !!rule;\n    }\n    // Remove keyword\n    removeKeyword(keyword) {\n        // TODO return type should be Ajv\n        const { RULES } = this;\n        delete RULES.keywords[keyword];\n        delete RULES.all[keyword];\n        for (const group of RULES.rules) {\n            const i = group.rules.findIndex((rule) => rule.keyword === keyword);\n            if (i >= 0)\n                group.rules.splice(i, 1);\n        }\n        return this;\n    }\n    // Add format\n    addFormat(name, format) {\n        if (typeof format == \"string\")\n            format = new RegExp(format);\n        this.formats[name] = format;\n        return this;\n    }\n    errorsText(errors = this.errors, // optional array of validation errors\n    { separator = \", \", dataVar = \"data\" } = {} // optional options with properties `separator` and `dataVar`\n    ) {\n        if (!errors || errors.length === 0)\n            return \"No errors\";\n        return errors\n            .map((e) => `${dataVar}${e.dataPath} ${e.message}`)\n            .reduce((text, msg) => text + separator + msg);\n    }\n    $dataMetaSchema(metaSchema, keywordsJsonPointers) {\n        const rules = this.RULES.all;\n        metaSchema = JSON.parse(JSON.stringify(metaSchema));\n        for (const jsonPointer of keywordsJsonPointers) {\n            const segments = jsonPointer.split(\"/\").slice(1); // first segment is an empty string\n            let keywords = metaSchema;\n            for (const seg of segments)\n                keywords = keywords[seg];\n            for (const key in rules) {\n                const rule = rules[key];\n                if (typeof rule != \"object\")\n                    continue;\n                const { $data } = rule.definition;\n                const schema = keywords[key];\n                if ($data && schema)\n                    keywords[key] = schemaOrData(schema);\n            }\n        }\n        return metaSchema;\n    }\n    _removeAllSchemas(schemas, regex) {\n        for (const keyRef in schemas) {\n            const sch = schemas[keyRef];\n            if (!regex || regex.test(keyRef)) {\n                if (typeof sch == \"string\") {\n                    delete schemas[keyRef];\n                }\n                else if (sch && !sch.meta) {\n                    this._cache.delete(sch.schema);\n                    delete schemas[keyRef];\n                }\n            }\n        }\n    }\n    _addSchema(schema, meta, validateSchema = this.opts.validateSchema, addSchema = this.opts.addUsedSchema) {\n        if (typeof schema != \"object\") {\n            if (this.opts.jtd)\n                throw new Error(\"schema must be object\");\n            else if (typeof schema != \"boolean\")\n                throw new Error(\"schema must be object or boolean\");\n        }\n        let sch = this._cache.get(schema);\n        if (sch !== undefined)\n            return sch;\n        const localRefs = resolve_1.getSchemaRefs.call(this, schema);\n        sch = new compile_1.SchemaEnv({ schema, meta, localRefs });\n        this._cache.set(sch.schema, sch);\n        const id = sch.baseId;\n        if (addSchema && !id.startsWith(\"#\")) {\n            // TODO atm it is allowed to overwrite schemas without id (instead of not adding them)\n            if (id)\n                this._checkUnique(id);\n            this.refs[id] = sch;\n        }\n        if (validateSchema)\n            this.validateSchema(schema, true);\n        return sch;\n    }\n    _checkUnique(id) {\n        if (this.schemas[id] || this.refs[id]) {\n            throw new Error(`schema with key or id \"${id}\" already exists`);\n        }\n    }\n    _compileSchemaEnv(sch) {\n        if (sch.meta)\n            this._compileMetaSchema(sch);\n        else\n            compile_1.compileSchema.call(this, sch);\n        /* istanbul ignore if */\n        if (!sch.validate)\n            throw new Error(\"ajv implementation error\");\n        return sch.validate;\n    }\n    _compileMetaSchema(sch) {\n        const currentOpts = this.opts;\n        this.opts = this._metaOpts;\n        try {\n            compile_1.compileSchema.call(this, sch);\n        }\n        finally {\n            this.opts = currentOpts;\n        }\n    }\n}\nexports.default = Ajv;\nAjv.ValidationError = error_classes_1.ValidationError;\nAjv.MissingRefError = error_classes_1.MissingRefError;\nfunction checkOptions(checkOpts, options, msg, log = \"error\") {\n    for (const key in checkOpts) {\n        const opt = key;\n        if (opt in options)\n            this.logger[log](`${msg}: option ${key}. ${checkOpts[opt]}`);\n    }\n}\nfunction getSchEnv(keyRef) {\n    keyRef = resolve_1.normalizeId(keyRef); // TODO tests fail without this line\n    return this.schemas[keyRef] || this.refs[keyRef];\n}\nfunction addInitialSchemas() {\n    const optsSchemas = this.opts.schemas;\n    if (!optsSchemas)\n        return;\n    if (Array.isArray(optsSchemas))\n        this.addSchema(optsSchemas);\n    else\n        for (const key in optsSchemas)\n            this.addSchema(optsSchemas[key], key);\n}\nfunction addInitialFormats() {\n    for (const name in this.opts.formats) {\n        const format = this.opts.formats[name];\n        if (format)\n            this.addFormat(name, format);\n    }\n}\nfunction addInitialKeywords(defs) {\n    if (Array.isArray(defs)) {\n        this.addVocabulary(defs);\n        return;\n    }\n    this.logger.warn(\"keywords option as map is deprecated, pass array\");\n    for (const keyword in defs) {\n        const def = defs[keyword];\n        if (!def.keyword)\n            def.keyword = keyword;\n        this.addKeyword(def);\n    }\n}\nfunction getMetaSchemaOptions() {\n    const metaOpts = { ...this.opts };\n    for (const opt of META_IGNORE_OPTIONS)\n        delete metaOpts[opt];\n    return metaOpts;\n}\nconst noLogs = { log() { }, warn() { }, error() { } };\nfunction getLogger(logger) {\n    if (logger === false)\n        return noLogs;\n    if (logger === undefined)\n        return console;\n    if (logger.log && logger.warn && logger.error)\n        return logger;\n    throw new Error(\"logger must implement log, warn and error methods\");\n}\nconst KEYWORD_NAME = /^[a-z_$][a-z0-9_$:-]*$/i;\nfunction checkKeyword(keyword, def) {\n    const { RULES } = this;\n    util_1.eachItem(keyword, (kwd) => {\n        if (RULES.keywords[kwd])\n            throw new Error(`Keyword ${kwd} is already defined`);\n        if (!KEYWORD_NAME.test(kwd))\n            throw new Error(`Keyword ${kwd} has invalid name`);\n    });\n    if (!def)\n        return;\n    if (def.$data && !(\"code\" in def || \"validate\" in def)) {\n        throw new Error('$data keyword must have \"code\" or \"validate\" function');\n    }\n}\nfunction addRule(keyword, definition, dataType) {\n    var _a;\n    const post = definition === null || definition === void 0 ? void 0 : definition.post;\n    if (dataType && post)\n        throw new Error('keyword with \"post\" flag cannot have \"type\"');\n    const { RULES } = this;\n    let ruleGroup = post ? RULES.post : RULES.rules.find(({ type: t }) => t === dataType);\n    if (!ruleGroup) {\n        ruleGroup = { type: dataType, rules: [] };\n        RULES.rules.push(ruleGroup);\n    }\n    RULES.keywords[keyword] = true;\n    if (!definition)\n        return;\n    const rule = {\n        keyword,\n        definition: {\n            ...definition,\n            type: dataType_1.getJSONTypes(definition.type),\n            schemaType: dataType_1.getJSONTypes(definition.schemaType),\n        },\n    };\n    if (definition.before)\n        addBeforeRule.call(this, ruleGroup, rule, definition.before);\n    else\n        ruleGroup.rules.push(rule);\n    RULES.all[keyword] = rule;\n    (_a = definition.implements) === null || _a === void 0 ? void 0 : _a.forEach((kwd) => this.addKeyword(kwd));\n}\nfunction addBeforeRule(ruleGroup, rule, before) {\n    const i = ruleGroup.rules.findIndex((_rule) => _rule.keyword === before);\n    if (i >= 0) {\n        ruleGroup.rules.splice(i, 0, rule);\n    }\n    else {\n        ruleGroup.rules.push(rule);\n        this.logger.warn(`rule ${before} is not defined`);\n    }\n}\nfunction keywordMetaschema(def) {\n    let { metaSchema } = def;\n    if (metaSchema === undefined)\n        return;\n    if (def.$data && this.opts.$data)\n        metaSchema = schemaOrData(metaSchema);\n    def.validateSchema = this.compile(metaSchema, true);\n}\nconst $dataRef = {\n    $ref: \"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#\",\n};\nfunction schemaOrData(schema) {\n    return { anyOf: [schema, $dataRef] };\n}\n//# sourceMappingURL=core.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst core_1 = require(\"./core\");\nconst validation_1 = require(\"./validation\");\nconst applicator_1 = require(\"./applicator\");\nconst format_1 = require(\"./format\");\nconst metadata_1 = require(\"./metadata\");\nconst draft7Vocabularies = [\n    core_1.default,\n    validation_1.default,\n    applicator_1.default,\n    format_1.default,\n    metadata_1.metadataVocabulary,\n    metadata_1.contentVocabulary,\n];\nexports.default = draft7Vocabularies;\n//# sourceMappingURL=draft7.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst id_1 = require(\"./id\");\nconst ref_1 = require(\"./ref\");\nconst core = [\n    \"$schema\",\n    \"$id\",\n    \"$defs\",\n    \"$vocabulary\",\n    { keyword: \"$comment\" },\n    \"definitions\",\n    id_1.default,\n    ref_1.default,\n];\nexports.default = core;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst def = {\n    keyword: \"id\",\n    code() {\n        throw new Error('NOT SUPPORTED: keyword \"id\", use \"$id\" for schema ID');\n    },\n};\nexports.default = def;\n//# sourceMappingURL=id.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.callRef = exports.getValidate = void 0;\nconst error_classes_1 = require(\"../../compile/error_classes\");\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst names_1 = require(\"../../compile/names\");\nconst compile_1 = require(\"../../compile\");\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"$ref\",\n    schemaType: \"string\",\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        const { baseId, schemaEnv: env, validateName, opts, self } = it;\n        // TODO See comment in dynamicRef.ts\n        // This has to be improved to resolve #815.\n        if (schema === \"#\" || schema === \"#/\")\n            return callRootRef();\n        const schOrEnv = compile_1.resolveRef.call(self, env.root, baseId, schema);\n        if (schOrEnv === undefined)\n            throw new error_classes_1.MissingRefError(baseId, schema);\n        if (schOrEnv instanceof compile_1.SchemaEnv)\n            return callValidate(schOrEnv);\n        return inlineRefSchema(schOrEnv);\n        function callRootRef() {\n            if (env === env.root)\n                return callRef(cxt, validateName, env, env.$async);\n            const rootName = gen.scopeValue(\"root\", { ref: env.root });\n            return callRef(cxt, codegen_1._ `${rootName}.validate`, env.root, env.root.$async);\n        }\n        function callValidate(sch) {\n            const v = getValidate(cxt, sch);\n            callRef(cxt, v, sch, sch.$async);\n        }\n        function inlineRefSchema(sch) {\n            const schName = gen.scopeValue(\"schema\", opts.code.source === true ? { ref: sch, code: codegen_1.stringify(sch) } : { ref: sch });\n            const valid = gen.name(\"valid\");\n            const schCxt = cxt.subschema({\n                schema: sch,\n                dataTypes: [],\n                schemaPath: codegen_1.nil,\n                topSchemaRef: schName,\n                errSchemaPath: schema,\n            }, valid);\n            cxt.mergeEvaluated(schCxt);\n            cxt.ok(valid);\n        }\n    },\n};\nfunction getValidate(cxt, sch) {\n    const { gen } = cxt;\n    return sch.validate\n        ? gen.scopeValue(\"validate\", { ref: sch.validate })\n        : codegen_1._ `${gen.scopeValue(\"wrapper\", { ref: sch })}.validate`;\n}\nexports.getValidate = getValidate;\nfunction callRef(cxt, v, sch, $async) {\n    const { gen, it } = cxt;\n    const { allErrors, schemaEnv: env, opts } = it;\n    const passCxt = opts.passContext ? names_1.default.this : codegen_1.nil;\n    if ($async)\n        callAsyncRef();\n    else\n        callSyncRef();\n    function callAsyncRef() {\n        if (!env.$async)\n            throw new Error(\"async schema referenced by sync schema\");\n        const valid = gen.let(\"valid\");\n        gen.try(() => {\n            gen.code(codegen_1._ `await ${code_1.callValidateCode(cxt, v, passCxt)}`);\n            addEvaluatedFrom(v); // TODO will not work with async, it has to be returned with the result\n            if (!allErrors)\n                gen.assign(valid, true);\n        }, (e) => {\n            gen.if(codegen_1._ `!(${e} instanceof ${it.ValidationError})`, () => gen.throw(e));\n            addErrorsFrom(e);\n            if (!allErrors)\n                gen.assign(valid, false);\n        });\n        cxt.ok(valid);\n    }\n    function callSyncRef() {\n        cxt.result(code_1.callValidateCode(cxt, v, passCxt), () => addEvaluatedFrom(v), () => addErrorsFrom(v));\n    }\n    function addErrorsFrom(source) {\n        const errs = codegen_1._ `${source}.errors`;\n        gen.assign(names_1.default.vErrors, codegen_1._ `${names_1.default.vErrors} === null ? ${errs} : ${names_1.default.vErrors}.concat(${errs})`); // TODO tagged\n        gen.assign(names_1.default.errors, codegen_1._ `${names_1.default.vErrors}.length`);\n    }\n    function addEvaluatedFrom(source) {\n        var _a;\n        if (!it.opts.unevaluated)\n            return;\n        const schEvaluated = (_a = sch === null || sch === void 0 ? void 0 : sch.validate) === null || _a === void 0 ? void 0 : _a.evaluated;\n        // TODO refactor\n        if (it.props !== true) {\n            if (schEvaluated && !schEvaluated.dynamicProps) {\n                if (schEvaluated.props !== undefined) {\n                    it.props = util_1.mergeEvaluated.props(gen, schEvaluated.props, it.props);\n                }\n            }\n            else {\n                const props = gen.var(\"props\", codegen_1._ `${source}.evaluated.props`);\n                it.props = util_1.mergeEvaluated.props(gen, props, it.props, codegen_1.Name);\n            }\n        }\n        if (it.items !== true) {\n            if (schEvaluated && !schEvaluated.dynamicItems) {\n                if (schEvaluated.items !== undefined) {\n                    it.items = util_1.mergeEvaluated.items(gen, schEvaluated.items, it.items);\n                }\n            }\n            else {\n                const items = gen.var(\"items\", codegen_1._ `${source}.evaluated.items`);\n                it.items = util_1.mergeEvaluated.items(gen, items, it.items, codegen_1.Name);\n            }\n        }\n    }\n}\nexports.callRef = callRef;\nexports.default = def;\n//# sourceMappingURL=ref.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst limitNumber_1 = require(\"./limitNumber\");\nconst multipleOf_1 = require(\"./multipleOf\");\nconst limitLength_1 = require(\"./limitLength\");\nconst pattern_1 = require(\"./pattern\");\nconst limitProperties_1 = require(\"./limitProperties\");\nconst required_1 = require(\"./required\");\nconst limitItems_1 = require(\"./limitItems\");\nconst uniqueItems_1 = require(\"./uniqueItems\");\nconst const_1 = require(\"./const\");\nconst enum_1 = require(\"./enum\");\nconst validation = [\n    // number\n    limitNumber_1.default,\n    multipleOf_1.default,\n    // string\n    limitLength_1.default,\n    pattern_1.default,\n    // object\n    limitProperties_1.default,\n    required_1.default,\n    // array\n    limitItems_1.default,\n    uniqueItems_1.default,\n    // any\n    { keyword: \"type\", schemaType: [\"string\", \"array\"] },\n    { keyword: \"nullable\", schemaType: \"boolean\" },\n    const_1.default,\n    enum_1.default,\n];\nexports.default = validation;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst ops = codegen_1.operators;\nconst KWDs = {\n    maximum: { okStr: \"<=\", ok: ops.LTE, fail: ops.GT },\n    minimum: { okStr: \">=\", ok: ops.GTE, fail: ops.LT },\n    exclusiveMaximum: { okStr: \"<\", ok: ops.LT, fail: ops.GTE },\n    exclusiveMinimum: { okStr: \">\", ok: ops.GT, fail: ops.LTE },\n};\nconst error = {\n    message: ({ keyword, schemaCode }) => codegen_1.str `should be ${KWDs[keyword].okStr} ${schemaCode}`,\n    params: ({ keyword, schemaCode }) => codegen_1._ `{comparison: ${KWDs[keyword].okStr}, limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: Object.keys(KWDs),\n    type: \"number\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        cxt.fail$data(codegen_1._ `${data} ${KWDs[keyword].fail} ${schemaCode} || isNaN(${data})`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitNumber.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => codegen_1.str `should be multiple of ${schemaCode}`,\n    params: ({ schemaCode }) => codegen_1._ `{multipleOf: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"multipleOf\",\n    type: \"number\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, schemaCode, it } = cxt;\n        // const bdt = bad$DataType(schemaCode, <string>def.schemaType, $data)\n        const prec = it.opts.multipleOfPrecision;\n        const res = gen.let(\"res\");\n        const invalid = prec\n            ? codegen_1._ `Math.abs(Math.round(${res}) - ${res}) > 1e-${prec}`\n            : codegen_1._ `${res} !== parseInt(${res})`;\n        cxt.fail$data(codegen_1._ `(${schemaCode} === 0 || (${res} = ${data}/${schemaCode}, ${invalid}))`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=multipleOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst ucs2length_1 = require(\"../../compile/ucs2length\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxLength\" ? \"more\" : \"fewer\";\n        return codegen_1.str `should NOT have ${comp} than ${schemaCode} characters`;\n    },\n    params: ({ schemaCode }) => codegen_1._ `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxLength\", \"minLength\"],\n    type: \"string\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode, it } = cxt;\n        const op = keyword === \"maxLength\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        let len;\n        if (it.opts.unicode === false) {\n            len = codegen_1._ `${data}.length`;\n        }\n        else {\n            const u2l = cxt.gen.scopeValue(\"func\", {\n                ref: ucs2length_1.default,\n                code: codegen_1._ `require(\"ajv/dist/compile/ucs2length\").default`,\n            });\n            len = codegen_1._ `${u2l}(${data})`;\n        }\n        cxt.fail$data(codegen_1._ `${len} ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitLength.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// https://mathiasbynens.be/notes/javascript-encoding\n// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode\nfunction ucs2length(str) {\n    const len = str.length;\n    let length = 0;\n    let pos = 0;\n    let value;\n    while (pos < len) {\n        length++;\n        value = str.charCodeAt(pos++);\n        if (value >= 0xd800 && value <= 0xdbff && pos < len) {\n            // high surrogate, and there is a next character\n            value = str.charCodeAt(pos);\n            if ((value & 0xfc00) === 0xdc00)\n                pos++; // low surrogate\n        }\n    }\n    return length;\n}\nexports.default = ucs2length;\n//# sourceMappingURL=ucs2length.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => codegen_1.str `should match pattern \"${schemaCode}\"`,\n    params: ({ schemaCode }) => codegen_1._ `{pattern: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"pattern\",\n    type: \"string\",\n    schemaType: \"string\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schema, schemaCode } = cxt;\n        const regExp = $data ? codegen_1._ `(new RegExp(${schemaCode}, \"u\"))` : code_1.usePattern(gen, schema); // TODO regexp should be wrapped in try/catch\n        cxt.fail$data(codegen_1._ `!${regExp}.test(${data})`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=pattern.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxProperties\" ? \"more\" : \"fewer\";\n        return codegen_1.str `should NOT have ${comp} than ${schemaCode} items`;\n    },\n    params: ({ schemaCode }) => codegen_1._ `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxProperties\", \"minProperties\"],\n    type: \"object\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        const op = keyword === \"maxProperties\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        cxt.fail$data(codegen_1._ `Object.keys(${data}).length ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst validate_1 = require(\"../../compile/validate\");\nconst error = {\n    message: ({ params: { missingProperty } }) => codegen_1.str `should have required property '${missingProperty}'`,\n    params: ({ params: { missingProperty } }) => codegen_1._ `{missingProperty: ${missingProperty}}`,\n};\nconst def = {\n    keyword: \"required\",\n    type: \"object\",\n    schemaType: \"array\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, schema, schemaCode, data, $data, it } = cxt;\n        const { opts } = it;\n        if (!$data && schema.length === 0)\n            return;\n        const useLoop = schema.length >= opts.loopRequired;\n        if (it.allErrors)\n            allErrorsMode();\n        else\n            exitOnErrorMode();\n        if (opts.strictRequired) {\n            const props = cxt.parentSchema.properties;\n            const { definedProperties } = cxt.it;\n            for (const requiredKey of schema) {\n                if ((props === null || props === void 0 ? void 0 : props[requiredKey]) === undefined && !definedProperties.has(requiredKey)) {\n                    const schemaPath = it.schemaEnv.baseId + it.errSchemaPath;\n                    const msg = `required property \"${requiredKey}\" is not defined at \"${schemaPath}\" (strictRequired)`;\n                    validate_1.checkStrictMode(it, msg, it.opts.strictRequired);\n                }\n            }\n        }\n        function allErrorsMode() {\n            if (useLoop || $data) {\n                cxt.block$data(codegen_1.nil, loopAllRequired);\n            }\n            else {\n                for (const prop of schema) {\n                    code_1.checkReportMissingProp(cxt, prop);\n                }\n            }\n        }\n        function exitOnErrorMode() {\n            const missing = gen.let(\"missing\");\n            if (useLoop || $data) {\n                const valid = gen.let(\"valid\", true);\n                cxt.block$data(valid, () => loopUntilMissing(missing, valid));\n                cxt.ok(valid);\n            }\n            else {\n                gen.if(code_1.checkMissingProp(cxt, schema, missing));\n                code_1.reportMissingProp(cxt, missing);\n                gen.else();\n            }\n        }\n        function loopAllRequired() {\n            gen.forOf(\"prop\", schemaCode, (prop) => {\n                cxt.setParams({ missingProperty: prop });\n                gen.if(code_1.noPropertyInData(gen, data, prop, opts.ownProperties), () => cxt.error());\n            });\n        }\n        function loopUntilMissing(missing, valid) {\n            cxt.setParams({ missingProperty: missing });\n            gen.forOf(missing, schemaCode, () => {\n                gen.assign(valid, code_1.propertyInData(gen, data, missing, opts.ownProperties));\n                gen.if(codegen_1.not(valid), () => {\n                    cxt.error();\n                    gen.break();\n                });\n            }, codegen_1.nil);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=required.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxItems\" ? \"more\" : \"fewer\";\n        return codegen_1.str `should NOT have ${comp} than ${schemaCode} items`;\n    },\n    params: ({ schemaCode }) => codegen_1._ `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxItems\", \"minItems\"],\n    type: \"array\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        const op = keyword === \"maxItems\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        cxt.fail$data(codegen_1._ `${data}.length ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst dataType_1 = require(\"../../compile/validate/dataType\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst equal = require(\"fast-deep-equal\");\nconst error = {\n    message: ({ params: { i, j } }) => codegen_1.str `should NOT have duplicate items (items ## ${j} and ${i} are identical)`,\n    params: ({ params: { i, j } }) => codegen_1._ `{i: ${i}, j: ${j}}`,\n};\nconst def = {\n    keyword: \"uniqueItems\",\n    type: \"array\",\n    schemaType: \"boolean\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schema, parentSchema, schemaCode, it } = cxt;\n        if (!$data && !schema)\n            return;\n        const valid = gen.let(\"valid\");\n        const itemTypes = parentSchema.items ? dataType_1.getSchemaTypes(parentSchema.items) : [];\n        cxt.block$data(valid, validateUniqueItems, codegen_1._ `${schemaCode} === false`);\n        cxt.ok(valid);\n        function validateUniqueItems() {\n            const i = gen.let(\"i\", codegen_1._ `${data}.length`);\n            const j = gen.let(\"j\");\n            cxt.setParams({ i, j });\n            gen.assign(valid, true);\n            gen.if(codegen_1._ `${i} > 1`, () => (canOptimize() ? loopN : loopN2)(i, j));\n        }\n        function canOptimize() {\n            return itemTypes.length > 0 && !itemTypes.some((t) => t === \"object\" || t === \"array\");\n        }\n        function loopN(i, j) {\n            const item = gen.name(\"item\");\n            const wrongType = dataType_1.checkDataTypes(itemTypes, item, it.opts.strict, dataType_1.DataType.Wrong);\n            const indices = gen.const(\"indices\", codegen_1._ `{}`);\n            gen.for(codegen_1._ `;${i}--;`, () => {\n                gen.let(item, codegen_1._ `${data}[${i}]`);\n                gen.if(wrongType, codegen_1._ `continue`);\n                if (itemTypes.length > 1)\n                    gen.if(codegen_1._ `typeof ${item} == \"string\"`, codegen_1._ `${item} += \"_\"`);\n                gen\n                    .if(codegen_1._ `typeof ${indices}[${item}] == \"number\"`, () => {\n                    gen.assign(j, codegen_1._ `${indices}[${item}]`);\n                    cxt.error();\n                    gen.assign(valid, false).break();\n                })\n                    .code(codegen_1._ `${indices}[${item}] = ${i}`);\n            });\n        }\n        function loopN2(i, j) {\n            const eql = cxt.gen.scopeValue(\"func\", {\n                ref: equal,\n                code: codegen_1._ `require(\"ajv/dist/compile/equal\")`,\n            });\n            const outer = gen.name(\"outer\");\n            gen.label(outer).for(codegen_1._ `;${i}--;`, () => gen.for(codegen_1._ `${j} = ${i}; ${j}--;`, () => gen.if(codegen_1._ `${eql}(${data}[${i}], ${data}[${j}])`, () => {\n                cxt.error();\n                gen.assign(valid, false).break(outer);\n            })));\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=uniqueItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst equal = require(\"fast-deep-equal\");\nconst error = {\n    message: \"should be equal to constant\",\n    params: ({ schemaCode }) => codegen_1._ `{allowedValue: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"const\",\n    $data: true,\n    error,\n    code(cxt) {\n        const eql = cxt.gen.scopeValue(\"func\", {\n            ref: equal,\n            code: codegen_1._ `require(\"ajv/dist/compile/equal\")`,\n        });\n        // TODO optimize for scalar values in schema\n        cxt.fail$data(codegen_1._ `!${eql}(${cxt.data}, ${cxt.schemaCode})`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=const.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst equal = require(\"fast-deep-equal\");\nconst error = {\n    message: \"should be equal to one of the allowed values\",\n    params: ({ schemaCode }) => codegen_1._ `{allowedValues: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"enum\",\n    schemaType: \"array\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schema, schemaCode, it } = cxt;\n        if (!$data && schema.length === 0)\n            throw new Error(\"enum must have non-empty array\");\n        const useLoop = schema.length >= it.opts.loopEnum;\n        const eql = cxt.gen.scopeValue(\"func\", {\n            ref: equal,\n            code: codegen_1._ `require(\"ajv/dist/compile/equal\")`,\n        });\n        let valid;\n        if (useLoop || $data) {\n            valid = gen.let(\"valid\");\n            cxt.block$data(valid, loopEnum);\n        }\n        else {\n            /* istanbul ignore if */\n            if (!Array.isArray(schema))\n                throw new Error(\"ajv implementation error\");\n            const vSchema = gen.const(\"vSchema\", schemaCode);\n            valid = codegen_1.or(...schema.map((_x, i) => equalCode(vSchema, i)));\n        }\n        cxt.pass(valid);\n        function loopEnum() {\n            gen.assign(valid, false);\n            gen.forOf(\"v\", schemaCode, (v) => gen.if(codegen_1._ `${eql}(${data}, ${v})`, () => gen.assign(valid, true).break()));\n        }\n        function equalCode(vSchema, i) {\n            const sch = schema[i];\n            return sch && typeof sch === \"object\"\n                ? codegen_1._ `${eql}(${data}, ${vSchema}[${i}])`\n                : codegen_1._ `${data} === ${sch}`;\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=enum.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst additionalItems_1 = require(\"./additionalItems\");\nconst items_1 = require(\"./items\");\nconst contains_1 = require(\"./contains\");\nconst dependencies_1 = require(\"./dependencies\");\nconst propertyNames_1 = require(\"./propertyNames\");\nconst additionalProperties_1 = require(\"./additionalProperties\");\nconst properties_1 = require(\"./properties\");\nconst patternProperties_1 = require(\"./patternProperties\");\nconst not_1 = require(\"./not\");\nconst anyOf_1 = require(\"./anyOf\");\nconst oneOf_1 = require(\"./oneOf\");\nconst allOf_1 = require(\"./allOf\");\nconst if_1 = require(\"./if\");\nconst thenElse_1 = require(\"./thenElse\");\nconst applicator = [\n    // any\n    not_1.default,\n    anyOf_1.default,\n    oneOf_1.default,\n    allOf_1.default,\n    if_1.default,\n    thenElse_1.default,\n    // array\n    additionalItems_1.default,\n    items_1.default,\n    contains_1.default,\n    // object\n    propertyNames_1.default,\n    additionalProperties_1.default,\n    dependencies_1.default,\n    properties_1.default,\n    patternProperties_1.default,\n];\nexports.default = applicator;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst subschema_1 = require(\"../../compile/subschema\");\nconst util_1 = require(\"../../compile/util\");\nconst validate_1 = require(\"../../compile/validate\");\nconst error = {\n    message: ({ params: { len } }) => codegen_1.str `should NOT have more than ${len} items`,\n    params: ({ params: { len } }) => codegen_1._ `{limit: ${len}}`,\n};\nconst def = {\n    keyword: \"additionalItems\",\n    type: \"array\",\n    schemaType: [\"boolean\", \"object\"],\n    before: \"uniqueItems\",\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, data, it } = cxt;\n        const { items } = parentSchema;\n        if (!Array.isArray(items)) {\n            validate_1.checkStrictMode(it, '\"additionalItems\" is ignored when \"items\" is not an array of schemas');\n            return;\n        }\n        it.items = true;\n        const len = gen.const(\"len\", codegen_1._ `${data}.length`);\n        if (schema === false) {\n            cxt.setParams({ len: items.length });\n            cxt.pass(codegen_1._ `${len} <= ${items.length}`);\n        }\n        else if (typeof schema == \"object\" && !util_1.alwaysValidSchema(it, schema)) {\n            const valid = gen.var(\"valid\", codegen_1._ `${len} <= ${items.length}`); // TODO var\n            gen.if(codegen_1.not(valid), () => validateItems(valid));\n            cxt.ok(valid);\n        }\n        function validateItems(valid) {\n            gen.forRange(\"i\", items.length, len, (i) => {\n                cxt.subschema({ keyword: \"additionalItems\", dataProp: i, dataPropType: subschema_1.Type.Num }, valid);\n                if (!it.allErrors)\n                    gen.if(codegen_1.not(valid), () => gen.break());\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=additionalItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst validate_1 = require(\"../../compile/validate\");\nconst code_1 = require(\"../code\");\nconst def = {\n    keyword: \"items\",\n    type: \"array\",\n    schemaType: [\"object\", \"array\", \"boolean\"],\n    before: \"uniqueItems\",\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        if (Array.isArray(schema)) {\n            if (it.opts.unevaluated && schema.length && it.items !== true) {\n                it.items = util_1.mergeEvaluated.items(gen, schema.length, it.items);\n            }\n            validateTuple(schema);\n        }\n        else {\n            it.items = true;\n            if (util_1.alwaysValidSchema(it, schema))\n                return;\n            cxt.ok(code_1.validateArray(cxt));\n        }\n        function validateTuple(schArr) {\n            const { parentSchema, data } = cxt;\n            if (it.opts.strictTuples && !fullTupleSchema(schArr.length, parentSchema)) {\n                const msg = `\"items\" is ${schArr.length}-tuple, but minItems or maxItems/additionalItems are not specified or different`;\n                validate_1.checkStrictMode(it, msg, it.opts.strictTuples);\n            }\n            const valid = gen.name(\"valid\");\n            const len = gen.const(\"len\", codegen_1._ `${data}.length`);\n            schArr.forEach((sch, i) => {\n                if (util_1.alwaysValidSchema(it, sch))\n                    return;\n                gen.if(codegen_1._ `${len} > ${i}`, () => cxt.subschema({\n                    keyword: \"items\",\n                    schemaProp: i,\n                    dataProp: i,\n                }, valid));\n                cxt.ok(valid);\n            });\n        }\n    },\n};\nfunction fullTupleSchema(len, sch) {\n    return len === sch.minItems && (len === sch.maxItems || sch.additionalItems === false);\n}\nexports.default = def;\n//# sourceMappingURL=items.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst subschema_1 = require(\"../../compile/subschema\");\nconst util_1 = require(\"../../compile/util\");\nconst validate_1 = require(\"../../compile/validate\");\nconst error = {\n    message: ({ params: { min, max } }) => max === undefined\n        ? codegen_1.str `should contain at least ${min} valid item(s)`\n        : codegen_1.str `should contain at least ${min} and no more than ${max} valid item(s)`,\n    params: ({ params: { min, max } }) => max === undefined ? codegen_1._ `{minContains: ${min}}` : codegen_1._ `{minContains: ${min}, maxContains: ${max}}`,\n};\nconst def = {\n    keyword: \"contains\",\n    type: \"array\",\n    schemaType: [\"object\", \"boolean\"],\n    before: \"uniqueItems\",\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, data, it } = cxt;\n        let min;\n        let max;\n        const { minContains, maxContains } = parentSchema;\n        if (it.opts.next) {\n            min = minContains === undefined ? 1 : minContains;\n            max = maxContains;\n        }\n        else {\n            min = 1;\n        }\n        const len = gen.const(\"len\", codegen_1._ `${data}.length`);\n        cxt.setParams({ min, max });\n        if (max === undefined && min === 0) {\n            validate_1.checkStrictMode(it, `\"minContains\" == 0 without \"maxContains\": \"contains\" keyword ignored`);\n            return;\n        }\n        if (max !== undefined && min > max) {\n            validate_1.checkStrictMode(it, `\"minContains\" > \"maxContains\" is always invalid`);\n            cxt.fail();\n            return;\n        }\n        if (util_1.alwaysValidSchema(it, schema)) {\n            let cond = codegen_1._ `${len} >= ${min}`;\n            if (max !== undefined)\n                cond = codegen_1._ `${cond} && ${len} <= ${max}`;\n            cxt.pass(cond);\n            return;\n        }\n        it.items = true;\n        const valid = gen.name(\"valid\");\n        if (max === undefined && min === 1) {\n            validateItems(valid, () => gen.if(valid, () => gen.break()));\n        }\n        else {\n            gen.let(valid, false);\n            const schValid = gen.name(\"_valid\");\n            const count = gen.let(\"count\", 0);\n            validateItems(schValid, () => gen.if(schValid, () => checkLimits(count)));\n        }\n        cxt.result(valid, () => cxt.reset());\n        function validateItems(_valid, block) {\n            gen.forRange(\"i\", 0, len, (i) => {\n                cxt.subschema({\n                    keyword: \"contains\",\n                    dataProp: i,\n                    dataPropType: subschema_1.Type.Num,\n                    compositeRule: true,\n                }, _valid);\n                block();\n            });\n        }\n        function checkLimits(count) {\n            gen.code(codegen_1._ `${count}++`);\n            if (max === undefined) {\n                gen.if(codegen_1._ `${count} >= ${min}`, () => gen.assign(valid, true).break());\n            }\n            else {\n                gen.if(codegen_1._ `${count} > ${max}`, () => gen.assign(valid, false).break());\n                if (min === 1)\n                    gen.assign(valid, true);\n                else\n                    gen.if(codegen_1._ `${count} >= ${min}`, () => gen.assign(valid, true));\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=contains.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateSchemaDeps = exports.validatePropertyDeps = exports.error = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nexports.error = {\n    message: ({ params: { property, depsCount, deps } }) => {\n        const property_ies = depsCount === 1 ? \"property\" : \"properties\";\n        return codegen_1.str `should have ${property_ies} ${deps} when property ${property} is present`;\n    },\n    params: ({ params: { property, depsCount, deps, missingProperty } }) => codegen_1._ `{property: ${property},\n    missingProperty: ${missingProperty},\n    depsCount: ${depsCount},\n    deps: ${deps}}`, // TODO change to reference\n};\nconst def = {\n    keyword: \"dependencies\",\n    type: \"object\",\n    schemaType: \"object\",\n    error: exports.error,\n    code(cxt) {\n        const [propDeps, schDeps] = splitDependencies(cxt);\n        validatePropertyDeps(cxt, propDeps);\n        validateSchemaDeps(cxt, schDeps);\n    },\n};\nfunction splitDependencies({ schema }) {\n    const propertyDeps = {};\n    const schemaDeps = {};\n    for (const key in schema) {\n        if (key === \"__proto__\")\n            continue;\n        const deps = Array.isArray(schema[key]) ? propertyDeps : schemaDeps;\n        deps[key] = schema[key];\n    }\n    return [propertyDeps, schemaDeps];\n}\nfunction validatePropertyDeps(cxt, propertyDeps = cxt.schema) {\n    const { gen, data, it } = cxt;\n    if (Object.keys(propertyDeps).length === 0)\n        return;\n    const missing = gen.let(\"missing\");\n    for (const prop in propertyDeps) {\n        const deps = propertyDeps[prop];\n        if (deps.length === 0)\n            continue;\n        const hasProperty = code_1.propertyInData(gen, data, prop, it.opts.ownProperties);\n        cxt.setParams({\n            property: prop,\n            depsCount: deps.length,\n            deps: deps.join(\", \"),\n        });\n        if (it.allErrors) {\n            gen.if(hasProperty, () => {\n                for (const depProp of deps) {\n                    code_1.checkReportMissingProp(cxt, depProp);\n                }\n            });\n        }\n        else {\n            gen.if(codegen_1._ `${hasProperty} && (${code_1.checkMissingProp(cxt, deps, missing)})`);\n            code_1.reportMissingProp(cxt, missing);\n            gen.else();\n        }\n    }\n}\nexports.validatePropertyDeps = validatePropertyDeps;\nfunction validateSchemaDeps(cxt, schemaDeps = cxt.schema) {\n    const { gen, data, keyword, it } = cxt;\n    const valid = gen.name(\"valid\");\n    for (const prop in schemaDeps) {\n        if (util_1.alwaysValidSchema(it, schemaDeps[prop]))\n            continue;\n        gen.if(code_1.propertyInData(gen, data, prop, it.opts.ownProperties), () => {\n            const schCxt = cxt.subschema({ keyword, schemaProp: prop }, valid);\n            cxt.mergeValidEvaluated(schCxt, valid);\n        }, () => gen.var(valid, true) // TODO var\n        );\n        cxt.ok(valid);\n    }\n}\nexports.validateSchemaDeps = validateSchemaDeps;\nexports.default = def;\n//# sourceMappingURL=dependencies.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params }) => codegen_1.str `property name '${params.propertyName}' is invalid`,\n    params: ({ params }) => codegen_1._ `{propertyName: ${params.propertyName}}`,\n};\nconst def = {\n    keyword: \"propertyNames\",\n    type: \"object\",\n    schemaType: [\"object\", \"boolean\"],\n    error,\n    code(cxt) {\n        const { gen, schema, data, it } = cxt;\n        if (util_1.alwaysValidSchema(it, schema))\n            return;\n        const valid = gen.name(\"valid\");\n        gen.forIn(\"key\", data, (key) => {\n            cxt.setParams({ propertyName: key });\n            cxt.subschema({\n                keyword: \"propertyNames\",\n                data: key,\n                dataTypes: [\"string\"],\n                propertyName: key,\n                compositeRule: true,\n            }, valid);\n            gen.if(codegen_1.not(valid), () => {\n                cxt.error(true);\n                if (!it.allErrors)\n                    gen.break();\n            });\n        });\n        cxt.ok(valid);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=propertyNames.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst context_1 = require(\"../../compile/context\");\nconst code_1 = require(\"../code\");\nconst util_1 = require(\"../../compile/util\");\nconst additionalProperties_1 = require(\"./additionalProperties\");\nconst def = {\n    keyword: \"properties\",\n    type: \"object\",\n    schemaType: \"object\",\n    code(cxt) {\n        const { gen, schema, parentSchema, data, it } = cxt;\n        if (it.opts.removeAdditional === \"all\" && parentSchema.additionalProperties === undefined) {\n            additionalProperties_1.default.code(new context_1.default(it, additionalProperties_1.default, \"additionalProperties\"));\n        }\n        const allProps = code_1.allSchemaProperties(schema);\n        for (const prop of allProps) {\n            it.definedProperties.add(prop);\n        }\n        if (it.opts.unevaluated && allProps.length && it.props !== true) {\n            it.props = util_1.mergeEvaluated.props(gen, util_1.toHash(allProps), it.props);\n        }\n        const properties = allProps.filter((p) => !util_1.alwaysValidSchema(it, schema[p]));\n        if (properties.length === 0)\n            return;\n        const valid = gen.name(\"valid\");\n        for (const prop of properties) {\n            if (hasDefault(prop)) {\n                applyPropertySchema(prop);\n            }\n            else {\n                gen.if(code_1.propertyInData(gen, data, prop, it.opts.ownProperties));\n                applyPropertySchema(prop);\n                if (!it.allErrors)\n                    gen.else().var(valid, true);\n                gen.endIf();\n            }\n            cxt.it.definedProperties.add(prop);\n            cxt.ok(valid);\n        }\n        function hasDefault(prop) {\n            return it.opts.useDefaults && !it.compositeRule && schema[prop].default !== undefined;\n        }\n        function applyPropertySchema(prop) {\n            cxt.subschema({\n                keyword: \"properties\",\n                schemaProp: prop,\n                dataProp: prop,\n            }, valid);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=properties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst subschema_1 = require(\"../../compile/subschema\");\nconst validate_1 = require(\"../../compile/validate\");\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"patternProperties\",\n    type: \"object\",\n    schemaType: \"object\",\n    code(cxt) {\n        const { gen, schema, data, parentSchema, it } = cxt;\n        const { opts } = it;\n        const patterns = code_1.schemaProperties(it, schema);\n        // TODO mark properties matching patterns with always valid schemas as evaluated\n        if (patterns.length === 0)\n            return;\n        const checkProperties = opts.strict && !opts.allowMatchingProperties && parentSchema.properties;\n        const valid = gen.name(\"valid\");\n        if (it.props !== true && !(it.props instanceof codegen_1.Name)) {\n            it.props = util_1.evaluatedPropsToName(gen, it.props);\n        }\n        const { props } = it;\n        validatePatternProperties();\n        function validatePatternProperties() {\n            for (const pat of patterns) {\n                if (checkProperties)\n                    checkMatchingProperties(pat);\n                if (it.allErrors) {\n                    validateProperties(pat);\n                }\n                else {\n                    gen.var(valid, true); // TODO var\n                    validateProperties(pat);\n                    gen.if(valid);\n                }\n            }\n        }\n        function checkMatchingProperties(pat) {\n            for (const prop in checkProperties) {\n                if (new RegExp(pat).test(prop)) {\n                    validate_1.checkStrictMode(it, `property ${prop} matches pattern ${pat} (use allowMatchingProperties)`);\n                }\n            }\n        }\n        function validateProperties(pat) {\n            gen.forIn(\"key\", data, (key) => {\n                gen.if(codegen_1._ `${code_1.usePattern(gen, pat)}.test(${key})`, () => {\n                    cxt.subschema({\n                        keyword: \"patternProperties\",\n                        schemaProp: pat,\n                        dataProp: key,\n                        dataPropType: subschema_1.Type.Str,\n                    }, valid);\n                    if (it.opts.unevaluated && props !== true) {\n                        gen.assign(codegen_1._ `${props}[${key}]`, true);\n                    }\n                    else if (!it.allErrors) {\n                        // can short-circuit if `unevaluatedProperties` is not supported (opts.next === false)\n                        // or if all properties were evaluated (props === true)\n                        gen.if(codegen_1.not(valid), () => gen.break());\n                    }\n                });\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=patternProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"not\",\n    schemaType: [\"object\", \"boolean\"],\n    trackErrors: true,\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        if (util_1.alwaysValidSchema(it, schema)) {\n            cxt.fail();\n            return;\n        }\n        const valid = gen.name(\"valid\");\n        cxt.subschema({\n            keyword: \"not\",\n            compositeRule: true,\n            createErrors: false,\n            allErrors: false,\n        }, valid);\n        cxt.result(valid, () => cxt.error(), () => cxt.reset());\n    },\n    error: {\n        message: \"should NOT be valid\",\n    },\n};\nexports.default = def;\n//# sourceMappingURL=not.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst def = {\n    keyword: \"anyOf\",\n    schemaType: \"array\",\n    trackErrors: true,\n    code: code_1.validateUnion,\n    error: {\n        message: \"should match some schema in anyOf\",\n    },\n};\nexports.default = def;\n//# sourceMappingURL=anyOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"should match exactly one schema in oneOf\",\n    params: ({ params }) => codegen_1._ `{passingSchemas: ${params.passing}}`,\n};\nconst def = {\n    keyword: \"oneOf\",\n    schemaType: \"array\",\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        /* istanbul ignore if */\n        if (!Array.isArray(schema))\n            throw new Error(\"ajv implementation error\");\n        const schArr = schema;\n        const valid = gen.let(\"valid\", false);\n        const passing = gen.let(\"passing\", null);\n        const schValid = gen.name(\"_valid\");\n        cxt.setParams({ passing });\n        // TODO possibly fail straight away (with warning or exception) if there are two empty always valid schemas\n        gen.block(validateOneOf);\n        cxt.result(valid, () => cxt.reset(), () => cxt.error(true));\n        function validateOneOf() {\n            schArr.forEach((sch, i) => {\n                let schCxt;\n                if (util_1.alwaysValidSchema(it, sch)) {\n                    gen.var(schValid, true);\n                }\n                else {\n                    schCxt = cxt.subschema({\n                        keyword: \"oneOf\",\n                        schemaProp: i,\n                        compositeRule: true,\n                    }, schValid);\n                }\n                if (i > 0) {\n                    gen\n                        .if(codegen_1._ `${schValid} && ${valid}`)\n                        .assign(valid, false)\n                        .assign(passing, codegen_1._ `[${passing}, ${i}]`)\n                        .else();\n                }\n                gen.if(schValid, () => {\n                    gen.assign(valid, true);\n                    gen.assign(passing, i);\n                    if (schCxt)\n                        cxt.mergeEvaluated(schCxt, codegen_1.Name);\n                });\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=oneOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"allOf\",\n    schemaType: \"array\",\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        /* istanbul ignore if */\n        if (!Array.isArray(schema))\n            throw new Error(\"ajv implementation error\");\n        const valid = gen.name(\"valid\");\n        schema.forEach((sch, i) => {\n            if (util_1.alwaysValidSchema(it, sch))\n                return;\n            const schCxt = cxt.subschema({ keyword: \"allOf\", schemaProp: i }, valid);\n            cxt.ok(valid);\n            cxt.mergeEvaluated(schCxt);\n        });\n    },\n};\nexports.default = def;\n//# sourceMappingURL=allOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst validate_1 = require(\"../../compile/validate\");\nconst error = {\n    message: ({ params }) => codegen_1.str `should match \"${params.ifClause}\" schema`,\n    params: ({ params }) => codegen_1._ `{failingKeyword: ${params.ifClause}}`,\n};\nconst def = {\n    keyword: \"if\",\n    schemaType: [\"object\", \"boolean\"],\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, parentSchema, it } = cxt;\n        if (parentSchema.then === undefined && parentSchema.else === undefined) {\n            validate_1.checkStrictMode(it, '\"if\" without \"then\" and \"else\" is ignored');\n        }\n        const hasThen = hasSchema(it, \"then\");\n        const hasElse = hasSchema(it, \"else\");\n        if (!hasThen && !hasElse)\n            return;\n        const valid = gen.let(\"valid\", true);\n        const schValid = gen.name(\"_valid\");\n        validateIf();\n        cxt.reset();\n        if (hasThen && hasElse) {\n            const ifClause = gen.let(\"ifClause\");\n            cxt.setParams({ ifClause });\n            gen.if(schValid, validateClause(\"then\", ifClause), validateClause(\"else\", ifClause));\n        }\n        else if (hasThen) {\n            gen.if(schValid, validateClause(\"then\"));\n        }\n        else {\n            gen.if(codegen_1.not(schValid), validateClause(\"else\"));\n        }\n        cxt.pass(valid, () => cxt.error(true));\n        function validateIf() {\n            const schCxt = cxt.subschema({\n                keyword: \"if\",\n                compositeRule: true,\n                createErrors: false,\n                allErrors: false,\n            }, schValid);\n            cxt.mergeEvaluated(schCxt);\n        }\n        function validateClause(keyword, ifClause) {\n            return () => {\n                const schCxt = cxt.subschema({ keyword }, schValid);\n                gen.assign(valid, schValid);\n                cxt.mergeValidEvaluated(schCxt, valid);\n                if (ifClause)\n                    gen.assign(ifClause, codegen_1._ `${keyword}`);\n                else\n                    cxt.setParams({ ifClause: keyword });\n            };\n        }\n    },\n};\nfunction hasSchema(it, keyword) {\n    const schema = it.schema[keyword];\n    return schema !== undefined && !util_1.alwaysValidSchema(it, schema);\n}\nexports.default = def;\n//# sourceMappingURL=if.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst validate_1 = require(\"../../compile/validate\");\nconst def = {\n    keyword: [\"then\", \"else\"],\n    schemaType: [\"object\", \"boolean\"],\n    code({ keyword, parentSchema, it }) {\n        if (parentSchema.if === undefined)\n            validate_1.checkStrictMode(it, `\"${keyword}\" without \"if\" is ignored`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=thenElse.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst format_1 = require(\"./format\");\nconst format = [format_1.default];\nexports.default = format;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => codegen_1.str `should match format \"${schemaCode}\"`,\n    params: ({ schemaCode }) => codegen_1._ `{format: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"format\",\n    type: [\"number\", \"string\"],\n    schemaType: \"string\",\n    $data: true,\n    error,\n    code(cxt, ruleType) {\n        const { gen, data, $data, schema, schemaCode, it } = cxt;\n        const { opts, errSchemaPath, schemaEnv, self } = it;\n        if (!opts.validateFormats)\n            return;\n        if ($data)\n            validate$DataFormat();\n        else\n            validateFormat();\n        function validate$DataFormat() {\n            const fmts = gen.scopeValue(\"formats\", {\n                ref: self.formats,\n                code: opts.code.formats,\n            });\n            const fDef = gen.const(\"fDef\", codegen_1._ `${fmts}[${schemaCode}]`);\n            const fType = gen.let(\"fType\");\n            const format = gen.let(\"format\");\n            // TODO simplify\n            gen.if(codegen_1._ `typeof ${fDef} == \"object\" && !(${fDef} instanceof RegExp)`, () => gen.assign(fType, codegen_1._ `${fDef}.type || \"string\"`).assign(format, codegen_1._ `${fDef}.validate`), () => gen.assign(fType, codegen_1._ `\"string\"`).assign(format, fDef));\n            cxt.fail$data(codegen_1.or(unknownFmt(), invalidFmt()));\n            function unknownFmt() {\n                if (opts.strict === false)\n                    return codegen_1.nil;\n                return codegen_1._ `${schemaCode} && !${format}`;\n            }\n            function invalidFmt() {\n                const callFormat = schemaEnv.$async\n                    ? codegen_1._ `(${fDef}.async ? await ${format}(${data}) : ${format}(${data}))`\n                    : codegen_1._ `${format}(${data})`;\n                const validData = codegen_1._ `(typeof ${format} == \"function\" ? ${callFormat} : ${format}.test(${data}))`;\n                return codegen_1._ `${format} && ${format} !== true && ${fType} === ${ruleType} && !${validData}`;\n            }\n        }\n        function validateFormat() {\n            const formatDef = self.formats[schema];\n            if (!formatDef) {\n                unknownFormat();\n                return;\n            }\n            if (formatDef === true)\n                return;\n            const [fmtType, format, fmtRef] = getFormat(formatDef);\n            if (fmtType === ruleType)\n                cxt.pass(validCondition());\n            function unknownFormat() {\n                if (opts.strict === false) {\n                    self.logger.warn(unknownMsg());\n                    return;\n                }\n                throw new Error(unknownMsg());\n                function unknownMsg() {\n                    return `unknown format \"${schema}\" ignored in schema at path \"${errSchemaPath}\"`;\n                }\n            }\n            function getFormat(fmtDef) {\n                const fmt = gen.scopeValue(\"formats\", {\n                    key: schema,\n                    ref: fmtDef,\n                    code: opts.code.formats ? codegen_1._ `${opts.code.formats}${codegen_1.getProperty(schema)}` : undefined,\n                });\n                if (typeof fmtDef == \"object\" && !(fmtDef instanceof RegExp)) {\n                    return [fmtDef.type || \"string\", fmtDef.validate, codegen_1._ `${fmt}.validate`];\n                }\n                return [\"string\", fmtDef, fmt];\n            }\n            function validCondition() {\n                if (typeof formatDef == \"object\" && !(formatDef instanceof RegExp) && formatDef.async) {\n                    if (!schemaEnv.$async)\n                        throw new Error(\"async format in sync schema\");\n                    return codegen_1._ `await ${fmtRef}(${data})`;\n                }\n                return typeof format == \"function\" ? codegen_1._ `${fmtRef}(${data})` : codegen_1._ `${fmtRef}.test(${data})`;\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=format.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.contentVocabulary = exports.metadataVocabulary = void 0;\nexports.metadataVocabulary = [\n    \"title\",\n    \"description\",\n    \"default\",\n    \"deprecated\",\n    \"readOnly\",\n    \"writeOnly\",\n    \"examples\",\n];\nexports.contentVocabulary = [\n    \"contentMediaType\",\n    \"contentEncoding\",\n    \"contentSchema\",\n];\n//# sourceMappingURL=metadata.js.map","import parseGitUrl from 'git-url-parse';\nimport fetch from 'cross-fetch';\nimport { createAppAuth } from '@octokit/auth-app';\nimport { Octokit } from '@octokit/rest';\nimport { DateTime } from 'luxon';\n\nfunction isValidHost(host) {\n  const check = new URL(\"http://example.com\");\n  check.host = host;\n  return check.host === host;\n}\nfunction isValidUrl(url) {\n  try {\n    new URL(url);\n    return true;\n  } catch {\n    return false;\n  }\n}\nfunction basicIntegrations(integrations, getHost) {\n  return {\n    list() {\n      return integrations;\n    },\n    byUrl(url) {\n      const parsed = typeof url === \"string\" ? new URL(url) : url;\n      return integrations.find((i) => getHost(i) === parsed.hostname);\n    },\n    byHost(host) {\n      return integrations.find((i) => getHost(i) === host);\n    }\n  };\n}\nfunction defaultScmResolveUrl(options) {\n  const {url, base, lineNumber} = options;\n  try {\n    new URL(url);\n    return url;\n  } catch {\n  }\n  let updated;\n  if (url.startsWith(\"/\")) {\n    const {filepath} = parseGitUrl(base);\n    updated = new URL(base);\n    const repoRootPath = updated.pathname.substring(0, updated.pathname.length - filepath.length).replace(/\\/+$/, \"\");\n    updated.pathname = `${repoRootPath}${url}`;\n  } else {\n    updated = new URL(url, base);\n  }\n  updated.search = new URL(base).search;\n  if (lineNumber) {\n    updated.hash = `L${lineNumber}`;\n  }\n  return updated.toString();\n}\n\nconst AZURE_HOST = \"dev.azure.com\";\nfunction readAzureIntegrationConfig(config) {\n  var _a;\n  const host = (_a = config.getOptionalString(\"host\")) != null ? _a : AZURE_HOST;\n  const token = config.getOptionalString(\"token\");\n  if (!isValidHost(host)) {\n    throw new Error(`Invalid Azure integration config, '${host}' is not a valid host`);\n  }\n  return {host, token};\n}\nfunction readAzureIntegrationConfigs(configs) {\n  const result = configs.map(readAzureIntegrationConfig);\n  if (!result.some((c) => c.host === AZURE_HOST)) {\n    result.push({host: AZURE_HOST});\n  }\n  return result;\n}\n\nconst _AzureIntegration = class {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  get type() {\n    return \"azure\";\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  resolveUrl(options) {\n    const {url, base} = options;\n    if (isValidUrl(url)) {\n      return url;\n    }\n    const parsed = parseGitUrl(base);\n    const {organization, owner, name, filepath} = parsed;\n    if (!organization || !owner || !name) {\n      return new URL(url, base).toString();\n    }\n    const path = (filepath == null ? void 0 : filepath.replace(/^\\//, \"\")) || \"\";\n    const mockBaseUrl = new URL(`https://a.com/${path}`);\n    const updatedPath = new URL(url, mockBaseUrl).pathname;\n    const newUrl = new URL(base);\n    newUrl.searchParams.set(\"path\", updatedPath);\n    if (options.lineNumber) {\n      newUrl.searchParams.set(\"line\", String(options.lineNumber));\n      newUrl.searchParams.set(\"lineEnd\", String(options.lineNumber + 1));\n      newUrl.searchParams.set(\"lineStartColumn\", \"1\");\n      newUrl.searchParams.set(\"lineEndColumn\", \"1\");\n    }\n    return newUrl.toString();\n  }\n  resolveEditUrl(url) {\n    return url;\n  }\n};\nlet AzureIntegration = _AzureIntegration;\nAzureIntegration.factory = ({config}) => {\n  var _a;\n  const configs = readAzureIntegrationConfigs((_a = config.getOptionalConfigArray(\"integrations.azure\")) != null ? _a : []);\n  return basicIntegrations(configs.map((c) => new _AzureIntegration(c)), (i) => i.config.host);\n};\n\nfunction getAzureFileFetchUrl(url) {\n  var _a;\n  try {\n    const parsedUrl = new URL(url);\n    const [\n      empty,\n      userOrOrg,\n      project,\n      srcKeyword,\n      repoName\n    ] = parsedUrl.pathname.split(\"/\");\n    const path = parsedUrl.searchParams.get(\"path\") || \"\";\n    const ref = (_a = parsedUrl.searchParams.get(\"version\")) == null ? void 0 : _a.substr(2);\n    if (empty !== \"\" || userOrOrg === \"\" || project === \"\" || srcKeyword !== \"_git\" || repoName === \"\" || path === \"\" || ref === \"\") {\n      throw new Error(\"Wrong Azure Devops URL or Invalid file path\");\n    }\n    parsedUrl.pathname = [\n      empty,\n      userOrOrg,\n      project,\n      \"_apis\",\n      \"git\",\n      \"repositories\",\n      repoName,\n      \"items\"\n    ].join(\"/\");\n    const queryParams = [`path=${path}`];\n    if (ref) {\n      queryParams.push(`version=${ref}`);\n    }\n    parsedUrl.search = queryParams.join(\"&\");\n    parsedUrl.protocol = \"https\";\n    return parsedUrl.toString();\n  } catch (e) {\n    throw new Error(`Incorrect URL: ${url}, ${e}`);\n  }\n}\nfunction getAzureDownloadUrl(url) {\n  const {\n    name: repoName,\n    owner: project,\n    organization,\n    protocol,\n    resource,\n    filepath\n  } = parseGitUrl(url);\n  const scopePath = filepath ? `&scopePath=${encodeURIComponent(filepath)}` : \"\";\n  return `${protocol}://${resource}/${organization}/${project}/_apis/git/repositories/${repoName}/items?recursionLevel=full&download=true&api-version=6.0${scopePath}`;\n}\nfunction getAzureCommitsUrl(url) {\n  var _a;\n  try {\n    const parsedUrl = new URL(url);\n    const [\n      empty,\n      userOrOrg,\n      project,\n      srcKeyword,\n      repoName\n    ] = parsedUrl.pathname.split(\"/\");\n    const ref = (_a = parsedUrl.searchParams.get(\"version\")) == null ? void 0 : _a.substr(2);\n    if (!!empty || !userOrOrg || !project || srcKeyword !== \"_git\" || !repoName) {\n      throw new Error(\"Wrong Azure Devops URL\");\n    }\n    parsedUrl.pathname = [\n      empty,\n      userOrOrg,\n      project,\n      \"_apis\",\n      \"git\",\n      \"repositories\",\n      repoName,\n      \"commits\"\n    ].join(\"/\");\n    const queryParams = [];\n    if (ref) {\n      queryParams.push(`searchCriteria.itemVersion.version=${ref}`);\n    }\n    parsedUrl.search = queryParams.join(\"&\");\n    parsedUrl.protocol = \"https\";\n    return parsedUrl.toString();\n  } catch (e) {\n    throw new Error(`Incorrect URL: ${url}, ${e}`);\n  }\n}\nfunction getAzureRequestOptions(config, additionalHeaders) {\n  const headers = additionalHeaders ? {...additionalHeaders} : {};\n  if (config.token) {\n    const buffer = Buffer.from(`:${config.token}`, \"utf8\");\n    headers.Authorization = `Basic ${buffer.toString(\"base64\")}`;\n  }\n  return {headers};\n}\n\nconst BITBUCKET_HOST = \"bitbucket.org\";\nconst BITBUCKET_API_BASE_URL = \"https://api.bitbucket.org/2.0\";\nfunction readBitbucketIntegrationConfig(config) {\n  var _a;\n  const host = (_a = config.getOptionalString(\"host\")) != null ? _a : BITBUCKET_HOST;\n  let apiBaseUrl = config.getOptionalString(\"apiBaseUrl\");\n  const token = config.getOptionalString(\"token\");\n  const username = config.getOptionalString(\"username\");\n  const appPassword = config.getOptionalString(\"appPassword\");\n  if (!isValidHost(host)) {\n    throw new Error(`Invalid Bitbucket integration config, '${host}' is not a valid host`);\n  }\n  if (apiBaseUrl) {\n    apiBaseUrl = apiBaseUrl.replace(/\\/+$/, \"\");\n  } else if (host === BITBUCKET_HOST) {\n    apiBaseUrl = BITBUCKET_API_BASE_URL;\n  }\n  return {\n    host,\n    apiBaseUrl,\n    token,\n    username,\n    appPassword\n  };\n}\nfunction readBitbucketIntegrationConfigs(configs) {\n  const result = configs.map(readBitbucketIntegrationConfig);\n  if (!result.some((c) => c.host === BITBUCKET_HOST)) {\n    result.push({\n      host: BITBUCKET_HOST,\n      apiBaseUrl: BITBUCKET_API_BASE_URL\n    });\n  }\n  return result;\n}\n\nconst _BitbucketIntegration = class {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  get type() {\n    return \"bitbucket\";\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  resolveUrl(options) {\n    const resolved = defaultScmResolveUrl(options);\n    if (options.lineNumber) {\n      const url = new URL(resolved);\n      const filename = url.pathname.split(\"/\").slice(-1)[0];\n      url.hash = `${filename}-${options.lineNumber}`;\n      return url.toString();\n    }\n    return resolved;\n  }\n  resolveEditUrl(url) {\n    const urlData = parseGitUrl(url);\n    const editUrl = new URL(url);\n    editUrl.searchParams.set(\"mode\", \"edit\");\n    editUrl.searchParams.set(\"spa\", \"0\");\n    editUrl.searchParams.set(\"at\", urlData.ref);\n    return editUrl.toString();\n  }\n};\nlet BitbucketIntegration = _BitbucketIntegration;\nBitbucketIntegration.factory = ({\n  config\n}) => {\n  var _a;\n  const configs = readBitbucketIntegrationConfigs((_a = config.getOptionalConfigArray(\"integrations.bitbucket\")) != null ? _a : []);\n  return basicIntegrations(configs.map((c) => new _BitbucketIntegration(c)), (i) => i.config.host);\n};\n\nasync function getBitbucketDefaultBranch(url, config) {\n  const {name: repoName, owner: project, resource} = parseGitUrl(url);\n  const isHosted = resource === \"bitbucket.org\";\n  let branchUrl = isHosted ? `${config.apiBaseUrl}/repositories/${project}/${repoName}` : `${config.apiBaseUrl}/projects/${project}/repos/${repoName}/default-branch`;\n  let response = await fetch(branchUrl, getBitbucketRequestOptions(config));\n  if (response.status === 404 && !isHosted) {\n    branchUrl = `${config.apiBaseUrl}/projects/${project}/repos/${repoName}/branches/default`;\n    response = await fetch(branchUrl, getBitbucketRequestOptions(config));\n  }\n  if (!response.ok) {\n    const message = `Failed to retrieve default branch from ${branchUrl}, ${response.status} ${response.statusText}`;\n    throw new Error(message);\n  }\n  let defaultBranch;\n  if (isHosted) {\n    const repoInfo = await response.json();\n    defaultBranch = repoInfo.mainbranch.name;\n  } else {\n    const {displayId} = await response.json();\n    defaultBranch = displayId;\n  }\n  if (!defaultBranch) {\n    throw new Error(`Failed to read default branch from ${branchUrl}. Response ${response.status} ${response.json()}`);\n  }\n  return defaultBranch;\n}\nasync function getBitbucketDownloadUrl(url, config) {\n  const {\n    name: repoName,\n    owner: project,\n    ref,\n    protocol,\n    resource,\n    filepath\n  } = parseGitUrl(url);\n  const isHosted = resource === \"bitbucket.org\";\n  let branch = ref;\n  if (!branch) {\n    branch = await getBitbucketDefaultBranch(url, config);\n  }\n  const path = filepath ? `&path=${encodeURIComponent(filepath)}` : \"\";\n  const archiveUrl = isHosted ? `${protocol}://${resource}/${project}/${repoName}/get/${branch}.zip` : `${config.apiBaseUrl}/projects/${project}/repos/${repoName}/archive?format=zip&at=${branch}&prefix=${project}-${repoName}${path}`;\n  return archiveUrl;\n}\nfunction getBitbucketFileFetchUrl(url, config) {\n  try {\n    const {owner, name, ref, filepathtype, filepath} = parseGitUrl(url);\n    if (!owner || !name || filepathtype !== \"browse\" && filepathtype !== \"raw\" && filepathtype !== \"src\") {\n      throw new Error(\"Invalid Bitbucket URL or file path\");\n    }\n    const pathWithoutSlash = filepath.replace(/^\\//, \"\");\n    if (config.host === \"bitbucket.org\") {\n      if (!ref) {\n        throw new Error(\"Invalid Bitbucket URL or file path\");\n      }\n      return `${config.apiBaseUrl}/repositories/${owner}/${name}/src/${ref}/${pathWithoutSlash}`;\n    }\n    return `${config.apiBaseUrl}/projects/${owner}/repos/${name}/raw/${pathWithoutSlash}?at=${ref}`;\n  } catch (e) {\n    throw new Error(`Incorrect URL: ${url}, ${e}`);\n  }\n}\nfunction getBitbucketRequestOptions(config) {\n  const headers = {};\n  if (config.token) {\n    headers.Authorization = `Bearer ${config.token}`;\n  } else if (config.username && config.appPassword) {\n    const buffer = Buffer.from(`${config.username}:${config.appPassword}`, \"utf8\");\n    headers.Authorization = `Basic ${buffer.toString(\"base64\")}`;\n  }\n  return {\n    headers\n  };\n}\n\nconst GITHUB_HOST = \"github.com\";\nconst GITHUB_API_BASE_URL = \"https://api.github.com\";\nconst GITHUB_RAW_BASE_URL = \"https://raw.githubusercontent.com\";\nfunction readGitHubIntegrationConfig(config) {\n  var _a, _b;\n  const host = (_a = config.getOptionalString(\"host\")) != null ? _a : GITHUB_HOST;\n  let apiBaseUrl = config.getOptionalString(\"apiBaseUrl\");\n  let rawBaseUrl = config.getOptionalString(\"rawBaseUrl\");\n  const token = config.getOptionalString(\"token\");\n  const apps = (_b = config.getOptionalConfigArray(\"apps\")) == null ? void 0 : _b.map((c) => ({\n    appId: c.getNumber(\"appId\"),\n    clientId: c.getString(\"clientId\"),\n    clientSecret: c.getString(\"clientSecret\"),\n    webhookSecret: c.getString(\"webhookSecret\"),\n    privateKey: c.getString(\"privateKey\")\n  }));\n  if (!isValidHost(host)) {\n    throw new Error(`Invalid GitHub integration config, '${host}' is not a valid host`);\n  }\n  if (apiBaseUrl) {\n    apiBaseUrl = apiBaseUrl.replace(/\\/+$/, \"\");\n  } else if (host === GITHUB_HOST) {\n    apiBaseUrl = GITHUB_API_BASE_URL;\n  }\n  if (rawBaseUrl) {\n    rawBaseUrl = rawBaseUrl.replace(/\\/+$/, \"\");\n  } else if (host === GITHUB_HOST) {\n    rawBaseUrl = GITHUB_RAW_BASE_URL;\n  }\n  return {host, apiBaseUrl, rawBaseUrl, token, apps};\n}\nfunction readGitHubIntegrationConfigs(configs) {\n  const result = configs.map(readGitHubIntegrationConfig);\n  if (!result.some((c) => c.host === GITHUB_HOST)) {\n    result.push({\n      host: GITHUB_HOST,\n      apiBaseUrl: GITHUB_API_BASE_URL,\n      rawBaseUrl: GITHUB_RAW_BASE_URL\n    });\n  }\n  return result;\n}\n\nfunction getGitHubFileFetchUrl(url, config) {\n  try {\n    const {owner, name, ref, filepathtype, filepath} = parseGitUrl(url);\n    if (!owner || !name || !ref || filepathtype !== \"blob\" && filepathtype !== \"raw\" && filepathtype !== \"tree\") {\n      throw new Error(\"Invalid GitHub URL or file path\");\n    }\n    const pathWithoutSlash = filepath.replace(/^\\//, \"\");\n    if (chooseEndpoint(config) === \"api\") {\n      return `${config.apiBaseUrl}/repos/${owner}/${name}/contents/${pathWithoutSlash}?ref=${ref}`;\n    }\n    return `${config.rawBaseUrl}/${owner}/${name}/${ref}/${pathWithoutSlash}`;\n  } catch (e) {\n    throw new Error(`Incorrect URL: ${url}, ${e}`);\n  }\n}\nfunction getGitHubRequestOptions(config) {\n  const headers = {};\n  if (chooseEndpoint(config) === \"api\") {\n    headers.Accept = \"application/vnd.github.v3.raw\";\n  }\n  if (config.token) {\n    headers.Authorization = `token ${config.token}`;\n  }\n  return {headers};\n}\nfunction chooseEndpoint(config) {\n  if (config.apiBaseUrl && (config.token || !config.rawBaseUrl)) {\n    return \"api\";\n  }\n  return \"raw\";\n}\n\nclass Cache {\n  constructor() {\n    this.tokenCache = new Map();\n    this.isNotExpired = (date) => date.diff(DateTime.local(), \"minutes\").minutes > 50;\n  }\n  async getOrCreateToken(key, supplier) {\n    const item = this.tokenCache.get(key);\n    if (item && this.isNotExpired(item.expiresAt)) {\n      return {accessToken: item.token};\n    }\n    const result = await supplier();\n    this.tokenCache.set(key, result);\n    return {accessToken: result.token};\n  }\n}\nconst HEADERS = {\n  Accept: \"application/vnd.github.machine-man-preview+json\"\n};\nclass GithubAppManager {\n  constructor(config, baseUrl) {\n    this.cache = new Cache();\n    this.baseAuthConfig = {\n      appId: config.appId,\n      privateKey: config.privateKey\n    };\n    this.appClient = new Octokit({\n      baseUrl,\n      headers: HEADERS,\n      authStrategy: createAppAuth,\n      auth: this.baseAuthConfig\n    });\n  }\n  async getInstallationCredentials(owner, repo) {\n    const {\n      installationId,\n      suspended,\n      repositorySelection\n    } = await this.getInstallationData(owner);\n    if (suspended) {\n      throw new Error(`The GitHub application for ${[owner, repo].filter(Boolean).join(\"/\")} is suspended`);\n    }\n    if (repositorySelection !== \"all\" && !repo) {\n      throw new Error(`The Backstage GitHub application used in the ${owner} organization must be installed for the entire organization to be able to issue credentials without a specified repository.`);\n    }\n    const cacheKey = !repo ? owner : `${owner}/${repo}`;\n    const repositories = repositorySelection !== \"all\" ? [repo] : void 0;\n    return this.cache.getOrCreateToken(cacheKey, async () => {\n      const result = await this.appClient.apps.createInstallationAccessToken({\n        installation_id: installationId,\n        headers: HEADERS,\n        repositories\n      });\n      return {\n        token: result.data.token,\n        expiresAt: DateTime.fromISO(result.data.expires_at)\n      };\n    });\n  }\n  async getInstallationData(owner) {\n    var _a, _b;\n    try {\n      this.installations = await this.appClient.apps.listInstallations({\n        headers: {\n          \"If-None-Match\": (_a = this.installations) == null ? void 0 : _a.headers.etag,\n          Accept: HEADERS.Accept\n        }\n      });\n    } catch (error) {\n      if (error.status !== 304) {\n        throw error;\n      }\n    }\n    const installation = (_b = this.installations) == null ? void 0 : _b.data.find((inst) => {\n      var _a2;\n      return ((_a2 = inst.account) == null ? void 0 : _a2.login) === owner;\n    });\n    if (installation) {\n      return {\n        installationId: installation.id,\n        suspended: Boolean(installation.suspended_by),\n        repositorySelection: installation.repository_selection\n      };\n    }\n    const notFoundError = new Error(`No app installation found for ${owner} in ${this.baseAuthConfig.appId}`);\n    notFoundError.name = \"NotFoundError\";\n    throw notFoundError;\n  }\n}\nclass GithubAppCredentialsMux {\n  constructor(config) {\n    var _a, _b;\n    this.apps = (_b = (_a = config.apps) == null ? void 0 : _a.map((ac) => new GithubAppManager(ac, config.apiBaseUrl))) != null ? _b : [];\n  }\n  async getAppToken(owner, repo) {\n    if (this.apps.length === 0) {\n      return void 0;\n    }\n    const results = await Promise.all(this.apps.map((app) => app.getInstallationCredentials(owner, repo).then((credentials) => ({credentials, error: void 0}), (error) => ({credentials: void 0, error}))));\n    const result = results.find((resultItem) => resultItem.credentials);\n    if (result) {\n      return result.credentials.accessToken;\n    }\n    const errors = results.map((r) => r.error);\n    const notNotFoundError = errors.find((err) => err.name !== \"NotFoundError\");\n    if (notNotFoundError) {\n      throw notNotFoundError;\n    }\n    return void 0;\n  }\n}\nclass GithubCredentialsProvider {\n  constructor(githubAppCredentialsMux, token) {\n    this.githubAppCredentialsMux = githubAppCredentialsMux;\n    this.token = token;\n  }\n  static create(config) {\n    return new GithubCredentialsProvider(new GithubAppCredentialsMux(config), config.token);\n  }\n  async getCredentials(opts) {\n    const parsed = parseGitUrl(opts.url);\n    const owner = parsed.owner || parsed.name;\n    const repo = parsed.owner ? parsed.name : void 0;\n    let token = await this.githubAppCredentialsMux.getAppToken(owner, repo);\n    if (!token) {\n      token = this.token;\n    }\n    return {\n      headers: token ? {\n        Authorization: `Bearer ${token}`\n      } : void 0,\n      token\n    };\n  }\n}\n\nconst _GitHubIntegration = class {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  get type() {\n    return \"github\";\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  resolveUrl(options) {\n    return replaceUrlType(defaultScmResolveUrl(options), \"tree\");\n  }\n  resolveEditUrl(url) {\n    return replaceUrlType(url, \"edit\");\n  }\n};\nlet GitHubIntegration = _GitHubIntegration;\nGitHubIntegration.factory = ({config}) => {\n  var _a;\n  const configs = readGitHubIntegrationConfigs((_a = config.getOptionalConfigArray(\"integrations.github\")) != null ? _a : []);\n  return basicIntegrations(configs.map((c) => new _GitHubIntegration(c)), (i) => i.config.host);\n};\nfunction replaceUrlType(url, type) {\n  return url.replace(/\\/\\/([^/]+)\\/([^/]+)\\/([^/]+)\\/(blob|tree|edit)\\//, (_, host, owner, repo) => {\n    return `//${host}/${owner}/${repo}/${type}/`;\n  });\n}\n\nconst GITLAB_HOST = \"gitlab.com\";\nconst GITLAB_API_BASE_URL = \"https://gitlab.com/api/v4\";\nfunction readGitLabIntegrationConfig(config) {\n  const host = config.getString(\"host\");\n  let apiBaseUrl = config.getOptionalString(\"apiBaseUrl\");\n  const token = config.getOptionalString(\"token\");\n  let baseUrl = config.getOptionalString(\"baseUrl\");\n  if (apiBaseUrl) {\n    apiBaseUrl = apiBaseUrl.replace(/\\/+$/, \"\");\n  } else if (host === GITLAB_HOST) {\n    apiBaseUrl = GITLAB_API_BASE_URL;\n  }\n  if (baseUrl) {\n    baseUrl = baseUrl.replace(/\\/+$/, \"\");\n  } else {\n    baseUrl = `https://${host}`;\n  }\n  if (host.includes(\":\")) {\n    throw new Error(`Invalid GitLab integration config, host '${host}' should just be the host name (e.g. \"github.com\"), not a URL`);\n  } else if (!isValidHost(host)) {\n    throw new Error(`Invalid GitLab integration config, '${host}' is not a valid host`);\n  } else if (!apiBaseUrl || !isValidUrl(apiBaseUrl)) {\n    throw new Error(`Invalid GitLab integration config, '${apiBaseUrl}' is not a valid apiBaseUrl`);\n  } else if (!isValidUrl(baseUrl)) {\n    throw new Error(`Invalid GitLab integration config, '${baseUrl}' is not a valid baseUrl`);\n  }\n  return {host, token, apiBaseUrl, baseUrl};\n}\nfunction readGitLabIntegrationConfigs(configs) {\n  const result = configs.map(readGitLabIntegrationConfig);\n  if (!result.some((c) => c.host === GITLAB_HOST)) {\n    result.push({\n      host: GITLAB_HOST,\n      apiBaseUrl: GITLAB_API_BASE_URL,\n      baseUrl: `https://${GITLAB_HOST}`\n    });\n  }\n  return result;\n}\n\nasync function getGitLabFileFetchUrl(url, config) {\n  if (url.includes(\"/-/blob/\")) {\n    const projectID = await getProjectId(url, config);\n    return buildProjectUrl(url, projectID).toString();\n  }\n  return buildRawUrl(url).toString();\n}\nfunction getGitLabRequestOptions(config) {\n  const {token = \"\"} = config;\n  return {\n    headers: {\n      \"PRIVATE-TOKEN\": token\n    }\n  };\n}\nfunction buildRawUrl(target) {\n  try {\n    const url = new URL(target);\n    const [\n      empty,\n      userOrOrg,\n      repoName,\n      blobKeyword,\n      ...restOfPath\n    ] = url.pathname.split(\"/\");\n    if (empty !== \"\" || userOrOrg === \"\" || repoName === \"\" || blobKeyword !== \"blob\" || !restOfPath.join(\"/\").match(/\\.yaml$/)) {\n      throw new Error(\"Wrong GitLab URL\");\n    }\n    url.pathname = [empty, userOrOrg, repoName, \"raw\", ...restOfPath].join(\"/\");\n    return url;\n  } catch (e) {\n    throw new Error(`Incorrect url: ${target}, ${e}`);\n  }\n}\nfunction buildProjectUrl(target, projectID) {\n  try {\n    const url = new URL(target);\n    const branchAndFilePath = url.pathname.split(\"/-/blob/\")[1];\n    const [branch, ...filePath] = branchAndFilePath.split(\"/\");\n    url.pathname = [\n      \"/api/v4/projects\",\n      projectID,\n      \"repository/files\",\n      encodeURIComponent(decodeURIComponent(filePath.join(\"/\"))),\n      \"raw\"\n    ].join(\"/\");\n    url.search = `?ref=${branch}`;\n    return url;\n  } catch (e) {\n    throw new Error(`Incorrect url: ${target}, ${e}`);\n  }\n}\nasync function getProjectId(target, config) {\n  const url = new URL(target);\n  if (!url.pathname.includes(\"/-/blob/\")) {\n    throw new Error(\"Please provide full path to yaml file from GitLab\");\n  }\n  try {\n    const repo = url.pathname.split(\"/-/blob/\")[0];\n    const repoIDLookup = new URL(`${url.protocol + url.hostname}/api/v4/projects/${encodeURIComponent(repo.replace(/^\\//, \"\"))}`);\n    const response = await fetch(repoIDLookup.toString(), getGitLabRequestOptions(config));\n    const data = await response.json();\n    if (!response.ok) {\n      throw new Error(`GitLab Error '${data.error}', ${data.error_description}`);\n    }\n    return Number(data.id);\n  } catch (e) {\n    throw new Error(`Could not get GitLab project ID for: ${target}, ${e}`);\n  }\n}\n\nconst _GitLabIntegration = class {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  get type() {\n    return \"gitlab\";\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  resolveUrl(options) {\n    return defaultScmResolveUrl(options);\n  }\n  resolveEditUrl(url) {\n    return replaceUrlType$1(url, \"edit\");\n  }\n};\nlet GitLabIntegration = _GitLabIntegration;\nGitLabIntegration.factory = ({config}) => {\n  var _a;\n  const configs = readGitLabIntegrationConfigs((_a = config.getOptionalConfigArray(\"integrations.gitlab\")) != null ? _a : []);\n  return basicIntegrations(configs.map((c) => new _GitLabIntegration(c)), (i) => i.config.host);\n};\nfunction replaceUrlType$1(url, type) {\n  return url.replace(/\\/\\-\\/(blob|tree|edit)\\//, `/-/${type}/`);\n}\n\nfunction readGoogleGcsIntegrationConfig(config) {\n  if (!config) {\n    return {};\n  }\n  if (!config.has(\"clientEmail\") && !config.has(\"privateKey\")) {\n    return {};\n  }\n  const privateKey = config.getString(\"privateKey\").split(\"\\\\n\").join(\"\\n\");\n  const clientEmail = config.getString(\"clientEmail\");\n  return {clientEmail, privateKey};\n}\n\nclass ScmIntegrations {\n  static fromConfig(config) {\n    return new ScmIntegrations({\n      azure: AzureIntegration.factory({config}),\n      bitbucket: BitbucketIntegration.factory({config}),\n      github: GitHubIntegration.factory({config}),\n      gitlab: GitLabIntegration.factory({config})\n    });\n  }\n  constructor(integrationsByType) {\n    this.byType = integrationsByType;\n  }\n  get azure() {\n    return this.byType.azure;\n  }\n  get bitbucket() {\n    return this.byType.bitbucket;\n  }\n  get github() {\n    return this.byType.github;\n  }\n  get gitlab() {\n    return this.byType.gitlab;\n  }\n  list() {\n    return Object.values(this.byType).flatMap((i) => i.list());\n  }\n  byUrl(url) {\n    return Object.values(this.byType).map((i) => i.byUrl(url)).find(Boolean);\n  }\n  byHost(host) {\n    return Object.values(this.byType).map((i) => i.byHost(host)).find(Boolean);\n  }\n  resolveUrl(options) {\n    const integration = this.byUrl(options.base);\n    if (!integration) {\n      return defaultScmResolveUrl(options);\n    }\n    return integration.resolveUrl(options);\n  }\n  resolveEditUrl(url) {\n    const integration = this.byUrl(url);\n    if (!integration) {\n      return url;\n    }\n    return integration.resolveEditUrl(url);\n  }\n}\n\nexport { AzureIntegration, BitbucketIntegration, GitHubIntegration, GitLabIntegration, GithubCredentialsProvider, ScmIntegrations, defaultScmResolveUrl, getAzureCommitsUrl, getAzureDownloadUrl, getAzureFileFetchUrl, getAzureRequestOptions, getBitbucketDefaultBranch, getBitbucketDownloadUrl, getBitbucketFileFetchUrl, getBitbucketRequestOptions, getGitHubFileFetchUrl, getGitHubRequestOptions, getGitLabFileFetchUrl, getGitLabRequestOptions, readAzureIntegrationConfig, readAzureIntegrationConfigs, readBitbucketIntegrationConfig, readBitbucketIntegrationConfigs, readGitHubIntegrationConfig, readGitHubIntegrationConfigs, readGitLabIntegrationConfig, readGitLabIntegrationConfigs, readGoogleGcsIntegrationConfig };\n//# sourceMappingURL=index.esm.js.map\n","import lodash from 'lodash';\nimport Ajv from 'ajv';\nimport { v4 } from 'uuid';\nimport { object, string } from 'yup';\n\nconst ENTITY_DEFAULT_NAMESPACE = \"default\";\nconst ENTITY_META_GENERATED_FIELDS = [\n  \"uid\",\n  \"etag\",\n  \"generation\"\n];\nconst VIEW_URL_ANNOTATION = \"backstage.io/view-url\";\nconst EDIT_URL_ANNOTATION = \"backstage.io/edit-url\";\n\nclass DefaultNamespaceEntityPolicy {\n  constructor(namespace = ENTITY_DEFAULT_NAMESPACE) {\n    this.namespace = namespace;\n  }\n  async enforce(entity) {\n    if (entity.metadata.namespace) {\n      return entity;\n    }\n    return lodash.merge({metadata: {namespace: this.namespace}}, entity);\n  }\n}\n\nclass CommonValidatorFunctions {\n  static isValidPrefixAndOrSuffix(value, separator, isValidPrefix, isValidSuffix) {\n    if (typeof value !== \"string\") {\n      return false;\n    }\n    const parts = value.split(separator);\n    if (parts.length === 1) {\n      return isValidSuffix(parts[0]);\n    } else if (parts.length === 2) {\n      return isValidPrefix(parts[0]) && isValidSuffix(parts[1]);\n    }\n    return false;\n  }\n  static isJsonSafe(value) {\n    try {\n      return lodash.isEqual(value, JSON.parse(JSON.stringify(value)));\n    } catch {\n      return false;\n    }\n  }\n  static isValidDnsSubdomain(value) {\n    return typeof value === \"string\" && value.length >= 1 && value.length <= 253 && value.split(\".\").every(CommonValidatorFunctions.isValidDnsLabel);\n  }\n  static isValidDnsLabel(value) {\n    return typeof value === \"string\" && value.length >= 1 && value.length <= 63 && /^[a-z0-9]+(\\-[a-z0-9]+)*$/.test(value);\n  }\n  static isValidUrl(value) {\n    if (typeof value !== \"string\") {\n      return false;\n    }\n    try {\n      new URL(value);\n      return true;\n    } catch {\n      return false;\n    }\n  }\n  static isValidString(value) {\n    var _a;\n    return typeof value === \"string\" && ((_a = value == null ? void 0 : value.trim()) == null ? void 0 : _a.length) >= 1;\n  }\n}\n\nclass KubernetesValidatorFunctions {\n  static isValidApiVersion(value) {\n    return CommonValidatorFunctions.isValidPrefixAndOrSuffix(value, \"/\", CommonValidatorFunctions.isValidDnsSubdomain, (n) => n.length >= 1 && n.length <= 63 && /^[a-z0-9A-Z]+$/.test(n));\n  }\n  static isValidKind(value) {\n    return typeof value === \"string\" && value.length >= 1 && value.length <= 63 && /^[a-zA-Z][a-z0-9A-Z]*$/.test(value);\n  }\n  static isValidObjectName(value) {\n    return typeof value === \"string\" && value.length >= 1 && value.length <= 63 && /^[a-z0-9A-Z]+([-_.][a-z0-9A-Z]+)*$/.test(value);\n  }\n  static isValidNamespace(value) {\n    return CommonValidatorFunctions.isValidDnsLabel(value);\n  }\n  static isValidLabelKey(value) {\n    return CommonValidatorFunctions.isValidPrefixAndOrSuffix(value, \"/\", CommonValidatorFunctions.isValidDnsSubdomain, KubernetesValidatorFunctions.isValidObjectName);\n  }\n  static isValidLabelValue(value) {\n    return value === \"\" || KubernetesValidatorFunctions.isValidObjectName(value);\n  }\n  static isValidAnnotationKey(value) {\n    return CommonValidatorFunctions.isValidPrefixAndOrSuffix(value, \"/\", CommonValidatorFunctions.isValidDnsSubdomain, KubernetesValidatorFunctions.isValidObjectName);\n  }\n  static isValidAnnotationValue(value) {\n    return typeof value === \"string\";\n  }\n}\n\nconst defaultValidators = {\n  isValidApiVersion: KubernetesValidatorFunctions.isValidApiVersion,\n  isValidKind: KubernetesValidatorFunctions.isValidKind,\n  isValidEntityName: KubernetesValidatorFunctions.isValidObjectName,\n  isValidNamespace: KubernetesValidatorFunctions.isValidNamespace,\n  isValidLabelKey: KubernetesValidatorFunctions.isValidLabelKey,\n  isValidLabelValue: KubernetesValidatorFunctions.isValidLabelValue,\n  isValidAnnotationKey: KubernetesValidatorFunctions.isValidAnnotationKey,\n  isValidAnnotationValue: KubernetesValidatorFunctions.isValidAnnotationValue,\n  isValidTag: CommonValidatorFunctions.isValidDnsLabel\n};\nfunction makeValidator(overrides = {}) {\n  return {\n    ...defaultValidators,\n    ...overrides\n  };\n}\n\nclass FieldFormatEntityPolicy {\n  constructor(validators = makeValidator()) {\n    this.validators = validators;\n  }\n  async enforce(entity) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    function require(field, value, validator) {\n      if (value === void 0 || value === null) {\n        throw new Error(`${field} must have a value`);\n      }\n      let isValid;\n      try {\n        isValid = validator(value);\n      } catch (e) {\n        throw new Error(`${field} could not be validated, ${e}`);\n      }\n      if (!isValid) {\n        let expectation;\n        switch (validator.name) {\n          case \"isValidLabelValue\":\n          case \"isValidObjectName\":\n            expectation = \"a string that is sequences of [a-zA-Z0-9] separated by any of [-_.], at most 63 characters in total\";\n            break;\n          case \"isValidLabelKey\":\n          case \"isValidApiVersion\":\n          case \"isValidAnnotationKey\":\n            expectation = \"a valid prefix and/or suffix\";\n            break;\n          case \"isValidNamespace\":\n          case \"isValidDnsLabel\":\n            expectation = \"a string that is sequences of [a-z0-9] separated by [-], at most 63 characters in total\";\n            break;\n          case \"isValidAnnotationValue\":\n            expectation = \"a string\";\n            break;\n          case \"isValidKind\":\n            expectation = \"a string that is a sequence of [a-zA-Z][a-z0-9A-Z], at most 63 characters in total\";\n            break;\n          case \"isValidUrl\":\n            expectation = \"a string that is a valid url\";\n            break;\n          case \"isValidString\":\n            expectation = \"a non empty string\";\n            break;\n          default:\n            expectation = void 0;\n            break;\n        }\n        const message = expectation ? ` expected ${expectation} but found \"${value}\".` : \"\";\n        throw new Error(`\"${field}\" is not valid;${message} To learn more about catalog file format, visit: https://github.com/backstage/backstage/blob/master/docs/architecture-decisions/adr002-default-catalog-file-format.md`);\n      }\n    }\n    function optional(field, value, validator) {\n      return value === void 0 || require(field, value, validator);\n    }\n    require(\"apiVersion\", entity.apiVersion, this.validators.isValidApiVersion);\n    require(\"kind\", entity.kind, this.validators.isValidKind);\n    require(\"metadata.name\", entity.metadata.name, this.validators.isValidEntityName);\n    optional(\"metadata.namespace\", entity.metadata.namespace, this.validators.isValidNamespace);\n    for (const [k, v] of Object.entries((_a = entity.metadata.labels) != null ? _a : [])) {\n      require(`labels.${k}`, k, this.validators.isValidLabelKey);\n      require(`labels.${k}`, v, this.validators.isValidLabelValue);\n    }\n    for (const [k, v] of Object.entries((_b = entity.metadata.annotations) != null ? _b : [])) {\n      require(`annotations.${k}`, k, this.validators.isValidAnnotationKey);\n      require(`annotations.${k}`, v, this.validators.isValidAnnotationValue);\n    }\n    const tags = (_c = entity.metadata.tags) != null ? _c : [];\n    for (let i = 0; i < tags.length; ++i) {\n      require(`tags.${i}`, tags[i], this.validators.isValidTag);\n    }\n    const links = (_d = entity.metadata.links) != null ? _d : [];\n    for (let i = 0; i < links.length; ++i) {\n      require(`links.${i}.url`, (_e = links[i]) == null ? void 0 : _e.url, CommonValidatorFunctions.isValidUrl);\n      optional(`links.${i}.title`, (_f = links[i]) == null ? void 0 : _f.title, CommonValidatorFunctions.isValidString);\n      optional(`links.${i}.icon`, (_g = links[i]) == null ? void 0 : _g.icon, KubernetesValidatorFunctions.isValidObjectName);\n    }\n    return entity;\n  }\n}\n\nconst defaultKnownFields = [\"apiVersion\", \"kind\", \"metadata\", \"spec\"];\nclass NoForeignRootFieldsEntityPolicy {\n  constructor(knownFields = defaultKnownFields) {\n    this.knownFields = knownFields;\n  }\n  async enforce(entity) {\n    for (const field of Object.keys(entity)) {\n      if (!this.knownFields.includes(field)) {\n        throw new Error(`Unknown field ${field}`);\n      }\n    }\n    return entity;\n  }\n}\n\nvar $schema = \"http://json-schema.org/draft-07/schema\";\nvar $id = \"Entity\";\nvar description = \"The format envelope that's common to all versions/kinds of entity.\";\nvar examples = [\n\t{\n\t\tapiVersion: \"backstage.io/v1alpha1\",\n\t\tkind: \"Component\",\n\t\tmetadata: {\n\t\t\tname: \"LoremService\",\n\t\t\tdescription: \"Creates Lorems like a pro.\",\n\t\t\tlabels: {\n\t\t\t\tproduct_name: \"Random value Generator\"\n\t\t\t},\n\t\t\tannotations: {\n\t\t\t\tdocs: \"https://github.com/..../tree/develop/doc\"\n\t\t\t}\n\t\t},\n\t\tspec: {\n\t\t\ttype: \"service\",\n\t\t\tlifecycle: \"production\",\n\t\t\towner: \"tools\"\n\t\t}\n\t}\n];\nvar type = \"object\";\nvar required = [\n\t\"apiVersion\",\n\t\"kind\",\n\t\"metadata\"\n];\nvar additionalProperties = false;\nvar properties = {\n\tapiVersion: {\n\t\ttype: \"string\",\n\t\tdescription: \"The version of specification format for this particular entity that this is written against.\",\n\t\tminLength: 1,\n\t\texamples: [\n\t\t\t\"backstage.io/v1alpha1\",\n\t\t\t\"my-company.net/v1\",\n\t\t\t\"1.0\"\n\t\t]\n\t},\n\tkind: {\n\t\ttype: \"string\",\n\t\tdescription: \"The high level entity type being described.\",\n\t\tminLength: 1,\n\t\texamples: [\n\t\t\t\"API\",\n\t\t\t\"Component\",\n\t\t\t\"Domain\",\n\t\t\t\"Group\",\n\t\t\t\"Location\",\n\t\t\t\"Resource\",\n\t\t\t\"System\",\n\t\t\t\"Template\",\n\t\t\t\"User\"\n\t\t]\n\t},\n\tmetadata: {\n\t\t$ref: \"EntityMeta\"\n\t},\n\tspec: {\n\t\ttype: \"object\",\n\t\tdescription: \"The specification data describing the entity itself.\"\n\t},\n\trelations: {\n\t\ttype: \"array\",\n\t\tdescription: \"The relations that this entity has with other entities.\",\n\t\titems: {\n\t\t\t$ref: \"common#relation\"\n\t\t}\n\t},\n\tstatus: {\n\t\ttype: \"object\",\n\t\tdescription: \"The current status of the entity, as claimed by various sources.\",\n\t\tpatternProperties: {\n\t\t\t\"^.+$\": {\n\t\t\t\t$ref: \"common#status\"\n\t\t\t}\n\t\t}\n\t}\n};\nvar entitySchema = {\n\t$schema: $schema,\n\t$id: $id,\n\tdescription: description,\n\texamples: examples,\n\ttype: type,\n\trequired: required,\n\tadditionalProperties: additionalProperties,\n\tproperties: properties\n};\n\nvar $schema$1 = \"http://json-schema.org/draft-07/schema\";\nvar $id$1 = \"EntityMeta\";\nvar description$1 = \"Metadata fields common to all versions/kinds of entity.\";\nvar examples$1 = [\n\t{\n\t\tuid: \"e01199ab-08cc-44c2-8e19-5c29ded82521\",\n\t\tetag: \"lsndfkjsndfkjnsdfkjnsd==\",\n\t\tgeneration: 13,\n\t\tname: \"my-component-yay\",\n\t\tnamespace: \"the-namespace\",\n\t\tlabels: {\n\t\t\t\"backstage.io/custom\": \"ValueStuff\"\n\t\t},\n\t\tannotations: {\n\t\t\t\"example.com/bindings\": \"are-secret\"\n\t\t},\n\t\ttags: [\n\t\t\t\"java\",\n\t\t\t\"data\"\n\t\t]\n\t}\n];\nvar type$1 = \"object\";\nvar required$1 = [\n\t\"name\"\n];\nvar additionalProperties$1 = true;\nvar properties$1 = {\n\tuid: {\n\t\ttype: \"string\",\n\t\tdescription: \"A globally unique ID for the entity. This field can not be set by the user at creation time, and the server will reject an attempt to do so. The field will be populated in read operations. The field can (optionally) be specified when performing update or delete operations, but the server is free to reject requests that do so in such a way that it breaks semantics.\",\n\t\texamples: [\n\t\t\t\"e01199ab-08cc-44c2-8e19-5c29ded82521\"\n\t\t],\n\t\tminLength: 1\n\t},\n\tetag: {\n\t\ttype: \"string\",\n\t\tdescription: \"An opaque string that changes for each update operation to any part of the entity, including metadata. This field can not be set by the user at creation time, and the server will reject an attempt to do so. The field will be populated in read operations. The field can (optionally) be specified when performing update or delete operations, and the server will then reject the operation if it does not match the current stored value.\",\n\t\texamples: [\n\t\t\t\"lsndfkjsndfkjnsdfkjnsd==\"\n\t\t],\n\t\tminLength: 1\n\t},\n\tgeneration: {\n\t\ttype: \"integer\",\n\t\tdescription: \"A positive nonzero number that indicates the current generation of data for this entity; the value is incremented each time the spec changes. This field can not be set by the user at creation time, and the server will reject an attempt to do so. The field will be populated in read operations.\",\n\t\texamples: [\n\t\t\t1\n\t\t],\n\t\tminimum: 1\n\t},\n\tname: {\n\t\ttype: \"string\",\n\t\tdescription: \"The name of the entity. Must be unique within the catalog at any given point in time, for any given namespace + kind pair.\",\n\t\texamples: [\n\t\t\t\"metadata-proxy\"\n\t\t],\n\t\tminLength: 1\n\t},\n\tnamespace: {\n\t\ttype: \"string\",\n\t\tdescription: \"The namespace that the entity belongs to.\",\n\t\t\"default\": \"default\",\n\t\texamples: [\n\t\t\t\"default\",\n\t\t\t\"admin\"\n\t\t],\n\t\tminLength: 1\n\t},\n\tdescription: {\n\t\ttype: \"string\",\n\t\tdescription: \"A short (typically relatively few words, on one line) description of the entity.\"\n\t},\n\tlabels: {\n\t\ttype: \"object\",\n\t\tdescription: \"Key/value pairs of identifying information attached to the entity.\",\n\t\tadditionalProperties: true,\n\t\tpatternProperties: {\n\t\t\t\"^.+$\": {\n\t\t\t\ttype: \"string\"\n\t\t\t}\n\t\t}\n\t},\n\tannotations: {\n\t\ttype: \"object\",\n\t\tdescription: \"Key/value pairs of non-identifying auxiliary information attached to the entity.\",\n\t\tadditionalProperties: true,\n\t\tpatternProperties: {\n\t\t\t\"^.+$\": {\n\t\t\t\ttype: \"string\"\n\t\t\t}\n\t\t}\n\t},\n\ttags: {\n\t\ttype: \"array\",\n\t\tdescription: \"A list of single-valued strings, to for example classify catalog entities in various ways.\",\n\t\titems: {\n\t\t\ttype: \"string\",\n\t\t\tminLength: 1\n\t\t}\n\t},\n\tlinks: {\n\t\ttype: \"array\",\n\t\tdescription: \"A list of external hyperlinks related to the entity. Links can provide additional contextual information that may be located outside of Backstage itself. For example, an admin dashboard or external CMS page.\",\n\t\titems: {\n\t\t\ttype: \"object\",\n\t\t\trequired: [\n\t\t\t\t\"url\"\n\t\t\t],\n\t\t\tproperties: {\n\t\t\t\turl: {\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\tdescription: \"A url in a standard uri format.\",\n\t\t\t\t\texamples: [\n\t\t\t\t\t\t\"https://admin.example-org.com\"\n\t\t\t\t\t],\n\t\t\t\t\tminLength: 1\n\t\t\t\t},\n\t\t\t\ttitle: {\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\tdescription: \"A user friendly display name for the link.\",\n\t\t\t\t\texamples: [\n\t\t\t\t\t\t\"Admin Dashboard\"\n\t\t\t\t\t],\n\t\t\t\t\tminLength: 1\n\t\t\t\t},\n\t\t\t\ticon: {\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\tdescription: \"A key representing a visual icon to be displayed in the UI.\",\n\t\t\t\t\texamples: [\n\t\t\t\t\t\t\"dashboard\"\n\t\t\t\t\t],\n\t\t\t\t\tminLength: 1\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\nvar entityMetaSchema = {\n\t$schema: $schema$1,\n\t$id: $id$1,\n\tdescription: description$1,\n\texamples: examples$1,\n\ttype: type$1,\n\trequired: required$1,\n\tadditionalProperties: additionalProperties$1,\n\tproperties: properties$1\n};\n\nvar $schema$2 = \"http://json-schema.org/draft-07/schema\";\nvar $id$2 = \"common\";\nvar type$2 = \"object\";\nvar description$2 = \"Common definitions to import from other schemas\";\nvar definitions = {\n\treference: {\n\t\t$id: \"#reference\",\n\t\ttype: \"object\",\n\t\tdescription: \"A reference by name to another entity.\",\n\t\trequired: [\n\t\t\t\"kind\",\n\t\t\t\"namespace\",\n\t\t\t\"name\"\n\t\t],\n\t\tadditionalProperties: false,\n\t\tproperties: {\n\t\t\tkind: {\n\t\t\t\ttype: \"string\",\n\t\t\t\tdescription: \"The kind field of the entity.\"\n\t\t\t},\n\t\t\tnamespace: {\n\t\t\t\ttype: \"string\",\n\t\t\t\tdescription: \"The metadata.namespace field of the entity.\"\n\t\t\t},\n\t\t\tname: {\n\t\t\t\ttype: \"string\",\n\t\t\t\tdescription: \"The metadata.name field of the entity.\"\n\t\t\t}\n\t\t}\n\t},\n\trelation: {\n\t\t$id: \"#relation\",\n\t\ttype: \"object\",\n\t\tdescription: \"A directed relation from one entity to another.\",\n\t\trequired: [\n\t\t\t\"type\",\n\t\t\t\"target\"\n\t\t],\n\t\tadditionalProperties: false,\n\t\tproperties: {\n\t\t\ttype: {\n\t\t\t\ttype: \"string\",\n\t\t\t\tminLength: 1,\n\t\t\t\tpattern: \"^\\\\w+$\",\n\t\t\t\tdescription: \"The type of relation.\"\n\t\t\t},\n\t\t\ttarget: {\n\t\t\t\t$ref: \"#reference\"\n\t\t\t}\n\t\t}\n\t},\n\tstatus: {\n\t\t$id: \"#status\",\n\t\ttype: \"object\",\n\t\tdescription: \"A specific status of an entity.\",\n\t\tadditionalProperties: true\n\t}\n};\nvar commonSchema = {\n\t$schema: $schema$2,\n\t$id: $id$2,\n\ttype: type$2,\n\tdescription: description$2,\n\tdefinitions: definitions\n};\n\nclass SchemaValidEntityPolicy {\n  async enforce(entity) {\n    if (!this.validate) {\n      const ajv = new Ajv({allowUnionTypes: true});\n      this.validate = ajv.addSchema([commonSchema, entityMetaSchema], void 0, void 0, true).compile(entitySchema);\n    }\n    const result = this.validate(entity);\n    if (result === true) {\n      return entity;\n    }\n    const [error] = this.validate.errors || [];\n    if (!error) {\n      throw new Error(`Malformed envelope, Unknown error`);\n    }\n    throw new Error(`Malformed envelope, ${error.dataPath || \"<root>\"} ${error.message}`);\n  }\n}\n\nfunction parseRefString(ref) {\n  var _a, _b;\n  const match = /^([^:/]+:)?([^:/]+\\/)?([^:/]+)$/.exec(ref.trim());\n  if (!match) {\n    throw new TypeError(`Entity reference \"${ref}\" was not on the form [<kind>:][<namespace>/]<name>`);\n  }\n  return {\n    kind: (_a = match[1]) == null ? void 0 : _a.slice(0, -1),\n    namespace: (_b = match[2]) == null ? void 0 : _b.slice(0, -1),\n    name: match[3]\n  };\n}\nfunction getEntityName(entity) {\n  return {\n    kind: entity.kind,\n    namespace: entity.metadata.namespace || ENTITY_DEFAULT_NAMESPACE,\n    name: entity.metadata.name\n  };\n}\nfunction parseEntityName(ref, context = {}) {\n  const {kind, namespace, name} = parseEntityRef(ref, {\n    defaultNamespace: ENTITY_DEFAULT_NAMESPACE,\n    ...context\n  });\n  if (!kind) {\n    throw new Error(`Entity reference ${namespace}/${name} did not contain a kind`);\n  }\n  return {kind, namespace, name};\n}\nfunction parseEntityRef(ref, context = {}) {\n  var _a, _b;\n  if (!ref) {\n    throw new Error(`Entity reference must not be empty`);\n  }\n  if (typeof ref === \"string\") {\n    const parsed = parseRefString(ref);\n    return {\n      kind: (_a = parsed.kind) != null ? _a : context.defaultKind,\n      namespace: (_b = parsed.namespace) != null ? _b : context.defaultNamespace,\n      name: parsed.name\n    };\n  }\n  const {kind, namespace, name} = ref;\n  if (kind === \"\") {\n    throw new Error(\"Entity reference kinds must not be empty\");\n  } else if (namespace === \"\") {\n    throw new Error(\"Entity reference namespaces must not be empty\");\n  } else if (!name) {\n    throw new Error(\"Entity references must contain a name\");\n  }\n  return {\n    kind: kind != null ? kind : context.defaultKind,\n    namespace: namespace != null ? namespace : context.defaultNamespace,\n    name\n  };\n}\nfunction serializeEntityRef(ref) {\n  let kind;\n  let namespace;\n  let name;\n  if (\"metadata\" in ref) {\n    kind = ref.kind;\n    namespace = ref.metadata.namespace;\n    name = ref.metadata.name;\n  } else {\n    kind = ref.kind;\n    namespace = ref.namespace;\n    name = ref.name;\n  }\n  if ((kind == null ? void 0 : kind.includes(\":\")) || (kind == null ? void 0 : kind.includes(\"/\")) || (namespace == null ? void 0 : namespace.includes(\":\")) || (namespace == null ? void 0 : namespace.includes(\"/\")) || name.includes(\":\") || name.includes(\"/\")) {\n    return {kind, namespace, name};\n  }\n  return `${kind ? `${kind}:` : \"\"}${namespace ? `${namespace}/` : \"\"}${name}`;\n}\nfunction stringifyEntityRef(ref) {\n  var _a, _b;\n  let kind;\n  let namespace;\n  let name;\n  if (\"metadata\" in ref) {\n    kind = ref.kind;\n    namespace = (_a = ref.metadata.namespace) != null ? _a : ENTITY_DEFAULT_NAMESPACE;\n    name = ref.metadata.name;\n  } else {\n    kind = ref.kind;\n    namespace = (_b = ref.namespace) != null ? _b : ENTITY_DEFAULT_NAMESPACE;\n    name = ref.name;\n  }\n  return `${kind.toLowerCase()}:${namespace.toLowerCase()}/${name.toLowerCase()}`;\n}\nfunction compareEntityToRef(entity, ref, context) {\n  const entityKind = entity.kind;\n  const entityNamespace = entity.metadata.namespace || ENTITY_DEFAULT_NAMESPACE;\n  const entityName = entity.metadata.name;\n  let refKind;\n  let refNamespace;\n  let refName;\n  if (typeof ref === \"string\") {\n    const parsed = parseRefString(ref);\n    refKind = parsed.kind || (context == null ? void 0 : context.defaultKind);\n    refNamespace = parsed.namespace || (context == null ? void 0 : context.defaultNamespace) || ENTITY_DEFAULT_NAMESPACE;\n    refName = parsed.name;\n  } else {\n    refKind = ref.kind || (context == null ? void 0 : context.defaultKind);\n    refNamespace = ref.namespace || (context == null ? void 0 : context.defaultNamespace) || ENTITY_DEFAULT_NAMESPACE;\n    refName = ref.name;\n  }\n  if (!refKind || !refNamespace) {\n    throw new Error(`Entity reference or context did not contain kind and namespace`);\n  }\n  return entityKind.toLowerCase() === refKind.toLowerCase() && entityNamespace.toLowerCase() === refNamespace.toLowerCase() && entityName.toLowerCase() === refName.toLowerCase();\n}\n\nfunction generateEntityUid() {\n  return v4();\n}\nfunction generateEntityEtag() {\n  return Buffer.from(v4(), \"utf8\").toString(\"base64\").replace(/[^\\w]/g, \"\");\n}\nfunction entityHasChanges(previous, next) {\n  const e1 = lodash.cloneDeep(previous);\n  const e2 = lodash.cloneDeep(next);\n  if (!e1.metadata.labels) {\n    e1.metadata.labels = {};\n  }\n  if (!e2.metadata.labels) {\n    e2.metadata.labels = {};\n  }\n  if (!e1.metadata.annotations) {\n    e1.metadata.annotations = {};\n  }\n  if (!e2.metadata.annotations) {\n    e2.metadata.annotations = {};\n  }\n  if (!e1.metadata.tags) {\n    e1.metadata.tags = [];\n  }\n  if (!e2.metadata.tags) {\n    e2.metadata.tags = [];\n  }\n  delete e1.metadata.uid;\n  delete e1.metadata.etag;\n  delete e1.metadata.generation;\n  delete e2.metadata.uid;\n  delete e2.metadata.etag;\n  delete e2.metadata.generation;\n  delete e1.relations;\n  delete e1.status;\n  delete e2.relations;\n  delete e2.status;\n  return !lodash.isEqual(e1, e2);\n}\nfunction generateUpdatedEntity(previous, next) {\n  const {uid, etag, generation} = previous.metadata;\n  if (!uid || !etag || !generation) {\n    throw new Error(\"Previous entity must have uid, etag and generation\");\n  }\n  const result = lodash.cloneDeep(next);\n  const bumpEtag = entityHasChanges(previous, result);\n  const bumpGeneration = !lodash.isEqual(previous.spec, result.spec);\n  result.metadata.uid = uid;\n  result.metadata.etag = bumpEtag ? generateEntityEtag() : etag;\n  result.metadata.generation = bumpGeneration ? generation + 1 : generation;\n  return result;\n}\n\nclass AllEntityPolicies {\n  constructor(policies) {\n    this.policies = policies;\n  }\n  async enforce(entity) {\n    let result = entity;\n    for (const policy of this.policies) {\n      const output = await policy.enforce(result);\n      if (!output) {\n        throw new Error(`Policy ${policy.constructor.name} did not return a result`);\n      }\n      result = output;\n    }\n    return result;\n  }\n}\nclass AnyEntityPolicy {\n  constructor(policies) {\n    this.policies = policies;\n  }\n  async enforce(entity) {\n    for (const policy of this.policies) {\n      const output = await policy.enforce(entity);\n      if (output) {\n        return output;\n      }\n    }\n    throw new Error(`The entity did not match any known policy`);\n  }\n}\nconst EntityPolicies = {\n  allOf(policies) {\n    return new AllEntityPolicies(policies);\n  },\n  oneOf(policies) {\n    return new AnyEntityPolicy(policies);\n  }\n};\n\nfunction schemaValidator(kind, apiVersion, schema) {\n  return {\n    async check(envelope) {\n      if (kind !== envelope.kind || !apiVersion.includes(envelope.apiVersion)) {\n        return false;\n      }\n      await schema.validate(envelope, {strict: true});\n      return true;\n    }\n  };\n}\nfunction ajvCompiledJsonSchemaValidator(kind, apiVersion, schema, extraSchemas) {\n  const ajv = new Ajv({allowUnionTypes: true});\n  if (extraSchemas) {\n    ajv.addSchema(extraSchemas, void 0, void 0, true);\n  }\n  const validate = ajv.compile(schema);\n  return {\n    async check(envelope) {\n      if (kind !== envelope.kind || !apiVersion.includes(envelope.apiVersion)) {\n        return false;\n      }\n      const result = validate(envelope);\n      if (result === true) {\n        return true;\n      }\n      const [error] = validate.errors || [];\n      if (!error) {\n        throw new TypeError(`Malformed ${kind}, Unknown error`);\n      }\n      throw new TypeError(`Malformed ${kind}, ${error.dataPath || \"<root>\"} ${error.message}${error.params ? ` - ${Object.entries(error.params).map(([key, val]) => `${key}: ${val}`).join(\", \")}` : \"\"}`);\n    }\n  };\n}\n\nvar $schema$3 = \"http://json-schema.org/draft-07/schema\";\nvar $id$3 = \"ApiV1alpha1\";\nvar description$3 = \"An API describes an interface that can be exposed by a component. The API can be defined in different formats, like OpenAPI, AsyncAPI, GraphQL, gRPC, or other formats.\";\nvar examples$2 = [\n\t{\n\t\tapiVersion: \"backstage.io/v1alpha1\",\n\t\tkind: \"API\",\n\t\tmetadata: {\n\t\t\tname: \"artist-api\",\n\t\t\tdescription: \"Retrieve artist details\",\n\t\t\tlabels: {\n\t\t\t\tproduct_name: \"Random value Generator\"\n\t\t\t},\n\t\t\tannotations: {\n\t\t\t\tdocs: \"https://github.com/..../tree/develop/doc\"\n\t\t\t}\n\t\t},\n\t\tspec: {\n\t\t\ttype: \"openapi\",\n\t\t\tlifecycle: \"production\",\n\t\t\towner: \"artist-relations-team\",\n\t\t\tsystem: \"artist-engagement-portal\",\n\t\t\tdefinition: \"openapi: \\\"3.0.0\\\"\\ninfo:...\"\n\t\t}\n\t}\n];\nvar allOf = [\n\t{\n\t\t$ref: \"Entity\"\n\t},\n\t{\n\t\ttype: \"object\",\n\t\trequired: [\n\t\t\t\"spec\"\n\t\t],\n\t\tproperties: {\n\t\t\tapiVersion: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"backstage.io/v1alpha1\",\n\t\t\t\t\t\"backstage.io/v1beta1\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tkind: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"API\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tspec: {\n\t\t\t\ttype: \"object\",\n\t\t\t\trequired: [\n\t\t\t\t\t\"type\",\n\t\t\t\t\t\"lifecycle\",\n\t\t\t\t\t\"owner\",\n\t\t\t\t\t\"definition\"\n\t\t\t\t],\n\t\t\t\tproperties: {\n\t\t\t\t\ttype: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"The type of the API definition.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"openapi\",\n\t\t\t\t\t\t\t\"asyncapi\",\n\t\t\t\t\t\t\t\"graphql\",\n\t\t\t\t\t\t\t\"grpc\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\tlifecycle: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"The lifecycle state of the API.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"experimental\",\n\t\t\t\t\t\t\t\"production\",\n\t\t\t\t\t\t\t\"deprecated\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\towner: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"An entity reference to the owner of the API.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"artist-relations-team\",\n\t\t\t\t\t\t\t\"user:john.johnson\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\tsystem: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"An entity reference to the system that the API belongs to.\",\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\tdefinition: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"The definition of the API, based on the format defined by the type.\",\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n];\nvar schema = {\n\t$schema: $schema$3,\n\t$id: $id$3,\n\tdescription: description$3,\n\texamples: examples$2,\n\tallOf: allOf\n};\n\nconst API_VERSION = [\"backstage.io/v1alpha1\", \"backstage.io/v1beta1\"];\nconst KIND = \"API\";\nconst apiEntityV1alpha1Validator = ajvCompiledJsonSchemaValidator(KIND, API_VERSION, schema, [commonSchema, entityMetaSchema, entitySchema]);\n\nvar $schema$4 = \"http://json-schema.org/draft-07/schema\";\nvar $id$4 = \"ComponentV1alpha1\";\nvar description$4 = \"A Component describes a software component. It is typically intimately linked to the source code that constitutes the component, and should be what a developer may regard a \\\"unit of software\\\", usually with a distinct deployable or linkable artifact.\";\nvar examples$3 = [\n\t{\n\t\tapiVersion: \"backstage.io/v1alpha1\",\n\t\tkind: \"Component\",\n\t\tmetadata: {\n\t\t\tname: \"LoremService\",\n\t\t\tdescription: \"Creates Lorems like a pro.\",\n\t\t\tlabels: {\n\t\t\t\tproduct_name: \"Random value Generator\"\n\t\t\t},\n\t\t\tannotations: {\n\t\t\t\tdocs: \"https://github.com/..../tree/develop/doc\"\n\t\t\t}\n\t\t},\n\t\tspec: {\n\t\t\ttype: \"service\",\n\t\t\tlifecycle: \"production\",\n\t\t\towner: \"tools\"\n\t\t}\n\t}\n];\nvar allOf$1 = [\n\t{\n\t\t$ref: \"Entity\"\n\t},\n\t{\n\t\ttype: \"object\",\n\t\trequired: [\n\t\t\t\"spec\"\n\t\t],\n\t\tproperties: {\n\t\t\tapiVersion: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"backstage.io/v1alpha1\",\n\t\t\t\t\t\"backstage.io/v1beta1\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tkind: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"Component\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tspec: {\n\t\t\t\ttype: \"object\",\n\t\t\t\trequired: [\n\t\t\t\t\t\"type\",\n\t\t\t\t\t\"lifecycle\",\n\t\t\t\t\t\"owner\"\n\t\t\t\t],\n\t\t\t\tproperties: {\n\t\t\t\t\ttype: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"The type of component.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"service\",\n\t\t\t\t\t\t\t\"website\",\n\t\t\t\t\t\t\t\"library\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\tlifecycle: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"The lifecycle state of the component.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"experimental\",\n\t\t\t\t\t\t\t\"production\",\n\t\t\t\t\t\t\t\"deprecated\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\towner: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"An entity reference to the owner of the component.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"artist-relations-team\",\n\t\t\t\t\t\t\t\"user:john.johnson\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\tsystem: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"An entity reference to the system that the component belongs to.\",\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\tsubcomponentOf: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"An entity reference to another component of which the component is a part.\",\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\tprovidesApis: {\n\t\t\t\t\t\ttype: \"array\",\n\t\t\t\t\t\tdescription: \"An array of entity references to the APIs that are provided by the component.\",\n\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tconsumesApis: {\n\t\t\t\t\t\ttype: \"array\",\n\t\t\t\t\t\tdescription: \"An array of entity references to the APIs that are consumed by the component.\",\n\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tdependsOn: {\n\t\t\t\t\t\ttype: \"array\",\n\t\t\t\t\t\tdescription: \"An array of references to other entities that the component depends on to function.\",\n\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n];\nvar schema$1 = {\n\t$schema: $schema$4,\n\t$id: $id$4,\n\tdescription: description$4,\n\texamples: examples$3,\n\tallOf: allOf$1\n};\n\nconst API_VERSION$1 = [\"backstage.io/v1alpha1\", \"backstage.io/v1beta1\"];\nconst KIND$1 = \"Component\";\nconst componentEntityV1alpha1Validator = ajvCompiledJsonSchemaValidator(KIND$1, API_VERSION$1, schema$1, [commonSchema, entityMetaSchema, entitySchema]);\n\nvar $schema$5 = \"http://json-schema.org/draft-07/schema\";\nvar $id$5 = \"DomainV1alpha1\";\nvar description$5 = \"A Domain groups a collection of systems that share terminology, domain models, business purpose, or documentation, i.e. form a bounded context.\";\nvar examples$4 = [\n\t{\n\t\tapiVersion: \"backstage.io/v1alpha1\",\n\t\tkind: \"Domain\",\n\t\tmetadata: {\n\t\t\tname: \"artists\",\n\t\t\tdescription: \"Everything about artists\"\n\t\t},\n\t\tspec: {\n\t\t\towner: \"artist-relations-team\"\n\t\t}\n\t}\n];\nvar allOf$2 = [\n\t{\n\t\t$ref: \"Entity\"\n\t},\n\t{\n\t\ttype: \"object\",\n\t\trequired: [\n\t\t\t\"spec\"\n\t\t],\n\t\tproperties: {\n\t\t\tapiVersion: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"backstage.io/v1alpha1\",\n\t\t\t\t\t\"backstage.io/v1beta1\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tkind: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"Domain\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tspec: {\n\t\t\t\ttype: \"object\",\n\t\t\t\trequired: [\n\t\t\t\t\t\"owner\"\n\t\t\t\t],\n\t\t\t\tproperties: {\n\t\t\t\t\towner: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"An entity reference to the owner of the component.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"artist-relations-team\",\n\t\t\t\t\t\t\t\"user:john.johnson\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n];\nvar schema$2 = {\n\t$schema: $schema$5,\n\t$id: $id$5,\n\tdescription: description$5,\n\texamples: examples$4,\n\tallOf: allOf$2\n};\n\nconst API_VERSION$2 = [\"backstage.io/v1alpha1\", \"backstage.io/v1beta1\"];\nconst KIND$2 = \"Domain\";\nconst domainEntityV1alpha1Validator = ajvCompiledJsonSchemaValidator(KIND$2, API_VERSION$2, schema$2, [commonSchema, entityMetaSchema, entitySchema]);\n\nvar $schema$6 = \"http://json-schema.org/draft-07/schema\";\nvar $id$6 = \"GroupV1alpha1\";\nvar description$6 = \"A group describes an organizational entity, such as for example a team, a business unit, or a loose collection of people in an interest group. Members of these groups are modeled in the catalog as kind User.\";\nvar examples$5 = [\n\t{\n\t\tapiVersion: \"backstage.io/v1alpha1\",\n\t\tkind: \"Group\",\n\t\tmetadata: {\n\t\t\tname: \"infrastructure\",\n\t\t\tdescription: \"The infra business unit\"\n\t\t},\n\t\tspec: {\n\t\t\ttype: \"business-unit\",\n\t\t\tprofile: {\n\t\t\t\tdisplayName: \"Infrastructure\",\n\t\t\t\temail: \"infrastructure@example.com\",\n\t\t\t\tpicture: \"https://example.com/groups/bu-infrastructure.jpeg\"\n\t\t\t},\n\t\t\tparent: \"ops\",\n\t\t\tchildren: [\n\t\t\t\t\"backstage\",\n\t\t\t\t\"other\"\n\t\t\t]\n\t\t}\n\t}\n];\nvar allOf$3 = [\n\t{\n\t\t$ref: \"Entity\"\n\t},\n\t{\n\t\ttype: \"object\",\n\t\trequired: [\n\t\t\t\"spec\"\n\t\t],\n\t\tproperties: {\n\t\t\tapiVersion: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"backstage.io/v1alpha1\",\n\t\t\t\t\t\"backstage.io/v1beta1\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tkind: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"Group\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tspec: {\n\t\t\t\ttype: \"object\",\n\t\t\t\trequired: [\n\t\t\t\t\t\"type\",\n\t\t\t\t\t\"children\"\n\t\t\t\t],\n\t\t\t\tproperties: {\n\t\t\t\t\ttype: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"The type of group. There is currently no enforced set of values for this field, so it is left up to the adopting organization to choose a nomenclature that matches their org hierarchy.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"team\",\n\t\t\t\t\t\t\t\"business-unit\",\n\t\t\t\t\t\t\t\"product-area\",\n\t\t\t\t\t\t\t\"root\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\tprofile: {\n\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\tdescription: \"Optional profile information about the group, mainly for display purposes. All fields of this structure are also optional. The email would be a group email of some form, that the group may wish to be used for contacting them. The picture is expected to be a URL pointing to an image that's representative of the group, and that a browser could fetch and render on a group page or similar.\",\n\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\tdisplayName: {\n\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t\tdescription: \"A simple display name to present to users.\",\n\t\t\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\t\t\"Infrastructure\"\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\temail: {\n\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t\tdescription: \"An email where this entity can be reached.\",\n\t\t\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\t\t\"infrastructure@example.com\"\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tpicture: {\n\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t\tdescription: \"The URL of an image that represents this entity.\",\n\t\t\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\t\t\"https://example.com/groups/bu-infrastructure.jpeg\"\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tparent: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"The immediate parent group in the hierarchy, if any. Not all groups must have a parent; the catalog supports multi-root hierarchies. Groups may however not have more than one parent. This field is an entity reference.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"ops\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\tchildren: {\n\t\t\t\t\t\ttype: \"array\",\n\t\t\t\t\t\tdescription: \"The immediate child groups of this group in the hierarchy (whose parent field points to this group). The list must be present, but may be empty if there are no child groups. The items are not guaranteed to be ordered in any particular way. The entries of this array are entity references.\",\n\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\t\"backstage\",\n\t\t\t\t\t\t\t\t\"other\"\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tmembers: {\n\t\t\t\t\t\ttype: \"array\",\n\t\t\t\t\t\tdescription: \"The users that are members of this group. The entries of this array are entity references.\",\n\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\t\"jdoe\"\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n];\nvar schema$3 = {\n\t$schema: $schema$6,\n\t$id: $id$6,\n\tdescription: description$6,\n\texamples: examples$5,\n\tallOf: allOf$3\n};\n\nconst API_VERSION$3 = [\"backstage.io/v1alpha1\", \"backstage.io/v1beta1\"];\nconst KIND$3 = \"Group\";\nconst groupEntityV1alpha1Validator = ajvCompiledJsonSchemaValidator(KIND$3, API_VERSION$3, schema$3, [commonSchema, entityMetaSchema, entitySchema]);\n\nvar $schema$7 = \"http://json-schema.org/draft-07/schema\";\nvar $id$7 = \"LocationV1alpha1\";\nvar description$7 = \"A location is a marker that references other places to look for catalog data.\";\nvar examples$6 = [\n\t{\n\t\tapiVersion: \"backstage.io/v1alpha1\",\n\t\tkind: \"Location\",\n\t\tmetadata: {\n\t\t\tname: \"org-data\"\n\t\t},\n\t\tspec: {\n\t\t\ttype: \"url\",\n\t\t\ttargets: [\n\t\t\t\t\"http://github.com/myorg/myproject/org-data-dump/catalog-info-staff.yaml\",\n\t\t\t\t\"http://github.com/myorg/myproject/org-data-dump/catalog-info-consultants.yaml\"\n\t\t\t]\n\t\t}\n\t}\n];\nvar allOf$4 = [\n\t{\n\t\t$ref: \"Entity\"\n\t},\n\t{\n\t\ttype: \"object\",\n\t\trequired: [\n\t\t\t\"spec\"\n\t\t],\n\t\tproperties: {\n\t\t\tapiVersion: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"backstage.io/v1alpha1\",\n\t\t\t\t\t\"backstage.io/v1beta1\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tkind: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"Location\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tspec: {\n\t\t\t\ttype: \"object\",\n\t\t\t\trequired: [\n\t\t\t\t],\n\t\t\t\tproperties: {\n\t\t\t\t\ttype: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"The single location type, that's common to the targets specified in the spec. If it is left out, it is inherited from the location type that originally read the entity data.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"url\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\ttarget: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"A single target as a string. Can be either an absolute path/URL (depending on the type), or a relative path such as ./details/catalog-info.yaml which is resolved relative to the location of this Location entity itself.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"./details/catalog-info.yaml\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\ttargets: {\n\t\t\t\t\t\ttype: \"array\",\n\t\t\t\t\t\tdescription: \"A list of targets as strings. They can all be either absolute paths/URLs (depending on the type), or relative paths such as ./details/catalog-info.yaml which are resolved relative to the location of this Location entity itself.\",\n\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\t\"./details/catalog-info.yaml\",\n\t\t\t\t\t\t\t\t\"http://github.com/myorg/myproject/org-data-dump/catalog-info-staff.yaml\"\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n];\nvar schema$4 = {\n\t$schema: $schema$7,\n\t$id: $id$7,\n\tdescription: description$7,\n\texamples: examples$6,\n\tallOf: allOf$4\n};\n\nconst API_VERSION$4 = [\"backstage.io/v1alpha1\", \"backstage.io/v1beta1\"];\nconst KIND$4 = \"Location\";\nconst locationEntityV1alpha1Validator = ajvCompiledJsonSchemaValidator(KIND$4, API_VERSION$4, schema$4, [commonSchema, entityMetaSchema, entitySchema]);\n\nconst RELATION_OWNED_BY = \"ownedBy\";\nconst RELATION_OWNER_OF = \"ownerOf\";\nconst RELATION_CONSUMES_API = \"consumesApi\";\nconst RELATION_API_CONSUMED_BY = \"apiConsumedBy\";\nconst RELATION_PROVIDES_API = \"providesApi\";\nconst RELATION_API_PROVIDED_BY = \"apiProvidedBy\";\nconst RELATION_DEPENDS_ON = \"dependsOn\";\nconst RELATION_DEPENDENCY_OF = \"dependencyOf\";\nconst RELATION_PARENT_OF = \"parentOf\";\nconst RELATION_CHILD_OF = \"childOf\";\nconst RELATION_MEMBER_OF = \"memberOf\";\nconst RELATION_HAS_MEMBER = \"hasMember\";\nconst RELATION_PART_OF = \"partOf\";\nconst RELATION_HAS_PART = \"hasPart\";\n\nvar $schema$8 = \"http://json-schema.org/draft-07/schema\";\nvar $id$8 = \"ResourceV1alpha1\";\nvar description$8 = \"A resource describes the infrastructure a system needs to operate, like BigTable databases, Pub/Sub topics, S3 buckets or CDNs. Modelling them together with components and systems allows to visualize resource footprint, and create tooling around them.\";\nvar examples$7 = [\n\t{\n\t\tapiVersion: \"backstage.io/v1alpha1\",\n\t\tkind: \"Resource\",\n\t\tmetadata: {\n\t\t\tname: \"artists-db\",\n\t\t\tdescription: \"Stores artist details\"\n\t\t},\n\t\tspec: {\n\t\t\ttype: \"database\",\n\t\t\towner: \"artist-relations-team\",\n\t\t\tsystem: \"artist-engagement-portal\"\n\t\t}\n\t}\n];\nvar allOf$5 = [\n\t{\n\t\t$ref: \"Entity\"\n\t},\n\t{\n\t\ttype: \"object\",\n\t\trequired: [\n\t\t\t\"spec\"\n\t\t],\n\t\tproperties: {\n\t\t\tapiVersion: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"backstage.io/v1alpha1\",\n\t\t\t\t\t\"backstage.io/v1beta1\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tkind: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"Resource\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tspec: {\n\t\t\t\ttype: \"object\",\n\t\t\t\trequired: [\n\t\t\t\t\t\"type\",\n\t\t\t\t\t\"owner\"\n\t\t\t\t],\n\t\t\t\tproperties: {\n\t\t\t\t\ttype: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"The type of resource.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"database\",\n\t\t\t\t\t\t\t\"s3-bucket\",\n\t\t\t\t\t\t\t\"cluster\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\towner: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"An entity reference to the owner of the resource.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"artist-relations-team\",\n\t\t\t\t\t\t\t\"user:john.johnson\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\tdependsOn: {\n\t\t\t\t\t\ttype: \"array\",\n\t\t\t\t\t\tdescription: \"An array of references to other entities that the resource depends on to function.\",\n\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tsystem: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"An entity reference to the system that the resource belongs to.\",\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n];\nvar schema$5 = {\n\t$schema: $schema$8,\n\t$id: $id$8,\n\tdescription: description$8,\n\texamples: examples$7,\n\tallOf: allOf$5\n};\n\nconst API_VERSION$5 = [\"backstage.io/v1alpha1\", \"backstage.io/v1beta1\"];\nconst KIND$5 = \"Resource\";\nconst resourceEntityV1alpha1Validator = ajvCompiledJsonSchemaValidator(KIND$5, API_VERSION$5, schema$5, [commonSchema, entityMetaSchema, entitySchema]);\n\nvar $schema$9 = \"http://json-schema.org/draft-07/schema\";\nvar $id$9 = \"SystemV1alpha1\";\nvar description$9 = \"A system is a collection of resources and components. The system may expose or consume one or several APIs. It is viewed as abstraction level that provides potential consumers insights into exposed features without needing a too detailed view into the details of all components. This also gives the owning team the possibility to decide about published artifacts and APIs.\";\nvar examples$8 = [\n\t{\n\t\tapiVersion: \"backstage.io/v1alpha1\",\n\t\tkind: \"System\",\n\t\tmetadata: {\n\t\t\tname: \"artist-engagement-portal\",\n\t\t\tdescription: \"Handy tools to keep artists in the loop\"\n\t\t},\n\t\tspec: {\n\t\t\towner: \"artist-relations-team\",\n\t\t\tdomain: \"artists\"\n\t\t}\n\t}\n];\nvar allOf$6 = [\n\t{\n\t\t$ref: \"Entity\"\n\t},\n\t{\n\t\ttype: \"object\",\n\t\trequired: [\n\t\t\t\"spec\"\n\t\t],\n\t\tproperties: {\n\t\t\tapiVersion: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"backstage.io/v1alpha1\",\n\t\t\t\t\t\"backstage.io/v1beta1\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tkind: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"System\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tspec: {\n\t\t\t\ttype: \"object\",\n\t\t\t\trequired: [\n\t\t\t\t\t\"owner\"\n\t\t\t\t],\n\t\t\t\tproperties: {\n\t\t\t\t\towner: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"An entity reference to the owner of the component.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"artist-relations-team\",\n\t\t\t\t\t\t\t\"user:john.johnson\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\tdomain: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"An entity reference to the domain that the system belongs to.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"artists\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n];\nvar schema$6 = {\n\t$schema: $schema$9,\n\t$id: $id$9,\n\tdescription: description$9,\n\texamples: examples$8,\n\tallOf: allOf$6\n};\n\nconst API_VERSION$6 = [\"backstage.io/v1alpha1\", \"backstage.io/v1beta1\"];\nconst KIND$6 = \"System\";\nconst systemEntityV1alpha1Validator = ajvCompiledJsonSchemaValidator(KIND$6, API_VERSION$6, schema$6, [commonSchema, entityMetaSchema, entitySchema]);\n\nvar $schema$a = \"http://json-schema.org/draft-07/schema\";\nvar $id$a = \"TemplateV1alpha1\";\nvar description$a = \"A Template describes a skeleton for use with the Scaffolder. It is used for describing what templating library is supported, and also for documenting the variables that the template requires using JSON Forms Schema.\";\nvar examples$9 = [\n\t{\n\t\tapiVersion: \"backstage.io/v1alpha1\",\n\t\tkind: \"Template\",\n\t\tmetadata: {\n\t\t\tname: \"react-ssr-template\",\n\t\t\ttitle: \"React SSR Template\",\n\t\t\tdescription: \"Next.js application skeleton for creating isomorphic web applications.\",\n\t\t\ttags: [\n\t\t\t\t\"recommended\",\n\t\t\t\t\"react\"\n\t\t\t]\n\t\t},\n\t\tspec: {\n\t\t\towner: \"artist-relations-team\",\n\t\t\ttemplater: \"cookiecutter\",\n\t\t\ttype: \"website\",\n\t\t\tpath: \".\",\n\t\t\tschema: {\n\t\t\t\trequired: [\n\t\t\t\t\t\"component-id\",\n\t\t\t\t\t\"description\"\n\t\t\t\t],\n\t\t\t\tproperties: {\n\t\t\t\t\tcomponent_id: {\n\t\t\t\t\t\ttitle: \"Name\",\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"Unique name of the component\"\n\t\t\t\t\t},\n\t\t\t\t\tdescription: {\n\t\t\t\t\t\ttitle: \"Description\",\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"Description of the component\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n];\nvar allOf$7 = [\n\t{\n\t\t$ref: \"Entity\"\n\t},\n\t{\n\t\ttype: \"object\",\n\t\trequired: [\n\t\t\t\"spec\"\n\t\t],\n\t\tproperties: {\n\t\t\tapiVersion: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"backstage.io/v1alpha1\",\n\t\t\t\t\t\"backstage.io/v1beta1\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tkind: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"Template\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tmetadata: {\n\t\t\t\ttype: \"object\",\n\t\t\t\tproperties: {\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"The nice display name for the template. This field is required as is used to reference the template to the user instead of the metadata.name field.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"React SSR Template\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tspec: {\n\t\t\t\ttype: \"object\",\n\t\t\t\trequired: [\n\t\t\t\t\t\"type\",\n\t\t\t\t\t\"templater\",\n\t\t\t\t\t\"schema\"\n\t\t\t\t],\n\t\t\t\tproperties: {\n\t\t\t\t\ttype: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"The type of component created by the template. The software catalog accepts any type value, but an organization should take great care to establish a proper taxonomy for these. Tools including Backstage itself may read this field and behave differently depending on its value. For example, a website type component may present tooling in the Backstage interface that is specific to just websites.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"service\",\n\t\t\t\t\t\t\t\"website\",\n\t\t\t\t\t\t\t\"library\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\ttemplater: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"The templating library that is supported by the template skeleton.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"cookiecutter\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\tpath: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"The string location where the templater should be run if it is not on the same level as the template.yaml definition.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"./cookiecutter/skeleton\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\tschema: {\n\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\tdescription: \"The JSONSchema describing the inputs for the template.\"\n\t\t\t\t\t},\n\t\t\t\t\towner: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"The user (or group) owner of the template\",\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n];\nvar schema$7 = {\n\t$schema: $schema$a,\n\t$id: $id$a,\n\tdescription: description$a,\n\texamples: examples$9,\n\tallOf: allOf$7\n};\n\nconst API_VERSION$7 = [\"backstage.io/v1alpha1\", \"backstage.io/v1beta1\"];\nconst KIND$7 = \"Template\";\nconst templateEntityV1alpha1Validator = ajvCompiledJsonSchemaValidator(KIND$7, API_VERSION$7, schema$7, [commonSchema, entityMetaSchema, entitySchema]);\n\nvar $schema$b = \"http://json-schema.org/draft-07/schema\";\nvar $id$b = \"TemplateV1beta1\";\nvar description$b = \"A Template describes a scaffolding task for use with the Scaffolder. It describes the required parameters as well as a series of steps that will be taken to execute the scaffolding task.\";\nvar examples$a = [\n\t{\n\t\tapiVersion: \"backstage.io/v1beta1\",\n\t\tkind: \"Template\",\n\t\tmetadata: {\n\t\t\tname: \"react-ssr-template\",\n\t\t\ttitle: \"React SSR Template\",\n\t\t\tdescription: \"Next.js application skeleton for creating isomorphic web applications.\",\n\t\t\ttags: [\n\t\t\t\t\"recommended\",\n\t\t\t\t\"react\"\n\t\t\t]\n\t\t},\n\t\tspec: {\n\t\t\towner: \"artist-relations-team\",\n\t\t\ttype: \"website\",\n\t\t\tparameters: {\n\t\t\t\trequired: [\n\t\t\t\t\t\"name\",\n\t\t\t\t\t\"description\"\n\t\t\t\t],\n\t\t\t\tproperties: {\n\t\t\t\t\tname: {\n\t\t\t\t\t\ttitle: \"Name\",\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"Unique name of the component\"\n\t\t\t\t\t},\n\t\t\t\t\tdescription: {\n\t\t\t\t\t\ttitle: \"Description\",\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"Description of the component\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tsteps: [\n\t\t\t\t{\n\t\t\t\t\tid: \"fetch\",\n\t\t\t\t\tname: \"Fetch\",\n\t\t\t\t\taction: \"fetch:plain\",\n\t\t\t\t\tparameters: {\n\t\t\t\t\t\turl: \"./template\"\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: \"publish\",\n\t\t\t\t\tname: \"Publish to GitHub\",\n\t\t\t\t\taction: \"publish:github\",\n\t\t\t\t\tparameters: {\n\t\t\t\t\t\trepoUrl: \"{{ parameters.repoUrl }}\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t],\n\t\t\toutput: {\n\t\t\t\tcatalogInfoUrl: \"{{ steps.publish.output.catalogInfoUrl }}\"\n\t\t\t}\n\t\t}\n\t}\n];\nvar allOf$8 = [\n\t{\n\t\t$ref: \"Entity\"\n\t},\n\t{\n\t\ttype: \"object\",\n\t\trequired: [\n\t\t\t\"spec\"\n\t\t],\n\t\tproperties: {\n\t\t\tapiVersion: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"backstage.io/v1beta2\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tkind: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"Template\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tmetadata: {\n\t\t\t\ttype: \"object\",\n\t\t\t\tproperties: {\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"The nice display name for the template.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"React SSR Template\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tspec: {\n\t\t\t\ttype: \"object\",\n\t\t\t\trequired: [\n\t\t\t\t\t\"type\",\n\t\t\t\t\t\"steps\"\n\t\t\t\t],\n\t\t\t\tproperties: {\n\t\t\t\t\ttype: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"The type of component created by the template. The software catalog accepts any type value, but an organization should take great care to establish a proper taxonomy for these. Tools including Backstage itself may read this field and behave differently depending on its value. For example, a website type component may present tooling in the Backstage interface that is specific to just websites.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"service\",\n\t\t\t\t\t\t\t\"website\",\n\t\t\t\t\t\t\t\"library\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\tparameters: {\n\t\t\t\t\t\toneOf: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\t\t\tdescription: \"The JSONSchema describing the inputs for the template.\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: \"array\",\n\t\t\t\t\t\t\t\tdescription: \"A list of separate forms to collect parameters.\",\n\t\t\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\t\t\t\tdescription: \"The JSONSchema describing the inputs for the template.\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t},\n\t\t\t\t\tsteps: {\n\t\t\t\t\t\ttype: \"array\",\n\t\t\t\t\t\tdescription: \"A list of steps to execute.\",\n\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\t\tdescription: \"A description of the step to execute.\",\n\t\t\t\t\t\t\trequired: [\n\t\t\t\t\t\t\t\t\"action\"\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\tid: {\n\t\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t\t\tdescription: \"The ID of the step, which can be used to refer to its outputs.\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tname: {\n\t\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t\t\tdescription: \"The name of the step, which will be displayed in the UI during the scaffolding process.\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\taction: {\n\t\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t\t\tdescription: \"The name of the action to execute.\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\t\t\t\tdescription: \"A templated object describing the inputs to the action.\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\toutput: {\n\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\tdescription: \"A templated object describing the outputs of the scaffolding task.\",\n\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\tlinks: {\n\t\t\t\t\t\t\t\ttype: \"array\",\n\t\t\t\t\t\t\t\tdescription: \"A list of external hyperlinks, typically pointing to resources created or updated by the template\",\n\t\t\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\t\t\t\trequired: [\n\t\t\t\t\t\t\t\t\t\t\"url\"\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\turl: {\n\t\t\t\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t\t\t\t\tdescription: \"A url in a standard uri format.\",\n\t\t\t\t\t\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\t\t\t\t\t\"https://github.com/my-org/my-new-repo\"\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\ttitle: {\n\t\t\t\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t\t\t\t\tdescription: \"A user friendly display name for the link.\",\n\t\t\t\t\t\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\t\t\t\t\t\"View new repo\"\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\ticon: {\n\t\t\t\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t\t\t\t\tdescription: \"A key representing a visual icon to be displayed in the UI.\",\n\t\t\t\t\t\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\t\t\t\t\t\"dashboard\"\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tadditionalProperties: {\n\t\t\t\t\t\t\ttype: \"string\"\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\towner: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"The user (or group) owner of the template\",\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n];\nvar schema$8 = {\n\t$schema: $schema$b,\n\t$id: $id$b,\n\tdescription: description$b,\n\texamples: examples$a,\n\tallOf: allOf$8\n};\n\nconst API_VERSION$8 = [\"backstage.io/v1beta2\"];\nconst KIND$8 = \"Template\";\nconst templateEntityV1beta2Validator = ajvCompiledJsonSchemaValidator(KIND$8, API_VERSION$8, schema$8, [commonSchema, entityMetaSchema, entitySchema]);\n\nvar $schema$c = \"http://json-schema.org/draft-07/schema\";\nvar $id$c = \"UserV1alpha1\";\nvar description$c = \"A user describes a person, such as an employee, a contractor, or similar. Users belong to Group entities in the catalog. These catalog user entries are connected to the way that authentication within the Backstage ecosystem works. See the auth section of the docs for a discussion of these concepts.\";\nvar examples$b = [\n\t{\n\t\tapiVersion: \"backstage.io/v1alpha1\",\n\t\tkind: \"User\",\n\t\tmetadata: {\n\t\t\tname: \"jdoe\"\n\t\t},\n\t\tspec: {\n\t\t\tprofile: {\n\t\t\t\tdisplayName: \"Jenny Doe\",\n\t\t\t\temail: \"jenny-doe@example.com\",\n\t\t\t\tpicture: \"https://example.com/staff/jenny-with-party-hat.jpeg\"\n\t\t\t},\n\t\t\tmemberOf: [\n\t\t\t\t\"team-b\",\n\t\t\t\t\"employees\"\n\t\t\t]\n\t\t}\n\t}\n];\nvar allOf$9 = [\n\t{\n\t\t$ref: \"Entity\"\n\t},\n\t{\n\t\ttype: \"object\",\n\t\trequired: [\n\t\t\t\"spec\"\n\t\t],\n\t\tproperties: {\n\t\t\tapiVersion: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"backstage.io/v1alpha1\",\n\t\t\t\t\t\"backstage.io/v1beta1\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tkind: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"User\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tspec: {\n\t\t\t\ttype: \"object\",\n\t\t\t\trequired: [\n\t\t\t\t\t\"memberOf\"\n\t\t\t\t],\n\t\t\t\tproperties: {\n\t\t\t\t\tprofile: {\n\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\tdescription: \"Optional profile information about the user, mainly for display purposes. All fields of this structure are also optional. The email would be a primary email of some form, that the user may wish to be used for contacting them. The picture is expected to be a URL pointing to an image that's representative of the user, and that a browser could fetch and render on a profile page or similar.\",\n\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\tdisplayName: {\n\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t\tdescription: \"A simple display name to present to users.\",\n\t\t\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\t\t\"Jenny Doe\"\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\temail: {\n\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t\tdescription: \"An email where this user can be reached.\",\n\t\t\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\t\t\"jenny-doe@example.com\"\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tpicture: {\n\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t\tdescription: \"The URL of an image that represents this user.\",\n\t\t\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\t\t\"https://example.com/staff/jenny-with-party-hat.jpeg\"\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tmemberOf: {\n\t\t\t\t\t\ttype: \"array\",\n\t\t\t\t\t\tdescription: \"The list of groups that the user is a direct member of (i.e., no transitive memberships are listed here). The list must be present, but may be empty if the user is not member of any groups. The items are not guaranteed to be ordered in any particular way. The entries of this array are entity references.\",\n\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\t\"team-b\",\n\t\t\t\t\t\t\t\t\"employees\"\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n];\nvar schema$9 = {\n\t$schema: $schema$c,\n\t$id: $id$c,\n\tdescription: description$c,\n\texamples: examples$b,\n\tallOf: allOf$9\n};\n\nconst API_VERSION$9 = [\"backstage.io/v1alpha1\", \"backstage.io/v1beta1\"];\nconst KIND$9 = \"User\";\nconst userEntityV1alpha1Validator = ajvCompiledJsonSchemaValidator(KIND$9, API_VERSION$9, schema$9, [commonSchema, entityMetaSchema, entitySchema]);\n\nconst LOCATION_ANNOTATION = \"backstage.io/managed-by-location\";\nconst ORIGIN_LOCATION_ANNOTATION = \"backstage.io/managed-by-origin-location\";\nconst SOURCE_LOCATION_ANNOTATION = \"backstage.io/source-location\";\n\nfunction parseLocationReference(ref) {\n  if (typeof ref !== \"string\") {\n    throw new TypeError(`Unable to parse location reference '${ref}', unexpected argument ${typeof ref}`);\n  }\n  const splitIndex = ref.indexOf(\":\");\n  if (splitIndex < 0) {\n    throw new TypeError(`Unable to parse location reference '${ref}', expected '<type>:<target>', e.g. 'url:https://host/path'`);\n  }\n  const type = ref.substr(0, splitIndex).trim();\n  const target = ref.substr(splitIndex + 1).trim();\n  if (!type || !target) {\n    throw new TypeError(`Unable to parse location reference '${ref}', expected '<type>:<target>', e.g. 'url:https://host/path'`);\n  }\n  if (type === \"http\" || type === \"https\") {\n    throw new TypeError(`Invalid location reference '${ref}', please prefix it with 'url:', e.g. 'url:${ref}'`);\n  }\n  return {type, target};\n}\nfunction stringifyLocationReference(ref) {\n  const {type, target} = ref;\n  if (!type) {\n    throw new TypeError(`Unable to stringify location reference, empty type`);\n  } else if (!target) {\n    throw new TypeError(`Unable to stringify location reference, empty target`);\n  }\n  return `${type}:${target}`;\n}\nfunction getEntitySourceLocation(entity) {\n  var _a, _b, _c, _d, _e;\n  const locationRef = (_e = (_b = (_a = entity.metadata) == null ? void 0 : _a.annotations) == null ? void 0 : _b[SOURCE_LOCATION_ANNOTATION]) != null ? _e : (_d = (_c = entity.metadata) == null ? void 0 : _c.annotations) == null ? void 0 : _d[LOCATION_ANNOTATION];\n  if (!locationRef) {\n    throw new Error(`Entity '${stringifyEntityRef(entity)}' is missing location`);\n  }\n  return parseLocationReference(locationRef);\n}\n\nconst locationSpecSchema = object({\n  type: string().required(),\n  target: string().required(),\n  presence: string()\n}).noUnknown().required();\nconst locationSchema = object({\n  id: string().required(),\n  type: string().required(),\n  target: string().required()\n}).noUnknown().required();\nconst analyzeLocationSchema = object({\n  location: locationSpecSchema\n}).noUnknown().required();\n\nexport { CommonValidatorFunctions, DefaultNamespaceEntityPolicy, EDIT_URL_ANNOTATION, ENTITY_DEFAULT_NAMESPACE, ENTITY_META_GENERATED_FIELDS, EntityPolicies, FieldFormatEntityPolicy, KubernetesValidatorFunctions, LOCATION_ANNOTATION, NoForeignRootFieldsEntityPolicy, ORIGIN_LOCATION_ANNOTATION, RELATION_API_CONSUMED_BY, RELATION_API_PROVIDED_BY, RELATION_CHILD_OF, RELATION_CONSUMES_API, RELATION_DEPENDENCY_OF, RELATION_DEPENDS_ON, RELATION_HAS_MEMBER, RELATION_HAS_PART, RELATION_MEMBER_OF, RELATION_OWNED_BY, RELATION_OWNER_OF, RELATION_PARENT_OF, RELATION_PART_OF, RELATION_PROVIDES_API, SOURCE_LOCATION_ANNOTATION, SchemaValidEntityPolicy, VIEW_URL_ANNOTATION, analyzeLocationSchema, apiEntityV1alpha1Validator, compareEntityToRef, componentEntityV1alpha1Validator, domainEntityV1alpha1Validator, entityHasChanges, generateEntityEtag, generateEntityUid, generateUpdatedEntity, getEntityName, getEntitySourceLocation, groupEntityV1alpha1Validator, locationEntityV1alpha1Validator, locationSchema, locationSpecSchema, makeValidator, parseEntityName, parseEntityRef, parseLocationReference, resourceEntityV1alpha1Validator, schemaValidator, serializeEntityRef, stringifyEntityRef, stringifyLocationReference, systemEntityV1alpha1Validator, templateEntityV1alpha1Validator, templateEntityV1beta2Validator, userEntityV1alpha1Validator };\n//# sourceMappingURL=index.esm.js.map\n","import '@backstage/catalog-model';\nimport '@backstage/core';\nimport '@backstage/integration-react';\nimport '@backstage/plugin-catalog-react';\nimport '@material-ui/core';\nimport '@material-ui/icons/Description';\nimport '@material-ui/icons/Edit';\nimport '@material-ui/icons/Extension';\nimport 'react';\nexport { A as AboutCard, d as CatalogEntityPage, e as CatalogIndexPage, c as CatalogTable, g as EntityAboutCard, h as EntityDependsOnComponentsCard, i as EntityDependsOnResourcesCard, j as EntityHasComponentsCard, k as EntityHasResourcesCard, l as EntityHasSubcomponentsCard, m as EntityHasSystemsCard, a as EntityLayout, n as EntityLinksCard, t as EntityOrphanWarning, b as EntityPageLayout, p as EntitySwitch, o as EntitySystemDiagramCard, R as Router, f as catalogPlugin, s as isComponentType, q as isKind, r as isNamespace, u as isOrphan, f as plugin } from './esm/index-85897b39.esm.js';\nimport '@material-ui/icons/Code';\nimport '@material-ui/icons/GitHub';\nimport '@material-ui/lab';\nimport 'react-router';\nimport '@material-ui/core/styles';\nimport '@material-ui/icons/Cancel';\nimport '@material-ui/icons/MoreVert';\nimport '@material-ui/icons/StarBorder';\nimport '@material-ui/icons/Star';\nimport '@material-ui/lab/Alert';\nimport 'react-use';\nimport 'react-helmet';\nimport '@material-ui/icons/OpenInNew';\nimport '@material-ui/icons/Settings';\nimport 'react-router-dom';\nimport './components/EntityNotFound/Illo/illo.svg';\nimport '@backstage/catalog-client';\n//# sourceMappingURL=index.esm.js.map\n","import { createApiRef, createExternalRouteRef, createRouteRef, createPlugin, createApiFactory, discoveryApiRef, identityApiRef, createRoutableExtension } from '@backstage/core';\nimport { scmIntegrationsApiRef } from '@backstage/integration-react';\nimport { ResponseError } from '@backstage/errors';\nimport ObservableImpl from 'zen-observable';\n\nconst scaffolderApiRef = createApiRef({\n  id: \"plugin.scaffolder.service\",\n  description: \"Used to make requests towards the scaffolder backend\"\n});\nclass ScaffolderClient {\n  constructor(options) {\n    this.discoveryApi = options.discoveryApi;\n    this.identityApi = options.identityApi;\n    this.scmIntegrationsApi = options.scmIntegrationsApi;\n  }\n  async getIntegrationsList(options) {\n    return [\n      ...this.scmIntegrationsApi.azure.list(),\n      ...this.scmIntegrationsApi.bitbucket.list(),\n      ...this.scmIntegrationsApi.github.list(),\n      ...this.scmIntegrationsApi.gitlab.list()\n    ].map((c) => ({type: c.type, title: c.title, host: c.config.host})).filter((c) => options.allowedHosts.includes(c.host));\n  }\n  async getTemplateParameterSchema(templateName) {\n    const {namespace, kind, name} = templateName;\n    const token = await this.identityApi.getIdToken();\n    const baseUrl = await this.discoveryApi.getBaseUrl(\"scaffolder\");\n    const templatePath = [namespace, kind, name].map((s) => encodeURIComponent(s)).join(\"/\");\n    const url = `${baseUrl}/v2/templates/${templatePath}/parameter-schema`;\n    const response = await fetch(url, {\n      headers: {\n        ...token && {Authorization: `Bearer ${token}`}\n      }\n    });\n    if (!response.ok) {\n      throw ResponseError.fromResponse(response);\n    }\n    const schema = await response.json();\n    return schema;\n  }\n  async scaffold(templateName, values) {\n    const token = await this.identityApi.getIdToken();\n    const url = `${await this.discoveryApi.getBaseUrl(\"scaffolder\")}/v2/tasks`;\n    const response = await fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...token && {Authorization: `Bearer ${token}`}\n      },\n      body: JSON.stringify({templateName, values: {...values}})\n    });\n    if (response.status !== 201) {\n      const status = `${response.status} ${response.statusText}`;\n      const body = await response.text();\n      throw new Error(`Backend request failed, ${status} ${body.trim()}`);\n    }\n    const {id} = await response.json();\n    return id;\n  }\n  async getTask(taskId) {\n    const token = await this.identityApi.getIdToken();\n    const baseUrl = await this.discoveryApi.getBaseUrl(\"scaffolder\");\n    const url = `${baseUrl}/v2/tasks/${encodeURIComponent(taskId)}`;\n    const response = await fetch(url, {\n      headers: token ? {Authorization: `Bearer ${token}`} : {}\n    });\n    if (!response.ok) {\n      throw ResponseError.fromResponse(response);\n    }\n    return await response.json();\n  }\n  streamLogs({\n    taskId,\n    after\n  }) {\n    return new ObservableImpl((subscriber) => {\n      const params = new URLSearchParams();\n      if (after !== void 0) {\n        params.set(\"after\", String(Number(after)));\n      }\n      this.discoveryApi.getBaseUrl(\"scaffolder\").then((baseUrl) => {\n        const url = `${baseUrl}/v2/tasks/${encodeURIComponent(taskId)}/eventstream`;\n        const eventSource = new EventSource(url, {withCredentials: true});\n        eventSource.addEventListener(\"log\", (event) => {\n          if (event.data) {\n            try {\n              subscriber.next(JSON.parse(event.data));\n            } catch (ex) {\n              subscriber.error(ex);\n            }\n          }\n        });\n        eventSource.addEventListener(\"completion\", (event) => {\n          if (event.data) {\n            try {\n              subscriber.next(JSON.parse(event.data));\n            } catch (ex) {\n              subscriber.error(ex);\n            }\n          }\n          eventSource.close();\n          subscriber.complete();\n        });\n        eventSource.addEventListener(\"error\", (event) => {\n          subscriber.error(event);\n        });\n      }, (error) => {\n        subscriber.error(error);\n      });\n    });\n  }\n  async listActions() {\n    const baseUrl = await this.discoveryApi.getBaseUrl(\"scaffolder\");\n    const response = await fetch(`${baseUrl}/v2/actions`);\n    if (!response.ok) {\n      throw ResponseError.fromResponse(response);\n    }\n    return await response.json();\n  }\n}\n\nconst registerComponentRouteRef = createExternalRouteRef({\n  id: \"register-component\",\n  optional: true\n});\nconst rootRouteRef = createRouteRef({\n  title: \"Create new entity\"\n});\n\nconst scaffolderPlugin = createPlugin({\n  id: \"scaffolder\",\n  apis: [\n    createApiFactory({\n      api: scaffolderApiRef,\n      deps: {\n        discoveryApi: discoveryApiRef,\n        identityApi: identityApiRef,\n        scmIntegrationsApi: scmIntegrationsApiRef\n      },\n      factory: ({discoveryApi, identityApi, scmIntegrationsApi}) => new ScaffolderClient({discoveryApi, identityApi, scmIntegrationsApi})\n    })\n  ],\n  routes: {\n    root: rootRouteRef\n  },\n  externalRoutes: {\n    registerComponent: registerComponentRouteRef\n  }\n});\nconst ScaffolderPage = scaffolderPlugin.provide(createRoutableExtension({\n  component: () => import('./Router-d4600cda.esm.js').then((m) => m.Router),\n  mountPoint: rootRouteRef\n}));\n\nexport { ScaffolderPage as S, registerComponentRouteRef as a, scaffolderPlugin as b, ScaffolderClient as c, rootRouteRef as r, scaffolderApiRef as s };\n//# sourceMappingURL=index-bc9fd18e.esm.js.map\n","import cloneDeep from 'lodash/cloneDeep';\nimport mergeWith from 'lodash/mergeWith';\n\nconst CONFIG_KEY_PART_PATTERN = /^[a-z][a-z0-9]*(?:[-_][a-z][a-z0-9]*)*$/i;\nfunction isObject(value) {\n  return typeof value === \"object\" && value !== null && !Array.isArray(value);\n}\nfunction typeOf(value) {\n  if (value === null) {\n    return \"null\";\n  } else if (Array.isArray(value)) {\n    return \"array\";\n  }\n  const type = typeof value;\n  if (type === \"number\" && isNaN(value)) {\n    return \"nan\";\n  }\n  if (type === \"string\" && value === \"\") {\n    return \"empty-string\";\n  }\n  return type;\n}\nconst errors = {\n  type(key, context, typeName, expected) {\n    return `Invalid type in config for key '${key}' in '${context}', got ${typeName}, wanted ${expected}`;\n  },\n  missing(key) {\n    return `Missing required config value at '${key}'`;\n  },\n  convert(key, context, expected) {\n    return `Unable to convert config value for key '${key}' in '${context}' to a ${expected}`;\n  }\n};\nclass ConfigReader {\n  constructor(data, context = \"mock-config\", fallback, prefix = \"\") {\n    this.data = data;\n    this.context = context;\n    this.fallback = fallback;\n    this.prefix = prefix;\n  }\n  static fromConfigs(configs) {\n    if (configs.length === 0) {\n      return new ConfigReader(void 0);\n    }\n    return configs.reduce((previousReader, {data, context}) => {\n      return new ConfigReader(data, context, previousReader);\n    }, void 0);\n  }\n  has(key) {\n    var _a, _b;\n    const value = this.readValue(key);\n    if (value !== void 0) {\n      return true;\n    }\n    return (_b = (_a = this.fallback) == null ? void 0 : _a.has(key)) != null ? _b : false;\n  }\n  keys() {\n    var _a, _b;\n    const localKeys = this.data ? Object.keys(this.data) : [];\n    const fallbackKeys = (_b = (_a = this.fallback) == null ? void 0 : _a.keys()) != null ? _b : [];\n    return [...new Set([...localKeys, ...fallbackKeys])];\n  }\n  get(key) {\n    const value = this.getOptional(key);\n    if (value === void 0) {\n      throw new Error(errors.missing(this.fullKey(key != null ? key : \"\")));\n    }\n    return value;\n  }\n  getOptional(key) {\n    var _a;\n    const value = this.readValue(key);\n    const fallbackValue = (_a = this.fallback) == null ? void 0 : _a.getOptional(key);\n    if (value === void 0) {\n      return fallbackValue;\n    } else if (fallbackValue === void 0) {\n      return value;\n    }\n    return mergeWith({}, {value: cloneDeep(fallbackValue)}, {value}, (into, from) => !isObject(from) || !isObject(into) ? from : void 0).value;\n  }\n  getConfig(key) {\n    const value = this.getOptionalConfig(key);\n    if (value === void 0) {\n      throw new Error(errors.missing(this.fullKey(key)));\n    }\n    return value;\n  }\n  getOptionalConfig(key) {\n    var _a;\n    const value = this.readValue(key);\n    const fallbackConfig = (_a = this.fallback) == null ? void 0 : _a.getOptionalConfig(key);\n    const prefix = this.fullKey(key);\n    if (isObject(value)) {\n      return new ConfigReader(value, this.context, fallbackConfig, prefix);\n    }\n    if (value !== void 0) {\n      throw new TypeError(errors.type(this.fullKey(key), this.context, typeOf(value), \"object\"));\n    }\n    return fallbackConfig;\n  }\n  getConfigArray(key) {\n    const value = this.getOptionalConfigArray(key);\n    if (value === void 0) {\n      throw new Error(errors.missing(this.fullKey(key)));\n    }\n    return value;\n  }\n  getOptionalConfigArray(key) {\n    const configs = this.readConfigValue(key, (values) => {\n      if (!Array.isArray(values)) {\n        return {expected: \"object-array\"};\n      }\n      for (const [index, value] of values.entries()) {\n        if (!isObject(value)) {\n          return {expected: \"object-array\", value, key: `${key}[${index}]`};\n        }\n      }\n      return true;\n    });\n    if (!configs) {\n      return void 0;\n    }\n    return configs.map((obj, index) => new ConfigReader(obj, this.context, void 0, this.fullKey(`${key}[${index}]`)));\n  }\n  getNumber(key) {\n    const value = this.getOptionalNumber(key);\n    if (value === void 0) {\n      throw new Error(errors.missing(this.fullKey(key)));\n    }\n    return value;\n  }\n  getOptionalNumber(key) {\n    const value = this.readConfigValue(key, (val) => typeof val === \"number\" || typeof val === \"string\" || {expected: \"number\"});\n    if (typeof value === \"number\" || value === void 0) {\n      return value;\n    }\n    const number = Number(value);\n    if (!Number.isFinite(number)) {\n      throw new Error(errors.convert(this.fullKey(key), this.context, \"number\"));\n    }\n    return number;\n  }\n  getBoolean(key) {\n    const value = this.getOptionalBoolean(key);\n    if (value === void 0) {\n      throw new Error(errors.missing(this.fullKey(key)));\n    }\n    return value;\n  }\n  getOptionalBoolean(key) {\n    return this.readConfigValue(key, (value) => typeof value === \"boolean\" || {expected: \"boolean\"});\n  }\n  getString(key) {\n    const value = this.getOptionalString(key);\n    if (value === void 0) {\n      throw new Error(errors.missing(this.fullKey(key)));\n    }\n    return value;\n  }\n  getOptionalString(key) {\n    return this.readConfigValue(key, (value) => typeof value === \"string\" && value !== \"\" || {expected: \"string\"});\n  }\n  getStringArray(key) {\n    const value = this.getOptionalStringArray(key);\n    if (value === void 0) {\n      throw new Error(errors.missing(this.fullKey(key)));\n    }\n    return value;\n  }\n  getOptionalStringArray(key) {\n    return this.readConfigValue(key, (values) => {\n      if (!Array.isArray(values)) {\n        return {expected: \"string-array\"};\n      }\n      for (const [index, value] of values.entries()) {\n        if (typeof value !== \"string\" || value === \"\") {\n          return {expected: \"string-array\", value, key: `${key}[${index}]`};\n        }\n      }\n      return true;\n    });\n  }\n  fullKey(key) {\n    return `${this.prefix}${this.prefix ? \".\" : \"\"}${key}`;\n  }\n  readConfigValue(key, validate) {\n    var _a;\n    const value = this.readValue(key);\n    if (value === void 0) {\n      return (_a = this.fallback) == null ? void 0 : _a.readConfigValue(key, validate);\n    }\n    const result = validate(value);\n    if (result !== true) {\n      const {key: keyName = key, value: theValue = value, expected} = result;\n      throw new TypeError(errors.type(this.fullKey(keyName), this.context, typeOf(theValue), expected));\n    }\n    return value;\n  }\n  readValue(key) {\n    const parts = key ? key.split(\".\") : [];\n    for (const part of parts) {\n      if (!CONFIG_KEY_PART_PATTERN.test(part)) {\n        throw new TypeError(`Invalid config key '${key}'`);\n      }\n    }\n    if (this.data === void 0) {\n      return void 0;\n    }\n    let value = this.data;\n    for (const [index, part] of parts.entries()) {\n      if (isObject(value)) {\n        value = value[part];\n      } else if (value !== void 0) {\n        const badKey = this.fullKey(parts.slice(0, index).join(\".\"));\n        throw new TypeError(errors.type(badKey, this.context, typeOf(value), \"object\"));\n      }\n    }\n    return value;\n  }\n}\n\nexport { ConfigReader };\n//# sourceMappingURL=index.esm.js.map\n","import React, { useContext, useMemo, createContext, Children, isValidElement, Fragment, lazy, Suspense, useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport GithubIcon from '@material-ui/icons/AcUnit';\nimport ObservableImpl from 'zen-observable';\nimport { ConfigReader } from '@backstage/config';\nexport { ConfigReader } from '@backstage/config';\nimport { useRoutes, matchRoutes, generatePath, useLocation, useParams, Navigate, Route, Routes } from 'react-router-dom';\nimport MuiMenuBookIcon from '@material-ui/icons/MenuBook';\nimport MuiBrokenImageIcon from '@material-ui/icons/BrokenImage';\nimport MuiChatIcon from '@material-ui/icons/Chat';\nimport MuiDashboardIcon from '@material-ui/icons/Dashboard';\nimport MuiEmailIcon from '@material-ui/icons/Email';\nimport MuiGitHubIcon from '@material-ui/icons/GitHub';\nimport MuiHelpIcon from '@material-ui/icons/Help';\nimport MuiPeopleIcon from '@material-ui/icons/People';\nimport MuiPersonIcon from '@material-ui/icons/Person';\nimport MuiWarningIcon from '@material-ui/icons/Warning';\nimport MuiDocsIcon from '@material-ui/icons/Description';\nimport { useObservable, useAsync } from 'react-use';\nimport { ThemeProvider, CssBaseline } from '@material-ui/core';\n\nclass ApiAggregator {\n  constructor(...holders) {\n    this.holders = holders;\n  }\n  get(apiRef) {\n    for (const holder of this.holders) {\n      const api = holder.get(apiRef);\n      if (api) {\n        return api;\n      }\n    }\n    return void 0;\n  }\n}\n\nfunction getGlobalObject() {\n  if (typeof window !== \"undefined\" && window.Math === Math) {\n    return window;\n  }\n  if (typeof self !== \"undefined\" && self.Math === Math) {\n    return self;\n  }\n  return Function(\"return this\")();\n}\nconst globalObject = getGlobalObject();\nconst makeKey = (id) => `__@backstage/${id}__`;\nfunction getGlobalSingleton(id) {\n  const key = makeKey(id);\n  if (!(key in globalObject)) {\n    throw new Error(`Global ${id} is not set`);\n  }\n  return globalObject[key];\n}\nfunction getOrCreateGlobalSingleton(id, supplier) {\n  const key = makeKey(id);\n  let value = globalObject[key];\n  if (value) {\n    return value;\n  }\n  value = supplier();\n  globalObject[key] = value;\n  return value;\n}\n\nfunction createVersionedValueMap(versions) {\n  Object.freeze(versions);\n  return {\n    atVersion(version) {\n      return versions[version];\n    }\n  };\n}\n\nconst missingHolderMessage = `No ApiProvider available in react context. A common cause of this error is that multiple versions of @backstage/core-api are installed. You can check if that is the case using 'yarn backstage-cli versions:check', and can in many cases fix the issue either with the --fix flag or using 'yarn backstage-cli versions:bump'`;\nconst ApiContext = getOrCreateGlobalSingleton(\"api-context\", () => createContext(void 0));\nconst ApiProvider = ({\n  apis,\n  children\n}) => {\n  var _a;\n  const parentHolder = (_a = useContext(ApiContext)) == null ? void 0 : _a.atVersion(1);\n  const versionedValue = useMemo(() => createVersionedValueMap({\n    1: parentHolder ? new ApiAggregator(apis, parentHolder) : apis\n  }), [parentHolder, apis]);\n  return /* @__PURE__ */ React.createElement(ApiContext.Provider, {\n    value: versionedValue,\n    children\n  });\n};\nApiProvider.propTypes = {\n  apis: PropTypes.shape({get: PropTypes.func.isRequired}).isRequired,\n  children: PropTypes.node\n};\nfunction useApiHolder() {\n  const versionedHolder = useContext(getGlobalSingleton(\"api-context\"));\n  if (!versionedHolder) {\n    throw new Error(missingHolderMessage);\n  }\n  const apiHolder = versionedHolder.atVersion(1);\n  if (!apiHolder) {\n    throw new Error(\"ApiContext v1 not available\");\n  }\n  return apiHolder;\n}\nfunction useApi(apiRef) {\n  const apiHolder = useApiHolder();\n  const api = apiHolder.get(apiRef);\n  if (!api) {\n    throw new Error(`No implementation available for ${apiRef}`);\n  }\n  return api;\n}\n\nclass ApiRegistryBuilder {\n  constructor() {\n    this.apis = [];\n  }\n  add(api, impl) {\n    this.apis.push([api.id, impl]);\n    return impl;\n  }\n  build() {\n    return new ApiRegistry(new Map(this.apis));\n  }\n}\nclass ApiRegistry {\n  constructor(apis) {\n    this.apis = apis;\n  }\n  static builder() {\n    return new ApiRegistryBuilder();\n  }\n  static from(apis) {\n    return new ApiRegistry(new Map(apis.map(([api, impl]) => [api.id, impl])));\n  }\n  static with(api, impl) {\n    return new ApiRegistry(new Map([[api.id, impl]]));\n  }\n  with(api, impl) {\n    return new ApiRegistry(new Map([...this.apis, [api.id, impl]]));\n  }\n  get(api) {\n    return this.apis.get(api.id);\n  }\n}\n\nclass ApiResolver {\n  constructor(factories) {\n    this.factories = factories;\n    this.apis = new Map();\n  }\n  static validateFactories(factories, apis) {\n    for (const api of apis) {\n      const heap = [api];\n      const allDeps = new Set();\n      while (heap.length) {\n        const apiRef = heap.shift();\n        const factory = factories.get(apiRef);\n        if (!factory) {\n          continue;\n        }\n        for (const dep of Object.values(factory.deps)) {\n          if (dep.id === api.id) {\n            throw new Error(`Circular dependency of api factory for ${api}`);\n          }\n          if (!allDeps.has(dep)) {\n            allDeps.add(dep);\n            heap.push(dep);\n          }\n        }\n      }\n    }\n  }\n  get(ref) {\n    return this.load(ref);\n  }\n  load(ref, loading = []) {\n    const impl = this.apis.get(ref.id);\n    if (impl) {\n      return impl;\n    }\n    const factory = this.factories.get(ref);\n    if (!factory) {\n      return void 0;\n    }\n    if (loading.includes(factory.api)) {\n      throw new Error(`Circular dependency of api factory for ${factory.api}`);\n    }\n    const deps = this.loadDeps(ref, factory.deps, [...loading, factory.api]);\n    const api = factory.factory(deps);\n    this.apis.set(ref.id, api);\n    return api;\n  }\n  loadDeps(dependent, apis, loading) {\n    const impls = {};\n    for (const key in apis) {\n      if (apis.hasOwnProperty(key)) {\n        const ref = apis[key];\n        const api = this.load(ref, loading);\n        if (!api) {\n          throw new Error(`No API factory available for dependency ${ref} of dependent ${dependent}`);\n        }\n        impls[key] = api;\n      }\n    }\n    return impls;\n  }\n}\n\nvar ScopePriority;\n(function(ScopePriority2) {\n  ScopePriority2[ScopePriority2[\"default\"] = 10] = \"default\";\n  ScopePriority2[ScopePriority2[\"app\"] = 50] = \"app\";\n  ScopePriority2[ScopePriority2[\"static\"] = 100] = \"static\";\n})(ScopePriority || (ScopePriority = {}));\nclass ApiFactoryRegistry {\n  constructor() {\n    this.factories = new Map();\n  }\n  register(scope, factory) {\n    const priority = ScopePriority[scope];\n    const existing = this.factories.get(factory.api.id);\n    if (existing && existing.priority >= priority) {\n      return false;\n    }\n    this.factories.set(factory.api.id, {priority, factory});\n    return true;\n  }\n  get(api) {\n    const tuple = this.factories.get(api.id);\n    if (!tuple) {\n      return void 0;\n    }\n    return tuple.factory;\n  }\n  getAllApis() {\n    const refs = new Set();\n    for (const {factory} of this.factories.values()) {\n      refs.add(factory.api);\n    }\n    return refs;\n  }\n}\n\nclass ApiRefImpl {\n  constructor(config) {\n    this.config = config;\n    const valid = config.id.split(\".\").flatMap((part) => part.split(\"-\")).every((part) => part.match(/^[a-z][a-z0-9]*$/));\n    if (!valid) {\n      throw new Error(`API id must only contain period separated lowercase alphanum tokens with dashes, got '${config.id}'`);\n    }\n  }\n  get id() {\n    return this.config.id;\n  }\n  get description() {\n    return this.config.description;\n  }\n  get T() {\n    throw new Error(`tried to read ApiRef.T of ${this}`);\n  }\n  toString() {\n    return `apiRef{${this.config.id}}`;\n  }\n}\nfunction createApiRef(config) {\n  return new ApiRefImpl(config);\n}\n\nfunction createApiFactory(factory, instance) {\n  if (\"id\" in factory) {\n    return {\n      api: factory,\n      deps: {},\n      factory: () => instance\n    };\n  }\n  return factory;\n}\n\nvar SessionState;\n(function(SessionState2) {\n  SessionState2[\"SignedIn\"] = \"SignedIn\";\n  SessionState2[\"SignedOut\"] = \"SignedOut\";\n})(SessionState || (SessionState = {}));\nconst googleAuthApiRef = createApiRef({\n  id: \"core.auth.google\",\n  description: \"Provides authentication towards Google APIs and identities\"\n});\nconst githubAuthApiRef = createApiRef({\n  id: \"core.auth.github\",\n  description: \"Provides authentication towards GitHub APIs\"\n});\nconst oktaAuthApiRef = createApiRef({\n  id: \"core.auth.okta\",\n  description: \"Provides authentication towards Okta APIs\"\n});\nconst gitlabAuthApiRef = createApiRef({\n  id: \"core.auth.gitlab\",\n  description: \"Provides authentication towards GitLab APIs\"\n});\nconst auth0AuthApiRef = createApiRef({\n  id: \"core.auth.auth0\",\n  description: \"Provides authentication towards Auth0 APIs\"\n});\nconst microsoftAuthApiRef = createApiRef({\n  id: \"core.auth.microsoft\",\n  description: \"Provides authentication towards Microsoft APIs and identities\"\n});\nconst oauth2ApiRef = createApiRef({\n  id: \"core.auth.oauth2\",\n  description: \"Example of how to use oauth2 custom provider\"\n});\nconst oidcAuthApiRef = createApiRef({\n  id: \"core.auth.oidc\",\n  description: \"Example of how to use oidc custom provider\"\n});\nconst samlAuthApiRef = createApiRef({\n  id: \"core.auth.saml\",\n  description: \"Example of how to use SAML custom provider\"\n});\nconst oneloginAuthApiRef = createApiRef({\n  id: \"core.auth.onelogin\",\n  description: \"Provides authentication towards OneLogin APIs and identities\"\n});\n\nconst alertApiRef = createApiRef({\n  id: \"core.alert\",\n  description: \"Used to report alerts and forward them to the app\"\n});\n\nconst appThemeApiRef = createApiRef({\n  id: \"core.apptheme\",\n  description: \"API Used to configure the app theme, and enumerate options\"\n});\n\nconst configApiRef = createApiRef({\n  id: \"core.config\",\n  description: \"Used to access runtime configuration\"\n});\n\nconst discoveryApiRef = createApiRef({\n  id: \"core.discovery\",\n  description: \"Provides service discovery of backend plugins\"\n});\n\nconst errorApiRef = createApiRef({\n  id: \"core.error\",\n  description: \"Used to report errors and forward them to the app\"\n});\n\nvar FeatureFlagState;\n(function(FeatureFlagState2) {\n  FeatureFlagState2[FeatureFlagState2[\"None\"] = 0] = \"None\";\n  FeatureFlagState2[FeatureFlagState2[\"Active\"] = 1] = \"Active\";\n})(FeatureFlagState || (FeatureFlagState = {}));\nconst featureFlagsApiRef = createApiRef({\n  id: \"core.featureflags\",\n  description: \"Used to toggle functionality in features across Backstage\"\n});\n\nconst identityApiRef = createApiRef({\n  id: \"core.identity\",\n  description: \"Provides access to the identity of the signed in user\"\n});\n\nconst oauthRequestApiRef = createApiRef({\n  id: \"core.oauthrequest\",\n  description: \"An API for implementing unified OAuth flows in Backstage\"\n});\n\nconst storageApiRef = createApiRef({\n  id: \"core.storage\",\n  description: \"Provides the ability to store data which is unique to the user\"\n});\n\nfunction showLoginPopup(options) {\n  return new Promise((resolve, reject) => {\n    const width = options.width || 500;\n    const height = options.height || 700;\n    const left = window.screen.width / 2 - width / 2;\n    const top = window.screen.height / 2 - height / 2;\n    const popup = window.open(options.url, options.name, `menubar=no,location=no,resizable=no,scrollbars=no,status=no,width=${width},height=${height},top=${top},left=${left}`);\n    let targetOrigin = \"\";\n    if (!popup || typeof popup.closed === \"undefined\" || popup.closed) {\n      const error = new Error(\"Failed to open auth popup.\");\n      error.name = \"PopupRejectedError\";\n      reject(error);\n      return;\n    }\n    const messageListener = (event) => {\n      if (event.source !== popup) {\n        return;\n      }\n      if (event.origin !== options.origin) {\n        return;\n      }\n      const {data} = event;\n      if (data.type === \"config_info\") {\n        targetOrigin = data.targetOrigin;\n        return;\n      }\n      if (data.type !== \"authorization_response\") {\n        return;\n      }\n      const authResult = data;\n      if (\"error\" in authResult) {\n        const error = new Error(authResult.error.message);\n        error.name = authResult.error.name;\n        reject(error);\n      } else {\n        resolve(authResult.response);\n      }\n      done();\n    };\n    const intervalId = setInterval(() => {\n      if (popup.closed) {\n        const errMessage = `Login failed, ${targetOrigin && targetOrigin !== window.location.origin ? `Incorrect app origin, expected ${targetOrigin}` : \"popup was closed\"}`;\n        const error = new Error(errMessage);\n        error.name = \"PopupClosedError\";\n        reject(error);\n        done();\n      }\n    }, 100);\n    function done() {\n      window.removeEventListener(\"message\", messageListener);\n      clearInterval(intervalId);\n    }\n    window.addEventListener(\"message\", messageListener);\n  });\n}\n\nfunction defaultJoinScopes(scopes) {\n  return [...scopes].join(\" \");\n}\nclass DefaultAuthConnector {\n  constructor(options) {\n    const {\n      discoveryApi,\n      environment,\n      provider,\n      joinScopes = defaultJoinScopes,\n      oauthRequestApi,\n      sessionTransform = (id) => id\n    } = options;\n    this.authRequester = oauthRequestApi.createAuthRequester({\n      provider,\n      onAuthRequest: (scopes) => this.showPopup(scopes)\n    });\n    this.discoveryApi = discoveryApi;\n    this.environment = environment;\n    this.provider = provider;\n    this.joinScopesFunc = joinScopes;\n    this.sessionTransform = sessionTransform;\n  }\n  async createSession(options) {\n    if (options.instantPopup) {\n      return this.showPopup(options.scopes);\n    }\n    return this.authRequester(options.scopes);\n  }\n  async refreshSession() {\n    const res = await fetch(await this.buildUrl(\"/refresh\", {optional: true}), {\n      headers: {\n        \"x-requested-with\": \"XMLHttpRequest\"\n      },\n      credentials: \"include\"\n    }).catch((error) => {\n      throw new Error(`Auth refresh request failed, ${error}`);\n    });\n    if (!res.ok) {\n      const error = new Error(`Auth refresh request failed, ${res.statusText}`);\n      error.status = res.status;\n      throw error;\n    }\n    const authInfo = await res.json();\n    if (authInfo.error) {\n      const error = new Error(authInfo.error.message);\n      if (authInfo.error.name) {\n        error.name = authInfo.error.name;\n      }\n      throw error;\n    }\n    return await this.sessionTransform(authInfo);\n  }\n  async removeSession() {\n    const res = await fetch(await this.buildUrl(\"/logout\"), {\n      method: \"POST\",\n      headers: {\n        \"x-requested-with\": \"XMLHttpRequest\"\n      },\n      credentials: \"include\"\n    }).catch((error) => {\n      throw new Error(`Logout request failed, ${error}`);\n    });\n    if (!res.ok) {\n      const error = new Error(`Logout request failed, ${res.statusText}`);\n      error.status = res.status;\n      throw error;\n    }\n  }\n  async showPopup(scopes) {\n    const scope = this.joinScopesFunc(scopes);\n    const popupUrl = await this.buildUrl(\"/start\", {scope});\n    const payload = await showLoginPopup({\n      url: popupUrl,\n      name: `${this.provider.title} Login`,\n      origin: new URL(popupUrl).origin,\n      width: 450,\n      height: 730\n    });\n    return await this.sessionTransform(payload);\n  }\n  async buildUrl(path, query) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(\"auth\");\n    const queryString = this.buildQueryString({\n      ...query,\n      env: this.environment\n    });\n    return `${baseUrl}/${this.provider.id}${path}${queryString}`;\n  }\n  buildQueryString(query) {\n    if (!query) {\n      return \"\";\n    }\n    const queryString = Object.entries(query).map(([key, value]) => {\n      if (typeof value === \"string\") {\n        return `${encodeURIComponent(key)}=${encodeURIComponent(value)}`;\n      } else if (value) {\n        return encodeURIComponent(key);\n      }\n      return void 0;\n    }).filter(Boolean).join(\"&\");\n    if (!queryString) {\n      return \"\";\n    }\n    return `?${queryString}`;\n  }\n}\n\nclass DirectAuthConnector {\n  constructor(options) {\n    const {discoveryApi, environment, provider} = options;\n    this.discoveryApi = discoveryApi;\n    this.environment = environment;\n    this.provider = provider;\n  }\n  async createSession() {\n    const popupUrl = await this.buildUrl(\"/start\");\n    const payload = await showLoginPopup({\n      url: popupUrl,\n      name: `${this.provider.title} Login`,\n      origin: new URL(popupUrl).origin,\n      width: 450,\n      height: 730\n    });\n    return {\n      ...payload,\n      id: payload.profile.email\n    };\n  }\n  async refreshSession() {\n  }\n  async removeSession() {\n    const res = await fetch(await this.buildUrl(\"/logout\"), {\n      method: \"POST\",\n      headers: {\n        \"x-requested-with\": \"XMLHttpRequest\"\n      },\n      credentials: \"include\"\n    }).catch((error) => {\n      throw new Error(`Logout request failed, ${error}`);\n    });\n    if (!res.ok) {\n      const error = new Error(`Logout request failed, ${res.statusText}`);\n      error.status = res.status;\n      throw error;\n    }\n  }\n  async buildUrl(path) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(\"auth\");\n    return `${baseUrl}/${this.provider.id}${path}?env=${this.environment}`;\n  }\n}\n\nfunction hasScopes(searched, searchFor) {\n  for (const scope of searchFor) {\n    if (!searched.has(scope)) {\n      return false;\n    }\n  }\n  return true;\n}\nclass SessionScopeHelper {\n  constructor(options) {\n    this.options = options;\n  }\n  sessionExistsAndHasScope(session, scopes) {\n    if (!session) {\n      return false;\n    }\n    if (!scopes) {\n      return true;\n    }\n    if (this.options.sessionScopes === void 0) {\n      return true;\n    }\n    const sessionScopes = this.options.sessionScopes(session);\n    return hasScopes(sessionScopes, scopes);\n  }\n  getExtendedScope(session, scopes) {\n    const newScope = new Set(this.options.defaultScopes);\n    if (session && this.options.sessionScopes !== void 0) {\n      const sessionScopes = this.options.sessionScopes(session);\n      for (const scope of sessionScopes) {\n        newScope.add(scope);\n      }\n    }\n    if (scopes) {\n      for (const scope of scopes) {\n        newScope.add(scope);\n      }\n    }\n    return newScope;\n  }\n}\n\nclass PublishSubject {\n  constructor() {\n    this.isClosed = false;\n    this.observable = new ObservableImpl((subscriber) => {\n      if (this.isClosed) {\n        if (this.terminatingError) {\n          subscriber.error(this.terminatingError);\n        } else {\n          subscriber.complete();\n        }\n        return () => {\n        };\n      }\n      this.subscribers.add(subscriber);\n      return () => {\n        this.subscribers.delete(subscriber);\n      };\n    });\n    this.subscribers = new Set();\n  }\n  [Symbol.observable]() {\n    return this;\n  }\n  get closed() {\n    return this.isClosed;\n  }\n  next(value) {\n    if (this.isClosed) {\n      throw new Error(\"PublishSubject is closed\");\n    }\n    this.subscribers.forEach((subscriber) => subscriber.next(value));\n  }\n  error(error) {\n    if (this.isClosed) {\n      throw new Error(\"PublishSubject is closed\");\n    }\n    this.isClosed = true;\n    this.terminatingError = error;\n    this.subscribers.forEach((subscriber) => subscriber.error(error));\n  }\n  complete() {\n    if (this.isClosed) {\n      throw new Error(\"PublishSubject is closed\");\n    }\n    this.isClosed = true;\n    this.subscribers.forEach((subscriber) => subscriber.complete());\n  }\n  subscribe(onNext, onError, onComplete) {\n    const observer = typeof onNext === \"function\" ? {\n      next: onNext,\n      error: onError,\n      complete: onComplete\n    } : onNext;\n    return this.observable.subscribe(observer);\n  }\n}\nclass BehaviorSubject {\n  constructor(value) {\n    this.isClosed = false;\n    this.observable = new ObservableImpl((subscriber) => {\n      if (this.isClosed) {\n        if (this.terminatingError) {\n          subscriber.error(this.terminatingError);\n        } else {\n          subscriber.complete();\n        }\n        return () => {\n        };\n      }\n      subscriber.next(this.currentValue);\n      this.subscribers.add(subscriber);\n      return () => {\n        this.subscribers.delete(subscriber);\n      };\n    });\n    this.subscribers = new Set();\n    this.currentValue = value;\n  }\n  [Symbol.observable]() {\n    return this;\n  }\n  get closed() {\n    return this.isClosed;\n  }\n  next(value) {\n    if (this.isClosed) {\n      throw new Error(\"BehaviorSubject is closed\");\n    }\n    this.currentValue = value;\n    this.subscribers.forEach((subscriber) => subscriber.next(value));\n  }\n  error(error) {\n    if (this.isClosed) {\n      throw new Error(\"BehaviorSubject is closed\");\n    }\n    this.isClosed = true;\n    this.terminatingError = error;\n    this.subscribers.forEach((subscriber) => subscriber.error(error));\n  }\n  complete() {\n    if (this.isClosed) {\n      throw new Error(\"BehaviorSubject is closed\");\n    }\n    this.isClosed = true;\n    this.subscribers.forEach((subscriber) => subscriber.complete());\n  }\n  subscribe(onNext, onError, onComplete) {\n    const observer = typeof onNext === \"function\" ? {\n      next: onNext,\n      error: onError,\n      complete: onComplete\n    } : onNext;\n    return this.observable.subscribe(observer);\n  }\n}\n\nclass SessionStateTracker {\n  constructor() {\n    this.subject = new BehaviorSubject(SessionState.SignedOut);\n    this.signedIn = false;\n  }\n  setIsSignedIn(isSignedIn) {\n    if (this.signedIn !== isSignedIn) {\n      this.signedIn = isSignedIn;\n      this.subject.next(this.signedIn ? SessionState.SignedIn : SessionState.SignedOut);\n    }\n  }\n  sessionState$() {\n    return this.subject;\n  }\n}\n\nclass RefreshingAuthSessionManager {\n  constructor(options) {\n    this.stateTracker = new SessionStateTracker();\n    const {\n      connector,\n      defaultScopes = new Set(),\n      sessionScopes,\n      sessionShouldRefresh\n    } = options;\n    this.connector = connector;\n    this.sessionScopesFunc = sessionScopes;\n    this.sessionShouldRefreshFunc = sessionShouldRefresh;\n    this.helper = new SessionScopeHelper({sessionScopes, defaultScopes});\n  }\n  async getSession(options) {\n    if (this.helper.sessionExistsAndHasScope(this.currentSession, options.scopes)) {\n      const shouldRefresh = this.sessionShouldRefreshFunc(this.currentSession);\n      if (!shouldRefresh) {\n        return this.currentSession;\n      }\n      try {\n        const refreshedSession = await this.collapsedSessionRefresh();\n        const currentScopes = this.sessionScopesFunc(this.currentSession);\n        const refreshedScopes = this.sessionScopesFunc(refreshedSession);\n        if (hasScopes(refreshedScopes, currentScopes)) {\n          this.currentSession = refreshedSession;\n        }\n        return refreshedSession;\n      } catch (error) {\n        if (options.optional) {\n          return void 0;\n        }\n        throw error;\n      }\n    }\n    if (!this.currentSession && !options.instantPopup) {\n      try {\n        const newSession = await this.collapsedSessionRefresh();\n        this.currentSession = newSession;\n        return this.getSession(options);\n      } catch {\n      }\n    }\n    if (options.optional) {\n      return void 0;\n    }\n    this.currentSession = await this.connector.createSession({\n      ...options,\n      scopes: this.helper.getExtendedScope(this.currentSession, options.scopes)\n    });\n    this.stateTracker.setIsSignedIn(true);\n    return this.currentSession;\n  }\n  async removeSession() {\n    this.currentSession = void 0;\n    await this.connector.removeSession();\n    this.stateTracker.setIsSignedIn(false);\n  }\n  sessionState$() {\n    return this.stateTracker.sessionState$();\n  }\n  async collapsedSessionRefresh() {\n    if (this.refreshPromise) {\n      return this.refreshPromise;\n    }\n    this.refreshPromise = this.connector.refreshSession();\n    try {\n      const session = await this.refreshPromise;\n      this.stateTracker.setIsSignedIn(true);\n      return session;\n    } finally {\n      delete this.refreshPromise;\n    }\n  }\n}\n\nclass StaticAuthSessionManager {\n  constructor(options) {\n    this.stateTracker = new SessionStateTracker();\n    const {connector, defaultScopes = new Set(), sessionScopes} = options;\n    this.connector = connector;\n    this.helper = new SessionScopeHelper({sessionScopes, defaultScopes});\n  }\n  setSession(session) {\n    this.currentSession = session;\n    this.stateTracker.setIsSignedIn(Boolean(session));\n  }\n  async getSession(options) {\n    if (this.helper.sessionExistsAndHasScope(this.currentSession, options.scopes)) {\n      return this.currentSession;\n    }\n    if (options.optional) {\n      return void 0;\n    }\n    this.currentSession = await this.connector.createSession({\n      ...options,\n      scopes: this.helper.getExtendedScope(this.currentSession, options.scopes)\n    });\n    this.stateTracker.setIsSignedIn(true);\n    return this.currentSession;\n  }\n  async removeSession() {\n    this.currentSession = void 0;\n    await this.connector.removeSession();\n    this.stateTracker.setIsSignedIn(false);\n  }\n  sessionState$() {\n    return this.stateTracker.sessionState$();\n  }\n}\n\nclass AuthSessionStore {\n  constructor(options) {\n    const {\n      manager,\n      storageKey,\n      sessionScopes,\n      sessionShouldRefresh = () => false\n    } = options;\n    this.manager = manager;\n    this.storageKey = storageKey;\n    this.sessionShouldRefreshFunc = sessionShouldRefresh;\n    this.helper = new SessionScopeHelper({\n      sessionScopes,\n      defaultScopes: new Set()\n    });\n  }\n  async getSession(options) {\n    const {scopes} = options;\n    const session = this.loadSession();\n    if (this.helper.sessionExistsAndHasScope(session, scopes)) {\n      const shouldRefresh = this.sessionShouldRefreshFunc(session);\n      if (!shouldRefresh) {\n        this.manager.setSession(session);\n        return session;\n      }\n    }\n    const newSession = await this.manager.getSession(options);\n    this.saveSession(newSession);\n    return newSession;\n  }\n  async removeSession() {\n    localStorage.removeItem(this.storageKey);\n    await this.manager.removeSession();\n  }\n  sessionState$() {\n    return this.manager.sessionState$();\n  }\n  loadSession() {\n    try {\n      const sessionJson = localStorage.getItem(this.storageKey);\n      if (sessionJson) {\n        const session = JSON.parse(sessionJson, (_key, value) => {\n          if ((value == null ? void 0 : value.__type) === \"Set\") {\n            return new Set(value.__value);\n          }\n          return value;\n        });\n        return session;\n      }\n      return void 0;\n    } catch (error) {\n      localStorage.removeItem(this.storageKey);\n      return void 0;\n    }\n  }\n  saveSession(session) {\n    if (session === void 0) {\n      localStorage.removeItem(this.storageKey);\n    } else {\n      localStorage.setItem(this.storageKey, JSON.stringify(session, (_key, value) => {\n        if (value instanceof Set) {\n          return {\n            __type: \"Set\",\n            __value: Array.from(value)\n          };\n        }\n        return value;\n      }));\n    }\n  }\n}\n\nconst DEFAULT_PROVIDER = {\n  id: \"github\",\n  title: \"GitHub\",\n  icon: GithubIcon\n};\nclass GithubAuth {\n  constructor(sessionManager) {\n    this.sessionManager = sessionManager;\n  }\n  static create({\n    discoveryApi,\n    environment = \"development\",\n    provider = DEFAULT_PROVIDER,\n    oauthRequestApi,\n    defaultScopes = [\"read:user\"]\n  }) {\n    const connector = new DefaultAuthConnector({\n      discoveryApi,\n      environment,\n      provider,\n      oauthRequestApi,\n      sessionTransform(res) {\n        return {\n          ...res,\n          providerInfo: {\n            accessToken: res.providerInfo.accessToken,\n            scopes: GithubAuth.normalizeScope(res.providerInfo.scope),\n            expiresAt: new Date(Date.now() + res.providerInfo.expiresInSeconds * 1e3)\n          }\n        };\n      }\n    });\n    const sessionManager = new StaticAuthSessionManager({\n      connector,\n      defaultScopes: new Set(defaultScopes),\n      sessionScopes: (session) => session.providerInfo.scopes\n    });\n    const authSessionStore = new AuthSessionStore({\n      manager: sessionManager,\n      storageKey: `${provider.id}Session`,\n      sessionScopes: (session) => session.providerInfo.scopes\n    });\n    return new GithubAuth(authSessionStore);\n  }\n  async signIn() {\n    await this.getAccessToken();\n  }\n  async signOut() {\n    await this.sessionManager.removeSession();\n  }\n  sessionState$() {\n    return this.sessionManager.sessionState$();\n  }\n  async getAccessToken(scope, options) {\n    var _a;\n    const session = await this.sessionManager.getSession({\n      ...options,\n      scopes: GithubAuth.normalizeScope(scope)\n    });\n    return (_a = session == null ? void 0 : session.providerInfo.accessToken) != null ? _a : \"\";\n  }\n  async getBackstageIdentity(options = {}) {\n    const session = await this.sessionManager.getSession(options);\n    return session == null ? void 0 : session.backstageIdentity;\n  }\n  async getProfile(options = {}) {\n    const session = await this.sessionManager.getSession(options);\n    return session == null ? void 0 : session.profile;\n  }\n  static normalizeScope(scope) {\n    if (!scope) {\n      return new Set();\n    }\n    const scopeList = Array.isArray(scope) ? scope : scope.split(/[\\s|,]/).filter(Boolean);\n    return new Set(scopeList);\n  }\n}\n\nconst DEFAULT_PROVIDER$1 = {\n  id: \"oauth2\",\n  title: \"Your Identity Provider\",\n  icon: GithubIcon\n};\nclass OAuth2 {\n  static create({\n    discoveryApi,\n    environment = \"development\",\n    provider = DEFAULT_PROVIDER$1,\n    oauthRequestApi,\n    defaultScopes = [],\n    scopeTransform = (x) => x\n  }) {\n    const connector = new DefaultAuthConnector({\n      discoveryApi,\n      environment,\n      provider,\n      oauthRequestApi,\n      sessionTransform(res) {\n        return {\n          ...res,\n          providerInfo: {\n            idToken: res.providerInfo.idToken,\n            accessToken: res.providerInfo.accessToken,\n            scopes: OAuth2.normalizeScopes(scopeTransform, res.providerInfo.scope),\n            expiresAt: new Date(Date.now() + res.providerInfo.expiresInSeconds * 1e3)\n          }\n        };\n      }\n    });\n    const sessionManager = new RefreshingAuthSessionManager({\n      connector,\n      defaultScopes: new Set(defaultScopes),\n      sessionScopes: (session) => session.providerInfo.scopes,\n      sessionShouldRefresh: (session) => {\n        const expiresInSec = (session.providerInfo.expiresAt.getTime() - Date.now()) / 1e3;\n        return expiresInSec < 60 * 5;\n      }\n    });\n    return new OAuth2({sessionManager, scopeTransform});\n  }\n  constructor(options) {\n    this.sessionManager = options.sessionManager;\n    this.scopeTransform = options.scopeTransform;\n  }\n  async signIn() {\n    await this.getAccessToken();\n  }\n  async signOut() {\n    await this.sessionManager.removeSession();\n  }\n  sessionState$() {\n    return this.sessionManager.sessionState$();\n  }\n  async getAccessToken(scope, options) {\n    var _a;\n    const normalizedScopes = OAuth2.normalizeScopes(this.scopeTransform, scope);\n    const session = await this.sessionManager.getSession({\n      ...options,\n      scopes: normalizedScopes\n    });\n    return (_a = session == null ? void 0 : session.providerInfo.accessToken) != null ? _a : \"\";\n  }\n  async getIdToken(options = {}) {\n    var _a;\n    const session = await this.sessionManager.getSession(options);\n    return (_a = session == null ? void 0 : session.providerInfo.idToken) != null ? _a : \"\";\n  }\n  async getBackstageIdentity(options = {}) {\n    const session = await this.sessionManager.getSession(options);\n    return session == null ? void 0 : session.backstageIdentity;\n  }\n  async getProfile(options = {}) {\n    const session = await this.sessionManager.getSession(options);\n    return session == null ? void 0 : session.profile;\n  }\n  static normalizeScopes(scopeTransform, scopes) {\n    if (!scopes) {\n      return new Set();\n    }\n    const scopeList = Array.isArray(scopes) ? scopes : scopes.split(/[\\s|,]/).filter(Boolean);\n    return new Set(scopeTransform(scopeList));\n  }\n}\n\nconst DEFAULT_PROVIDER$2 = {\n  id: \"gitlab\",\n  title: \"GitLab\",\n  icon: GithubIcon\n};\nclass GitlabAuth {\n  static create({\n    discoveryApi,\n    environment = \"development\",\n    provider = DEFAULT_PROVIDER$2,\n    oauthRequestApi,\n    defaultScopes = [\"read_user\"]\n  }) {\n    return OAuth2.create({\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes\n    });\n  }\n}\n\nconst DEFAULT_PROVIDER$3 = {\n  id: \"google\",\n  title: \"Google\",\n  icon: GithubIcon\n};\nconst SCOPE_PREFIX = \"https://www.googleapis.com/auth/\";\nclass GoogleAuth {\n  static create({\n    discoveryApi,\n    oauthRequestApi,\n    environment = \"development\",\n    provider = DEFAULT_PROVIDER$3,\n    defaultScopes = [\n      \"openid\",\n      `${SCOPE_PREFIX}userinfo.email`,\n      `${SCOPE_PREFIX}userinfo.profile`\n    ]\n  }) {\n    return OAuth2.create({\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes,\n      scopeTransform(scopes) {\n        return scopes.map((scope) => {\n          if (scope === \"openid\") {\n            return scope;\n          }\n          if (scope === \"profile\" || scope === \"email\") {\n            return `${SCOPE_PREFIX}userinfo.${scope}`;\n          }\n          if (scope.startsWith(SCOPE_PREFIX)) {\n            return scope;\n          }\n          return `${SCOPE_PREFIX}${scope}`;\n        });\n      }\n    });\n  }\n}\n\nconst DEFAULT_PROVIDER$4 = {\n  id: \"okta\",\n  title: \"Okta\",\n  icon: GithubIcon\n};\nconst OKTA_OIDC_SCOPES = new Set([\n  \"openid\",\n  \"profile\",\n  \"email\",\n  \"phone\",\n  \"address\",\n  \"groups\",\n  \"offline_access\"\n]);\nconst OKTA_SCOPE_PREFIX = \"okta.\";\nclass OktaAuth {\n  static create({\n    discoveryApi,\n    environment = \"development\",\n    provider = DEFAULT_PROVIDER$4,\n    oauthRequestApi,\n    defaultScopes = [\"openid\", \"email\", \"profile\", \"offline_access\"]\n  }) {\n    return OAuth2.create({\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes,\n      scopeTransform(scopes) {\n        return scopes.map((scope) => {\n          if (OKTA_OIDC_SCOPES.has(scope)) {\n            return scope;\n          }\n          if (scope.startsWith(OKTA_SCOPE_PREFIX)) {\n            return scope;\n          }\n          return `${OKTA_SCOPE_PREFIX}${scope}`;\n        });\n      }\n    });\n  }\n}\n\nconst DEFAULT_PROVIDER$5 = {\n  id: \"saml\",\n  title: \"SAML\",\n  icon: GithubIcon\n};\nclass SamlAuth {\n  constructor(sessionManager) {\n    this.sessionManager = sessionManager;\n  }\n  static create({\n    discoveryApi,\n    environment = \"development\",\n    provider = DEFAULT_PROVIDER$5\n  }) {\n    const connector = new DirectAuthConnector({\n      discoveryApi,\n      environment,\n      provider\n    });\n    const sessionManager = new StaticAuthSessionManager({\n      connector\n    });\n    const authSessionStore = new AuthSessionStore({\n      manager: sessionManager,\n      storageKey: `${provider.id}Session`\n    });\n    return new SamlAuth(authSessionStore);\n  }\n  sessionState$() {\n    return this.sessionManager.sessionState$();\n  }\n  async signIn() {\n    await this.getBackstageIdentity({});\n  }\n  async signOut() {\n    await this.sessionManager.removeSession();\n  }\n  async getBackstageIdentity(options = {}) {\n    const session = await this.sessionManager.getSession(options);\n    return session == null ? void 0 : session.backstageIdentity;\n  }\n  async getProfile(options = {}) {\n    const session = await this.sessionManager.getSession(options);\n    return session == null ? void 0 : session.profile;\n  }\n}\n\nconst DEFAULT_PROVIDER$6 = {\n  id: \"auth0\",\n  title: \"Auth0\",\n  icon: GithubIcon\n};\nclass Auth0Auth {\n  static create({\n    discoveryApi,\n    environment = \"development\",\n    provider = DEFAULT_PROVIDER$6,\n    oauthRequestApi,\n    defaultScopes = [\"openid\", `email`, `profile`]\n  }) {\n    return OAuth2.create({\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes\n    });\n  }\n}\n\nconst DEFAULT_PROVIDER$7 = {\n  id: \"microsoft\",\n  title: \"Microsoft\",\n  icon: GithubIcon\n};\nclass MicrosoftAuth {\n  static create({\n    environment = \"development\",\n    provider = DEFAULT_PROVIDER$7,\n    oauthRequestApi,\n    discoveryApi,\n    defaultScopes = [\n      \"openid\",\n      \"offline_access\",\n      \"profile\",\n      \"email\",\n      \"User.Read\"\n    ]\n  }) {\n    return OAuth2.create({\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes\n    });\n  }\n}\n\nconst DEFAULT_PROVIDER$8 = {\n  id: \"onelogin\",\n  title: \"onelogin\",\n  icon: GithubIcon\n};\nconst OIDC_SCOPES = new Set([\n  \"openid\",\n  \"profile\",\n  \"email\",\n  \"phone\",\n  \"address\",\n  \"groups\",\n  \"offline_access\"\n]);\nconst SCOPE_PREFIX$1 = \"onelogin.\";\nclass OneLoginAuth {\n  static create({\n    discoveryApi,\n    environment = \"development\",\n    provider = DEFAULT_PROVIDER$8,\n    oauthRequestApi\n  }) {\n    return OAuth2.create({\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes: [\"openid\", \"email\", \"profile\", \"offline_access\"],\n      scopeTransform(scopes) {\n        return scopes.map((scope) => {\n          if (OIDC_SCOPES.has(scope)) {\n            return scope;\n          }\n          if (scope.startsWith(SCOPE_PREFIX$1)) {\n            return scope;\n          }\n          return `${SCOPE_PREFIX$1}${scope}`;\n        });\n      }\n    });\n  }\n}\n\nclass AlertApiForwarder {\n  constructor() {\n    this.subject = new PublishSubject();\n  }\n  post(alert) {\n    this.subject.next(alert);\n  }\n  alert$() {\n    return this.subject;\n  }\n}\n\nconst STORAGE_KEY = \"theme\";\nclass AppThemeSelector {\n  constructor(themes) {\n    this.themes = themes;\n    this.subject = new BehaviorSubject(void 0);\n  }\n  static createWithStorage(themes) {\n    var _a;\n    const selector = new AppThemeSelector(themes);\n    if (!window.localStorage) {\n      return selector;\n    }\n    const initialThemeId = (_a = window.localStorage.getItem(STORAGE_KEY)) != null ? _a : void 0;\n    selector.setActiveThemeId(initialThemeId);\n    selector.activeThemeId$().subscribe((themeId) => {\n      if (themeId) {\n        window.localStorage.setItem(STORAGE_KEY, themeId);\n      } else {\n        window.localStorage.removeItem(STORAGE_KEY);\n      }\n    });\n    window.addEventListener(\"storage\", (event) => {\n      var _a2;\n      if (event.key === STORAGE_KEY) {\n        const themeId = (_a2 = localStorage.getItem(STORAGE_KEY)) != null ? _a2 : void 0;\n        selector.setActiveThemeId(themeId);\n      }\n    });\n    return selector;\n  }\n  getInstalledThemes() {\n    return this.themes.slice();\n  }\n  activeThemeId$() {\n    return this.subject;\n  }\n  getActiveThemeId() {\n    return this.activeThemeId;\n  }\n  setActiveThemeId(themeId) {\n    this.activeThemeId = themeId;\n    this.subject.next(themeId);\n  }\n}\n\nclass UrlPatternDiscovery {\n  constructor(parts) {\n    this.parts = parts;\n  }\n  static compile(pattern) {\n    const parts = pattern.split(/\\{\\{\\s*pluginId\\s*\\}\\}/);\n    try {\n      const urlStr = parts.join(\"pluginId\");\n      const url = new URL(urlStr);\n      if (url.hash) {\n        throw new Error(\"URL must not have a hash\");\n      }\n      if (url.search) {\n        throw new Error(\"URL must not have a query\");\n      }\n      if (urlStr.endsWith(\"/\")) {\n        throw new Error(\"URL must not end with a slash\");\n      }\n    } catch (error) {\n      throw new Error(`Invalid discovery URL pattern, ${error.message}`);\n    }\n    return new UrlPatternDiscovery(parts);\n  }\n  async getBaseUrl(pluginId) {\n    return this.parts.join(pluginId);\n  }\n}\n\nclass ErrorAlerter {\n  constructor(alertApi, errorApi) {\n    this.alertApi = alertApi;\n    this.errorApi = errorApi;\n  }\n  post(error, context) {\n    if (!(context == null ? void 0 : context.hidden)) {\n      this.alertApi.post({message: error.message, severity: \"error\"});\n    }\n    return this.errorApi.post(error, context);\n  }\n  error$() {\n    return this.errorApi.error$();\n  }\n}\n\nclass ErrorApiForwarder {\n  constructor() {\n    this.subject = new PublishSubject();\n  }\n  post(error, context) {\n    this.subject.next({error, context});\n  }\n  error$() {\n    return this.subject;\n  }\n}\n\nfunction validateFlagName(name) {\n  if (name.length < 3) {\n    throw new Error(`The '${name}' feature flag must have a minimum length of three characters.`);\n  }\n  if (name.length > 150) {\n    throw new Error(`The '${name}' feature flag must not exceed 150 characters.`);\n  }\n  if (!name.match(/^[a-z]+[a-z0-9-]+$/)) {\n    throw new Error(`The '${name}' feature flag must start with a lowercase letter and only contain lowercase letters, numbers and hyphens. Examples: feature-flag-one, alpha, release-2020`);\n  }\n}\nclass LocalStorageFeatureFlags {\n  constructor() {\n    this.registeredFeatureFlags = [];\n  }\n  registerFlag(flag) {\n    validateFlagName(flag.name);\n    this.registeredFeatureFlags.push(flag);\n  }\n  getRegisteredFlags() {\n    return this.registeredFeatureFlags.slice();\n  }\n  isActive(name) {\n    if (!this.flags) {\n      this.flags = this.load();\n    }\n    return this.flags.get(name) === FeatureFlagState.Active;\n  }\n  save(options) {\n    if (!this.flags) {\n      this.flags = this.load();\n    }\n    if (!options.merge) {\n      this.flags.clear();\n    }\n    for (const [name, state] of Object.entries(options.states)) {\n      this.flags.set(name, state);\n    }\n    const enabled = Array.from(this.flags.entries()).filter(([, state]) => state === FeatureFlagState.Active);\n    window.localStorage.setItem(\"featureFlags\", JSON.stringify(Object.fromEntries(enabled)));\n  }\n  load() {\n    try {\n      const jsonStr = window.localStorage.getItem(\"featureFlags\");\n      if (!jsonStr) {\n        return new Map();\n      }\n      const json = JSON.parse(jsonStr);\n      if (typeof json !== \"object\" || json === null || Array.isArray(json)) {\n        return new Map();\n      }\n      const entries = Object.entries(json).filter(([name, value]) => {\n        validateFlagName(name);\n        return value === FeatureFlagState.Active;\n      });\n      return new Map(entries);\n    } catch {\n      return new Map();\n    }\n  }\n}\n\nfunction hasScopes$1(searched, searchFor) {\n  for (const scope of searchFor) {\n    if (!searched.has(scope)) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction joinScopes(scopes, ...moreScopess) {\n  const result = new Set(scopes);\n  for (const moreScopes of moreScopess) {\n    for (const scope of moreScopes) {\n      result.add(scope);\n    }\n  }\n  return result;\n}\nclass OAuthPendingRequests {\n  constructor() {\n    this.requests = [];\n    this.subject = new BehaviorSubject(this.getCurrentPending());\n  }\n  request(scopes) {\n    return new Promise((resolve, reject) => {\n      this.requests.push({scopes, resolve, reject});\n      this.subject.next(this.getCurrentPending());\n    });\n  }\n  resolve(scopes, result) {\n    this.requests = this.requests.filter((request) => {\n      if (hasScopes$1(scopes, request.scopes)) {\n        request.resolve(result);\n        return false;\n      }\n      return true;\n    });\n    this.subject.next(this.getCurrentPending());\n  }\n  reject(error) {\n    this.requests.forEach((request) => request.reject(error));\n    this.requests = [];\n    this.subject.next(this.getCurrentPending());\n  }\n  pending() {\n    return this.subject;\n  }\n  getCurrentPending() {\n    const currentScopes = this.requests.length === 0 ? void 0 : this.requests.slice(1).reduce((acc, current) => joinScopes(acc, current.scopes), this.requests[0].scopes);\n    return {\n      scopes: currentScopes,\n      resolve: (value) => {\n        if (currentScopes) {\n          this.resolve(currentScopes, value);\n        }\n      },\n      reject: (reason) => {\n        if (currentScopes) {\n          this.reject(reason);\n        }\n      }\n    };\n  }\n}\n\nclass OAuthRequestManager {\n  constructor() {\n    this.subject = new BehaviorSubject([]);\n    this.currentRequests = [];\n    this.handlerCount = 0;\n  }\n  createAuthRequester(options) {\n    const handler = new OAuthPendingRequests();\n    const index = this.handlerCount;\n    this.handlerCount++;\n    handler.pending().subscribe({\n      next: (scopeRequest) => {\n        const newRequests = this.currentRequests.slice();\n        const request = this.makeAuthRequest(scopeRequest, options);\n        if (!request) {\n          delete newRequests[index];\n        } else {\n          newRequests[index] = request;\n        }\n        this.currentRequests = newRequests;\n        this.subject.next(newRequests.filter(Boolean));\n      }\n    });\n    return (scopes) => {\n      return handler.request(scopes);\n    };\n  }\n  makeAuthRequest(request, options) {\n    const {scopes} = request;\n    if (!scopes) {\n      return void 0;\n    }\n    return {\n      provider: options.provider,\n      trigger: async () => {\n        const result = await options.onAuthRequest(scopes);\n        request.resolve(result);\n      },\n      reject: () => {\n        const error = new Error(\"Login failed, rejected by user\");\n        error.name = \"RejectedError\";\n        request.reject(error);\n      }\n    };\n  }\n  authRequest$() {\n    return this.subject;\n  }\n}\n\nconst buckets = new Map();\nclass WebStorage {\n  constructor(namespace, errorApi) {\n    this.namespace = namespace;\n    this.errorApi = errorApi;\n    this.subscribers = new Set();\n    this.observable = new ObservableImpl((subscriber) => {\n      this.subscribers.add(subscriber);\n      return () => {\n        this.subscribers.delete(subscriber);\n      };\n    });\n  }\n  static create(options) {\n    var _a;\n    return new WebStorage((_a = options.namespace) != null ? _a : \"\", options.errorApi);\n  }\n  get(key) {\n    try {\n      const storage = JSON.parse(localStorage.getItem(this.getKeyName(key)));\n      return storage != null ? storage : void 0;\n    } catch (e) {\n      this.errorApi.post(new Error(`Error when parsing JSON config from storage for: ${key}`));\n    }\n    return void 0;\n  }\n  forBucket(name) {\n    const bucketPath = `${this.namespace}/${name}`;\n    if (!buckets.has(bucketPath)) {\n      buckets.set(bucketPath, new WebStorage(bucketPath, this.errorApi));\n    }\n    return buckets.get(bucketPath);\n  }\n  async set(key, data) {\n    localStorage.setItem(this.getKeyName(key), JSON.stringify(data, null, 2));\n    this.notifyChanges({key, newValue: data});\n  }\n  async remove(key) {\n    localStorage.removeItem(this.getKeyName(key));\n    this.notifyChanges({key, newValue: void 0});\n  }\n  observe$(key) {\n    return this.observable.filter(({key: messageKey}) => messageKey === key);\n  }\n  getKeyName(key) {\n    return `${this.namespace}/${encodeURIComponent(key)}`;\n  }\n  notifyChanges(message) {\n    for (const subscription of this.subscribers) {\n      subscription.next(message);\n    }\n  }\n}\n\nconst AppContext = getOrCreateGlobalSingleton(\"app-context\", () => createContext(void 0));\nconst AppContextProvider = ({\n  appContext,\n  children\n}) => {\n  const versionedValue = useMemo(() => createVersionedValueMap({1: appContext}), [appContext]);\n  return /* @__PURE__ */ React.createElement(AppContext.Provider, {\n    value: versionedValue,\n    children\n  });\n};\nconst useApp = () => {\n  const versionedContext = useContext(getGlobalSingleton(\"app-context\"));\n  if (!versionedContext) {\n    throw new Error(\"No app context available\");\n  }\n  const appContext = versionedContext.atVersion(1);\n  if (!appContext) {\n    throw new Error(\"AppContext v1 not available\");\n  }\n  return appContext;\n};\n\nconst DATA_KEY = Symbol(\"backstage-component-data\");\nconst store = getOrCreateGlobalSingleton(\"component-data-store\", () => new WeakMap());\nfunction attachComponentData(component, type, data) {\n  const dataComponent = component;\n  let container = store.get(component) || dataComponent[DATA_KEY];\n  if (!container) {\n    container = {map: new Map()};\n    store.set(component, container);\n    dataComponent[DATA_KEY] = container;\n  }\n  if (container.map.has(type)) {\n    const name = component.displayName || component.name;\n    throw new Error(`Attempted to attach duplicate data \"${type}\" to component \"${name}\"`);\n  }\n  container.map.set(type, data);\n}\nfunction getComponentData(node, type) {\n  if (!node) {\n    return void 0;\n  }\n  const component = node.type;\n  if (!component) {\n    return void 0;\n  }\n  const container = store.get(component) || component[DATA_KEY];\n  if (!container) {\n    return void 0;\n  }\n  return container.map.get(type);\n}\n\nconst routeRefType = getOrCreateGlobalSingleton(\"route-ref-type\", () => Symbol(\"route-ref-type\"));\n\nvar _a;\nclass ExternalRouteRefImpl {\n  constructor(id, params, optional) {\n    this.id = id;\n    this.params = params;\n    this.optional = optional;\n    this[_a] = \"external\";\n  }\n  toString() {\n    return `routeRef{type=external,id=${this.id}}`;\n  }\n}\n_a = routeRefType;\nfunction createExternalRouteRef(options) {\n  var _a2;\n  return new ExternalRouteRefImpl(options.id, (_a2 = options.params) != null ? _a2 : [], Boolean(options.optional));\n}\nfunction isExternalRouteRef(routeRef) {\n  return routeRef[routeRefType] === \"external\";\n}\n\nfunction createRoutesFromChildren(childrenNode) {\n  return Children.toArray(childrenNode).flatMap((child) => {\n    var _a;\n    if (!isValidElement(child)) {\n      return [];\n    }\n    const {children} = child.props;\n    if (child.type === Fragment) {\n      return createRoutesFromChildren(children);\n    }\n    let path = child.props.path;\n    if (path === \"\") {\n      return [];\n    }\n    path = (_a = path == null ? void 0 : path.replace(/\\/\\*$/, \"\")) != null ? _a : \"/\";\n    return [\n      {\n        path,\n        element: child,\n        children: children && [\n          {\n            path: \"/*\",\n            element: children\n          }\n        ]\n      }\n    ];\n  });\n}\nconst FlatRoutes = (props) => {\n  const app = useApp();\n  const {NotFoundErrorPage} = app.getComponents();\n  const routes = createRoutesFromChildren(props.children).sort((a, b) => b.path.localeCompare(a.path)).map((obj) => {\n    obj.path = obj.path === \"/\" ? \"/\" : `${obj.path}/*`;\n    return obj;\n  });\n  routes.push({\n    element: /* @__PURE__ */ React.createElement(NotFoundErrorPage, null),\n    path: \"/*\"\n  });\n  return useRoutes(routes);\n};\n\nvar _a$1;\nclass RouteRefImpl {\n  constructor(id, params, config) {\n    this.id = id;\n    this.params = params;\n    this.config = config;\n    this[_a$1] = \"absolute\";\n  }\n  get icon() {\n    return this.config.icon;\n  }\n  get path() {\n    var _a2;\n    return (_a2 = this.config.path) != null ? _a2 : \"\";\n  }\n  get title() {\n    var _a2;\n    return (_a2 = this.config.title) != null ? _a2 : this.id;\n  }\n  toString() {\n    return `routeRef{type=absolute,id=${this.id}}`;\n  }\n}\n_a$1 = routeRefType;\nfunction createRouteRef(config) {\n  var _a2;\n  const id = config.id || config.title;\n  if (!id) {\n    throw new Error(\"RouteRef must be provided a non-empty id\");\n  }\n  return new RouteRefImpl(id, (_a2 = config.params) != null ? _a2 : [], config);\n}\nfunction isRouteRef(routeRef) {\n  return routeRef[routeRefType] === \"absolute\";\n}\n\nvar _a$2;\nconst PARAM_PATTERN = /^\\w+$/;\nclass SubRouteRefImpl {\n  constructor(id, path, parent, params) {\n    this.id = id;\n    this.path = path;\n    this.parent = parent;\n    this.params = params;\n    this[_a$2] = \"sub\";\n  }\n  toString() {\n    return `routeRef{type=sub,id=${this.id}}`;\n  }\n}\n_a$2 = routeRefType;\nfunction createSubRouteRef(config) {\n  const {id, path, parent} = config;\n  const pathParams = path.split(\"/\").filter((p) => p.startsWith(\":\")).map((p) => p.substring(1));\n  const params = [...parent.params, ...pathParams];\n  if (parent.params.some((p) => pathParams.includes(p))) {\n    throw new Error(\"SubRouteRef may not have params that overlap with its parent\");\n  }\n  if (!path.startsWith(\"/\")) {\n    throw new Error(`SubRouteRef path must start with '/', got '${path}'`);\n  }\n  if (path.endsWith(\"/\")) {\n    throw new Error(`SubRouteRef path must not end with '/', got '${path}'`);\n  }\n  for (const param of pathParams) {\n    if (!PARAM_PATTERN.test(param)) {\n      throw new Error(`SubRouteRef path has invalid param, got '${param}'`);\n    }\n  }\n  const subRouteRef = new SubRouteRefImpl(id, path, parent, params);\n  return subRouteRef;\n}\nfunction isSubRouteRef(routeRef) {\n  return routeRef[routeRefType] === \"sub\";\n}\n\nfunction joinPaths(...paths) {\n  const normalized = paths.join(\"/\").replace(/\\/\\/+/g, \"/\");\n  if (normalized !== \"/\" && normalized.endsWith(\"/\")) {\n    return normalized.slice(0, -1);\n  }\n  return normalized;\n}\nfunction resolveTargetRef(anyRouteRef, routePaths, routeBindings) {\n  let targetRef;\n  let subRoutePath = \"\";\n  if (isRouteRef(anyRouteRef)) {\n    targetRef = anyRouteRef;\n  } else if (isSubRouteRef(anyRouteRef)) {\n    targetRef = anyRouteRef.parent;\n    subRoutePath = anyRouteRef.path;\n  } else if (isExternalRouteRef(anyRouteRef)) {\n    const resolvedRoute = routeBindings.get(anyRouteRef);\n    if (!resolvedRoute) {\n      return [void 0, \"\"];\n    }\n    if (isRouteRef(resolvedRoute)) {\n      targetRef = resolvedRoute;\n    } else if (isSubRouteRef(resolvedRoute)) {\n      targetRef = resolvedRoute.parent;\n      subRoutePath = resolvedRoute.path;\n    } else {\n      throw new Error(`ExternalRouteRef was bound to invalid target, ${resolvedRoute}`);\n    }\n  } else if (anyRouteRef[routeRefType]) {\n    throw new Error(`Unknown or invalid route ref type, ${anyRouteRef[routeRefType]}`);\n  } else {\n    throw new Error(`Unknown object passed to useRouteRef, got ${anyRouteRef}`);\n  }\n  if (!targetRef) {\n    return [void 0, \"\"];\n  }\n  const resolvedPath = routePaths.get(targetRef);\n  if (!resolvedPath) {\n    return [void 0, \"\"];\n  }\n  const targetPath = joinPaths(resolvedPath, subRoutePath);\n  return [targetRef, targetPath];\n}\nfunction resolveBasePath(targetRef, sourceLocation, routePaths, routeParents, routeObjects) {\n  var _a;\n  const match = (_a = matchRoutes(routeObjects, sourceLocation)) != null ? _a : [];\n  const refDiffList = Array();\n  let matchIndex = -1;\n  for (let targetSearchRef = targetRef; targetSearchRef; targetSearchRef = routeParents.get(targetSearchRef)) {\n    matchIndex = match.findIndex((m) => m.route.routeRefs.has(targetSearchRef));\n    if (matchIndex !== -1) {\n      break;\n    }\n    refDiffList.unshift(targetSearchRef);\n  }\n  if (refDiffList.length === 0) {\n    matchIndex -= 1;\n  }\n  const parentPath = matchIndex === -1 ? \"\" : match[matchIndex].pathname;\n  const diffPath = joinPaths(...refDiffList.slice(0, -1).map((ref) => {\n    const path = routePaths.get(ref);\n    if (!path) {\n      throw new Error(`No path for ${ref}`);\n    }\n    if (path.includes(\":\")) {\n      throw new Error(`Cannot route to ${targetRef} with parent ${ref} as it has parameters`);\n    }\n    return path;\n  }));\n  return parentPath + diffPath;\n}\nclass RouteResolver {\n  constructor(routePaths, routeParents, routeObjects, routeBindings) {\n    this.routePaths = routePaths;\n    this.routeParents = routeParents;\n    this.routeObjects = routeObjects;\n    this.routeBindings = routeBindings;\n  }\n  resolve(anyRouteRef, sourceLocation) {\n    const [targetRef, targetPath] = resolveTargetRef(anyRouteRef, this.routePaths, this.routeBindings);\n    if (!targetRef) {\n      return void 0;\n    }\n    const basePath = resolveBasePath(targetRef, sourceLocation, this.routePaths, this.routeParents, this.routeObjects);\n    const routeFunc = (...[params]) => {\n      return basePath + generatePath(targetPath, params);\n    };\n    return routeFunc;\n  }\n}\n\nconst RoutingContext = getOrCreateGlobalSingleton(\"routing-context\", () => createContext(void 0));\nfunction useRouteRef(routeRef) {\n  const sourceLocation = useLocation();\n  const versionedContext = useContext(getGlobalSingleton(\"routing-context\"));\n  const resolver = versionedContext == null ? void 0 : versionedContext.atVersion(1);\n  const routeFunc = useMemo(() => resolver && resolver.resolve(routeRef, sourceLocation), [resolver, routeRef, sourceLocation]);\n  if (!versionedContext) {\n    throw new Error(\"useRouteRef used outside of routing context\");\n  }\n  if (!resolver) {\n    throw new Error(\"RoutingContext v1 not available\");\n  }\n  const isOptional = \"optional\" in routeRef && routeRef.optional;\n  if (!routeFunc && !isOptional) {\n    throw new Error(`No path for ${routeRef}`);\n  }\n  return routeFunc;\n}\nconst RoutingProvider = ({\n  routePaths,\n  routeParents,\n  routeObjects,\n  routeBindings,\n  children\n}) => {\n  const resolver = new RouteResolver(routePaths, routeParents, routeObjects, routeBindings);\n  const versionedValue = createVersionedValueMap({1: resolver});\n  return /* @__PURE__ */ React.createElement(RoutingContext.Provider, {\n    value: versionedValue\n  }, children);\n};\nfunction useRouteRefParams(_routeRef) {\n  return useParams();\n}\n\nfunction createRoutableExtension(options) {\n  const {component, mountPoint} = options;\n  return createReactExtension({\n    component: {\n      lazy: () => component().then((InnerComponent) => {\n        const RoutableExtensionWrapper = (props) => {\n          try {\n            useRouteRef(mountPoint);\n          } catch (error) {\n            if (error == null ? void 0 : error.message.startsWith(\"No path for \")) {\n              throw new Error(`Routable extension component with mount point ${mountPoint} was not discovered in the app element tree. Routable extension components may not be rendered by other components and must be directly available as an element within the App provider component.`);\n            }\n            throw error;\n          }\n          return /* @__PURE__ */ React.createElement(InnerComponent, {\n            ...props\n          });\n        };\n        const componentName = InnerComponent.displayName || InnerComponent.name || \"LazyComponent\";\n        RoutableExtensionWrapper.displayName = `RoutableExtension(${componentName})`;\n        return RoutableExtensionWrapper;\n      }, (error) => {\n        const RoutableExtensionWrapper = (_) => {\n          const app = useApp();\n          const {BootErrorPage} = app.getComponents();\n          return /* @__PURE__ */ React.createElement(BootErrorPage, {\n            step: \"load-chunk\",\n            error\n          });\n        };\n        return RoutableExtensionWrapper;\n      })\n    },\n    data: {\n      \"core.mountPoint\": mountPoint\n    }\n  });\n}\nfunction createComponentExtension(options) {\n  const {component} = options;\n  return createReactExtension({component});\n}\nfunction createReactExtension(options) {\n  const {data = {}} = options;\n  let Component;\n  if (\"lazy\" in options.component) {\n    const lazyLoader = options.component.lazy;\n    Component = lazy(() => lazyLoader().then((component) => ({default: component})));\n  } else {\n    Component = options.component.sync;\n  }\n  const componentName = Component.displayName || Component.name || \"Component\";\n  return {\n    expose(plugin) {\n      const Result = (props) => /* @__PURE__ */ React.createElement(Suspense, {\n        fallback: \"...\"\n      }, /* @__PURE__ */ React.createElement(Component, {\n        ...props\n      }));\n      attachComponentData(Result, \"core.plugin\", plugin);\n      for (const [key, value] of Object.entries(data)) {\n        attachComponentData(Result, key, value);\n      }\n      Result.displayName = `Extension(${componentName})`;\n      return Result;\n    }\n  };\n}\n\nconst defaultSystemIcons = {\n  brokenImage: MuiBrokenImageIcon,\n  catalog: MuiMenuBookIcon,\n  chat: MuiChatIcon,\n  dashboard: MuiDashboardIcon,\n  email: MuiEmailIcon,\n  github: MuiGitHubIcon,\n  group: MuiPeopleIcon,\n  help: MuiHelpIcon,\n  user: MuiPersonIcon,\n  warning: MuiWarningIcon,\n  docs: MuiDocsIcon\n};\nconst overridableSystemIcon = (key) => {\n  const Component = (props) => {\n    const app = useApp();\n    const Icon = app.getSystemIcon(key);\n    return Icon ? /* @__PURE__ */ React.createElement(Icon, {\n      ...props\n    }) : /* @__PURE__ */ React.createElement(MuiBrokenImageIcon, {\n      ...props\n    });\n  };\n  return Component;\n};\nconst BrokenImageIcon = overridableSystemIcon(\"brokenImage\");\nconst ChatIcon = overridableSystemIcon(\"chat\");\nconst DashboardIcon = overridableSystemIcon(\"dashboard\");\nconst EmailIcon = overridableSystemIcon(\"email\");\nconst GitHubIcon = overridableSystemIcon(\"github\");\nconst GroupIcon = overridableSystemIcon(\"group\");\nconst HelpIcon = overridableSystemIcon(\"help\");\nconst UserIcon = overridableSystemIcon(\"user\");\nconst WarningIcon = overridableSystemIcon(\"warning\");\nconst DocsIcon = overridableSystemIcon(\"docs\");\n\nclass PluginImpl {\n  constructor(config) {\n    this.config = config;\n  }\n  getId() {\n    return this.config.id;\n  }\n  getApis() {\n    var _a;\n    return (_a = this.config.apis) != null ? _a : [];\n  }\n  get routes() {\n    var _a;\n    return (_a = this.config.routes) != null ? _a : {};\n  }\n  get externalRoutes() {\n    var _a;\n    return (_a = this.config.externalRoutes) != null ? _a : {};\n  }\n  output() {\n    if (this.storedOutput) {\n      return this.storedOutput;\n    }\n    if (!this.config.register) {\n      return [];\n    }\n    const outputs = new Array();\n    this.config.register({\n      router: {\n        addRoute(target, component, options) {\n          outputs.push({\n            type: \"route\",\n            target,\n            component,\n            options\n          });\n        }\n      },\n      featureFlags: {\n        register(name) {\n          outputs.push({type: \"feature-flag\", name});\n        }\n      }\n    });\n    this.storedOutput = outputs;\n    return this.storedOutput;\n  }\n  provide(extension) {\n    return extension.expose(this);\n  }\n  toString() {\n    return `plugin{${this.config.id}}`;\n  }\n}\nfunction createPlugin(config) {\n  return new PluginImpl(config);\n}\n\nfunction traverseElementTree(options) {\n  const collectors = {};\n  for (const name in options.collectors) {\n    if (options.collectors.hasOwnProperty(name)) {\n      collectors[name] = options.collectors[name]();\n    }\n  }\n  const queue = [\n    {\n      node: Children.toArray(options.root),\n      parent: void 0,\n      contexts: {}\n    }\n  ];\n  while (queue.length !== 0) {\n    const {node, parent, contexts} = queue.shift();\n    Children.forEach(node, (element) => {\n      if (!isValidElement(element)) {\n        return;\n      }\n      const nextContexts = {};\n      for (const name in collectors) {\n        if (collectors.hasOwnProperty(name)) {\n          const collector = collectors[name];\n          nextContexts[name] = collector.visit(collector.accumulator, element, parent, contexts[name]);\n        }\n      }\n      for (const discoverer of options.discoverers) {\n        const children = discoverer(element);\n        if (children) {\n          queue.push({\n            node: children,\n            parent: element,\n            contexts: nextContexts\n          });\n        }\n      }\n    });\n  }\n  return Object.fromEntries(Object.entries(collectors).map(([name, c]) => [name, c.accumulator]));\n}\nfunction createCollector(accumulatorFactory, visit) {\n  return () => ({accumulator: accumulatorFactory(), visit});\n}\nfunction childDiscoverer(element) {\n  var _a;\n  return (_a = element.props) == null ? void 0 : _a.children;\n}\nfunction routeElementDiscoverer(element) {\n  var _a, _b, _c;\n  if (((_a = element.props) == null ? void 0 : _a.path) && ((_b = element.props) == null ? void 0 : _b.element)) {\n    return (_c = element.props) == null ? void 0 : _c.element;\n  }\n  return void 0;\n}\n\nconst pluginCollector = createCollector(() => new Set(), (acc, node) => {\n  const plugin = getComponentData(node, \"core.plugin\");\n  if (plugin) {\n    acc.add(plugin);\n  }\n});\n\nfunction getMountPoint(node) {\n  var _a;\n  const element = (_a = node.props) == null ? void 0 : _a.element;\n  let routeRef = getComponentData(node, \"core.mountPoint\");\n  if (!routeRef && isValidElement(element)) {\n    routeRef = getComponentData(element, \"core.mountPoint\");\n  }\n  return routeRef;\n}\nconst routePathCollector = createCollector(() => new Map(), (acc, node, parent, ctxPath) => {\n  var _a, _b;\n  let currentCtxPath = ctxPath;\n  if ((parent == null ? void 0 : parent.props.element) === node) {\n    return currentCtxPath;\n  }\n  if (getComponentData(node, \"core.gatherMountPoints\")) {\n    const path = (_a = node.props) == null ? void 0 : _a.path;\n    if (!path) {\n      throw new Error(\"Mount point gatherer must have a path\");\n    }\n    currentCtxPath = path;\n  }\n  const routeRef = getMountPoint(node);\n  if (routeRef) {\n    let path = (_b = node.props) == null ? void 0 : _b.path;\n    if (currentCtxPath) {\n      if (path) {\n        currentCtxPath = void 0;\n      } else {\n        path = currentCtxPath;\n      }\n    }\n    if (!path) {\n      throw new Error(\"Mounted routable extension must have a path\");\n    }\n    acc.set(routeRef, path);\n  }\n  return currentCtxPath;\n});\nconst routeParentCollector = createCollector(() => new Map(), (acc, node, parent, parentRouteRef) => {\n  var _a;\n  if ((parent == null ? void 0 : parent.props.element) === node) {\n    return parentRouteRef;\n  }\n  let nextParent = parentRouteRef;\n  const routeRef = getMountPoint(node);\n  if (routeRef) {\n    if (parentRouteRef && \"sticky\" in parentRouteRef) {\n      acc.set(routeRef, parentRouteRef.sticky);\n      if ((_a = node.props) == null ? void 0 : _a.path) {\n        nextParent = routeRef;\n      } else {\n        nextParent = parentRouteRef;\n      }\n    } else {\n      acc.set(routeRef, parentRouteRef);\n      nextParent = routeRef;\n    }\n  }\n  if (getComponentData(node, \"core.gatherMountPoints\")) {\n    return {sticky: nextParent};\n  }\n  return nextParent;\n});\nconst MATCH_ALL_ROUTE = {\n  caseSensitive: false,\n  path: \"/*\",\n  element: \"match-all\",\n  routeRefs: new Set()\n};\nconst routeObjectCollector = createCollector(() => Array(), (acc, node, parent, parentObj) => {\n  var _a, _b, _c;\n  const parentChildren = (_a = parentObj == null ? void 0 : parentObj.children) != null ? _a : acc;\n  if ((parent == null ? void 0 : parent.props.element) === node) {\n    return parentObj;\n  }\n  const path = (_b = node.props) == null ? void 0 : _b.path;\n  const caseSensitive = Boolean((_c = node.props) == null ? void 0 : _c.caseSensitive);\n  const routeRef = getMountPoint(node);\n  if (routeRef) {\n    if (path) {\n      const newObject = {\n        caseSensitive,\n        path,\n        element: \"mounted\",\n        routeRefs: new Set([routeRef]),\n        children: [MATCH_ALL_ROUTE]\n      };\n      parentChildren.push(newObject);\n      return newObject;\n    }\n    parentObj == null ? void 0 : parentObj.routeRefs.add(routeRef);\n  }\n  const isGatherer = getComponentData(node, \"core.gatherMountPoints\");\n  if (isGatherer) {\n    if (!path) {\n      throw new Error(\"Mount point gatherer must have a path\");\n    }\n    const newObject = {\n      caseSensitive,\n      path,\n      element: \"gathered\",\n      routeRefs: new Set(),\n      children: [MATCH_ALL_ROUTE]\n    };\n    parentChildren.push(newObject);\n    return newObject;\n  }\n  return parentObj;\n});\n\nfunction validateRoutes(routePaths, routeParents) {\n  const notLeafRoutes = new Set(routeParents.values());\n  notLeafRoutes.delete(void 0);\n  for (const route of routeParents.keys()) {\n    if (notLeafRoutes.has(route)) {\n      continue;\n    }\n    let currentRouteRef = route;\n    let fullPath = \"\";\n    while (currentRouteRef) {\n      const path = routePaths.get(currentRouteRef);\n      if (!path) {\n        throw new Error(`No path for ${currentRouteRef}`);\n      }\n      fullPath = `${path}${fullPath}`;\n      currentRouteRef = routeParents.get(currentRouteRef);\n    }\n    const params = fullPath.match(/:(\\w+)/g);\n    if (params) {\n      for (let j = 0; j < params.length; j++) {\n        for (let i = j + 1; i < params.length; i++) {\n          if (params[i] === params[j]) {\n            throw new Error(`Parameter ${params[i]} is duplicated in path ${fullPath}`);\n          }\n        }\n      }\n    }\n  }\n}\n\nclass AppIdentity {\n  constructor() {\n    this.hasIdentity = false;\n  }\n  getUserId() {\n    if (!this.hasIdentity) {\n      throw new Error(\"Tried to access IdentityApi userId before app was loaded\");\n    }\n    return this.userId;\n  }\n  getProfile() {\n    if (!this.hasIdentity) {\n      throw new Error(\"Tried to access IdentityApi profile before app was loaded\");\n    }\n    return this.profile;\n  }\n  async getIdToken() {\n    var _a;\n    if (!this.hasIdentity) {\n      throw new Error(\"Tried to access IdentityApi idToken before app was loaded\");\n    }\n    return (_a = this.idTokenFunc) == null ? void 0 : _a.call(this);\n  }\n  async signOut() {\n    var _a;\n    if (!this.hasIdentity) {\n      throw new Error(\"Tried to access IdentityApi signOutFunc before app was loaded\");\n    }\n    await ((_a = this.signOutFunc) == null ? void 0 : _a.call(this));\n    location.reload();\n  }\n  setSignInResult(result) {\n    if (this.hasIdentity) {\n      return;\n    }\n    if (!result.userId) {\n      throw new Error(\"Invalid sign-in result, userId not set\");\n    }\n    if (!result.profile) {\n      throw new Error(\"Invalid sign-in result, profile not set\");\n    }\n    this.hasIdentity = true;\n    this.userId = result.userId;\n    this.profile = result.profile;\n    this.idTokenFunc = result.getIdToken;\n    this.signOutFunc = result.signOut;\n  }\n}\n\nfunction resolveTheme(themeId, shouldPreferDark, themes) {\n  if (themeId !== void 0) {\n    const selectedTheme = themes.find((theme) => theme.id === themeId);\n    if (selectedTheme) {\n      return selectedTheme;\n    }\n  }\n  if (shouldPreferDark) {\n    const darkTheme = themes.find((theme) => theme.variant === \"dark\");\n    if (darkTheme) {\n      return darkTheme;\n    }\n  }\n  const lightTheme = themes.find((theme) => theme.variant === \"light\");\n  if (lightTheme) {\n    return lightTheme;\n  }\n  return themes[0];\n}\nconst useShouldPreferDarkTheme = () => {\n  const mediaQuery = useMemo(() => window.matchMedia(\"(prefers-color-scheme: dark)\"), []);\n  const [shouldPreferDark, setPrefersDark] = useState(mediaQuery.matches);\n  useEffect(() => {\n    const listener = (event) => {\n      setPrefersDark(event.matches);\n    };\n    mediaQuery.addListener(listener);\n    return () => {\n      mediaQuery.removeListener(listener);\n    };\n  }, [mediaQuery]);\n  return shouldPreferDark;\n};\nfunction AppThemeProvider({children}) {\n  const appThemeApi = useApi(appThemeApiRef);\n  const themeId = useObservable(appThemeApi.activeThemeId$(), appThemeApi.getActiveThemeId());\n  const shouldPreferDark = Boolean(window.matchMedia) ? useShouldPreferDarkTheme() : false;\n  const appTheme = resolveTheme(themeId, shouldPreferDark, appThemeApi.getInstalledThemes());\n  if (!appTheme) {\n    throw new Error(\"App has no themes\");\n  }\n  return /* @__PURE__ */ React.createElement(ThemeProvider, {\n    theme: appTheme.theme\n  }, /* @__PURE__ */ React.createElement(CssBaseline, null, children));\n}\n\nfunction generateBoundRoutes(bindRoutes) {\n  const result = new Map();\n  if (bindRoutes) {\n    const bind = (externalRoutes, targetRoutes) => {\n      for (const [key, value] of Object.entries(targetRoutes)) {\n        const externalRoute = externalRoutes[key];\n        if (!externalRoute) {\n          throw new Error(`Key ${key} is not an existing external route`);\n        }\n        if (!value && !externalRoute.optional) {\n          throw new Error(`External route ${key} is required but was undefined`);\n        }\n        if (value) {\n          result.set(externalRoute, value);\n        }\n      }\n    };\n    bindRoutes({bind});\n  }\n  return result;\n}\nfunction useConfigLoader(configLoader, components, appThemeApi) {\n  var _a;\n  const hasConfig = Boolean(configLoader);\n  const config = useAsync(configLoader || (() => Promise.resolve([])));\n  let noConfigNode = void 0;\n  if (hasConfig && config.loading) {\n    const {Progress} = components;\n    noConfigNode = /* @__PURE__ */ React.createElement(Progress, null);\n  } else if (config.error) {\n    const {BootErrorPage} = components;\n    noConfigNode = /* @__PURE__ */ React.createElement(BootErrorPage, {\n      step: \"load-config\",\n      error: config.error\n    });\n  }\n  if (noConfigNode) {\n    return {\n      node: /* @__PURE__ */ React.createElement(ApiProvider, {\n        apis: ApiRegistry.from([[appThemeApiRef, appThemeApi]])\n      }, /* @__PURE__ */ React.createElement(AppThemeProvider, null, noConfigNode))\n    };\n  }\n  const configReader = ConfigReader.fromConfigs((_a = config.value) != null ? _a : []);\n  return {api: configReader};\n}\nclass AppContextImpl {\n  constructor(app) {\n    this.app = app;\n  }\n  getPlugins() {\n    console.warn(\"appContext.getPlugins() is deprecated and will be removed\");\n    return this.app.getPlugins();\n  }\n  getSystemIcon(key) {\n    return this.app.getSystemIcon(key);\n  }\n  getComponents() {\n    return this.app.getComponents();\n  }\n  getProvider() {\n    console.warn(\"appContext.getProvider() is deprecated and will be removed\");\n    return this.app.getProvider();\n  }\n  getRouter() {\n    console.warn(\"appContext.getRouter() is deprecated and will be removed\");\n    return this.app.getRouter();\n  }\n  getRoutes() {\n    console.warn(\"appContext.getRoutes() is deprecated and will be removed\");\n    return this.app.getRoutes();\n  }\n}\nclass PrivateAppImpl {\n  constructor(options) {\n    this.identityApi = new AppIdentity();\n    this.apis = options.apis;\n    this.icons = options.icons;\n    this.plugins = new Set(options.plugins);\n    this.components = options.components;\n    this.themes = options.themes;\n    this.configLoader = options.configLoader;\n    this.defaultApis = options.defaultApis;\n    this.bindRoutes = options.bindRoutes;\n  }\n  getPlugins() {\n    return Array.from(this.plugins);\n  }\n  getSystemIcon(key) {\n    return this.icons[key];\n  }\n  getComponents() {\n    return this.components;\n  }\n  getRoutes() {\n    const routes = new Array();\n    const {NotFoundErrorPage} = this.components;\n    for (const plugin of this.plugins.values()) {\n      for (const output of plugin.output()) {\n        switch (output.type) {\n          case \"legacy-route\": {\n            const {path, component: Component} = output;\n            routes.push(/* @__PURE__ */ React.createElement(Route, {\n              key: path,\n              path,\n              element: /* @__PURE__ */ React.createElement(Component, null)\n            }));\n            break;\n          }\n          case \"route\": {\n            const {target, component: Component} = output;\n            routes.push(/* @__PURE__ */ React.createElement(Route, {\n              key: `${plugin.getId()}-${target.path}`,\n              path: target.path,\n              element: /* @__PURE__ */ React.createElement(Component, null)\n            }));\n            break;\n          }\n          case \"legacy-redirect-route\": {\n            const {path, target} = output;\n            routes.push(/* @__PURE__ */ React.createElement(Navigate, {\n              key: path,\n              to: target\n            }));\n            break;\n          }\n          case \"redirect-route\": {\n            const {from, to} = output;\n            routes.push(/* @__PURE__ */ React.createElement(Navigate, {\n              key: from.path,\n              to: to.path\n            }));\n            break;\n          }\n        }\n      }\n    }\n    routes.push(/* @__PURE__ */ React.createElement(Route, {\n      key: \"not-found-error-page\",\n      path: \"/*\",\n      element: /* @__PURE__ */ React.createElement(NotFoundErrorPage, null)\n    }));\n    return routes;\n  }\n  getProvider() {\n    const appContext = new AppContextImpl(this);\n    const Provider = ({children}) => {\n      const appThemeApi = useMemo(() => AppThemeSelector.createWithStorage(this.themes), []);\n      const {routePaths, routeParents, routeObjects} = useMemo(() => {\n        const result = traverseElementTree({\n          root: children,\n          discoverers: [childDiscoverer, routeElementDiscoverer],\n          collectors: {\n            routePaths: routePathCollector,\n            routeParents: routeParentCollector,\n            routeObjects: routeObjectCollector,\n            collectedPlugins: pluginCollector\n          }\n        });\n        validateRoutes(result.routePaths, result.routeParents);\n        result.collectedPlugins.forEach((plugin) => this.plugins.add(plugin));\n        this.verifyPlugins(this.plugins);\n        this.getApiHolder();\n        return result;\n      }, [children]);\n      const loadedConfig = useConfigLoader(this.configLoader, this.components, appThemeApi);\n      const hasConfigApi = \"api\" in loadedConfig;\n      if (hasConfigApi) {\n        const {api} = loadedConfig;\n        this.configApi = api;\n      }\n      useEffect(() => {\n        if (hasConfigApi) {\n          const featureFlagsApi = this.getApiHolder().get(featureFlagsApiRef);\n          for (const plugin of this.plugins.values()) {\n            for (const output of plugin.output()) {\n              switch (output.type) {\n                case \"feature-flag\": {\n                  featureFlagsApi.registerFlag({\n                    name: output.name,\n                    pluginId: plugin.getId()\n                  });\n                  break;\n                }\n              }\n            }\n          }\n        }\n      }, [hasConfigApi, loadedConfig]);\n      if (\"node\" in loadedConfig) {\n        return loadedConfig.node;\n      }\n      return /* @__PURE__ */ React.createElement(ApiProvider, {\n        apis: this.getApiHolder()\n      }, /* @__PURE__ */ React.createElement(AppContextProvider, {\n        appContext\n      }, /* @__PURE__ */ React.createElement(AppThemeProvider, null, /* @__PURE__ */ React.createElement(RoutingProvider, {\n        routePaths,\n        routeParents,\n        routeObjects,\n        routeBindings: generateBoundRoutes(this.bindRoutes)\n      }, children))));\n    };\n    return Provider;\n  }\n  getRouter() {\n    const {\n      Router: RouterComponent,\n      SignInPage: SignInPageComponent\n    } = this.components;\n    const SignInPageWrapper = ({\n      component: Component,\n      children\n    }) => {\n      const [result, setResult] = useState();\n      if (result) {\n        this.identityApi.setSignInResult(result);\n        return children;\n      }\n      return /* @__PURE__ */ React.createElement(Component, {\n        onResult: setResult\n      });\n    };\n    const AppRouter = ({children}) => {\n      var _a;\n      const configApi = useApi(configApiRef);\n      let {pathname} = new URL((_a = configApi.getOptionalString(\"app.baseUrl\")) != null ? _a : \"/\", \"http://dummy.dev\");\n      if (pathname.endsWith(\"/\")) {\n        pathname = pathname.replace(/\\/$/, \"\");\n      }\n      if (!SignInPageComponent) {\n        this.identityApi.setSignInResult({\n          userId: \"guest\",\n          profile: {\n            email: \"guest@example.com\",\n            displayName: \"Guest\"\n          }\n        });\n        return /* @__PURE__ */ React.createElement(RouterComponent, null, /* @__PURE__ */ React.createElement(Routes, null, /* @__PURE__ */ React.createElement(Route, {\n          path: `${pathname}/*`,\n          element: /* @__PURE__ */ React.createElement(React.Fragment, null, children)\n        })));\n      }\n      return /* @__PURE__ */ React.createElement(RouterComponent, null, /* @__PURE__ */ React.createElement(SignInPageWrapper, {\n        component: SignInPageComponent\n      }, /* @__PURE__ */ React.createElement(Routes, null, /* @__PURE__ */ React.createElement(Route, {\n        path: `${pathname}/*`,\n        element: /* @__PURE__ */ React.createElement(React.Fragment, null, children)\n      }))));\n    };\n    return AppRouter;\n  }\n  getApiHolder() {\n    if (this.apiHolder) {\n      return this.apiHolder;\n    }\n    const registry = new ApiFactoryRegistry();\n    registry.register(\"static\", {\n      api: appThemeApiRef,\n      deps: {},\n      factory: () => AppThemeSelector.createWithStorage(this.themes)\n    });\n    registry.register(\"static\", {\n      api: configApiRef,\n      deps: {},\n      factory: () => {\n        if (!this.configApi) {\n          throw new Error(\"Tried to access config API before config was loaded\");\n        }\n        return this.configApi;\n      }\n    });\n    registry.register(\"static\", {\n      api: identityApiRef,\n      deps: {},\n      factory: () => this.identityApi\n    });\n    registry.register(\"default\", {\n      api: featureFlagsApiRef,\n      deps: {},\n      factory: () => new LocalStorageFeatureFlags()\n    });\n    for (const factory of this.defaultApis) {\n      registry.register(\"default\", factory);\n    }\n    for (const plugin of this.plugins) {\n      for (const factory of plugin.getApis()) {\n        if (!registry.register(\"default\", factory)) {\n          throw new Error(`Plugin ${plugin.getId()} tried to register duplicate or forbidden API factory for ${factory.api}`);\n        }\n      }\n    }\n    for (const factory of this.apis) {\n      if (!registry.register(\"app\", factory)) {\n        throw new Error(`Duplicate or forbidden API factory for ${factory.api} in app`);\n      }\n    }\n    ApiResolver.validateFactories(registry, registry.getAllApis());\n    this.apiHolder = new ApiResolver(registry);\n    return this.apiHolder;\n  }\n  verify() {\n  }\n  verifyPlugins(plugins) {\n    const pluginIds = new Set();\n    for (const plugin of plugins) {\n      const id = plugin.getId();\n      if (pluginIds.has(id)) {\n        throw new Error(`Duplicate plugin found '${id}'`);\n      }\n      pluginIds.add(id);\n    }\n  }\n}\n\nvar privateExports = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  PrivateAppImpl: PrivateAppImpl\n});\n\nexport default privateExports;\nexport { AlertApiForwarder, ApiFactoryRegistry, ApiProvider, ApiRegistry, ApiResolver, AppThemeSelector, Auth0Auth, BrokenImageIcon, ChatIcon, DashboardIcon, DocsIcon, EmailIcon, ErrorAlerter, ErrorApiForwarder, FeatureFlagState, FlatRoutes, GitHubIcon, GithubAuth, GitlabAuth, GoogleAuth, GroupIcon, HelpIcon, LocalStorageFeatureFlags, MicrosoftAuth, OAuth2, OAuthRequestManager, OktaAuth, OneLoginAuth, SamlAuth, SessionState, UrlPatternDiscovery, UserIcon, WarningIcon, WebStorage, alertApiRef, appThemeApiRef, attachComponentData, auth0AuthApiRef, configApiRef, createApiFactory, createApiRef, createComponentExtension, createExternalRouteRef, createPlugin, createReactExtension, createRoutableExtension, createRouteRef, createSubRouteRef, defaultSystemIcons, discoveryApiRef, errorApiRef, featureFlagsApiRef, getComponentData, githubAuthApiRef, gitlabAuthApiRef, googleAuthApiRef, identityApiRef, microsoftAuthApiRef, oauth2ApiRef, oauthRequestApiRef, oidcAuthApiRef, oktaAuthApiRef, oneloginAuthApiRef, samlAuthApiRef, storageApiRef, useApi, useApiHolder, useApp, useRouteRef, useRouteRefParams };\n//# sourceMappingURL=index.esm.js.map\n","import privateExports__default, { useApi, configApiRef, createApiFactory, discoveryApiRef, UrlPatternDiscovery, alertApiRef, AlertApiForwarder, errorApiRef, ErrorAlerter, ErrorApiForwarder, storageApiRef, WebStorage, oauthRequestApiRef, OAuthRequestManager, googleAuthApiRef, GoogleAuth, microsoftAuthApiRef, MicrosoftAuth, githubAuthApiRef, GithubAuth, oktaAuthApiRef, OktaAuth, gitlabAuthApiRef, GitlabAuth, auth0AuthApiRef, Auth0Auth, oauth2ApiRef, OAuth2, samlAuthApiRef, SamlAuth, oneloginAuthApiRef, OneLoginAuth, oidcAuthApiRef, defaultSystemIcons, HelpIcon, useApp, attachComponentData, useApiHolder } from '@backstage/core-api';\nexport * from '@backstage/core-api';\nimport React, { useState, useEffect, useRef, useCallback, useLayoutEffect, useMemo, Component as Component$3, Children, isValidElement, useContext, Fragment, useReducer, forwardRef, createContext } from 'react';\nimport { useSearchParams, BrowserRouter, useInRouterContext, MemoryRouter, Link as Link$2, NavLink } from 'react-router-dom';\nimport LightIcon from '@material-ui/icons/WbSunny';\nimport DarkIcon from '@material-ui/icons/Brightness2';\nimport { makeStyles, Grid, Typography, Link as Link$1, LinearProgress, Snackbar, IconButton, createStyles, Avatar as Avatar$1, Button as Button$1, Tooltip, useTheme, Accordion, AccordionSummary, AccordionDetails, List, ListItem, ListItemText, Divider, ClickAwayListener, ListItemAvatar, Dialog, DialogTitle, DialogContent, DialogActions, ListItemIcon, withStyles, CardActions, Card, CardHeader, CardContent, SvgIcon, InputBase, FormControl, Select, Chip, MenuItem, Checkbox, Stepper, Step, StepLabel, StepContent, TableCell, Table as Table$1, TableBody, TableRow, Popover, Tabs as Tabs$1, Tab, Collapse, AppBar, Box as Box$1, Breadcrumbs as Breadcrumbs$1, CardMedia, ThemeProvider, Badge, TextField, styled, FormHelperText } from '@material-ui/core';\nimport { makeStyles as makeStyles$1, withStyles as withStyles$1, createStyles as createStyles$1 } from '@material-ui/core/styles';\nimport MicDropSvgUrl from './layout/ErrorPage/mic-drop.svg';\nimport { useNavigate, useParams, useRoutes, matchRoutes } from 'react-router';\nimport { isEqual, transform } from 'lodash';\nimport qs from 'qs';\nimport { useDebounce, useObservable, usePrevious, useWindowSize, useLocalStorage } from 'react-use';\nimport OAuth2Icon from '@material-ui/icons/AcUnit';\nimport { lightTheme, darkTheme } from '@backstage/theme';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { Alert } from '@material-ui/lab';\nimport pluralize from 'pluralize';\nimport SyntaxHighlighter from 'react-syntax-highlighter';\nimport { dark, docco } from 'react-syntax-highlighter/dist/cjs/styles/hljs';\nimport CopyIcon from '@material-ui/icons/FileCopy';\nimport PropTypes from 'prop-types';\nimport { zoom } from 'd3-zoom';\nimport { select } from 'd3-selection';\nimport useTheme$1 from '@material-ui/core/styles/useTheme';\nimport dagre from 'dagre';\nimport debounce from 'lodash/debounce';\nimport makeStyles$2 from '@material-ui/core/styles/makeStyles';\nimport { line, curveMonotoneX } from 'd3-shape';\nimport isFinite from 'lodash/isFinite';\nimport classNames from 'classnames';\nimport Snackbar$1 from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport IconButton$1 from '@material-ui/core/IconButton';\nimport missingAnnotation from './components/EmptyState/assets/missingAnnotation.svg';\nimport noInformation from './components/EmptyState/assets/noInformation.svg';\nimport createComponent from './components/EmptyState/assets/createComponent.svg';\nimport noBuild from './components/EmptyState/assets/noBuild.svg';\nimport ErrorOutline from '@material-ui/icons/ErrorOutline';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { createPortal } from 'react-dom';\nimport LinkIcon from '@material-ui/icons/Link';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport ReactMarkdown from 'react-markdown';\nimport gfm from 'remark-gfm';\nimport TextTruncate from 'react-text-truncate';\nimport ArrowIcon from '@material-ui/icons/ArrowForward';\nimport Box from '@material-ui/core/Box';\nimport { Circle, Line } from 'rc-progress';\nimport startCase from 'lodash/startCase';\nimport { Helmet } from 'react-helmet';\nimport AddBox from '@material-ui/icons/AddBox';\nimport ArrowUpward from '@material-ui/icons/ArrowUpward';\nimport Check from '@material-ui/icons/Check';\nimport Clear from '@material-ui/icons/Clear';\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\nimport Edit from '@material-ui/icons/Edit';\nimport FilterList from '@material-ui/icons/FilterList';\nimport FirstPage from '@material-ui/icons/FirstPage';\nimport LastPage from '@material-ui/icons/LastPage';\nimport Remove from '@material-ui/icons/Remove';\nimport SaveAlt from '@material-ui/icons/SaveAlt';\nimport Search from '@material-ui/icons/Search';\nimport ViewColumn from '@material-ui/icons/ViewColumn';\nimport MTable, { MTableHeader, MTableToolbar, MTableBody } from 'material-table';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport produce from 'immer';\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\nimport { Sparklines, SparklinesLine } from 'react-sparklines';\nimport clsx from 'clsx';\nimport { useForm } from 'react-hook-form';\nimport isEmpty from 'lodash/isEmpty';\n\nconst useStyles = makeStyles((theme) => ({\n  micDrop: {\n    maxWidth: \"60%\",\n    position: \"absolute\",\n    bottom: theme.spacing(2),\n    right: theme.spacing(2),\n    [theme.breakpoints.down(\"xs\")]: {\n      maxWidth: \"96%\",\n      position: \"relative\",\n      bottom: \"unset\",\n      right: \"unset\",\n      margin: `${theme.spacing(10)}px auto ${theme.spacing(4)}px`\n    }\n  }\n}));\nconst MicDrop = () => {\n  const classes = useStyles();\n  return /* @__PURE__ */ React.createElement(\"img\", {\n    src: MicDropSvgUrl,\n    className: classes.micDrop,\n    alt: \"Girl dropping mic from her hands\"\n  });\n};\n\nfunction stringify(queryParams) {\n  return qs.stringify(queryParams, {\n    strictNullHandling: true\n  });\n}\nfunction parse(queryString) {\n  return qs.parse(queryString, {\n    ignoreQueryPrefix: true,\n    strictNullHandling: true\n  });\n}\nfunction extractState(queryString, stateName) {\n  const queryParams = parse(queryString);\n  return queryParams[stateName];\n}\nfunction joinQueryString(queryString, stateName, state) {\n  const queryParams = {\n    ...parse(queryString),\n    [stateName]: state\n  };\n  return stringify(queryParams);\n}\nfunction useQueryParamState(stateName, debounceTime = 250) {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const searchParamsString = searchParams.toString();\n  const [queryParamState, setQueryParamState] = useState(extractState(searchParamsString, stateName));\n  useEffect(() => {\n    const newState = extractState(searchParamsString, stateName);\n    setQueryParamState((oldState) => isEqual(newState, oldState) ? oldState : newState);\n  }, [searchParamsString, setQueryParamState, stateName]);\n  useDebounce(() => {\n    const queryString = joinQueryString(searchParamsString, stateName, queryParamState);\n    if (searchParamsString !== queryString) {\n      setSearchParams(queryString, {replace: true});\n    }\n  }, debounceTime, [setSearchParams, queryParamState, searchParamsString, stateName]);\n  return [queryParamState, setQueryParamState];\n}\n\nconst DEFAULT_SUPPORT_CONFIG = {\n  url: \"https://github.com/backstage/backstage/issues\",\n  items: [\n    {\n      title: \"Support Not Configured\",\n      icon: \"warning\",\n      links: [\n        {\n          title: \"Add `app.support` config key\",\n          url: \"https://github.com/andrewthauer/backstage/blob/master/app-config.yaml\"\n        }\n      ]\n    }\n  ]\n};\nfunction useSupportConfig() {\n  const config = useApi(configApiRef);\n  const supportConfig = config.getOptionalConfig(\"app.support\");\n  if (!supportConfig) {\n    return DEFAULT_SUPPORT_CONFIG;\n  }\n  return {\n    url: supportConfig.getString(\"url\"),\n    items: supportConfig.getConfigArray(\"items\").flatMap((itemConf) => {\n      var _a;\n      return {\n        title: itemConf.getString(\"title\"),\n        icon: itemConf.getOptionalString(\"icon\"),\n        links: ((_a = itemConf.getOptionalConfigArray(\"links\")) != null ? _a : []).flatMap((linkConf) => ({\n          url: linkConf.getString(\"url\"),\n          title: linkConf.getString(\"title\")\n        }))\n      };\n    })\n  };\n}\n\nconst useStyles$1 = makeStyles$1((theme) => ({\n  container: {\n    padding: theme.spacing(8),\n    [theme.breakpoints.down(\"xs\")]: {\n      padding: theme.spacing(2)\n    }\n  },\n  title: {\n    paddingBottom: theme.spacing(5),\n    [theme.breakpoints.down(\"xs\")]: {\n      paddingBottom: theme.spacing(4),\n      fontSize: 32\n    }\n  },\n  subtitle: {\n    color: theme.palette.textSubtle\n  }\n}));\nconst ErrorPage = ({\n  status,\n  statusMessage,\n  additionalInfo\n}) => {\n  const classes = useStyles$1();\n  const navigate = useNavigate();\n  const support = useSupportConfig();\n  return /* @__PURE__ */ React.createElement(Grid, {\n    container: true,\n    spacing: 0,\n    className: classes.container\n  }, /* @__PURE__ */ React.createElement(MicDrop, null), /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 8,\n    md: 4\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body1\",\n    className: classes.subtitle\n  }, \"ERROR \", status, \": \", statusMessage), /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body1\",\n    className: classes.subtitle\n  }, additionalInfo), /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"h2\",\n    className: classes.title\n  }, \"Looks like someone dropped the mic!\"), /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"h6\"\n  }, /* @__PURE__ */ React.createElement(Link$1, {\n    \"data-testid\": \"go-back-link\",\n    onClick: () => navigate(-1)\n  }, \"Go back\"), \"... or please\", \" \", /* @__PURE__ */ React.createElement(Link$1, {\n    href: support.url,\n    rel: \"noopener noreferrer\"\n  }, \"contact support\"), \" \", \"if you think this is a bug.\")));\n};\n\nconst Progress = (props) => {\n  const [isVisible, setIsVisible] = useState(false);\n  useEffect(() => {\n    const handle = setTimeout(() => setIsVisible(true), 250);\n    return () => clearTimeout(handle);\n  }, []);\n  return isVisible ? /* @__PURE__ */ React.createElement(LinearProgress, {\n    ...props,\n    \"data-testid\": \"progress\"\n  }) : /* @__PURE__ */ React.createElement(\"div\", {\n    style: {display: \"none\"}\n  });\n};\n\nconst defaultApis = [\n  createApiFactory({\n    api: discoveryApiRef,\n    deps: {configApi: configApiRef},\n    factory: ({configApi}) => UrlPatternDiscovery.compile(`${configApi.getString(\"backend.baseUrl\")}/api/{{ pluginId }}`)\n  }),\n  createApiFactory(alertApiRef, new AlertApiForwarder()),\n  createApiFactory({\n    api: errorApiRef,\n    deps: {alertApi: alertApiRef},\n    factory: ({alertApi}) => new ErrorAlerter(alertApi, new ErrorApiForwarder())\n  }),\n  createApiFactory({\n    api: storageApiRef,\n    deps: {errorApi: errorApiRef},\n    factory: ({errorApi}) => WebStorage.create({errorApi})\n  }),\n  createApiFactory(oauthRequestApiRef, new OAuthRequestManager()),\n  createApiFactory({\n    api: googleAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({discoveryApi, oauthRequestApi, configApi}) => GoogleAuth.create({\n      discoveryApi,\n      oauthRequestApi,\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: microsoftAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({discoveryApi, oauthRequestApi, configApi}) => MicrosoftAuth.create({\n      discoveryApi,\n      oauthRequestApi,\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: githubAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({discoveryApi, oauthRequestApi, configApi}) => GithubAuth.create({\n      discoveryApi,\n      oauthRequestApi,\n      defaultScopes: [\"read:user\"],\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: oktaAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({discoveryApi, oauthRequestApi, configApi}) => OktaAuth.create({\n      discoveryApi,\n      oauthRequestApi,\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: gitlabAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({discoveryApi, oauthRequestApi, configApi}) => GitlabAuth.create({\n      discoveryApi,\n      oauthRequestApi,\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: auth0AuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({discoveryApi, oauthRequestApi, configApi}) => Auth0Auth.create({\n      discoveryApi,\n      oauthRequestApi,\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: oauth2ApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({discoveryApi, oauthRequestApi, configApi}) => OAuth2.create({\n      discoveryApi,\n      oauthRequestApi,\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: samlAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      configApi: configApiRef\n    },\n    factory: ({discoveryApi, configApi}) => SamlAuth.create({\n      discoveryApi,\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: oneloginAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({discoveryApi, oauthRequestApi, configApi}) => OneLoginAuth.create({\n      discoveryApi,\n      oauthRequestApi,\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: oidcAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({discoveryApi, oauthRequestApi, configApi}) => OAuth2.create({\n      discoveryApi,\n      oauthRequestApi,\n      provider: {\n        id: \"oidc\",\n        title: \"Your Identity Provider\",\n        icon: OAuth2Icon\n      },\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  })\n];\n\nconst {PrivateAppImpl} = privateExports__default;\nconst defaultConfigLoader = async (runtimeConfigJson = \"__APP_INJECTED_RUNTIME_CONFIG__\") => {\n  const appConfig = process.env.APP_CONFIG;\n  if (!appConfig) {\n    throw new Error(\"No static configuration provided\");\n  }\n  if (!Array.isArray(appConfig)) {\n    throw new Error(\"Static configuration has invalid format\");\n  }\n  const configs = appConfig.slice();\n  if (runtimeConfigJson !== \"__app_injected_runtime_config__\".toLocaleUpperCase(\"en-US\")) {\n    try {\n      const data = JSON.parse(runtimeConfigJson);\n      if (Array.isArray(data)) {\n        configs.push(...data);\n      } else {\n        configs.push({data, context: \"env\"});\n      }\n    } catch (error) {\n      throw new Error(`Failed to load runtime configuration, ${error}`);\n    }\n  }\n  const windowAppConfig = window.__APP_CONFIG__;\n  if (windowAppConfig) {\n    configs.push({\n      context: \"window\",\n      data: windowAppConfig\n    });\n  }\n  return configs;\n};\nfunction OptionallyWrapInRouter({children}) {\n  if (useInRouterContext()) {\n    return /* @__PURE__ */ React.createElement(React.Fragment, null, children);\n  }\n  return /* @__PURE__ */ React.createElement(MemoryRouter, null, children);\n}\nfunction createApp(options) {\n  var _a, _b, _c, _d;\n  const DefaultNotFoundPage = () => /* @__PURE__ */ React.createElement(ErrorPage, {\n    status: \"404\",\n    statusMessage: \"PAGE NOT FOUND\"\n  });\n  const DefaultBootErrorPage = ({step, error}) => {\n    let message = \"\";\n    if (step === \"load-config\") {\n      message = `The configuration failed to load, someone should have a look at this error: ${error.message}`;\n    } else if (step === \"load-chunk\") {\n      message = `Lazy loaded chunk failed to load, try to reload the page: ${error.message}`;\n    }\n    return /* @__PURE__ */ React.createElement(OptionallyWrapInRouter, null, /* @__PURE__ */ React.createElement(ErrorPage, {\n      status: \"501\",\n      statusMessage: message\n    }));\n  };\n  const apis = (_a = options == null ? void 0 : options.apis) != null ? _a : [];\n  const icons = {...defaultSystemIcons, ...options == null ? void 0 : options.icons};\n  const plugins = (_b = options == null ? void 0 : options.plugins) != null ? _b : [];\n  const components = {\n    NotFoundErrorPage: DefaultNotFoundPage,\n    BootErrorPage: DefaultBootErrorPage,\n    Progress,\n    Router: BrowserRouter,\n    ...options == null ? void 0 : options.components\n  };\n  const themes = (_c = options == null ? void 0 : options.themes) != null ? _c : [\n    {\n      id: \"light\",\n      title: \"Light Theme\",\n      variant: \"light\",\n      theme: lightTheme,\n      icon: /* @__PURE__ */ React.createElement(LightIcon, null)\n    },\n    {\n      id: \"dark\",\n      title: \"Dark Theme\",\n      variant: \"dark\",\n      theme: darkTheme,\n      icon: /* @__PURE__ */ React.createElement(DarkIcon, null)\n    }\n  ];\n  const configLoader = (_d = options == null ? void 0 : options.configLoader) != null ? _d : defaultConfigLoader;\n  const app = new PrivateAppImpl({\n    apis,\n    icons,\n    plugins,\n    components,\n    themes,\n    configLoader,\n    defaultApis,\n    bindRoutes: options == null ? void 0 : options.bindRoutes\n  });\n  app.verify();\n  return app;\n}\n\nconst AlertDisplay = () => {\n  const [messages, setMessages] = useState([]);\n  const alertApi = useApi(alertApiRef);\n  useEffect(() => {\n    const subscription = alertApi.alert$().subscribe((message) => setMessages((msgs) => msgs.concat(message)));\n    return () => {\n      subscription.unsubscribe();\n    };\n  }, [alertApi]);\n  if (messages.length === 0) {\n    return null;\n  }\n  const [firstMessage] = messages;\n  const handleClose = () => {\n    setMessages((msgs) => msgs.filter((msg) => msg !== firstMessage));\n  };\n  return /* @__PURE__ */ React.createElement(Snackbar, {\n    open: true,\n    anchorOrigin: {vertical: \"top\", horizontal: \"center\"}\n  }, /* @__PURE__ */ React.createElement(Alert, {\n    action: /* @__PURE__ */ React.createElement(IconButton, {\n      color: \"inherit\",\n      size: \"small\",\n      onClick: handleClose,\n      \"data-testid\": \"error-button-close\"\n    }, /* @__PURE__ */ React.createElement(CloseIcon, null)),\n    severity: firstMessage.severity\n  }, /* @__PURE__ */ React.createElement(\"span\", null, firstMessage.message.toString(), messages.length > 1 && /* @__PURE__ */ React.createElement(\"em\", null, ` (${messages.length - 1} older ${pluralize(\"message\", messages.length - 1)})`))));\n};\n\nfunction stringToColor(str) {\n  let hash = 0;\n  for (let i = 0; i < str.length; i++) {\n    hash = str.charCodeAt(i) + ((hash << 5) - hash);\n  }\n  let color = \"#\";\n  for (let i = 0; i < 3; i++) {\n    const value = hash >> i * 8 & 255;\n    color += `00${value.toString(16)}`.substr(-2);\n  }\n  return color;\n}\nfunction extractInitials(value) {\n  return value.match(/\\b\\w/g).join(\"\").substring(0, 2);\n}\n\nconst useStyles$2 = makeStyles((theme) => createStyles({\n  avatar: {\n    width: \"4rem\",\n    height: \"4rem\",\n    color: \"#fff\",\n    fontWeight: theme.typography.fontWeightBold,\n    letterSpacing: \"1px\",\n    textTransform: \"uppercase\"\n  }\n}));\nconst Avatar = ({displayName, picture, customStyles}) => {\n  const classes = useStyles$2();\n  return /* @__PURE__ */ React.createElement(Avatar$1, {\n    alt: displayName,\n    src: picture,\n    className: classes.avatar,\n    style: {\n      backgroundColor: stringToColor(displayName || picture || \"\"),\n      ...customStyles\n    }\n  }, displayName && extractInitials(displayName));\n};\n\nconst Button = React.forwardRef((props, ref) => /* @__PURE__ */ React.createElement(Button$1, {\n  ref,\n  component: Link$2,\n  ...props\n}));\n\nconst defaultProps = {\n  tooltipDelay: 1e3,\n  tooltipText: \"Text copied to clipboard\"\n};\nconst CopyTextButton = (props) => {\n  const {text, tooltipDelay, tooltipText} = {\n    ...defaultProps,\n    ...props\n  };\n  const errorApi = useApi(errorApiRef);\n  const inputRef = useRef(null);\n  const [open, setOpen] = useState(false);\n  const handleCopyClick = (e) => {\n    e.stopPropagation();\n    setOpen(true);\n    try {\n      if (inputRef.current) {\n        inputRef.current.select();\n        document.execCommand(\"copy\");\n      }\n    } catch (error) {\n      errorApi.post(error);\n    }\n  };\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\"textarea\", {\n    ref: inputRef,\n    style: {position: \"absolute\", top: -9999, left: -9999},\n    defaultValue: text\n  }), /* @__PURE__ */ React.createElement(Tooltip, {\n    id: \"copy-test-tooltip\",\n    title: tooltipText,\n    placement: \"top\",\n    leaveDelay: tooltipDelay,\n    onClose: () => setOpen(false),\n    open\n  }, /* @__PURE__ */ React.createElement(IconButton, {\n    onClick: handleCopyClick\n  }, /* @__PURE__ */ React.createElement(CopyIcon, null))));\n};\nCopyTextButton.propTypes = {\n  text: PropTypes.string.isRequired,\n  tooltipDelay: PropTypes.number,\n  tooltipText: PropTypes.string\n};\n\nconst CodeSnippet = ({\n  text,\n  language,\n  showLineNumbers = false,\n  showCopyCodeButton = false,\n  highlightedNumbers,\n  customStyle\n}) => {\n  const theme = useTheme();\n  const mode = theme.palette.type === \"dark\" ? dark : docco;\n  const highlightColor = theme.palette.type === \"dark\" ? \"#256bf3\" : \"#e6ffed\";\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    style: {position: \"relative\"}\n  }, /* @__PURE__ */ React.createElement(SyntaxHighlighter, {\n    customStyle,\n    language,\n    style: mode,\n    showLineNumbers,\n    wrapLines: true,\n    lineNumberStyle: {color: theme.palette.textVerySubtle},\n    lineProps: (lineNumber) => (highlightedNumbers == null ? void 0 : highlightedNumbers.includes(lineNumber)) ? {\n      style: {\n        backgroundColor: highlightColor\n      }\n    } : {}\n  }, text), showCopyCodeButton && /* @__PURE__ */ React.createElement(\"div\", {\n    style: {position: \"absolute\", top: 0, right: 0}\n  }, /* @__PURE__ */ React.createElement(CopyTextButton, {\n    text\n  })));\n};\n\nvar Direction;\n(function(Direction2) {\n  Direction2[\"TOP_BOTTOM\"] = \"TB\";\n  Direction2[\"BOTTOM_TOP\"] = \"BT\";\n  Direction2[\"LEFT_RIGHT\"] = \"LR\";\n  Direction2[\"RIGHT_LEFT\"] = \"RL\";\n})(Direction || (Direction = {}));\nvar Alignment;\n(function(Alignment2) {\n  Alignment2[\"UP_LEFT\"] = \"UL\";\n  Alignment2[\"UP_RIGHT\"] = \"UR\";\n  Alignment2[\"DOWN_LEFT\"] = \"DL\";\n  Alignment2[\"DOWN_RIGHT\"] = \"DR\";\n})(Alignment || (Alignment = {}));\nvar Ranker;\n(function(Ranker2) {\n  Ranker2[\"NETWORK_SIMPLEX\"] = \"network-simplex\";\n  Ranker2[\"TIGHT_TREE\"] = \"tight-tree\";\n  Ranker2[\"LONGEST_PATH\"] = \"longest-path\";\n})(Ranker || (Ranker = {}));\nvar LabelPosition;\n(function(LabelPosition2) {\n  LabelPosition2[\"LEFT\"] = \"l\";\n  LabelPosition2[\"RIGHT\"] = \"r\";\n  LabelPosition2[\"CENTER\"] = \"c\";\n})(LabelPosition || (LabelPosition = {}));\n\nvar types = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  get Direction () { return Direction; },\n  get Alignment () { return Alignment; },\n  get Ranker () { return Ranker; },\n  get LabelPosition () { return LabelPosition; }\n});\n\nconst useStyles$3 = makeStyles$1((theme) => ({\n  node: {\n    fill: theme.palette.background.paper,\n    stroke: theme.palette.border\n  },\n  text: {\n    fill: theme.palette.textContrast\n  }\n}));\nfunction DefaultNode({node: {id}}) {\n  const classes = useStyles$3();\n  const [width, setWidth] = React.useState(0);\n  const [height, setHeight] = React.useState(0);\n  const idRef = React.useRef(null);\n  React.useLayoutEffect(() => {\n    if (idRef.current) {\n      let {\n        height: renderedHeight,\n        width: renderedWidth\n      } = idRef.current.getBBox();\n      renderedHeight = Math.round(renderedHeight);\n      renderedWidth = Math.round(renderedWidth);\n      if (renderedHeight !== height || renderedWidth !== width) {\n        setWidth(renderedWidth);\n        setHeight(renderedHeight);\n      }\n    }\n  }, [width, height]);\n  const padding = 10;\n  const paddedWidth = width + padding * 2;\n  const paddedHeight = height + padding * 2;\n  return /* @__PURE__ */ React.createElement(\"g\", null, /* @__PURE__ */ React.createElement(\"rect\", {\n    className: classes.node,\n    width: paddedWidth,\n    height: paddedHeight,\n    rx: 10\n  }), /* @__PURE__ */ React.createElement(\"text\", {\n    ref: idRef,\n    className: classes.text,\n    y: paddedHeight / 2,\n    x: paddedWidth / 2,\n    textAnchor: \"middle\",\n    alignmentBaseline: \"middle\"\n  }, id));\n}\n\nconst ARROW_MARKER_ID = \"arrow-marker\";\nconst NODE_TEST_ID = \"node\";\nconst EDGE_TEST_ID = \"edge\";\nconst LABEL_TEST_ID = \"label\";\n\nconst useStyles$4 = makeStyles$2((theme) => ({\n  node: {\n    transition: `${theme.transitions.duration.shortest}ms`\n  }\n}));\nconst renderDefault = (props) => /* @__PURE__ */ React.createElement(DefaultNode, {\n  ...props\n});\nfunction Node({\n  render = renderDefault,\n  setNode,\n  node\n}) {\n  const {width, height, x = 0, y = 0, ...nodeProps} = node;\n  const classes = useStyles$4();\n  const nodeRef = React.useRef(null);\n  React.useLayoutEffect(() => {\n    if (nodeRef.current) {\n      let {\n        height: renderedHeight,\n        width: renderedWidth\n      } = nodeRef.current.getBBox();\n      renderedHeight = Math.round(renderedHeight);\n      renderedWidth = Math.round(renderedWidth);\n      if (renderedHeight !== height || renderedWidth !== width) {\n        setNode(node.id, {\n          ...node,\n          height: renderedHeight,\n          width: renderedWidth\n        });\n      }\n    }\n  }, [node, width, height, setNode]);\n  return /* @__PURE__ */ React.createElement(\"g\", {\n    ref: nodeRef,\n    \"data-testid\": NODE_TEST_ID,\n    className: classes.node,\n    transform: `translate(${x - width / 2},${y - height / 2})`\n  }, render({node: nodeProps}));\n}\n\nconst useStyles$5 = makeStyles$2((theme) => ({\n  text: {\n    fill: theme.palette.textContrast\n  }\n}));\nfunction DefaultLabel({edge: {label}}) {\n  const classes = useStyles$5();\n  return /* @__PURE__ */ React.createElement(\"text\", {\n    className: classes.text,\n    textAnchor: \"middle\"\n  }, label);\n}\n\nconst useStyles$6 = makeStyles$2((theme) => ({\n  path: {\n    strokeWidth: 2,\n    stroke: theme.palette.textSubtle,\n    fill: \"none\",\n    transition: `${theme.transitions.duration.shortest}ms`\n  },\n  label: {\n    transition: `${theme.transitions.duration.shortest}ms`\n  }\n}));\nconst renderDefault$1 = (props) => /* @__PURE__ */ React.createElement(DefaultLabel, {\n  ...props\n});\nconst createPath = line().x((d) => d.x).y((d) => d.y).curve(curveMonotoneX);\nfunction Edge({\n  render = renderDefault$1,\n  setEdge,\n  id,\n  edge\n}) {\n  const {x = 0, y = 0, width, height, points, ...labelProps} = edge;\n  const classes = useStyles$6();\n  const labelRef = React.useRef(null);\n  React.useLayoutEffect(() => {\n    if (labelRef.current) {\n      let {\n        height: renderedHeight,\n        width: renderedWidth\n      } = labelRef.current.getBBox();\n      renderedHeight = Math.round(renderedHeight);\n      renderedWidth = Math.round(renderedWidth);\n      if (renderedHeight !== height || renderedWidth !== width) {\n        setEdge(id, {\n          ...edge,\n          height: renderedHeight,\n          width: renderedWidth\n        });\n      }\n    }\n  }, [edge, height, width, setEdge, id]);\n  let path = \"\";\n  if (points) {\n    const finitePoints = points.filter((point) => isFinite(point.x) && isFinite(point.y));\n    path = createPath(finitePoints) || \"\";\n  }\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, path && /* @__PURE__ */ React.createElement(\"path\", {\n    \"data-testid\": EDGE_TEST_ID,\n    className: classes.path,\n    markerEnd: `url(#${ARROW_MARKER_ID})`,\n    d: path\n  }), labelProps.label ? /* @__PURE__ */ React.createElement(\"g\", {\n    ref: labelRef,\n    \"data-testid\": LABEL_TEST_ID,\n    className: classes.label,\n    transform: `translate(${x},${y})`\n  }, render({edge: labelProps})) : null);\n}\n\nconst WORKSPACE_ID = \"workspace\";\nfunction DependencyGraph({\n  edges,\n  nodes,\n  renderNode,\n  direction = Direction.TOP_BOTTOM,\n  align,\n  nodeMargin = 50,\n  edgeMargin = 10,\n  rankMargin = 50,\n  paddingX = 0,\n  paddingY = 0,\n  acyclicer,\n  ranker = Ranker.NETWORK_SIMPLEX,\n  labelPosition = LabelPosition.RIGHT,\n  labelOffset = 10,\n  edgeRanks = 1,\n  edgeWeight = 1,\n  renderLabel,\n  defs,\n  ...svgProps\n}) {\n  var _a, _b;\n  const theme = useTheme$1();\n  const [containerWidth, setContainerWidth] = React.useState(100);\n  const [containerHeight, setContainerHeight] = React.useState(100);\n  const graph = React.useRef(new dagre.graphlib.Graph());\n  const [graphWidth, setGraphWidth] = React.useState(((_a = graph.current.graph()) == null ? void 0 : _a.width) || 0);\n  const [graphHeight, setGraphHeight] = React.useState(((_b = graph.current.graph()) == null ? void 0 : _b.height) || 0);\n  const [graphNodes, setGraphNodes] = React.useState([]);\n  const [graphEdges, setGraphEdges] = React.useState([]);\n  const maxWidth = Math.max(graphWidth, containerWidth);\n  const maxHeight = Math.max(graphHeight, containerHeight);\n  const containerRef = React.useMemo(() => debounce((node) => {\n    if (!node) {\n      return;\n    }\n    const container = select(node);\n    const workspace = select(node.getElementById(WORKSPACE_ID));\n    const zoom$1 = zoom().scaleExtent([1, 10]).on(\"zoom\", (event) => {\n      event.transform.x = Math.min(0, Math.max(event.transform.x, maxWidth - maxWidth * event.transform.k));\n      event.transform.y = Math.min(0, Math.max(event.transform.y, maxHeight - maxHeight * event.transform.k));\n      workspace.attr(\"transform\", event.transform);\n    });\n    container.call(zoom$1);\n    const {\n      width: newContainerWidth,\n      height: newContainerHeight\n    } = node.getBoundingClientRect();\n    if (containerWidth !== newContainerWidth) {\n      setContainerWidth(newContainerWidth);\n    }\n    if (containerHeight !== newContainerHeight) {\n      setContainerHeight(newContainerHeight);\n    }\n  }, 100), [containerHeight, containerWidth, maxWidth, maxHeight]);\n  const setNodesAndEdges = React.useCallback(() => {\n    const currentGraphNodes = graph.current.nodes();\n    const currentGraphEdges = graph.current.edges();\n    currentGraphNodes.forEach((nodeId) => {\n      const remainingNode = nodes.some((node) => node.id === nodeId);\n      if (!remainingNode) {\n        graph.current.removeNode(nodeId);\n      }\n    });\n    currentGraphEdges.forEach((e) => {\n      const remainingEdge = edges.some((edge) => edge.from === e.v && edge.to === e.w);\n      if (!remainingEdge) {\n        graph.current.removeEdge(e.v, e.w);\n      }\n    });\n    nodes.forEach((node) => {\n      const existingNode = graph.current.nodes().find((nodeId) => node.id === nodeId);\n      if (existingNode) {\n        const {width, height, x, y} = graph.current.node(existingNode);\n        graph.current.setNode(existingNode, {...node, width, height, x, y});\n      } else {\n        graph.current.setNode(node.id, {...node, width: 0, height: 0});\n      }\n    });\n    edges.forEach((e) => {\n      graph.current.setEdge(e.from, e.to, {\n        ...e,\n        label: e.label,\n        width: 0,\n        height: 0,\n        labelpos: labelPosition,\n        labeloffset: labelOffset,\n        weight: edgeWeight,\n        minlen: edgeRanks\n      });\n    });\n  }, [edges, nodes, labelPosition, labelOffset, edgeWeight, edgeRanks]);\n  const updateGraph = React.useMemo(() => debounce(() => {\n    dagre.layout(graph.current);\n    const {height, width} = graph.current.graph();\n    const newHeight = Math.max(0, height || 0);\n    const newWidth = Math.max(0, width || 0);\n    setGraphWidth(newWidth);\n    setGraphHeight(newHeight);\n    setGraphNodes(graph.current.nodes());\n    setGraphEdges(graph.current.edges());\n  }, 250, {leading: true}), []);\n  React.useEffect(() => {\n    graph.current.setGraph({\n      rankdir: direction,\n      align,\n      nodesep: nodeMargin,\n      edgesep: edgeMargin,\n      ranksep: rankMargin,\n      marginx: paddingX,\n      marginy: paddingY,\n      acyclicer,\n      ranker\n    });\n    setNodesAndEdges();\n    updateGraph();\n    return updateGraph.cancel;\n  }, [\n    acyclicer,\n    align,\n    direction,\n    edgeMargin,\n    paddingX,\n    paddingY,\n    nodeMargin,\n    rankMargin,\n    ranker,\n    setNodesAndEdges,\n    updateGraph\n  ]);\n  function setNode(id, node) {\n    graph.current.setNode(id, node);\n    updateGraph();\n    return graph.current;\n  }\n  function setEdge(id, edge) {\n    graph.current.setEdge(id, edge);\n    updateGraph();\n    return graph.current;\n  }\n  return /* @__PURE__ */ React.createElement(\"svg\", {\n    ref: containerRef,\n    ...svgProps,\n    width: maxWidth,\n    height: maxHeight,\n    viewBox: `0 0 ${maxWidth} ${maxHeight}`\n  }, /* @__PURE__ */ React.createElement(\"defs\", null, /* @__PURE__ */ React.createElement(\"marker\", {\n    id: ARROW_MARKER_ID,\n    viewBox: \"0 0 24 24\",\n    markerWidth: \"14\",\n    markerHeight: \"14\",\n    refX: \"16\",\n    refY: \"12\",\n    orient: \"auto\",\n    markerUnits: \"strokeWidth\"\n  }, /* @__PURE__ */ React.createElement(\"path\", {\n    fill: theme.palette.textSubtle,\n    d: \"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z\"\n  })), defs), /* @__PURE__ */ React.createElement(\"g\", {\n    id: WORKSPACE_ID\n  }, /* @__PURE__ */ React.createElement(\"svg\", {\n    width: graphWidth,\n    height: graphHeight,\n    y: maxHeight / 2 - graphHeight / 2,\n    x: maxWidth / 2 - graphWidth / 2,\n    viewBox: `0 0 ${graphWidth} ${graphHeight}`\n  }, graphEdges.map((e) => {\n    const edge = graph.current.edge(e);\n    if (!edge)\n      return null;\n    return /* @__PURE__ */ React.createElement(Edge, {\n      key: `${e.v}-${e.w}`,\n      id: e,\n      setEdge,\n      render: renderLabel,\n      edge\n    });\n  }), graphNodes.map((id) => {\n    const node = graph.current.node(id);\n    if (!node)\n      return null;\n    return /* @__PURE__ */ React.createElement(Node, {\n      key: id,\n      setNode,\n      render: renderNode,\n      node\n    });\n  }))));\n}\n\nconst useStyles$7 = makeStyles((theme) => ({\n  root: {\n    padding: theme.spacing(0),\n    marginBottom: theme.spacing(0),\n    marginTop: theme.spacing(0),\n    display: \"flex\",\n    flexFlow: \"row nowrap\"\n  },\n  topPosition: {\n    position: \"relative\",\n    marginBottom: theme.spacing(6),\n    marginTop: -theme.spacing(3),\n    zIndex: \"unset\"\n  },\n  icon: {\n    fontSize: 20\n  },\n  content: {\n    width: \"100%\",\n    maxWidth: \"inherit\"\n  },\n  message: {\n    display: \"flex\",\n    alignItems: \"center\",\n    color: theme.palette.banner.text,\n    \"& a\": {\n      color: theme.palette.banner.link\n    }\n  },\n  info: {\n    backgroundColor: theme.palette.banner.info\n  },\n  error: {\n    backgroundColor: theme.palette.banner.error\n  }\n}));\nconst DismissableBanner = ({\n  variant,\n  message,\n  id,\n  fixed = false\n}) => {\n  var _a;\n  const classes = useStyles$7();\n  const storageApi = useApi(storageApiRef);\n  const notificationsStore = storageApi.forBucket(\"notifications\");\n  const rawDismissedBanners = (_a = notificationsStore.get(\"dismissedBanners\")) != null ? _a : [];\n  const [dismissedBanners, setDismissedBanners] = useState(new Set(rawDismissedBanners));\n  const observedItems = useObservable(notificationsStore.observe$(\"dismissedBanners\"));\n  useEffect(() => {\n    var _a2;\n    if (observedItems == null ? void 0 : observedItems.newValue) {\n      const currentValue = (_a2 = observedItems == null ? void 0 : observedItems.newValue) != null ? _a2 : [];\n      setDismissedBanners(new Set(currentValue));\n    }\n  }, [observedItems == null ? void 0 : observedItems.newValue]);\n  const handleClick = () => {\n    notificationsStore.set(\"dismissedBanners\", [...dismissedBanners, id]);\n  };\n  return /* @__PURE__ */ React.createElement(Snackbar$1, {\n    anchorOrigin: fixed ? {vertical: \"bottom\", horizontal: \"center\"} : {vertical: \"top\", horizontal: \"center\"},\n    open: !dismissedBanners.has(id),\n    classes: {\n      root: classNames(classes.root, !fixed && classes.topPosition)\n    }\n  }, /* @__PURE__ */ React.createElement(SnackbarContent, {\n    classes: {\n      root: classNames(classes.content, classes[variant]),\n      message: classes.message\n    },\n    message,\n    action: [\n      /* @__PURE__ */ React.createElement(IconButton$1, {\n        key: \"dismiss\",\n        title: \"Permanently dismiss this message\",\n        color: \"inherit\",\n        onClick: handleClick\n      }, /* @__PURE__ */ React.createElement(CloseIcon, {\n        className: classes.icon\n      }))\n    ]\n  }));\n};\n\nconst useStyles$8 = makeStyles({\n  generalImg: {\n    width: \"95%\",\n    zIndex: 2,\n    position: \"absolute\",\n    left: \"50%\",\n    top: \"50%\",\n    transform: \"translate(-50%, 15%)\"\n  }\n});\nconst EmptyStateImage = ({missing}) => {\n  const classes = useStyles$8();\n  switch (missing) {\n    case \"field\":\n      return /* @__PURE__ */ React.createElement(\"img\", {\n        src: missingAnnotation,\n        className: classes.generalImg,\n        alt: \"annotation is missing\"\n      });\n    case \"info\":\n      return /* @__PURE__ */ React.createElement(\"img\", {\n        src: noInformation,\n        alt: \"no Information\",\n        className: classes.generalImg\n      });\n    case \"content\":\n      return /* @__PURE__ */ React.createElement(\"img\", {\n        src: createComponent,\n        alt: \"create Component\",\n        className: classes.generalImg\n      });\n    case \"data\":\n      return /* @__PURE__ */ React.createElement(\"img\", {\n        src: noBuild,\n        alt: \"no Build\",\n        className: classes.generalImg\n      });\n    default:\n      return null;\n  }\n};\n\nconst useStyles$9 = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.default,\n    padding: theme.spacing(2, 0, 0, 0)\n  },\n  action: {\n    marginTop: theme.spacing(2)\n  },\n  imageContainer: {\n    position: \"relative\"\n  }\n}));\nconst EmptyState = ({title, description, missing, action}) => {\n  const classes = useStyles$9();\n  return /* @__PURE__ */ React.createElement(Grid, {\n    container: true,\n    direction: \"row\",\n    justify: \"space-around\",\n    alignItems: \"flex-start\",\n    className: classes.root,\n    spacing: 2\n  }, /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    container: true,\n    direction: \"column\",\n    xs: 12,\n    md: 6\n  }, /* @__PURE__ */ React.createElement(Grid, {\n    item: true\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"h5\"\n  }, title)), /* @__PURE__ */ React.createElement(Grid, {\n    item: true\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body1\"\n  }, description)), /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    className: classes.action\n  }, action)), /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 6,\n    className: classes.imageContainer\n  }, /* @__PURE__ */ React.createElement(EmptyStateImage, {\n    missing\n  })));\n};\n\nconst COMPONENT_YAML = `apiVersion: backstage.io/v1alpha1\nkind: Component\nmetadata:\n  name: example\n  description: example.com\n  annotations:\n    ANNOTATION: value\nspec:\n  type: website\n  lifecycle: production\n  owner: user:guest`;\nconst useStyles$a = makeStyles((theme) => ({\n  code: {\n    borderRadius: 6,\n    margin: `${theme.spacing(2)}px 0px`,\n    background: theme.palette.type === \"dark\" ? \"#444\" : \"#fff\"\n  }\n}));\nconst MissingAnnotationEmptyState = ({annotation}) => {\n  const classes = useStyles$a();\n  const description = /* @__PURE__ */ React.createElement(React.Fragment, null, \"The \", /* @__PURE__ */ React.createElement(\"code\", null, annotation), \" annotation is missing. You need to add the annotation to your component if you want to enable this tool.\");\n  return /* @__PURE__ */ React.createElement(EmptyState, {\n    missing: \"field\",\n    title: \"Missing Annotation\",\n    description,\n    action: /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"body1\"\n    }, \"Add the annotation to your component YAML as shown in the highlighted example below:\"), /* @__PURE__ */ React.createElement(\"div\", {\n      className: classes.code\n    }, /* @__PURE__ */ React.createElement(CodeSnippet, {\n      text: COMPONENT_YAML.replace(\"ANNOTATION\", annotation),\n      language: \"yaml\",\n      showLineNumbers: true,\n      highlightedNumbers: [6, 7],\n      customStyle: {background: \"inherit\", fontSize: \"115%\"}\n    })), /* @__PURE__ */ React.createElement(Button$1, {\n      variant: \"contained\",\n      color: \"primary\",\n      href: \"https://backstage.io/docs/features/software-catalog/well-known-annotations\"\n    }, \"Read more\"))\n  });\n};\n\nconst useErrorOutlineStyles = makeStyles((theme) => ({\n  root: {\n    marginRight: theme.spacing(1),\n    fill: theme.palette.warningText\n  }\n}));\nconst ErrorOutlineStyled = () => {\n  const classes = useErrorOutlineStyles();\n  return /* @__PURE__ */ React.createElement(ErrorOutline, {\n    classes\n  });\n};\nconst ExpandMoreIconStyled = () => {\n  const classes = useErrorOutlineStyles();\n  return /* @__PURE__ */ React.createElement(ExpandMoreIcon, {\n    classes\n  });\n};\nconst useStyles$b = makeStyles((theme) => ({\n  panel: {\n    backgroundColor: theme.palette.warningBackground,\n    color: theme.palette.warningText,\n    verticalAlign: \"middle\"\n  },\n  summary: {\n    display: \"flex\",\n    flexDirection: \"row\"\n  },\n  summaryText: {\n    color: theme.palette.warningText,\n    fontWeight: \"bold\"\n  },\n  message: {\n    width: \"100%\",\n    display: \"block\",\n    color: theme.palette.warningText,\n    backgroundColor: theme.palette.warningBackground\n  },\n  details: {\n    width: \"100%\",\n    display: \"block\",\n    color: theme.palette.textContrast,\n    backgroundColor: theme.palette.background.default,\n    border: `1px solid ${theme.palette.border}`,\n    padding: theme.spacing(2),\n    fontFamily: \"sans-serif\"\n  }\n}));\nconst capitalize = (s) => {\n  return s.charAt(0).toLocaleUpperCase(\"en-US\") + s.slice(1);\n};\nconst WarningPanel = (props) => {\n  const classes = useStyles$b(props);\n  const {severity, title, message, children} = props;\n  const subTitle = (severity ? capitalize(severity) : \"Warning\") + (title ? `: ${title}` : \"\");\n  return /* @__PURE__ */ React.createElement(Accordion, {\n    className: classes.panel\n  }, /* @__PURE__ */ React.createElement(AccordionSummary, {\n    expandIcon: /* @__PURE__ */ React.createElement(ExpandMoreIconStyled, null),\n    className: classes.summary\n  }, /* @__PURE__ */ React.createElement(ErrorOutlineStyled, null), /* @__PURE__ */ React.createElement(Typography, {\n    className: classes.summaryText,\n    variant: \"subtitle1\"\n  }, subTitle)), (message || children) && /* @__PURE__ */ React.createElement(AccordionDetails, null, /* @__PURE__ */ React.createElement(Grid, {\n    container: true\n  }, message && /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: 12\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    className: classes.message,\n    variant: \"body1\"\n  }, message)), children && /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    className: classes.details\n  }, children))));\n};\n\nconst useStyles$c = makeStyles((theme) => ({\n  text: {\n    fontFamily: \"monospace\",\n    whiteSpace: \"pre\",\n    overflowX: \"auto\",\n    marginRight: theme.spacing(2)\n  },\n  divider: {\n    margin: theme.spacing(2)\n  }\n}));\nconst ResponseErrorList = ({\n  error,\n  request,\n  message,\n  stack,\n  json\n}) => {\n  const classes = useStyles$c();\n  return /* @__PURE__ */ React.createElement(List, {\n    dense: true\n  }, /* @__PURE__ */ React.createElement(ListItem, {\n    alignItems: \"flex-start\"\n  }, /* @__PURE__ */ React.createElement(ListItemText, {\n    classes: {secondary: classes.text},\n    primary: \"Error\",\n    secondary: error\n  }), /* @__PURE__ */ React.createElement(CopyTextButton, {\n    text: error\n  })), /* @__PURE__ */ React.createElement(ListItem, {\n    alignItems: \"flex-start\"\n  }, /* @__PURE__ */ React.createElement(ListItemText, {\n    classes: {secondary: classes.text},\n    primary: \"Message\",\n    secondary: message\n  }), /* @__PURE__ */ React.createElement(CopyTextButton, {\n    text: message\n  })), request && /* @__PURE__ */ React.createElement(ListItem, {\n    alignItems: \"flex-start\"\n  }, /* @__PURE__ */ React.createElement(ListItemText, {\n    classes: {secondary: classes.text},\n    primary: \"Request\",\n    secondary: request\n  }), /* @__PURE__ */ React.createElement(CopyTextButton, {\n    text: request\n  })), stack && /* @__PURE__ */ React.createElement(ListItem, {\n    alignItems: \"flex-start\"\n  }, /* @__PURE__ */ React.createElement(ListItemText, {\n    classes: {secondary: classes.text},\n    primary: \"Stack Trace\",\n    secondary: stack\n  }), /* @__PURE__ */ React.createElement(CopyTextButton, {\n    text: stack\n  })), json && /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Divider, {\n    component: \"li\",\n    className: classes.divider\n  }), /* @__PURE__ */ React.createElement(ListItem, {\n    alignItems: \"flex-start\"\n  }, /* @__PURE__ */ React.createElement(ListItemText, {\n    classes: {secondary: classes.text},\n    primary: \"Full Error as JSON\",\n    secondary: /* @__PURE__ */ React.createElement(CodeSnippet, {\n      language: \"json\",\n      text: json\n    })\n  }), /* @__PURE__ */ React.createElement(CopyTextButton, {\n    text: json\n  }))));\n};\nconst ResponseErrorDetails = ({error}) => {\n  var _a;\n  if (error.name !== \"ResponseError\") {\n    return /* @__PURE__ */ React.createElement(ResponseErrorList, {\n      error: error.name,\n      message: error.message,\n      stack: error.stack\n    });\n  }\n  const {data, cause} = error;\n  const {request, response} = data;\n  const errorString = `${response.statusCode}: ${cause.name}`;\n  const requestString = request && `${request.method} ${request.url}`;\n  const messageString = cause.message.replace(/\\\\n/g, \"\\n\");\n  const stackString = (_a = cause.stack) == null ? void 0 : _a.replace(/\\\\n/g, \"\\n\");\n  const jsonString = JSON.stringify(data, void 0, 2);\n  return /* @__PURE__ */ React.createElement(ResponseErrorList, {\n    error: errorString,\n    message: messageString,\n    request: requestString,\n    stack: stackString,\n    json: jsonString\n  });\n};\nconst ResponseErrorPanel = ({error}) => {\n  return /* @__PURE__ */ React.createElement(WarningPanel, {\n    title: error.message\n  }, /* @__PURE__ */ React.createElement(ResponseErrorDetails, {\n    error\n  }));\n};\n\nfunction createRootElement(id) {\n  const rootContainer = document.createElement(\"div\");\n  rootContainer.setAttribute(\"id\", id);\n  return rootContainer;\n}\nfunction addRootElement(rootElem) {\n  document.body.insertBefore(rootElem, document.body.lastElementChild.nextElementSibling);\n}\nfunction usePortal(id) {\n  const rootElemRef = useRef(null);\n  useEffect(function setupElement() {\n    const existingParent = document.querySelector(`#${id}`);\n    const parentElem = existingParent || createRootElement(id);\n    if (!existingParent) {\n      addRootElement(parentElem);\n    }\n    parentElem.appendChild(rootElemRef.current);\n    return function removeElement() {\n      rootElemRef.current.remove();\n      if (parentElem.childNodes.length === -1) {\n        parentElem.remove();\n      }\n    };\n  }, [id]);\n  function getRootElem() {\n    if (!rootElemRef.current) {\n      rootElemRef.current = document.createElement(\"div\");\n    }\n    return rootElemRef.current;\n  }\n  return getRootElem();\n}\n\nconst STATES_LOCAL_STORAGE_KEY = \"core.calloutSeen\";\nfunction useCalloutStates() {\n  const [states, setStates] = useState(() => {\n    const raw = localStorage.getItem(STATES_LOCAL_STORAGE_KEY);\n    return raw ? JSON.parse(raw) : {};\n  });\n  const setState = useCallback((key, value) => {\n    const raw = localStorage.getItem(STATES_LOCAL_STORAGE_KEY);\n    const oldStates = raw ? JSON.parse(raw) : {};\n    const newStates = {...oldStates, [key]: value};\n    setStates(newStates);\n    localStorage.setItem(STATES_LOCAL_STORAGE_KEY, JSON.stringify(newStates));\n  }, []);\n  return {states, setState};\n}\nfunction useCalloutHasBeenSeen(featureId) {\n  const {states, setState} = useCalloutStates();\n  const markSeen = useCallback(() => {\n    setState(featureId, true);\n  }, [setState, featureId]);\n  return {seen: states[featureId] === true, markSeen};\n}\nfunction useShowCallout(featureId) {\n  const {seen, markSeen} = useCalloutHasBeenSeen(featureId);\n  return {show: seen === false, hide: markSeen};\n}\n\nconst useStyles$d = makeStyles({\n  \"@keyframes pulsateSlightly\": {\n    \"0%\": {transform: \"scale(1.0)\"},\n    \"100%\": {transform: \"scale(1.1)\"}\n  },\n  \"@keyframes pulsateAndFade\": {\n    \"0%\": {transform: \"scale(1.0)\", opacity: 0.9},\n    \"100%\": {transform: \"scale(1.5)\", opacity: 0}\n  },\n  featureWrapper: {\n    position: \"relative\"\n  },\n  backdrop: {\n    zIndex: 2e3,\n    position: \"fixed\",\n    overflow: \"hidden\",\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0\n  },\n  dot: {\n    position: \"absolute\",\n    backgroundColor: \"transparent\",\n    borderRadius: \"100%\",\n    border: \"1px solid rgba(103, 146, 180, 0.98)\",\n    boxShadow: \"0px 0px 0px 20000px rgba(0, 0, 0, 0.5)\",\n    zIndex: 2001,\n    transformOrigin: \"center center\",\n    animation: \"$pulsateSlightly 1744ms 1.2s cubic-bezier(0.4, 0, 0.2, 1) alternate infinite\"\n  },\n  pulseCircle: {\n    width: \"100%\",\n    height: \"100%\",\n    backgroundColor: \"transparent\",\n    borderRadius: \"100%\",\n    border: \"2px solid white\",\n    zIndex: 2001,\n    transformOrigin: \"center center\",\n    animation: \"$pulsateAndFade 872ms 1.2s cubic-bezier(0.4, 0, 0.2, 1) infinite\"\n  },\n  text: {\n    position: \"absolute\",\n    color: \"white\",\n    zIndex: 2003\n  }\n});\nconst FeatureCalloutCircular = ({\n  featureId,\n  title,\n  description,\n  children\n}) => {\n  const {show, hide} = useShowCallout(featureId);\n  const portalElement = usePortal(\"core.callout\");\n  const wrapperRef = useRef(null);\n  const [placement, setPlacement] = useState();\n  const classes = useStyles$d();\n  const update = useCallback(() => {\n    if (wrapperRef.current) {\n      const wrapperBounds = wrapperRef.current.getBoundingClientRect();\n      const longest = Math.max(wrapperBounds.width, wrapperBounds.height);\n      const borderWidth = 800;\n      const dotLeft = wrapperBounds.x - (longest - wrapperBounds.width) / 2 - borderWidth;\n      const dotTop = wrapperBounds.y - (longest - wrapperBounds.height) / 2 - borderWidth;\n      const dotSize = longest + 2 * borderWidth;\n      const textWidth = 450;\n      const textLeft = wrapperBounds.x + wrapperBounds.width / 2 - textWidth;\n      const textTop = wrapperBounds.y - (longest - wrapperBounds.height) / 2 + longest + 20;\n      setPlacement({\n        dotLeft,\n        dotTop,\n        dotSize,\n        borderWidth,\n        textTop,\n        textLeft,\n        textWidth\n      });\n    }\n  }, []);\n  useEffect(() => {\n    window.addEventListener(\"resize\", update);\n    window.addEventListener(\"scroll\", update);\n    return () => {\n      window.removeEventListener(\"resize\", update);\n      window.removeEventListener(\"scroll\", update);\n    };\n  }, [update]);\n  useLayoutEffect(update, [wrapperRef.current, update]);\n  if (!show) {\n    return /* @__PURE__ */ React.createElement(React.Fragment, null, children);\n  }\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.featureWrapper,\n    ref: wrapperRef\n  }, children), createPortal(/* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.backdrop\n  }, /* @__PURE__ */ React.createElement(ClickAwayListener, {\n    onClickAway: hide\n  }, /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.dot,\n    \"data-testid\": \"dot\",\n    style: {\n      left: placement == null ? void 0 : placement.dotLeft,\n      top: placement == null ? void 0 : placement.dotTop,\n      width: placement == null ? void 0 : placement.dotSize,\n      height: placement == null ? void 0 : placement.dotSize,\n      borderWidth: placement == null ? void 0 : placement.borderWidth\n    },\n    onClick: hide,\n    onKeyDown: hide,\n    role: \"button\",\n    tabIndex: 0\n  }, /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.pulseCircle\n  })), /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.text,\n    \"data-testid\": \"text\",\n    style: {\n      left: placement == null ? void 0 : placement.textLeft,\n      top: placement == null ? void 0 : placement.textTop,\n      width: placement == null ? void 0 : placement.textWidth\n    }\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"h2\",\n    paragraph: true\n  }, title), /* @__PURE__ */ React.createElement(Typography, null, description))))), portalElement));\n};\n\nconst isExternalUri = (uri) => /^([a-z+.-]+):/.test(uri);\nconst Link = React.forwardRef((props, ref) => {\n  const to = String(props.to);\n  return isExternalUri(to) ? /* @__PURE__ */ React.createElement(Link$1, {\n    ref,\n    href: to,\n    ...props\n  }) : /* @__PURE__ */ React.createElement(Link$1, {\n    ref,\n    component: Link$2,\n    ...props\n  });\n});\n\nconst useIconStyles = makeStyles((theme) => ({\n  link: {\n    display: \"grid\",\n    justifyItems: \"center\",\n    gridGap: 4,\n    textAlign: \"center\"\n  },\n  disabled: {\n    color: \"gray\",\n    cursor: \"default\"\n  },\n  primary: {\n    color: theme.palette.primary.main\n  },\n  secondary: {\n    color: theme.palette.secondary.main\n  },\n  label: {\n    fontSize: \"0.7rem\",\n    textTransform: \"uppercase\",\n    fontWeight: 600,\n    letterSpacing: 1.2\n  }\n}));\nfunction IconLinkVertical({\n  color = \"primary\",\n  disabled = false,\n  href = \"#\",\n  icon = /* @__PURE__ */ React.createElement(LinkIcon, null),\n  label,\n  onClick,\n  title\n}) {\n  const classes = useIconStyles();\n  if (disabled) {\n    return /* @__PURE__ */ React.createElement(Link$1, {\n      title,\n      className: classNames(classes.link, classes.disabled),\n      underline: \"none\"\n    }, icon, /* @__PURE__ */ React.createElement(\"span\", {\n      className: classes.label\n    }, label));\n  }\n  return /* @__PURE__ */ React.createElement(Link$1, {\n    title,\n    className: classNames(classes.link, classes[color]),\n    to: href,\n    component: Link,\n    onClick\n  }, icon, /* @__PURE__ */ React.createElement(\"span\", {\n    className: classes.label\n  }, label));\n}\n\nconst useStyles$e = makeStyles((theme) => ({\n  links: {\n    margin: theme.spacing(2, 0),\n    display: \"grid\",\n    gridAutoFlow: \"column\",\n    gridAutoColumns: \"min-content\",\n    gridGap: theme.spacing(3)\n  }\n}));\nconst HeaderIconLinkRow = ({links}) => {\n  const classes = useStyles$e();\n  return /* @__PURE__ */ React.createElement(\"nav\", {\n    className: classes.links\n  }, links.map((link, index) => /* @__PURE__ */ React.createElement(IconLinkVertical, {\n    key: index + 1,\n    ...link\n  })));\n};\n\nconst generateGradientStops = (themeType) => {\n  const luminance = themeType === \"dark\" ? \"16%\" : \"97%\";\n  return `\n    hsl(0, 0%, ${luminance}) 0%,\n    hsla(0, 0%, ${luminance}, 0.987) 8.1%,\n    hsla(0, 0%, ${luminance}, 0.951) 15.5%,\n    hsla(0, 0%, ${luminance}, 0.896) 22.5%,\n    hsla(0, 0%, ${luminance}, 0.825) 29%,\n    hsla(0, 0%, ${luminance}, 0.741) 35.3%,\n    hsla(0, 0%, ${luminance}, 0.648) 41.2%,\n    hsla(0, 0%, ${luminance}, 0.55) 47.1%,\n    hsla(0, 0%, ${luminance}, 0.45) 52.9%,\n    hsla(0, 0%, ${luminance}, 0.352) 58.8%,\n    hsla(0, 0%, ${luminance}, 0.259) 64.7%,\n    hsla(0, 0%, ${luminance}, 0.175) 71%,\n    hsla(0, 0%, ${luminance}, 0.104) 77.5%,\n    hsla(0, 0%, ${luminance}, 0.049) 84.5%,\n    hsla(0, 0%, ${luminance}, 0.013) 91.9%,\n    hsla(0, 0%, ${luminance}, 0) 100%\n  `;\n};\nconst fadeSize = 100;\nconst fadePadding = 10;\nconst useStyles$f = makeStyles((theme) => ({\n  root: {\n    position: \"relative\",\n    display: \"flex\",\n    flexFlow: \"row nowrap\",\n    alignItems: \"center\"\n  },\n  container: {\n    overflow: \"auto\",\n    scrollbarWidth: 0,\n    \"&::-webkit-scrollbar\": {\n      display: \"none\"\n    }\n  },\n  fade: {\n    position: \"absolute\",\n    width: fadeSize,\n    height: `calc(100% + ${fadePadding}px)`,\n    transition: \"opacity 300ms\",\n    pointerEvents: \"none\"\n  },\n  fadeLeft: {\n    left: -fadePadding,\n    background: `linear-gradient(90deg, ${generateGradientStops(theme.palette.type)})`\n  },\n  fadeRight: {\n    right: -fadePadding,\n    background: `linear-gradient(270deg, ${generateGradientStops(theme.palette.type)})`\n  },\n  fadeHidden: {\n    opacity: 0\n  },\n  button: {\n    position: \"absolute\"\n  },\n  buttonLeft: {\n    left: -theme.spacing(2)\n  },\n  buttonRight: {\n    right: -theme.spacing(2)\n  }\n}));\nfunction useScrollDistance(ref) {\n  const [[scrollLeft, scrollRight], setScroll] = React.useState([0, 0]);\n  React.useLayoutEffect(() => {\n    const el = ref.current;\n    if (!el) {\n      setScroll([0, 0]);\n      return;\n    }\n    const handleUpdate = () => {\n      const left = el.scrollLeft;\n      const right = el.scrollWidth - el.offsetWidth - el.scrollLeft;\n      setScroll([left, right]);\n    };\n    handleUpdate();\n    el.addEventListener(\"scroll\", handleUpdate);\n    window.addEventListener(\"resize\", handleUpdate);\n    return () => {\n      el.removeEventListener(\"scroll\", handleUpdate);\n      window.removeEventListener(\"resize\", handleUpdate);\n    };\n  }, [ref]);\n  return [scrollLeft, scrollRight];\n}\nfunction useSmoothScroll(ref, speed, minDistance) {\n  const [scrollTarget, setScrollTarget] = React.useState(0);\n  React.useLayoutEffect(() => {\n    if (scrollTarget === 0) {\n      return;\n    }\n    const startTime = performance.now();\n    const id = requestAnimationFrame((frameTime) => {\n      if (!ref.current) {\n        return;\n      }\n      const frameDuration = frameTime - startTime;\n      const scrollDistance = Math.abs(scrollTarget) * frameDuration / speed;\n      const cappedScrollDistance = Math.max(minDistance, scrollDistance);\n      const scrollAmount = cappedScrollDistance * Math.sign(scrollTarget);\n      ref.current.scrollBy({left: scrollAmount});\n      const newScrollTarget = scrollTarget - scrollAmount;\n      if (Math.sign(scrollTarget) !== Math.sign(newScrollTarget)) {\n        setScrollTarget(0);\n      } else {\n        setScrollTarget(newScrollTarget);\n      }\n    });\n    return () => cancelAnimationFrame(id);\n  }, [ref, scrollTarget, speed, minDistance]);\n  return setScrollTarget;\n}\nconst HorizontalScrollGrid = (props) => {\n  const {\n    scrollStep = 100,\n    scrollSpeed = 50,\n    minScrollDistance = 5,\n    children,\n    ...otherProps\n  } = props;\n  const classes = useStyles$f(props);\n  const ref = React.useRef();\n  const [scrollLeft, scrollRight] = useScrollDistance(ref);\n  const setScrollTarget = useSmoothScroll(ref, scrollSpeed, minScrollDistance);\n  const handleScrollClick = (forwards) => {\n    const el = ref.current;\n    if (!el) {\n      return;\n    }\n    setScrollTarget(forwards ? scrollStep : -scrollStep);\n  };\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    ...otherProps,\n    className: classes.root\n  }, /* @__PURE__ */ React.createElement(Grid, {\n    container: true,\n    direction: \"row\",\n    wrap: \"nowrap\",\n    className: classes.container,\n    ref\n  }, children), /* @__PURE__ */ React.createElement(\"div\", {\n    className: classNames(classes.fade, classes.fadeLeft, {\n      [classes.fadeHidden]: scrollLeft === 0\n    })\n  }), /* @__PURE__ */ React.createElement(\"div\", {\n    className: classNames(classes.fade, classes.fadeRight, {\n      [classes.fadeHidden]: scrollRight === 0\n    })\n  }), scrollLeft > 0 && /* @__PURE__ */ React.createElement(IconButton, {\n    title: \"Scroll Left\",\n    onClick: () => handleScrollClick(false),\n    className: classNames(classes.button, classes.buttonLeft, {})\n  }, /* @__PURE__ */ React.createElement(ChevronLeftIcon, null)), scrollRight > 0 && /* @__PURE__ */ React.createElement(IconButton, {\n    title: \"Scroll Right\",\n    onClick: () => handleScrollClick(true),\n    className: classNames(classes.button, classes.buttonRight, {})\n  }, /* @__PURE__ */ React.createElement(ChevronRight, null)));\n};\n\nconst useStyles$g = makeStyles({\n  alpha: {\n    color: \"#ffffff\",\n    fontFamily: \"serif\",\n    fontWeight: \"normal\",\n    fontStyle: \"italic\"\n  },\n  beta: {\n    color: \"#4d65cc\",\n    fontFamily: \"serif\",\n    fontWeight: \"normal\",\n    fontStyle: \"italic\"\n  }\n});\nconst Lifecycle = (props) => {\n  const classes = useStyles$g(props);\n  const {shorthand, alpha} = props;\n  return shorthand ? /* @__PURE__ */ React.createElement(\"span\", {\n    className: classes[alpha ? \"alpha\" : \"beta\"],\n    style: {fontSize: \"120%\"}\n  }, alpha ? /* @__PURE__ */ React.createElement(React.Fragment, null, \"\\u03B1\") : /* @__PURE__ */ React.createElement(React.Fragment, null, \"\\u03B2\")) : /* @__PURE__ */ React.createElement(\"span\", {\n    className: classes[alpha ? \"alpha\" : \"beta\"]\n  }, alpha ? \"Alpha\" : \"Beta\");\n};\n\nconst useStyles$h = makeStyles((theme) => ({\n  markdown: {\n    \"& table\": {\n      borderCollapse: \"collapse\",\n      border: `1px solid ${theme.palette.border}`\n    },\n    \"& th, & td\": {\n      border: `1px solid ${theme.palette.border}`,\n      padding: theme.spacing(1)\n    },\n    \"& td\": {\n      wordBreak: \"break-word\",\n      overflow: \"hidden\",\n      verticalAlign: \"middle\",\n      lineHeight: \"1\",\n      margin: 0,\n      padding: theme.spacing(3, 2, 3, 2.5),\n      borderBottom: 0\n    },\n    \"& th\": {\n      backgroundColor: theme.palette.background.paper\n    },\n    \"& tr\": {\n      backgroundColor: theme.palette.background.paper\n    },\n    \"& tr:nth-child(odd)\": {\n      backgroundColor: theme.palette.background.default\n    },\n    \"& a\": {\n      color: theme.palette.link\n    },\n    \"& img\": {\n      maxWidth: \"100%\"\n    }\n  }\n}));\nconst renderers = {\n  code: ({language, value}) => {\n    return /* @__PURE__ */ React.createElement(CodeSnippet, {\n      language,\n      text: value\n    });\n  }\n};\nconst MarkdownContent = ({content, dialect = \"gfm\"}) => {\n  const classes = useStyles$h();\n  return /* @__PURE__ */ React.createElement(ReactMarkdown, {\n    plugins: dialect === \"gfm\" ? [gfm] : [],\n    className: classes.markdown,\n    children: content,\n    renderers\n  });\n};\n\nconst useItemStyles = makeStyles((theme) => ({\n  root: {\n    paddingLeft: theme.spacing(3)\n  }\n}));\nconst LoginRequestListItem = ({request, busy, setBusy}) => {\n  const classes = useItemStyles();\n  const [error, setError] = useState();\n  const handleContinue = async () => {\n    setBusy(true);\n    try {\n      await request.trigger();\n    } catch (e) {\n      setError(e);\n    } finally {\n      setBusy(false);\n    }\n  };\n  const IconComponent = request.provider.icon;\n  return /* @__PURE__ */ React.createElement(ListItem, {\n    button: true,\n    disabled: busy,\n    onClick: handleContinue,\n    classes: {root: classes.root}\n  }, /* @__PURE__ */ React.createElement(ListItemAvatar, null, /* @__PURE__ */ React.createElement(IconComponent, {\n    fontSize: \"large\"\n  })), /* @__PURE__ */ React.createElement(ListItemText, {\n    primary: request.provider.title,\n    secondary: error && /* @__PURE__ */ React.createElement(Typography, {\n      color: \"error\"\n    }, error.message || \"An unspecified error occurred\")\n  }));\n};\n\nconst useStyles$i = makeStyles((theme) => ({\n  dialog: {\n    paddingTop: theme.spacing(1)\n  },\n  title: {\n    minWidth: 0\n  },\n  contentList: {\n    padding: 0\n  }\n}));\nconst OAuthRequestDialog = () => {\n  const classes = useStyles$i();\n  const [busy, setBusy] = useState(false);\n  const oauthRequestApi = useApi(oauthRequestApiRef);\n  const requests = useObservable(useMemo(() => oauthRequestApi.authRequest$(), [oauthRequestApi]), []);\n  const handleRejectAll = () => {\n    requests.forEach((request) => request.reject());\n  };\n  return /* @__PURE__ */ React.createElement(Dialog, {\n    open: Boolean(requests.length),\n    fullWidth: true,\n    maxWidth: \"xs\",\n    classes: {paper: classes.dialog}\n  }, /* @__PURE__ */ React.createElement(DialogTitle, {\n    classes: {root: classes.title}\n  }, \"Login Required\"), /* @__PURE__ */ React.createElement(DialogContent, {\n    classes: {root: classes.contentList}\n  }, /* @__PURE__ */ React.createElement(List, null, requests.map((request) => /* @__PURE__ */ React.createElement(LoginRequestListItem, {\n    key: request.provider.title,\n    request,\n    busy,\n    setBusy\n  })))), /* @__PURE__ */ React.createElement(DialogActions, null, /* @__PURE__ */ React.createElement(Button$1, {\n    onClick: handleRejectAll\n  }, \"Reject All\")));\n};\n\nconst useStyles$j = makeStyles({\n  container: {\n    overflow: \"visible !important\"\n  }\n});\nconst OverflowTooltip = (props) => {\n  var _a;\n  const [hover, setHover] = useState(false);\n  const classes = useStyles$j();\n  const handleToggled = (truncated) => {\n    setHover(truncated);\n  };\n  return /* @__PURE__ */ React.createElement(Tooltip, {\n    title: (_a = props.title) != null ? _a : props.text || \"\",\n    placement: props.placement,\n    disableHoverListener: !hover\n  }, /* @__PURE__ */ React.createElement(TextTruncate, {\n    text: props.text,\n    line: props.line,\n    onToggled: handleToggled,\n    containerClassName: classes.container\n  }));\n};\n\nconst Error$1 = ({slackChannel}) => {\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    role: \"alert\"\n  }, \"Something went wrong here.\", \" \", slackChannel && /* @__PURE__ */ React.createElement(React.Fragment, null, \"Please contact \", slackChannel, \" for help.\"));\n};\nconst ErrorBoundary = class ErrorBoundary2 extends Component$3 {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: void 0,\n      errorInfo: void 0\n    };\n  }\n  componentDidCatch(error, errorInfo) {\n    console.error(`ErrorBoundary, error: ${error}, info: ${errorInfo}`);\n    this.setState({error, errorInfo});\n  }\n  render() {\n    const {slackChannel} = this.props;\n    const {error, errorInfo} = this.state;\n    if (!errorInfo) {\n      return this.props.children;\n    }\n    return /* @__PURE__ */ React.createElement(Error$1, {\n      error,\n      slackChannel\n    });\n  }\n};\n\nconst useStyles$k = makeStyles((theme) => ({\n  root: {\n    maxWidth: \"fit-content\",\n    padding: theme.spacing(2, 2, 2, 2.5)\n  },\n  boxTitle: {\n    margin: 0,\n    color: theme.palette.textSubtle\n  },\n  arrow: {\n    color: theme.palette.textSubtle\n  }\n}));\nconst BottomLink = ({link, title, onClick}) => {\n  const classes = useStyles$k();\n  return /* @__PURE__ */ React.createElement(\"div\", null, /* @__PURE__ */ React.createElement(Divider, null), /* @__PURE__ */ React.createElement(Link, {\n    to: link,\n    onClick,\n    underline: \"none\"\n  }, /* @__PURE__ */ React.createElement(ListItem, {\n    className: classes.root\n  }, /* @__PURE__ */ React.createElement(ListItemText, null, /* @__PURE__ */ React.createElement(Box, {\n    className: classes.boxTitle,\n    fontWeight: \"fontWeightBold\",\n    m: 1\n  }, title)), /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(ArrowIcon, {\n    className: classes.arrow\n  })))));\n};\n\nconst useStyles$l = makeStyles((theme) => ({\n  noPadding: {\n    padding: 0,\n    \"&:last-child\": {\n      paddingBottom: 0\n    }\n  },\n  header: {\n    display: \"inline-block\",\n    padding: theme.spacing(2, 2, 2, 2.5)\n  },\n  headerTitle: {\n    fontWeight: 700\n  },\n  headerSubheader: {\n    paddingTop: theme.spacing(1)\n  },\n  headerAvatar: {},\n  headerAction: {},\n  headerContent: {}\n}));\nconst CardActionsTopRight = withStyles((theme) => ({\n  root: {\n    display: \"inline-block\",\n    padding: theme.spacing(8, 8, 0, 0),\n    float: \"right\"\n  }\n}))(CardActions);\nconst VARIANT_STYLES = {\n  card: {\n    flex: {\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    fullHeight: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      height: \"100%\"\n    },\n    gridItem: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      height: \"calc(100% - 10px)\",\n      marginBottom: \"10px\"\n    }\n  },\n  cardContent: {\n    fullHeight: {\n      flex: 1\n    },\n    gridItem: {\n      flex: 1\n    }\n  }\n};\nconst InfoCard = ({\n  title,\n  subheader,\n  divider = true,\n  deepLink,\n  slackChannel = \"#backstage\",\n  variant,\n  children,\n  headerStyle,\n  headerProps,\n  actionsClassName,\n  actions,\n  cardClassName,\n  actionsTopRight,\n  className,\n  noPadding,\n  titleTypographyProps\n}) => {\n  const classes = useStyles$l();\n  let calculatedStyle = {};\n  let calculatedCardStyle = {};\n  if (variant) {\n    const variants = variant.split(/[\\s]+/g);\n    variants.forEach((name) => {\n      calculatedStyle = {\n        ...calculatedStyle,\n        ...VARIANT_STYLES.card[name]\n      };\n      calculatedCardStyle = {\n        ...calculatedCardStyle,\n        ...VARIANT_STYLES.cardContent[name]\n      };\n    });\n  }\n  return /* @__PURE__ */ React.createElement(Card, {\n    style: calculatedStyle,\n    className\n  }, /* @__PURE__ */ React.createElement(ErrorBoundary, {\n    slackChannel\n  }, title && /* @__PURE__ */ React.createElement(CardHeader, {\n    classes: {\n      root: classes.header,\n      title: classes.headerTitle,\n      subheader: classes.headerSubheader,\n      avatar: classes.headerAvatar,\n      action: classes.headerAction,\n      content: classes.headerContent\n    },\n    title,\n    subheader,\n    style: {...headerStyle},\n    titleTypographyProps,\n    ...headerProps\n  }), actionsTopRight && /* @__PURE__ */ React.createElement(CardActionsTopRight, null, actionsTopRight), divider && /* @__PURE__ */ React.createElement(Divider, null), /* @__PURE__ */ React.createElement(CardContent, {\n    className: classNames(cardClassName, {\n      [classes.noPadding]: noPadding\n    }),\n    style: calculatedCardStyle\n  }, children), actions && /* @__PURE__ */ React.createElement(CardActions, {\n    className: actionsClassName\n  }, actions), deepLink && /* @__PURE__ */ React.createElement(BottomLink, {\n    ...deepLink\n  })));\n};\n\nconst useStyles$m = makeStyles((theme) => ({\n  root: {\n    position: \"relative\",\n    lineHeight: 0\n  },\n  overlay: {\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    transform: \"translate(-50%, -60%)\",\n    fontSize: 45,\n    fontWeight: \"bold\",\n    color: theme.palette.textContrast\n  },\n  circle: {\n    width: \"80%\",\n    transform: \"translate(10%, 0)\"\n  },\n  colorUnknown: {}\n}));\nconst defaultProps$1 = {\n  fractional: true,\n  inverse: false,\n  unit: \"%\",\n  max: 100\n};\nfunction getProgressColor(palette, value, inverse, max) {\n  if (isNaN(value)) {\n    return \"#ddd\";\n  }\n  const actualMax = max ? max : defaultProps$1.max;\n  const actualValue = inverse ? actualMax - value : value;\n  if (actualValue < actualMax / 3) {\n    return palette.status.error;\n  } else if (actualValue < actualMax * (2 / 3)) {\n    return palette.status.warning;\n  }\n  return palette.status.ok;\n}\nconst Gauge = (props) => {\n  const classes = useStyles$m(props);\n  const theme = useTheme();\n  const {value, fractional, inverse, unit, max} = {\n    ...defaultProps$1,\n    ...props\n  };\n  const asPercentage = fractional ? Math.round(value * max) : value;\n  const asActual = max !== 100 ? Math.round(value) : asPercentage;\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.root\n  }, /* @__PURE__ */ React.createElement(Circle, {\n    strokeLinecap: \"butt\",\n    percent: asPercentage,\n    strokeWidth: 12,\n    trailWidth: 12,\n    strokeColor: getProgressColor(theme.palette, asActual, inverse, max),\n    className: classes.circle\n  }), /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.overlay\n  }, isNaN(value) ? \"N/A\" : `${asActual}${unit}`));\n};\n\nconst useStyles$n = makeStyles({\n  root: {\n    height: \"100%\",\n    width: 250\n  }\n});\nconst GaugeCard = (props) => {\n  const classes = useStyles$n(props);\n  const {title, subheader, progress, inverse, deepLink, variant} = props;\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.root\n  }, /* @__PURE__ */ React.createElement(InfoCard, {\n    title,\n    subheader,\n    deepLink,\n    variant\n  }, /* @__PURE__ */ React.createElement(Gauge, {\n    value: progress,\n    inverse\n  })));\n};\n\nconst LinearGauge = ({value}) => {\n  const theme = useTheme();\n  if (isNaN(value)) {\n    return null;\n  }\n  let percent = Math.round(value * 100 * 100) / 100;\n  if (percent > 100) {\n    percent = 100;\n  }\n  const strokeColor = getProgressColor(theme.palette, percent, false, 100);\n  return /* @__PURE__ */ React.createElement(Tooltip, {\n    title: `${percent}%`\n  }, /* @__PURE__ */ React.createElement(\"span\", null, /* @__PURE__ */ React.createElement(Line, {\n    percent,\n    strokeWidth: 4,\n    trailWidth: 4,\n    strokeColor\n  })));\n};\n\nconst useStyles$o = makeStyles(() => createStyles({\n  icon: {\n    position: \"absolute\",\n    right: \"4px\",\n    pointerEvents: \"none\"\n  }\n}));\nconst ClosedDropdown = () => {\n  const classes = useStyles$o();\n  return /* @__PURE__ */ React.createElement(SvgIcon, {\n    className: classes.icon,\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /* @__PURE__ */ React.createElement(\"path\", {\n    d: \"M7.5 8L6 9.5L12.0703 15.5703L18.1406 9.5L16.6406 8L12.0703 12.5703L7.5 8Z\",\n    fill: \"#616161\"\n  }));\n};\n\nconst useStyles$p = makeStyles(() => createStyles({\n  icon: {\n    position: \"absolute\",\n    right: \"4px\",\n    pointerEvents: \"none\"\n  }\n}));\nconst OpenedDropdown = () => {\n  const classes = useStyles$p();\n  return /* @__PURE__ */ React.createElement(SvgIcon, {\n    className: classes.icon,\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /* @__PURE__ */ React.createElement(\"path\", {\n    d: \"M16.5 16L18 14.5L11.9297 8.42969L5.85938 14.5L7.35938 16L11.9297 11.4297L16.5 16Z\",\n    fill: \"#616161\"\n  }));\n};\n\nconst BootstrapInput = withStyles$1((theme) => createStyles$1({\n  root: {\n    \"label + &\": {\n      marginTop: theme.spacing(3)\n    }\n  },\n  input: {\n    borderRadius: 4,\n    position: \"relative\",\n    backgroundColor: theme.palette.background.paper,\n    border: \"1px solid #ced4da\",\n    fontSize: 16,\n    padding: \"10px 26px 10px 12px\",\n    transition: theme.transitions.create([\"border-color\", \"box-shadow\"]),\n    fontFamily: \"Helvetica Neue\",\n    \"&:focus\": {\n      background: theme.palette.background.paper,\n      borderRadius: 4\n    }\n  }\n}))(InputBase);\nconst useStyles$q = makeStyles$1((theme) => createStyles$1({\n  formControl: {\n    margin: `${theme.spacing(1)} 0px`,\n    maxWidth: 300\n  },\n  label: {\n    transform: \"initial\",\n    fontWeight: \"bold\",\n    fontSize: 14,\n    fontFamily: theme.typography.fontFamily,\n    color: theme.palette.text.primary,\n    \"&.Mui-focused\": {\n      color: theme.palette.text.primary\n    }\n  },\n  chips: {\n    display: \"flex\",\n    flexWrap: \"wrap\"\n  },\n  chip: {\n    margin: 2\n  },\n  checkbox: {},\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  }\n}));\nconst SelectComponent = ({\n  multiple,\n  items,\n  label,\n  placeholder,\n  selected,\n  onChange,\n  triggerReset\n}) => {\n  const classes = useStyles$q();\n  const [value, setValue] = useState(selected || (multiple ? [] : \"\"));\n  const [isOpen, setOpen] = useState(false);\n  useEffect(() => {\n    setValue(multiple ? [] : \"\");\n  }, [triggerReset, multiple]);\n  useEffect(() => {\n    if (selected !== void 0) {\n      setValue(selected);\n    }\n  }, [selected]);\n  const handleChange = (event) => {\n    setValue(event.target.value);\n    onChange(event.target.value);\n  };\n  const handleClick = (event) => {\n    setOpen((previous) => {\n      if (multiple && !(event.target instanceof HTMLElement)) {\n        return true;\n      }\n      return !previous;\n    });\n  };\n  const handleClickAway = () => {\n    setOpen(false);\n  };\n  const handleDelete = (selectedValue) => () => {\n    const newValue = value.filter((chip) => chip !== selectedValue);\n    setValue(newValue);\n    onChange(newValue);\n  };\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.root\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"button\"\n  }, label), /* @__PURE__ */ React.createElement(ClickAwayListener, {\n    onClickAway: handleClickAway\n  }, /* @__PURE__ */ React.createElement(FormControl, {\n    className: classes.formControl\n  }, /* @__PURE__ */ React.createElement(Select, {\n    value,\n    \"data-testid\": \"select\",\n    displayEmpty: true,\n    multiple,\n    onChange: handleChange,\n    onClick: handleClick,\n    open: isOpen,\n    input: /* @__PURE__ */ React.createElement(BootstrapInput, null),\n    renderValue: (s) => {\n      var _a;\n      return multiple && value.length !== 0 ? /* @__PURE__ */ React.createElement(\"div\", {\n        className: classes.chips\n      }, s.map((selectedValue) => {\n        var _a2, _b;\n        return /* @__PURE__ */ React.createElement(Chip, {\n          key: (_a2 = items.find((el) => el.value === selectedValue)) == null ? void 0 : _a2.value,\n          label: (_b = items.find((el) => el.value === selectedValue)) == null ? void 0 : _b.label,\n          clickable: true,\n          onDelete: handleDelete(selectedValue),\n          className: classes.chip\n        });\n      })) : /* @__PURE__ */ React.createElement(Typography, null, value.length === 0 ? placeholder || \"\" : (_a = items.find((el) => el.value === s)) == null ? void 0 : _a.label);\n    },\n    IconComponent: () => !isOpen ? /* @__PURE__ */ React.createElement(ClosedDropdown, null) : /* @__PURE__ */ React.createElement(OpenedDropdown, null),\n    MenuProps: {\n      anchorOrigin: {\n        vertical: \"bottom\",\n        horizontal: \"left\"\n      },\n      transformOrigin: {\n        vertical: \"top\",\n        horizontal: \"left\"\n      },\n      getContentAnchorEl: null\n    }\n  }, placeholder && !multiple && /* @__PURE__ */ React.createElement(MenuItem, {\n    value: []\n  }, placeholder), items && items.map((item) => /* @__PURE__ */ React.createElement(MenuItem, {\n    key: item.value,\n    value: item.value\n  }, multiple && /* @__PURE__ */ React.createElement(Checkbox, {\n    color: \"primary\",\n    checked: value.includes(item.value) || false,\n    className: classes.checkbox\n  }), item.label))))));\n};\n\nconst noop = () => {\n};\nconst VerticalStepperContext = React.createContext({\n  stepperLength: 0,\n  stepIndex: 0,\n  setStepIndex: noop,\n  stepHistory: [],\n  setStepHistory: noop,\n  onStepChange: noop\n});\nconst SimpleStepper = ({\n  children,\n  elevated,\n  onStepChange,\n  activeStep = 0\n}) => {\n  const [stepIndex, setStepIndex] = useState(activeStep);\n  const [stepHistory, setStepHistory] = useState([0]);\n  useEffect(() => {\n    setStepIndex(activeStep);\n  }, [activeStep]);\n  const steps = [];\n  let endStep;\n  Children.forEach(children, (child) => {\n    if (isValidElement(child)) {\n      if (child.props.end) {\n        endStep = child;\n      } else {\n        steps.push(child);\n      }\n    }\n  });\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(VerticalStepperContext.Provider, {\n    value: {\n      stepIndex,\n      setStepIndex,\n      stepHistory,\n      setStepHistory,\n      onStepChange,\n      stepperLength: Children.count(children)\n    }\n  }, /* @__PURE__ */ React.createElement(Stepper, {\n    activeStep: stepIndex,\n    orientation: \"vertical\",\n    elevation: elevated ? 2 : 0\n  }, steps)), stepIndex >= Children.count(children) - 1 && endStep);\n};\n\nconst useStyles$r = makeStyles((theme) => ({\n  root: {\n    marginTop: theme.spacing(3),\n    \"& button\": {\n      marginRight: theme.spacing(1)\n    }\n  }\n}));\nconst RestartBtn = ({text, handleClick}) => /* @__PURE__ */ React.createElement(Button$1, {\n  onClick: handleClick\n}, text || \"Reset\");\nconst NextBtn = ({\n  text,\n  handleClick,\n  disabled,\n  last,\n  stepIndex\n}) => /* @__PURE__ */ React.createElement(Button$1, {\n  variant: \"contained\",\n  color: \"primary\",\n  disabled,\n  \"data-testid\": `nextButton-${stepIndex}`,\n  onClick: handleClick\n}, text || (last ? \"Finish\" : \"Next\"));\nconst BackBtn = ({text, handleClick, disabled, stepIndex}) => /* @__PURE__ */ React.createElement(Button$1, {\n  onClick: handleClick,\n  \"data-testid\": `backButton-${stepIndex}`,\n  disabled\n}, text || \"Back\");\nconst SimpleStepperFooter = ({\n  actions = {},\n  children\n}) => {\n  const classes = useStyles$r();\n  const {\n    stepperLength,\n    stepIndex,\n    setStepIndex,\n    stepHistory,\n    setStepHistory,\n    onStepChange\n  } = useContext(VerticalStepperContext);\n  const onChange = (newIndex, callback) => {\n    if (callback) {\n      callback();\n    }\n    if (onStepChange) {\n      onStepChange(stepIndex, newIndex);\n    }\n    setStepIndex(newIndex);\n  };\n  const handleNext = () => {\n    const newIndex = actions.nextStep ? actions.nextStep(stepIndex, stepperLength - 1) : stepIndex + 1;\n    onChange(newIndex, actions.onNext);\n    setStepHistory([...stepHistory, newIndex]);\n  };\n  const handleBack = () => {\n    stepHistory.pop();\n    onChange(stepHistory[stepHistory.length - 1], actions.onBack);\n    setStepHistory([...stepHistory]);\n  };\n  const handleRestart = () => {\n    onChange(0, actions.onRestart);\n    setStepHistory([0]);\n  };\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.root\n  }, [void 0, true].includes(actions.showBack) && stepIndex !== 0 && /* @__PURE__ */ React.createElement(BackBtn, {\n    text: actions.backText,\n    handleClick: handleBack,\n    disabled: stepIndex === 0,\n    stepIndex\n  }), [void 0, true].includes(actions.showNext) && /* @__PURE__ */ React.createElement(NextBtn, {\n    text: actions.nextText,\n    handleClick: handleNext,\n    disabled: !!stepperLength && stepIndex >= stepperLength || !!actions.canNext && !actions.canNext(),\n    stepIndex\n  }), actions.showRestart && stepIndex !== 0 && /* @__PURE__ */ React.createElement(RestartBtn, {\n    text: actions.restartText,\n    handleClick: handleRestart,\n    stepIndex\n  }), children);\n};\n\nconst useStyles$s = makeStyles((theme) => ({\n  end: {\n    padding: theme.spacing(3)\n  }\n}));\nconst SimpleStepperStep = ({\n  title,\n  children,\n  end,\n  actions,\n  ...muiProps\n}) => {\n  const classes = useStyles$s();\n  return end ? /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.end\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"h6\"\n  }, title), children, /* @__PURE__ */ React.createElement(SimpleStepperFooter, {\n    actions: {...actions || {}, showNext: false}\n  })) : /* @__PURE__ */ React.createElement(Step, {\n    ...muiProps\n  }, /* @__PURE__ */ React.createElement(StepLabel, null, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"h6\"\n  }, title)), /* @__PURE__ */ React.createElement(StepContent, null, children, /* @__PURE__ */ React.createElement(SimpleStepperFooter, {\n    actions\n  })));\n};\n\nconst useStyles$t = makeStyles((theme) => ({\n  status: {\n    fontWeight: 500,\n    \"&::before\": {\n      width: \"0.7em\",\n      height: \"0.7em\",\n      display: \"inline-block\",\n      marginRight: 8,\n      borderRadius: \"50%\",\n      content: '\"\"'\n    }\n  },\n  ok: {\n    \"&::before\": {\n      backgroundColor: theme.palette.status.ok\n    }\n  },\n  warning: {\n    \"&::before\": {\n      backgroundColor: theme.palette.status.warning\n    }\n  },\n  error: {\n    \"&::before\": {\n      backgroundColor: theme.palette.status.error\n    }\n  },\n  pending: {\n    \"&::before\": {\n      backgroundColor: theme.palette.status.pending\n    }\n  },\n  running: {\n    \"&::before\": {\n      backgroundColor: theme.palette.status.running\n    }\n  },\n  aborted: {\n    \"&::before\": {\n      backgroundColor: theme.palette.status.aborted\n    }\n  }\n}));\nconst StatusOK = (props) => {\n  const classes = useStyles$t(props);\n  return /* @__PURE__ */ React.createElement(\"span\", {\n    className: classNames(classes.status, classes.ok),\n    \"aria-label\": \"Status ok\",\n    ...props\n  });\n};\nconst StatusWarning = (props) => {\n  const classes = useStyles$t(props);\n  return /* @__PURE__ */ React.createElement(\"span\", {\n    className: classNames(classes.status, classes.warning),\n    \"aria-label\": \"Status warning\",\n    ...props\n  });\n};\nconst StatusError = (props) => {\n  const classes = useStyles$t(props);\n  return /* @__PURE__ */ React.createElement(\"span\", {\n    className: classNames(classes.status, classes.error),\n    \"aria-label\": \"Status error\",\n    ...props\n  });\n};\nconst StatusPending = (props) => {\n  const classes = useStyles$t(props);\n  return /* @__PURE__ */ React.createElement(\"span\", {\n    className: classNames(classes.status, classes.pending),\n    \"aria-label\": \"Status pending\",\n    ...props\n  });\n};\nconst StatusRunning = (props) => {\n  const classes = useStyles$t(props);\n  return /* @__PURE__ */ React.createElement(\"span\", {\n    className: classNames(classes.status, classes.running),\n    \"aria-label\": \"Status running\",\n    ...props\n  });\n};\nconst StatusAborted = (props) => {\n  const classes = useStyles$t(props);\n  return /* @__PURE__ */ React.createElement(\"span\", {\n    className: classNames(classes.status, classes.aborted),\n    \"aria-label\": \"Status aborted\",\n    ...props\n  });\n};\n\nconst tableTitleCellStyles = (theme) => createStyles({\n  root: {\n    fontWeight: \"bolder\",\n    whiteSpace: \"nowrap\",\n    paddingRight: theme.spacing(4),\n    border: \"0\",\n    verticalAlign: \"top\"\n  }\n});\nconst tableContentCellStyles = {\n  root: {\n    border: \"0\",\n    verticalAlign: \"top\"\n  }\n};\nconst listStyles = (theme) => createStyles({\n  root: {\n    listStyle: \"none\",\n    margin: theme.spacing(0, 0, -1, 0),\n    padding: \"0\"\n  }\n});\nconst listItemStyles = (theme) => createStyles({\n  root: {\n    padding: theme.spacing(0, 0, 1, 0)\n  },\n  random: {}\n});\nconst TitleCell = withStyles(tableTitleCellStyles)(TableCell);\nconst ContentCell = withStyles(tableContentCellStyles)(TableCell);\nconst MetadataTable = ({\n  dense,\n  children\n}) => /* @__PURE__ */ React.createElement(Table$1, {\n  size: dense ? \"small\" : \"medium\"\n}, /* @__PURE__ */ React.createElement(TableBody, null, children));\nconst MetadataTableItem = ({\n  title,\n  children,\n  ...rest\n}) => /* @__PURE__ */ React.createElement(TableRow, null, title && /* @__PURE__ */ React.createElement(TitleCell, null, title), /* @__PURE__ */ React.createElement(ContentCell, {\n  colSpan: title ? 1 : 2,\n  ...rest\n}, children));\nconst MetadataList = withStyles(listStyles)(({classes, children}) => /* @__PURE__ */ React.createElement(\"ul\", {\n  className: classes.root\n}, children));\nconst MetadataListItem = withStyles(listItemStyles)(({classes, children}) => /* @__PURE__ */ React.createElement(\"li\", {\n  className: classes.root\n}, children));\n\nconst listStyle = createStyles({\n  root: {\n    margin: \"0 0\",\n    listStyleType: \"none\"\n  }\n});\nconst nestedListStyle = (theme) => createStyles({\n  root: {\n    ...listStyle.root,\n    paddingLeft: theme.spacing(1)\n  }\n});\nconst StyledList = withStyles(listStyle)(({classes, children}) => /* @__PURE__ */ React.createElement(MetadataList, {\n  classes\n}, children));\nconst StyledNestedList = withStyles(nestedListStyle)(({classes, children}) => /* @__PURE__ */ React.createElement(MetadataList, {\n  classes\n}, children));\nfunction renderList(list, nested) {\n  const values = list.map((item, index) => /* @__PURE__ */ React.createElement(MetadataListItem, {\n    key: index\n  }, toValue(item)));\n  return nested ? /* @__PURE__ */ React.createElement(StyledNestedList, null, values) : /* @__PURE__ */ React.createElement(StyledList, null, values);\n}\nfunction renderMap(map, nested, options) {\n  const values = Object.keys(map).map((key) => {\n    const value = toValue(map[key], true);\n    const fmtKey = options && options.titleFormat ? options.titleFormat(key) : startCase(key);\n    return /* @__PURE__ */ React.createElement(MetadataListItem, {\n      key\n    }, `${fmtKey}: `, value);\n  });\n  return nested ? /* @__PURE__ */ React.createElement(StyledNestedList, null, values) : /* @__PURE__ */ React.createElement(StyledList, null, values);\n}\nfunction toValue(value, options, nested) {\n  if (React.isValidElement(value)) {\n    return /* @__PURE__ */ React.createElement(Fragment, null, value);\n  }\n  if (typeof value === \"object\" && !Array.isArray(value)) {\n    return renderMap(value, options, nested);\n  }\n  if (Array.isArray(value)) {\n    return renderList(value, nested);\n  }\n  if (typeof value === \"boolean\") {\n    return /* @__PURE__ */ React.createElement(Fragment, null, value ? \"\\u2705\" : \"\\u274C\");\n  }\n  return /* @__PURE__ */ React.createElement(Fragment, null, value);\n}\nconst ItemValue = ({value, options}) => /* @__PURE__ */ React.createElement(Fragment, null, toValue(value, options));\nconst TableItem = ({\n  title,\n  value,\n  options\n}) => {\n  return /* @__PURE__ */ React.createElement(MetadataTableItem, {\n    title: options && options.titleFormat ? options.titleFormat(title) : startCase(title)\n  }, /* @__PURE__ */ React.createElement(ItemValue, {\n    value,\n    options\n  }));\n};\nfunction mapToItems(info, options) {\n  return Object.keys(info).map((key) => /* @__PURE__ */ React.createElement(TableItem, {\n    key,\n    title: key,\n    value: info[key],\n    options\n  }));\n}\nconst StructuredMetadataTable = ({\n  metadata,\n  dense = true,\n  options\n}) => {\n  const metadataItems = mapToItems(metadata, options || {});\n  return /* @__PURE__ */ React.createElement(MetadataTable, {\n    dense\n  }, metadataItems);\n};\n\nconst useStyles$u = makeStyles((theme) => ({\n  leftIcon: {\n    marginRight: theme.spacing(1)\n  },\n  popoverList: {\n    minWidth: 260,\n    maxWidth: 400\n  }\n}));\nconst SupportIcon = ({icon}) => {\n  var _a;\n  const app = useApp();\n  const Icon = icon ? (_a = app.getSystemIcon(icon)) != null ? _a : HelpIcon : HelpIcon;\n  return /* @__PURE__ */ React.createElement(Icon, null);\n};\nconst SupportLink = ({link}) => {\n  var _a;\n  return /* @__PURE__ */ React.createElement(Link, {\n    to: link.url,\n    target: \"_blank\",\n    rel: \"noreferrer noopener\"\n  }, (_a = link.title) != null ? _a : link.url);\n};\nconst SupportListItem = ({item}) => {\n  var _a;\n  return /* @__PURE__ */ React.createElement(ListItem, null, /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(SupportIcon, {\n    icon: item.icon\n  })), /* @__PURE__ */ React.createElement(ListItemText, {\n    primary: item.title,\n    secondary: (_a = item.links) == null ? void 0 : _a.reduce((prev, link, idx) => [\n      ...prev,\n      idx > 0 && /* @__PURE__ */ React.createElement(\"br\", {\n        key: idx\n      }),\n      /* @__PURE__ */ React.createElement(SupportLink, {\n        link,\n        key: link.url\n      })\n    ], [])\n  }));\n};\nconst SupportButton = ({children}) => {\n  const {items} = useSupportConfig();\n  const [popoverOpen, setPopoverOpen] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const classes = useStyles$u();\n  const onClickHandler = (event) => {\n    setAnchorEl(event.currentTarget);\n    setPopoverOpen(true);\n  };\n  const popoverCloseHandler = () => {\n    setPopoverOpen(false);\n  };\n  return /* @__PURE__ */ React.createElement(Fragment, null, /* @__PURE__ */ React.createElement(Button$1, {\n    \"data-testid\": \"support-button\",\n    color: \"primary\",\n    onClick: onClickHandler\n  }, /* @__PURE__ */ React.createElement(HelpIcon, {\n    className: classes.leftIcon\n  }), \"Support\"), /* @__PURE__ */ React.createElement(Popover, {\n    \"data-testid\": \"support-button-popover\",\n    open: popoverOpen,\n    anchorEl,\n    anchorOrigin: {\n      vertical: \"bottom\",\n      horizontal: \"right\"\n    },\n    transformOrigin: {\n      vertical: \"top\",\n      horizontal: \"right\"\n    },\n    onClose: popoverCloseHandler\n  }, /* @__PURE__ */ React.createElement(List, {\n    className: classes.popoverList\n  }, React.Children.map(children, (child, i) => /* @__PURE__ */ React.createElement(ListItem, {\n    alignItems: \"flex-start\",\n    key: i\n  }, child)), items && items.map((item, i) => /* @__PURE__ */ React.createElement(SupportListItem, {\n    item,\n    key: i\n  }))), /* @__PURE__ */ React.createElement(DialogActions, null, /* @__PURE__ */ React.createElement(Button$1, {\n    color: \"primary\",\n    onClick: popoverCloseHandler\n  }, \"Close\"))));\n};\n\nconst useStyles$v = makeStyles((theme) => ({\n  root: {\n    gridArea: \"pageContent\",\n    minWidth: 0,\n    paddingTop: theme.spacing(3),\n    paddingBottom: theme.spacing(3),\n    ...theme.mixins.gutters({})\n  },\n  stretch: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: 1\n  },\n  noPadding: {\n    padding: 0\n  }\n}));\nconst Content = ({\n  className,\n  stretch,\n  noPadding,\n  children,\n  ...props\n}) => {\n  const classes = useStyles$v();\n  return /* @__PURE__ */ React.createElement(\"article\", {\n    ...props,\n    className: classNames(classes.root, className, {\n      [classes.stretch]: stretch,\n      [classes.noPadding]: noPadding\n    })\n  }, children);\n};\n\nconst useStyles$w = makeStyles((theme) => ({\n  tabsWrapper: {\n    gridArea: \"pageSubheader\",\n    backgroundColor: theme.palette.background.paper,\n    paddingLeft: theme.spacing(3)\n  },\n  defaultTab: {\n    padding: theme.spacing(3, 3),\n    ...theme.typography.caption,\n    textTransform: \"uppercase\",\n    fontWeight: \"bold\",\n    color: theme.palette.text.secondary\n  },\n  selected: {\n    color: theme.palette.text.primary\n  }\n}));\nconst HeaderTabs = ({\n  tabs,\n  onChange,\n  selectedIndex\n}) => {\n  const [selectedTab, setSelectedTab] = useState(selectedIndex != null ? selectedIndex : 0);\n  const styles = useStyles$w();\n  const handleChange = (_, index) => {\n    if (selectedIndex === void 0) {\n      setSelectedTab(index);\n    }\n    if (onChange)\n      onChange(index);\n  };\n  useEffect(() => {\n    if (selectedIndex !== void 0) {\n      setSelectedTab(selectedIndex);\n    }\n  }, [selectedIndex]);\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: styles.tabsWrapper\n  }, /* @__PURE__ */ React.createElement(Tabs$1, {\n    indicatorColor: \"primary\",\n    textColor: \"inherit\",\n    variant: \"scrollable\",\n    scrollButtons: \"auto\",\n    \"aria-label\": \"scrollable auto tabs example\",\n    onChange: handleChange,\n    value: selectedTab\n  }, tabs.map((tab, index) => /* @__PURE__ */ React.createElement(Tab, {\n    ...tab.tabProps,\n    label: tab.label,\n    key: tab.id,\n    value: index,\n    className: styles.defaultTab,\n    classes: {selected: styles.selected}\n  }))));\n};\n\nfunction useSelectedSubRoute(subRoutes) {\n  var _a, _b, _c;\n  const params = useParams();\n  const routes = subRoutes.map(({path, children}) => ({\n    caseSensitive: false,\n    path: `${path}/*`,\n    element: children\n  }));\n  const element = (_a = useRoutes(routes)) != null ? _a : subRoutes[0].children;\n  const [matchedRoute] = (_b = matchRoutes(routes, `/${params[\"*\"]}`)) != null ? _b : [];\n  const foundIndex = matchedRoute ? subRoutes.findIndex((t) => `${t.path}/*` === matchedRoute.route.path) : 0;\n  return {\n    index: foundIndex === -1 ? 0 : foundIndex,\n    element,\n    route: (_c = subRoutes[foundIndex]) != null ? _c : subRoutes[0]\n  };\n}\nconst RoutedTabs = ({routes}) => {\n  const navigate = useNavigate();\n  const {index, route, element} = useSelectedSubRoute(routes);\n  const headerTabs = useMemo(() => routes.map((t) => ({\n    id: t.path,\n    label: t.title,\n    tabProps: t.tabProps\n  })), [routes]);\n  const onTabChange = (tabIndex) => navigate(routes[tabIndex].path.replace(/\\/\\*$/, \"\").replace(/^\\//, \"\"));\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(HeaderTabs, {\n    tabs: headerTabs,\n    selectedIndex: index,\n    onChange: onTabChange\n  }), /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(Helmet, {\n    title: route.title\n  }), element));\n};\n\nconst Route = () => null;\nattachComponentData(Route, \"core.gatherMountPoints\", true);\nfunction createSubRoutesFromChildren(childrenProps) {\n  const routeType = (/* @__PURE__ */ React.createElement(Route, {\n    path: \"\",\n    title: \"\"\n  }, /* @__PURE__ */ React.createElement(\"div\", null))).type;\n  return Children.toArray(childrenProps).flatMap((child) => {\n    if (!isValidElement(child)) {\n      return [];\n    }\n    if (child.type === Fragment) {\n      return createSubRoutesFromChildren(child.props.children);\n    }\n    if (child.type !== routeType) {\n      throw new Error(\"Child of TabbedLayout must be an TabbedLayout.Route\");\n    }\n    const {path, title, children, tabProps} = child.props;\n    return [{path, title, children, tabProps}];\n  });\n}\nconst TabbedLayout = ({children}) => {\n  const routes = createSubRoutesFromChildren(children);\n  return /* @__PURE__ */ React.createElement(RoutedTabs, {\n    routes\n  });\n};\nTabbedLayout.Route = Route;\n\nconst useSubvalueCellStyles = makeStyles((theme) => ({\n  value: {\n    marginBottom: \"6px\"\n  },\n  subvalue: {\n    color: theme.palette.textSubtle,\n    fontWeight: \"normal\"\n  }\n}));\nconst SubvalueCell = ({value, subvalue}) => {\n  const classes = useSubvalueCellStyles();\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.value\n  }, value), /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.subvalue\n  }, subvalue));\n};\n\nconst useStyles$x = makeStyles$1((theme) => createStyles$1({\n  root: {\n    width: \"100%\",\n    minWidth: 10,\n    maxWidth: 360,\n    backgroundColor: \"transparent\",\n    \"&:hover\": {\n      backgroundColor: \"transparent\"\n    },\n    \"&:active\": {\n      animation: \"none\",\n      transform: \"none\"\n    }\n  },\n  nested: {\n    paddingLeft: theme.spacing(5),\n    height: \"32px\",\n    \"&:hover\": {\n      backgroundColor: \"transparent\"\n    }\n  },\n  listItemIcon: {\n    minWidth: 10\n  },\n  listItem: {\n    \"&:hover\": {\n      backgroundColor: \"transparent\"\n    }\n  },\n  text: {\n    \"& span, & svg\": {\n      fontWeight: \"normal\",\n      fontSize: 14\n    }\n  }\n}));\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"checkOption\": {\n      return produce(state, (newState) => {\n        const category = newState[action.payload.subCategoryLabel];\n        const option = category.options[action.payload.optionLabel];\n        option.isChecked = !option.isChecked;\n        category.isChecked = Object.values(category.options).every((o) => o.isChecked);\n      });\n    }\n    case \"checkCategory\": {\n      return produce(state, (newState) => {\n        const category = newState[action.payload];\n        const options = category.options;\n        category.isChecked = !category.isChecked;\n        for (const option in options) {\n          options[option].isChecked = category.isChecked;\n        }\n      });\n    }\n    case \"toggleCategory\":\n      return produce(state, (newState) => {\n        const category = newState[action.payload];\n        category.isOpen = !category.isOpen;\n      });\n    case \"triggerReset\": {\n      return produce(state, (newState) => {\n        for (const category in newState) {\n          newState[category].isChecked = false;\n          for (const option in newState[category].options) {\n            newState[category].options[option].isChecked = newState[category].isChecked;\n          }\n        }\n      });\n    }\n    case \"updateCategories\": {\n      return produce(state, (newState) => {\n        for (const category in newState) {\n          delete newState[category];\n        }\n        for (const category in action.payload) {\n          newState[category] = action.payload[category];\n          if (state[category]) {\n            newState[category].isChecked = state[category].isChecked;\n            newState[category].isOpen = state[category].isOpen;\n          }\n        }\n      });\n    }\n    case \"updateSelected\": {\n      return produce(state, (newState) => {\n        var _a;\n        for (const category in newState) {\n          const selection = action.payload.find((s) => s.category === category);\n          if (selection) {\n            newState[category].isChecked = true;\n            for (const option in newState[category].options) {\n              newState[category].options[option].isChecked = ((_a = selection.selectedChildren) == null ? void 0 : _a.includes(option)) || false;\n            }\n          }\n        }\n      });\n    }\n    default:\n      return state;\n  }\n};\nconst indexer = (arr) => arr.reduce((accumulator, el) => {\n  if (el.options) {\n    return {\n      ...accumulator,\n      [el.label]: {\n        label: el.label,\n        isChecked: el.isChecked || false,\n        isOpen: false,\n        options: indexer(el.options)\n      }\n    };\n  }\n  return {\n    ...accumulator,\n    [el.label]: {...el, isChecked: el.isChecked || false}\n  };\n}, {});\nconst CheckboxTree = ({\n  subCategories,\n  label,\n  selected,\n  onChange,\n  triggerReset\n}) => {\n  const classes = useStyles$x();\n  const [state, dispatch] = useReducer(reducer, indexer(subCategories));\n  const handleOpen = (event, value) => {\n    event.stopPropagation();\n    dispatch({type: \"toggleCategory\", payload: value});\n  };\n  const previousSubCategories = usePrevious(subCategories);\n  useEffect(() => {\n    const values = Object.values(state).map((category) => ({\n      category: category.isChecked ? category.label : void 0,\n      selectedChildren: Object.values(category.options).filter((option) => option.isChecked).map((option) => option.label)\n    }));\n    onChange(values);\n  }, [state]);\n  useEffect(() => {\n    dispatch({type: \"triggerReset\"});\n  }, [triggerReset]);\n  useEffect(() => {\n    if (selected) {\n      dispatch({type: \"updateSelected\", payload: selected});\n    }\n  }, [selected]);\n  useEffect(() => {\n    if (!isEqual(subCategories, previousSubCategories)) {\n      dispatch({\n        type: \"updateCategories\",\n        payload: indexer(subCategories)\n      });\n    }\n  }, [subCategories, previousSubCategories]);\n  return /* @__PURE__ */ React.createElement(\"div\", null, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"button\"\n  }, label), /* @__PURE__ */ React.createElement(List, {\n    className: classes.root\n  }, Object.values(state).map((item) => /* @__PURE__ */ React.createElement(\"div\", {\n    key: item.label\n  }, /* @__PURE__ */ React.createElement(ListItem, {\n    className: classes.listItem,\n    dense: true,\n    button: true,\n    onClick: () => dispatch({\n      type: \"checkCategory\",\n      payload: item.label\n    })\n  }, /* @__PURE__ */ React.createElement(ListItemIcon, {\n    className: classes.listItemIcon\n  }, /* @__PURE__ */ React.createElement(Checkbox, {\n    color: \"primary\",\n    edge: \"start\",\n    checked: item.isChecked,\n    tabIndex: -1,\n    disableRipple: true\n  })), /* @__PURE__ */ React.createElement(ListItemText, {\n    className: classes.text,\n    primary: item.label\n  }), Object.values(item.options).length ? /* @__PURE__ */ React.createElement(React.Fragment, null, item.isOpen ? /* @__PURE__ */ React.createElement(ExpandLess, {\n    \"data-testid\": \"expandable\",\n    onClick: (event) => handleOpen(event, item.label)\n  }) : /* @__PURE__ */ React.createElement(ExpandMoreIcon, {\n    \"data-testid\": \"expandable\",\n    onClick: (event) => handleOpen(event, item.label)\n  })) : null), /* @__PURE__ */ React.createElement(Collapse, {\n    in: item.isOpen,\n    timeout: \"auto\",\n    unmountOnExit: true\n  }, /* @__PURE__ */ React.createElement(List, {\n    component: \"div\",\n    disablePadding: true\n  }, Object.values(item.options).map((option) => /* @__PURE__ */ React.createElement(ListItem, {\n    button: true,\n    key: option.label,\n    className: classes.nested,\n    onClick: () => dispatch({\n      type: \"checkOption\",\n      payload: {\n        subCategoryLabel: item.label,\n        optionLabel: option.label\n      }\n    })\n  }, /* @__PURE__ */ React.createElement(ListItemIcon, {\n    className: classes.listItemIcon\n  }, /* @__PURE__ */ React.createElement(Checkbox, {\n    color: \"primary\",\n    edge: \"start\",\n    checked: option.isChecked,\n    tabIndex: -1,\n    disableRipple: true\n  })), /* @__PURE__ */ React.createElement(ListItemText, {\n    className: classes.text,\n    primary: option.label\n  })))))))));\n};\n\nconst useSubvalueCellStyles$1 = makeStyles((theme) => ({\n  root: {\n    height: \"100%\",\n    width: \"315px\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginRight: theme.spacing(3)\n  },\n  value: {\n    fontWeight: \"bold\",\n    fontSize: 18\n  },\n  header: {\n    display: \"flex\",\n    alignItems: \"center\",\n    height: \"60px\",\n    justifyContent: \"space-between\",\n    borderBottom: `1px solid ${theme.palette.grey[500]}`\n  },\n  filters: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    \"& > *\": {\n      marginTop: theme.spacing(2)\n    }\n  }\n}));\nconst Filters = (props) => {\n  var _a;\n  const classes = useSubvalueCellStyles$1();\n  const {onChangeFilters} = props;\n  const [selectedFilters, setSelectedFilters] = useState({\n    ...props.selectedFilters\n  });\n  const [reset, triggerReset] = useState(false);\n  const handleClick = () => {\n    setSelectedFilters({});\n    triggerReset((el) => !el);\n  };\n  useEffect(() => {\n    onChangeFilters(selectedFilters);\n  }, [selectedFilters, onChangeFilters]);\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.root\n  }, /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.header\n  }, /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.value\n  }, \"Filters\"), /* @__PURE__ */ React.createElement(Button$1, {\n    color: \"primary\",\n    onClick: handleClick\n  }, \"Clear all\")), /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.filters\n  }, ((_a = props.filters) == null ? void 0 : _a.length) && props.filters.map((filter) => filter.type === \"checkbox-tree\" ? /* @__PURE__ */ React.createElement(CheckboxTree, {\n    triggerReset: reset,\n    key: filter.element.label,\n    ...filter.element,\n    selected: selectedFilters[filter.element.label] ? selectedFilters[filter.element.label].map((s) => ({\n      category: s\n    })) : void 0,\n    onChange: (el) => setSelectedFilters({\n      ...selectedFilters,\n      [filter.element.label]: el.filter((checkboxFilter) => checkboxFilter.category || checkboxFilter.selectedChildren.length).map((checkboxFilter) => checkboxFilter.category ? [\n        ...checkboxFilter.selectedChildren,\n        checkboxFilter.category\n      ] : checkboxFilter.selectedChildren).flat()\n    })\n  }) : /* @__PURE__ */ React.createElement(SelectComponent, {\n    triggerReset: reset,\n    key: filter.element.label,\n    ...filter.element,\n    selected: selectedFilters[filter.element.label],\n    onChange: (el) => setSelectedFilters({\n      ...selectedFilters,\n      [filter.element.label]: el\n    })\n  }))));\n};\n\nconst tableIcons = {\n  Add: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(AddBox, {\n    ...props,\n    ref\n  })),\n  Check: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(Check, {\n    ...props,\n    ref\n  })),\n  Clear: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(Clear, {\n    ...props,\n    ref\n  })),\n  Delete: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(DeleteOutline, {\n    ...props,\n    ref\n  })),\n  DetailPanel: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(ChevronRight, {\n    ...props,\n    ref\n  })),\n  Edit: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(Edit, {\n    ...props,\n    ref\n  })),\n  Export: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(SaveAlt, {\n    ...props,\n    ref\n  })),\n  Filter: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(FilterList, {\n    ...props,\n    ref\n  })),\n  FirstPage: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(FirstPage, {\n    ...props,\n    ref\n  })),\n  LastPage: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(LastPage, {\n    ...props,\n    ref\n  })),\n  NextPage: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(ChevronRight, {\n    ...props,\n    ref\n  })),\n  PreviousPage: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(ChevronLeftIcon, {\n    ...props,\n    ref\n  })),\n  ResetSearch: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(Clear, {\n    ...props,\n    ref\n  })),\n  Search: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(Search, {\n    ...props,\n    ref\n  })),\n  SortArrow: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(ArrowUpward, {\n    ...props,\n    ref\n  })),\n  ThirdStateCheck: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(Remove, {\n    ...props,\n    ref\n  })),\n  ViewColumn: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(ViewColumn, {\n    ...props,\n    ref\n  }))\n};\nfunction extractValueByField(data, field) {\n  const path = field.split(\".\");\n  let value = data[path[0]];\n  for (let i = 1; i < path.length; ++i) {\n    if (value === void 0) {\n      return value;\n    }\n    const f = path[i];\n    value = value[f];\n  }\n  return value;\n}\nconst StyledMTableHeader = withStyles((theme) => ({\n  header: {\n    padding: theme.spacing(1, 2, 1, 2.5),\n    borderTop: `1px solid ${theme.palette.grey.A100}`,\n    borderBottom: `1px solid ${theme.palette.grey.A100}`,\n    color: theme.palette.textSubtle,\n    fontWeight: theme.typography.fontWeightBold,\n    position: \"static\",\n    wordBreak: \"normal\"\n  }\n}))(MTableHeader);\nconst StyledMTableToolbar = withStyles((theme) => ({\n  root: {\n    padding: theme.spacing(3, 0, 2.5, 2.5)\n  },\n  title: {\n    \"& > h6\": {\n      fontWeight: \"bold\"\n    }\n  },\n  searchField: {\n    paddingRight: theme.spacing(2)\n  }\n}))(MTableToolbar);\nconst useFilterStyles = makeStyles(() => ({\n  root: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\"\n  },\n  title: {\n    fontWeight: \"bold\",\n    fontSize: 18,\n    whiteSpace: \"nowrap\"\n  }\n}));\nconst useTableStyles = makeStyles(() => ({\n  root: {\n    display: \"flex\",\n    alignItems: \"start\"\n  }\n}));\nfunction convertColumns(columns, theme) {\n  return columns.map((column) => {\n    const headerStyle = {};\n    const cellStyle = typeof column.cellStyle === \"object\" ? column.cellStyle : {};\n    if (column.highlight) {\n      headerStyle.color = theme.palette.textContrast;\n      cellStyle.fontWeight = theme.typography.fontWeightBold;\n    }\n    return {\n      ...column,\n      headerStyle,\n      cellStyle\n    };\n  });\n}\nfunction removeDefaultValues(state, defaultState) {\n  return transform(state, (result, value, key) => {\n    if (!isEqual(value, defaultState[key])) {\n      result[key] = value;\n    }\n  });\n}\nconst defaultInitialState = {\n  search: \"\",\n  filtersOpen: false,\n  filters: {}\n};\nfunction TableToolbar(toolbarProps) {\n  const {\n    toolbarRef,\n    setSearch,\n    hasFilters,\n    selectedFiltersLength,\n    toggleFilters\n  } = toolbarProps;\n  const filtersClasses = useFilterStyles();\n  const onSearchChanged = useCallback((searchText) => {\n    toolbarProps.onSearchChanged(searchText);\n    setSearch(searchText);\n  }, [toolbarProps, setSearch]);\n  if (hasFilters) {\n    return /* @__PURE__ */ React.createElement(\"div\", {\n      className: filtersClasses.root\n    }, /* @__PURE__ */ React.createElement(\"div\", {\n      className: filtersClasses.root\n    }, /* @__PURE__ */ React.createElement(IconButton, {\n      onClick: toggleFilters,\n      \"aria-label\": \"filter list\"\n    }, /* @__PURE__ */ React.createElement(FilterList, null)), /* @__PURE__ */ React.createElement(Typography, {\n      className: filtersClasses.title\n    }, \"Filters (\", selectedFiltersLength, \")\")), /* @__PURE__ */ React.createElement(StyledMTableToolbar, {\n      ...toolbarProps,\n      ref: toolbarRef,\n      onSearchChanged\n    }));\n  }\n  return /* @__PURE__ */ React.createElement(StyledMTableToolbar, {\n    ...toolbarProps,\n    ref: toolbarRef,\n    onSearchChanged\n  });\n}\nfunction Table({\n  columns,\n  options,\n  title,\n  subtitle,\n  filters,\n  initialState,\n  emptyContent,\n  onStateChange,\n  ...props\n}) {\n  const tableClasses = useTableStyles();\n  const {data, ...propsWithoutData} = props;\n  const theme = useTheme();\n  const calculatedInitialState = {...defaultInitialState, ...initialState};\n  const [filtersOpen, setFiltersOpen] = useState(calculatedInitialState.filtersOpen);\n  const toggleFilters = useCallback(() => setFiltersOpen((v) => !v), [\n    setFiltersOpen\n  ]);\n  const [selectedFiltersLength, setSelectedFiltersLength] = useState(0);\n  const [tableData, setTableData] = useState(data);\n  const [selectedFilters, setSelectedFilters] = useState(calculatedInitialState.filters);\n  const MTColumns = convertColumns(columns, theme);\n  const [search, setSearch] = useState(calculatedInitialState.search);\n  const toolbarRef = useRef();\n  useEffect(() => {\n    if (toolbarRef.current) {\n      toolbarRef.current.onSearchChange(search);\n    }\n  }, [search, toolbarRef]);\n  useEffect(() => {\n    if (onStateChange) {\n      const state = removeDefaultValues({\n        search,\n        filtersOpen,\n        filters: selectedFilters\n      }, defaultInitialState);\n      onStateChange(state);\n    }\n  }, [search, filtersOpen, selectedFilters, onStateChange]);\n  const defaultOptions = {\n    headerStyle: {\n      textTransform: \"uppercase\"\n    }\n  };\n  const getFieldByTitle = useCallback((titleValue) => {\n    var _a;\n    return (_a = columns.find((el) => el.title === titleValue)) == null ? void 0 : _a.field;\n  }, [columns]);\n  useEffect(() => {\n    if (typeof data === \"function\") {\n      return;\n    }\n    if (!selectedFilters) {\n      setTableData(data);\n      return;\n    }\n    const selectedFiltersArray = Object.values(selectedFilters);\n    if (data && selectedFiltersArray.flat().length) {\n      const newData = data.filter((el) => !!Object.entries(selectedFilters).filter(([, value]) => !!value.length).every(([key, filterValue]) => {\n        const fieldValue = extractValueByField(el, getFieldByTitle(key));\n        if (Array.isArray(fieldValue) && Array.isArray(filterValue)) {\n          return fieldValue.some((v) => filterValue.includes(v));\n        } else if (Array.isArray(fieldValue)) {\n          return fieldValue.includes(filterValue);\n        } else if (Array.isArray(filterValue)) {\n          return filterValue.includes(fieldValue);\n        }\n        return fieldValue === filterValue;\n      }));\n      setTableData(newData);\n    } else {\n      setTableData(data);\n    }\n    setSelectedFiltersLength(selectedFiltersArray.flat().length);\n  }, [data, selectedFilters, getFieldByTitle]);\n  const constructFilters = (filterConfig, dataValue) => {\n    const extractDistinctValues = (field) => {\n      const distinctValues = new Set();\n      const addValue = (value) => {\n        if (value !== void 0 && value !== null) {\n          distinctValues.add(value);\n        }\n      };\n      if (dataValue) {\n        dataValue.forEach((el) => {\n          const value = extractValueByField(el, getFieldByTitle(field));\n          if (Array.isArray(value)) {\n            value.forEach(addValue);\n          } else {\n            addValue(value);\n          }\n        });\n      }\n      return distinctValues;\n    };\n    const constructCheckboxTree = (filter) => ({\n      label: filter.column,\n      subCategories: [...extractDistinctValues(filter.column)].map((v) => ({\n        label: v,\n        options: []\n      }))\n    });\n    const constructSelect = (filter) => {\n      return {\n        placeholder: \"All results\",\n        label: filter.column,\n        multiple: filter.type === \"multiple-select\",\n        items: [...extractDistinctValues(filter.column)].sort().map((value) => ({\n          label: value,\n          value\n        }))\n      };\n    };\n    return filterConfig.map((filter) => ({\n      type: filter.type,\n      element: filter.type === \"checkbox-tree\" ? constructCheckboxTree(filter) : constructSelect(filter)\n    }));\n  };\n  const hasFilters = !!(filters == null ? void 0 : filters.length);\n  const Toolbar = useCallback((toolbarProps) => {\n    return /* @__PURE__ */ React.createElement(TableToolbar, {\n      toolbarRef,\n      setSearch,\n      hasFilters,\n      selectedFiltersLength,\n      toggleFilters,\n      ...toolbarProps\n    });\n  }, [toggleFilters, hasFilters, selectedFiltersLength, setSearch, toolbarRef]);\n  const hasNoRows = typeof data !== \"function\" && data.length === 0;\n  const columnCount = columns.length;\n  const Body = useCallback((bodyProps) => {\n    if (emptyContent && hasNoRows) {\n      return /* @__PURE__ */ React.createElement(\"tbody\", null, /* @__PURE__ */ React.createElement(\"tr\", null, /* @__PURE__ */ React.createElement(\"td\", {\n        colSpan: columnCount\n      }, emptyContent)));\n    }\n    return /* @__PURE__ */ React.createElement(MTableBody, {\n      ...bodyProps\n    });\n  }, [hasNoRows, emptyContent, columnCount]);\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: tableClasses.root\n  }, filtersOpen && data && typeof data !== \"function\" && (filters == null ? void 0 : filters.length) && /* @__PURE__ */ React.createElement(Filters, {\n    filters: constructFilters(filters, data),\n    selectedFilters,\n    onChangeFilters: setSelectedFilters\n  }), /* @__PURE__ */ React.createElement(MTable, {\n    components: {\n      Header: StyledMTableHeader,\n      Toolbar,\n      Body\n    },\n    options: {...defaultOptions, ...options},\n    columns: MTColumns,\n    icons: tableIcons,\n    title: /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"h5\"\n    }, title), subtitle && /* @__PURE__ */ React.createElement(Typography, {\n      color: \"textSecondary\",\n      variant: \"body1\"\n    }, subtitle)),\n    data: typeof data === \"function\" ? data : tableData,\n    style: {width: \"100%\"},\n    ...propsWithoutData\n  }));\n}\n\nfunction chunkArray(array, chunkSize) {\n  if (chunkSize <= 0) {\n    return [array];\n  }\n  const result = [];\n  for (let i = 0; i < array.length; i += chunkSize) {\n    result.push(array.slice(i, i + chunkSize));\n  }\n  return result;\n}\n\nconst TabPanel = (props) => {\n  const {children, value, index, ...other} = props;\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    role: \"tabpanel\",\n    hidden: value !== index,\n    \"aria-labelledby\": `scrollable-auto-tab-${index}`,\n    ...other\n  }, value === index && /* @__PURE__ */ React.createElement(Box, {\n    p: 3\n  }, children));\n};\n\nconst useStyles$y = makeStyles(() => ({\n  root: {\n    color: \"#6E6E6E\",\n    overflow: \"visible\",\n    fontSize: \"1.5rem\",\n    textAlign: \"center\",\n    borderRadius: \"50%\",\n    backgroundColor: \"#E6E6E6\",\n    marginLeft: (props) => props.isNext ? \"auto\" : \"0\",\n    marginRight: (props) => props.isNext ? \"0\" : \"10px\",\n    \"&:hover\": {\n      backgroundColor: \"#E6E6E6\",\n      opacity: \"1\"\n    }\n  }\n}));\nconst StyledIcon = (props) => {\n  const classes = useStyles$y(props);\n  const {ariaLabel, onClick} = props;\n  return /* @__PURE__ */ React.createElement(IconButton, {\n    onClick,\n    className: classes.root,\n    size: \"small\",\n    disableRipple: true,\n    disableFocusRipple: true,\n    \"aria-label\": ariaLabel\n  }, props.children);\n};\n\nconst tabMarginLeft = (isFirstNav, isFirstIndex) => {\n  if (isFirstIndex) {\n    if (isFirstNav) {\n      return \"20px\";\n    }\n    return \"0\";\n  }\n  return \"40px\";\n};\nconst useStyles$z = makeStyles((theme) => ({\n  root: {\n    textTransform: \"none\",\n    height: \"64px\",\n    fontWeight: theme.typography.fontWeightBold,\n    fontSize: theme.typography.pxToRem(13),\n    color: theme.palette.textSubtle,\n    marginLeft: (props) => tabMarginLeft(props.isFirstNav, props.isFirstIndex),\n    width: \"130px\",\n    minWidth: \"130px\",\n    \"&:hover\": {\n      outline: \"none\",\n      backgroundColor: \"transparent\",\n      color: theme.palette.textSubtle\n    }\n  }\n}));\nconst StyledTab = (props) => {\n  const classes = useStyles$z(props);\n  const {isFirstNav, isFirstIndex, ...rest} = props;\n  return /* @__PURE__ */ React.createElement(Tab, {\n    className: classes.root,\n    disableRipple: true,\n    ...rest\n  });\n};\n\nconst useStyles$A = makeStyles((theme) => ({\n  indicator: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    backgroundColor: theme.palette.tabbar.indicator,\n    height: \"4px\"\n  },\n  flexContainer: {\n    alignItems: \"center\"\n  },\n  root: {\n    \"&:last-child\": {\n      marginLeft: \"auto\"\n    }\n  }\n}));\nconst StyledTabs = (props) => {\n  const classes = useStyles$A(props);\n  return /* @__PURE__ */ React.createElement(Tabs$1, {\n    classes,\n    ...props,\n    TabIndicatorProps: {children: /* @__PURE__ */ React.createElement(\"span\", null)}\n  });\n};\n\nconst useStyles$B = makeStyles$1((theme) => ({\n  root: {\n    flexGrow: 1,\n    width: \"100%\"\n  },\n  styledTabs: {\n    backgroundColor: theme.palette.background.paper\n  },\n  appbar: {\n    boxShadow: \"none\",\n    backgroundColor: theme.palette.background.paper,\n    paddingLeft: \"10px\",\n    paddingRight: \"10px\"\n  }\n}));\nconst Tabs = ({tabs}) => {\n  const classes = useStyles$B();\n  const [value, setValue] = useState([0, 0]);\n  const [navIndex, setNavIndex] = useState(0);\n  const [numberOfChunkedElement, setNumberOfChunkedElement] = useState(0);\n  const [chunkedTabs, setChunkedTabs] = useState([[]]);\n  const wrapper = useRef();\n  const {width} = useWindowSize();\n  const handleChange = (_, newValue) => {\n    setValue([navIndex, newValue]);\n  };\n  const navigateToPrevChunk = () => {\n    setNavIndex(navIndex - 1);\n  };\n  const navigateToNextChunk = () => {\n    setNavIndex(navIndex + 1);\n  };\n  const hasNextNavIndex = () => navIndex + 1 < chunkedTabs.length;\n  useEffect(() => {\n    const padding = 20;\n    const numberOfTabIcons = navIndex === 0 ? 1 : 2;\n    const wrapperWidth = wrapper.current.offsetWidth - padding - numberOfTabIcons * 30;\n    const flattenIndex = value[0] * numberOfChunkedElement + value[1];\n    const newChunkedElementSize = Math.floor(wrapperWidth / 170);\n    setNumberOfChunkedElement(newChunkedElementSize);\n    setChunkedTabs(chunkArray(tabs, newChunkedElementSize));\n    setValue([\n      Math.floor(flattenIndex / newChunkedElementSize),\n      flattenIndex % newChunkedElementSize\n    ]);\n  }, [width, tabs]);\n  const currentIndex = navIndex === value[0] ? value[1] : false;\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.root\n  }, /* @__PURE__ */ React.createElement(AppBar, {\n    ref: wrapper,\n    className: classes.appbar,\n    position: \"static\"\n  }, /* @__PURE__ */ React.createElement(\"div\", null, /* @__PURE__ */ React.createElement(StyledTabs, {\n    value: currentIndex,\n    onChange: handleChange\n  }, navIndex !== 0 && /* @__PURE__ */ React.createElement(StyledIcon, {\n    onClick: navigateToPrevChunk,\n    ariaLabel: \"navigate-before\"\n  }, /* @__PURE__ */ React.createElement(NavigateBeforeIcon, null)), chunkedTabs[navIndex].map((tab, index) => /* @__PURE__ */ React.createElement(StyledTab, {\n    value: index,\n    isFirstIndex: index === 0,\n    isFirstNav: navIndex === 0,\n    key: index,\n    icon: tab.icon || void 0,\n    label: tab.label || void 0\n  })), hasNextNavIndex() && /* @__PURE__ */ React.createElement(StyledIcon, {\n    isNext: true,\n    onClick: navigateToNextChunk,\n    ariaLabel: \"navigate-next\"\n  }, /* @__PURE__ */ React.createElement(NavigateNextIcon, null))))), currentIndex !== false ? chunkedTabs[navIndex].map((tab, index) => /* @__PURE__ */ React.createElement(TabPanel, {\n    key: index,\n    value: index,\n    index: currentIndex\n  }, tab.content)) : /* @__PURE__ */ React.createElement(TabPanel, {\n    key: \"panel_outside_chunked_array\",\n    value: value[1],\n    index: value[1]\n  }, chunkedTabs[value[0]][value[1]].content));\n};\n\nfunction color(data, theme) {\n  const lastNum = data[data.length - 1];\n  if (!lastNum)\n    return void 0;\n  if (lastNum >= 0.9)\n    return theme.palette.status.ok;\n  if (lastNum >= 0.5)\n    return theme.palette.status.warning;\n  return theme.palette.status.error;\n}\nconst TrendLine = (props) => {\n  var _a;\n  const theme = useTheme();\n  if (!props.data)\n    return null;\n  return /* @__PURE__ */ React.createElement(Sparklines, {\n    width: 120,\n    height: 30,\n    min: 0,\n    max: 1,\n    ...props\n  }, props.title && /* @__PURE__ */ React.createElement(\"title\", null, props.title), /* @__PURE__ */ React.createElement(SparklinesLine, {\n    color: (_a = props.color) != null ? _a : color(props.data, theme)\n  }));\n};\n\nconst useStyles$C = (props) => makeStyles((theme) => ({\n  container: {\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    justifyContent: \"flex-end\",\n    alignItems: \"center\",\n    marginBottom: theme.spacing(1),\n    textAlign: props.textAlign\n  },\n  leftItemsBox: {\n    flex: \"1 1 auto\",\n    marginBottom: theme.spacing(1),\n    minWidth: 0,\n    overflow: \"visible\"\n  },\n  rightItemsBox: {\n    flex: \"0 1 auto\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    alignItems: \"center\",\n    marginLeft: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n    minWidth: 0,\n    overflow: \"visible\"\n  },\n  description: {},\n  title: {\n    display: \"inline-flex\"\n  }\n}));\nconst DefaultTitle = ({\n  title = \"Unknown page\",\n  className\n}) => /* @__PURE__ */ React.createElement(Typography, {\n  variant: \"h4\",\n  component: \"h2\",\n  className,\n  \"data-testid\": \"header-title\"\n}, title);\nconst ContentHeader = ({\n  description,\n  title,\n  titleComponent: TitleComponent = void 0,\n  children,\n  textAlign = \"left\"\n}) => {\n  const classes = useStyles$C({textAlign})();\n  const renderedTitle = TitleComponent ? /* @__PURE__ */ React.createElement(TitleComponent, null) : /* @__PURE__ */ React.createElement(DefaultTitle, {\n    title,\n    className: classes.title\n  });\n  return /* @__PURE__ */ React.createElement(Fragment, null, /* @__PURE__ */ React.createElement(Helmet, {\n    title\n  }), /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.container\n  }, /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.leftItemsBox\n  }, renderedTitle, description && /* @__PURE__ */ React.createElement(Typography, {\n    className: classes.description,\n    variant: \"body2\"\n  }, description)), /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.rightItemsBox\n  }, children)));\n};\n\nconst ClickableText = withStyles({\n  root: {\n    textDecoration: \"underline\",\n    cursor: \"pointer\"\n  }\n})(Typography);\nconst StyledBox = withStyles({\n  root: {\n    textDecoration: \"underline\",\n    color: \"inherit\"\n  }\n})(Box$1);\nconst Breadcrumbs = ({children, ...props}) => {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const childrenArray = React.Children.toArray(children);\n  const [firstPage, secondPage, ...expandablePages] = childrenArray;\n  const currentPage = expandablePages.length ? expandablePages.pop() : childrenArray[childrenArray.length - 1];\n  const hasHiddenBreadcrumbs = childrenArray.length > 3;\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const open = Boolean(anchorEl);\n  return /* @__PURE__ */ React.createElement(Fragment, null, /* @__PURE__ */ React.createElement(Breadcrumbs$1, {\n    \"aria-label\": \"breadcrumb\",\n    ...props\n  }, childrenArray.length > 1 && /* @__PURE__ */ React.createElement(StyledBox, {\n    clone: true\n  }, firstPage), childrenArray.length > 2 && /* @__PURE__ */ React.createElement(StyledBox, {\n    clone: true\n  }, secondPage), hasHiddenBreadcrumbs && /* @__PURE__ */ React.createElement(ClickableText, {\n    onClick: handleClick\n  }, \"...\"), /* @__PURE__ */ React.createElement(Box$1, {\n    style: {fontStyle: \"italic\"}\n  }, currentPage)), /* @__PURE__ */ React.createElement(Popover, {\n    open,\n    anchorEl,\n    onClose: handleClose,\n    anchorOrigin: {\n      vertical: \"bottom\",\n      horizontal: \"left\"\n    },\n    transformOrigin: {\n      vertical: \"top\",\n      horizontal: \"left\"\n    }\n  }, /* @__PURE__ */ React.createElement(List, null, expandablePages.map((pageLink, index) => /* @__PURE__ */ React.createElement(ListItem, {\n    key: index,\n    button: true\n  }, /* @__PURE__ */ React.createElement(StyledBox, {\n    clone: true\n  }, pageLink))))));\n};\n\nconst useStyles$D = makeStyles((theme) => ({\n  header: {\n    gridArea: \"pageHeader\",\n    padding: theme.spacing(3),\n    minHeight: 118,\n    width: \"100%\",\n    boxShadow: \"0 0 8px 3px rgba(20, 20, 20, 0.3)\",\n    position: \"relative\",\n    zIndex: 100,\n    display: \"flex\",\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    justifyContent: \"flex-end\",\n    alignItems: \"center\",\n    backgroundImage: theme.page.backgroundImage,\n    backgroundPosition: \"center\",\n    backgroundSize: \"cover\"\n  },\n  leftItemsBox: {\n    flex: \"1 1 auto\"\n  },\n  rightItemsBox: {\n    flex: \"0 1 auto\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    alignItems: \"center\",\n    marginRight: theme.spacing(1)\n  },\n  title: {\n    color: theme.palette.bursts.fontColor,\n    lineHeight: \"1.0em\",\n    wordBreak: \"break-all\",\n    fontSize: \"calc(24px + 6 * ((100vw - 320px) / 680))\",\n    marginBottom: theme.spacing(1)\n  },\n  subtitle: {\n    color: \"rgba(255, 255, 255, 0.8)\",\n    lineHeight: \"1.0em\"\n  },\n  type: {\n    textTransform: \"uppercase\",\n    fontSize: 11,\n    opacity: 0.8,\n    marginBottom: theme.spacing(1),\n    color: theme.palette.bursts.fontColor\n  },\n  breadcrumb: {\n    fontSize: \"calc(15px + 1 * ((100vw - 320px) / 680))\",\n    color: theme.palette.bursts.fontColor\n  },\n  breadcrumbType: {\n    fontSize: \"inherit\",\n    opacity: 0.7,\n    marginRight: -theme.spacing(0.3),\n    marginBottom: theme.spacing(0.3)\n  },\n  breadcrumbTitle: {\n    fontSize: \"inherit\",\n    marginLeft: -theme.spacing(0.3),\n    marginBottom: theme.spacing(0.3)\n  }\n}));\nconst TypeFragment = ({\n  type,\n  typeLink,\n  classes,\n  pageTitle\n}) => {\n  if (!type) {\n    return null;\n  }\n  if (!typeLink) {\n    return /* @__PURE__ */ React.createElement(Typography, {\n      className: classes.type\n    }, type);\n  }\n  return /* @__PURE__ */ React.createElement(Breadcrumbs, {\n    className: classes.breadcrumb\n  }, /* @__PURE__ */ React.createElement(Link, {\n    to: typeLink\n  }, type), /* @__PURE__ */ React.createElement(Typography, null, pageTitle));\n};\nconst TitleFragment = ({pageTitle, classes, tooltip}) => {\n  const FinalTitle = /* @__PURE__ */ React.createElement(Typography, {\n    className: classes.title,\n    variant: \"h1\"\n  }, pageTitle);\n  if (!tooltip) {\n    return FinalTitle;\n  }\n  return /* @__PURE__ */ React.createElement(Tooltip, {\n    title: tooltip,\n    placement: \"top-start\"\n  }, FinalTitle);\n};\nconst SubtitleFragment = ({classes, subtitle}) => {\n  if (!subtitle) {\n    return null;\n  }\n  if (typeof subtitle !== \"string\") {\n    return /* @__PURE__ */ React.createElement(React.Fragment, null, subtitle);\n  }\n  return /* @__PURE__ */ React.createElement(Typography, {\n    className: classes.subtitle,\n    variant: \"subtitle2\",\n    component: \"span\"\n  }, subtitle);\n};\nconst Header = ({\n  children,\n  pageTitleOverride,\n  style,\n  subtitle,\n  title,\n  tooltip,\n  type,\n  typeLink\n}) => {\n  const classes = useStyles$D();\n  const documentTitle = pageTitleOverride || title;\n  const pageTitle = title || pageTitleOverride;\n  const titleTemplate = `${documentTitle} | %s | Backstage`;\n  const defaultTitle = `${documentTitle} | Backstage`;\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Helmet, {\n    titleTemplate,\n    defaultTitle\n  }), /* @__PURE__ */ React.createElement(\"header\", {\n    style,\n    className: classes.header\n  }, /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.leftItemsBox\n  }, /* @__PURE__ */ React.createElement(TypeFragment, {\n    classes,\n    type,\n    typeLink,\n    pageTitle\n  }), /* @__PURE__ */ React.createElement(TitleFragment, {\n    classes,\n    pageTitle,\n    tooltip\n  }), /* @__PURE__ */ React.createElement(SubtitleFragment, {\n    classes,\n    subtitle\n  })), /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.rightItemsBox\n  }, children)));\n};\n\nconst useStyles$E = makeStyles((theme) => ({\n  root: {\n    textAlign: \"left\",\n    margin: theme.spacing(2),\n    display: \"inline-block\"\n  },\n  label: {\n    color: \"#FFFFFF\",\n    fontWeight: \"bold\",\n    lineHeight: \"16px\",\n    letterSpacing: 0,\n    fontSize: 14,\n    height: \"16px\",\n    marginBottom: 2\n  },\n  value: {\n    color: \"rgba(255, 255, 255, 0.8)\",\n    lineHeight: \"16px\",\n    fontSize: 14,\n    height: \"16px\"\n  }\n}));\nconst HeaderLabelContent = ({value, className}) => /* @__PURE__ */ React.createElement(Typography, {\n  className\n}, value);\nconst HeaderLabel = ({label, value, url}) => {\n  const classes = useStyles$E();\n  const content = /* @__PURE__ */ React.createElement(HeaderLabelContent, {\n    className: classes.value,\n    value: value || \"<Unknown>\"\n  });\n  return /* @__PURE__ */ React.createElement(\"span\", {\n    className: classes.root\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    className: classes.label\n  }, label), url ? /* @__PURE__ */ React.createElement(Link$1, {\n    href: url\n  }, content) : content);\n};\n\nconst timeFormat = {\n  hour: \"2-digit\",\n  minute: \"2-digit\"\n};\nfunction getTimes(configApi) {\n  const d = new Date();\n  const lang = window.navigator.language;\n  const clocks = [];\n  if (!configApi.has(\"homepage.clocks\")) {\n    return clocks;\n  }\n  const clockConfigs = configApi.getConfigArray(\"homepage.clocks\");\n  for (const clock of clockConfigs) {\n    if (clock.has(\"label\") && clock.has(\"timezone\")) {\n      let label = clock.getString(\"label\");\n      const options = {\n        timeZone: clock.getString(\"timezone\"),\n        ...timeFormat\n      };\n      try {\n        new Date().toLocaleString(lang, options);\n      } catch (e) {\n        console.warn(`The timezone ${options.timeZone} is invalid. Defaulting to GMT`);\n        options.timeZone = \"GMT\";\n        label = \"GMT\";\n      }\n      const time = d.toLocaleTimeString(lang, options);\n      clocks.push({time, label});\n    }\n  }\n  return clocks;\n}\nconst HomepageTimer = () => {\n  const configApi = useApi(configApiRef);\n  const defaultTimes = [];\n  const [clocks, setTimes] = React.useState(defaultTimes);\n  React.useEffect(() => {\n    setTimes(getTimes(configApi));\n    const intervalId = setInterval(() => {\n      setTimes(getTimes(configApi));\n    }, 1e3);\n    return () => {\n      clearInterval(intervalId);\n    };\n  }, [configApi]);\n  if (clocks.length !== 0) {\n    return /* @__PURE__ */ React.createElement(React.Fragment, null, clocks.map((clock) => /* @__PURE__ */ React.createElement(HeaderLabel, {\n      label: clock.label,\n      value: clock.time,\n      key: clock.label\n    })));\n  }\n  return null;\n};\n\nconst styles = (theme) => createStyles({\n  root: {\n    color: theme.palette.common.white,\n    padding: theme.spacing(2, 2, 3),\n    backgroundImage: \"linear-gradient(-137deg,  #4BB8A5 0%,  #187656 100%)\",\n    backgroundPosition: 0,\n    backgroundSize: \"inherit\"\n  }\n});\nconst useStyles$F = makeStyles(styles);\nconst ItemCardHeader = (props) => {\n  const {title, subtitle, children} = props;\n  const classes = useStyles$F(props);\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.root\n  }, subtitle && /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"subtitle2\",\n    component: \"h3\"\n  }, subtitle), title && /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"h6\",\n    component: \"h4\"\n  }, title), children);\n};\n\nconst ItemCard = ({\n  description,\n  tags,\n  title,\n  type,\n  subtitle,\n  label,\n  onClick,\n  href\n}) => {\n  return /* @__PURE__ */ React.createElement(Card, null, /* @__PURE__ */ React.createElement(CardMedia, null, /* @__PURE__ */ React.createElement(ItemCardHeader, {\n    title,\n    subtitle: subtitle || type\n  })), /* @__PURE__ */ React.createElement(CardContent, null, (tags == null ? void 0 : tags.length) ? /* @__PURE__ */ React.createElement(Box$1, null, tags.map((tag, i) => /* @__PURE__ */ React.createElement(Chip, {\n    size: \"small\",\n    label: tag,\n    key: i\n  }))) : null, description), /* @__PURE__ */ React.createElement(CardActions, null, !href && /* @__PURE__ */ React.createElement(Button, {\n    to: \"#\",\n    onClick,\n    color: \"primary\"\n  }, label), href && /* @__PURE__ */ React.createElement(Button, {\n    to: href,\n    color: \"primary\"\n  }, label)));\n};\n\nconst styles$1 = (theme) => createStyles({\n  root: {\n    display: \"grid\",\n    gridTemplateColumns: \"repeat(auto-fill, minmax(22em, 1fr))\",\n    gridAutoRows: \"1fr\",\n    gridGap: theme.spacing(2)\n  }\n});\nconst useStyles$G = makeStyles(styles$1);\nconst ItemCardGrid = (props) => {\n  const {children, ...otherProps} = props;\n  const classes = useStyles$G(otherProps);\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    role: \"grid\",\n    className: classes.root,\n    ...otherProps\n  }, children);\n};\n\nconst useStyles$H = makeStyles(() => ({\n  root: {\n    display: \"grid\",\n    gridTemplateAreas: \"'pageHeader pageHeader pageHeader' 'pageSubheader pageSubheader pageSubheader' 'pageNav pageContent pageSidebar'\",\n    gridTemplateRows: \"auto auto 1fr\",\n    gridTemplateColumns: \"auto 1fr auto\",\n    minHeight: \"100vh\"\n  }\n}));\nconst Page = ({themeId, children}) => {\n  const classes = useStyles$H();\n  return /* @__PURE__ */ React.createElement(ThemeProvider, {\n    theme: (baseTheme) => ({\n      ...baseTheme,\n      page: baseTheme.getPageTheme({themeId})\n    })\n  }, /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.root\n  }, children));\n};\n\nconst drawerWidthClosed = 72;\nconst iconPadding = 24;\nconst userBadgePadding = 18;\nconst sidebarConfig = {\n  drawerWidthClosed,\n  drawerWidthOpen: 224,\n  defaultOpenDelayMs: 300,\n  defaultCloseDelayMs: 0,\n  defaultFadeDuration: 200,\n  logoHeight: 32,\n  iconContainerWidth: drawerWidthClosed,\n  iconSize: drawerWidthClosed - iconPadding * 2,\n  iconPadding,\n  selectedIndicatorWidth: 3,\n  userBadgePadding,\n  userBadgeDiameter: drawerWidthClosed - userBadgePadding * 2\n};\nconst SIDEBAR_INTRO_LOCAL_STORAGE = \"@backstage/core/sidebar-intro-dismissed\";\nconst SidebarContext = createContext({\n  isOpen: false\n});\n\nvar LocalStorageKeys;\n(function(LocalStorageKeys2) {\n  LocalStorageKeys2[\"SIDEBAR_PIN_STATE\"] = \"sidebarPinState\";\n})(LocalStorageKeys || (LocalStorageKeys = {}));\nconst LocalStorage = {\n  getSidebarPinState() {\n    let value;\n    try {\n      value = JSON.parse(window.localStorage.getItem(LocalStorageKeys.SIDEBAR_PIN_STATE) || \"false\");\n    } catch {\n      return false;\n    }\n    return !!value;\n  },\n  setSidebarPinState(state) {\n    return window.localStorage.setItem(LocalStorageKeys.SIDEBAR_PIN_STATE, JSON.stringify(state));\n  }\n};\n\nconst useStyles$I = makeStyles({\n  root: {\n    width: \"100%\",\n    minHeight: \"100%\",\n    transition: \"padding-left 0.1s ease-out\",\n    paddingLeft: ({isPinned}) => isPinned ? sidebarConfig.drawerWidthOpen : sidebarConfig.drawerWidthClosed\n  }\n});\nconst SidebarPinStateContext = createContext({\n  isPinned: false,\n  toggleSidebarPinState: () => {\n  }\n});\nconst SidebarPage = (props) => {\n  const [isPinned, setIsPinned] = useState(() => LocalStorage.getSidebarPinState());\n  useEffect(() => {\n    LocalStorage.setSidebarPinState(isPinned);\n  }, [isPinned]);\n  const toggleSidebarPinState = () => setIsPinned(!isPinned);\n  const classes = useStyles$I({isPinned});\n  return /* @__PURE__ */ React.createElement(SidebarPinStateContext.Provider, {\n    value: {\n      isPinned,\n      toggleSidebarPinState\n    }\n  }, /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.root\n  }, props.children));\n};\n\nconst useStyles$J = makeStyles((theme) => ({\n  root: {\n    zIndex: 1e3,\n    position: \"relative\",\n    overflow: \"visible\",\n    width: theme.spacing(7) + 1\n  },\n  drawer: {\n    display: \"flex\",\n    flexFlow: \"column nowrap\",\n    alignItems: \"flex-start\",\n    position: \"fixed\",\n    left: 0,\n    top: 0,\n    bottom: 0,\n    padding: 0,\n    background: theme.palette.navigation.background,\n    overflowX: \"hidden\",\n    msOverflowStyle: \"none\",\n    scrollbarWidth: \"none\",\n    width: sidebarConfig.drawerWidthClosed,\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.shortest\n    }),\n    \"& > *\": {\n      flexShrink: 0\n    },\n    \"&::-webkit-scrollbar\": {\n      display: \"none\"\n    }\n  },\n  drawerOpen: {\n    width: sidebarConfig.drawerWidthOpen,\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.shorter\n    })\n  },\n  drawerPeek: {\n    width: sidebarConfig.drawerWidthClosed + 4\n  }\n}));\nvar State;\n(function(State2) {\n  State2[State2[\"Closed\"] = 0] = \"Closed\";\n  State2[State2[\"Peek\"] = 1] = \"Peek\";\n  State2[State2[\"Open\"] = 2] = \"Open\";\n})(State || (State = {}));\nconst Sidebar = ({\n  openDelayMs = sidebarConfig.defaultOpenDelayMs,\n  closeDelayMs = sidebarConfig.defaultCloseDelayMs,\n  children\n}) => {\n  const classes = useStyles$J();\n  const [state, setState] = useState(0);\n  const hoverTimerRef = useRef();\n  const {isPinned} = useContext(SidebarPinStateContext);\n  const handleOpen = () => {\n    if (isPinned) {\n      return;\n    }\n    if (hoverTimerRef.current) {\n      clearTimeout(hoverTimerRef.current);\n      hoverTimerRef.current = void 0;\n    }\n    if (state !== 2) {\n      hoverTimerRef.current = window.setTimeout(() => {\n        hoverTimerRef.current = void 0;\n        setState(2);\n      }, openDelayMs);\n      setState(1);\n    }\n  };\n  const handleClose = () => {\n    if (isPinned) {\n      return;\n    }\n    if (hoverTimerRef.current) {\n      clearTimeout(hoverTimerRef.current);\n      hoverTimerRef.current = void 0;\n    }\n    if (state === 1) {\n      setState(0);\n    } else if (state === 2) {\n      hoverTimerRef.current = window.setTimeout(() => {\n        hoverTimerRef.current = void 0;\n        setState(0);\n      }, closeDelayMs);\n    }\n  };\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.root,\n    onMouseEnter: handleOpen,\n    onFocus: handleOpen,\n    onMouseLeave: handleClose,\n    onBlur: handleClose,\n    \"data-testid\": \"sidebar-root\"\n  }, /* @__PURE__ */ React.createElement(SidebarContext.Provider, {\n    value: {\n      isOpen: state === 2 || isPinned\n    }\n  }, /* @__PURE__ */ React.createElement(\"div\", {\n    className: clsx(classes.drawer, {\n      [classes.drawerPeek]: state === 1,\n      [classes.drawerOpen]: state === 2 || isPinned\n    })\n  }, children)));\n};\n\nconst useStyles$K = makeStyles((theme) => {\n  const {\n    selectedIndicatorWidth,\n    drawerWidthClosed,\n    drawerWidthOpen,\n    iconContainerWidth,\n    iconSize\n  } = sidebarConfig;\n  return {\n    root: {\n      color: theme.palette.navigation.color,\n      display: \"flex\",\n      flexFlow: \"row nowrap\",\n      alignItems: \"center\",\n      height: 48,\n      cursor: \"pointer\"\n    },\n    buttonItem: {\n      background: \"none\",\n      border: \"none\",\n      width: \"auto\",\n      margin: 0,\n      padding: 0,\n      textAlign: \"inherit\",\n      font: \"inherit\"\n    },\n    closed: {\n      width: drawerWidthClosed,\n      justifyContent: \"center\"\n    },\n    open: {\n      width: drawerWidthOpen\n    },\n    label: {\n      fontWeight: \"bold\",\n      whiteSpace: \"nowrap\",\n      lineHeight: \"auto\",\n      flex: \"3 1 auto\",\n      width: \"110px\",\n      overflow: \"hidden\",\n      \"text-overflow\": \"ellipsis\"\n    },\n    iconContainer: {\n      boxSizing: \"border-box\",\n      height: \"100%\",\n      width: iconContainerWidth,\n      marginRight: -theme.spacing(2),\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    },\n    icon: {\n      width: iconSize,\n      height: iconSize\n    },\n    searchRoot: {\n      marginBottom: 12\n    },\n    searchField: {\n      color: \"#b5b5b5\",\n      fontWeight: \"bold\",\n      fontSize: theme.typography.fontSize\n    },\n    searchContainer: {\n      width: drawerWidthOpen - iconContainerWidth\n    },\n    secondaryAction: {\n      width: theme.spacing(6),\n      textAlign: \"center\",\n      marginRight: theme.spacing(1)\n    },\n    selected: {\n      \"&$root\": {\n        borderLeft: `solid ${selectedIndicatorWidth}px ${theme.palette.navigation.indicator}`,\n        color: theme.palette.navigation.selectedColor\n      },\n      \"&$closed\": {\n        width: drawerWidthClosed - selectedIndicatorWidth\n      },\n      \"& $iconContainer\": {\n        marginLeft: -selectedIndicatorWidth\n      }\n    }\n  };\n});\nfunction isButtonItem(props) {\n  return props.to === void 0;\n}\nconst SidebarItem = forwardRef((props, ref) => {\n  const {\n    icon: Icon,\n    text,\n    hasNotifications = false,\n    onClick,\n    children,\n    className,\n    ...navLinkProps\n  } = props;\n  const classes = useStyles$K();\n  const {isOpen} = useContext(SidebarContext);\n  const itemIcon = /* @__PURE__ */ React.createElement(Badge, {\n    color: \"secondary\",\n    variant: \"dot\",\n    overlap: \"circle\",\n    invisible: !hasNotifications\n  }, /* @__PURE__ */ React.createElement(Icon, {\n    fontSize: \"small\",\n    className: classes.icon\n  }));\n  const closedContent = itemIcon;\n  const openContent = /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\"div\", {\n    \"data-testid\": \"login-button\",\n    className: classes.iconContainer\n  }, itemIcon), text && /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"subtitle2\",\n    className: classes.label\n  }, text), /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.secondaryAction\n  }, children));\n  const content = isOpen ? openContent : closedContent;\n  const childProps = {\n    onClick,\n    className: clsx(className, classes.root, isOpen ? classes.open : classes.closed, isButtonItem(props) && classes.buttonItem)\n  };\n  if (isButtonItem(props)) {\n    return /* @__PURE__ */ React.createElement(\"button\", {\n      ...childProps,\n      ref\n    }, content);\n  }\n  return /* @__PURE__ */ React.createElement(NavLink, {\n    ...childProps,\n    activeClassName: classes.selected,\n    to: props.to,\n    ref,\n    ...navLinkProps\n  }, content);\n});\nconst SidebarSearchField = (props) => {\n  const [input, setInput] = useState(\"\");\n  const classes = useStyles$K();\n  const search = () => {\n    props.onSearch(input);\n    setInput(\"\");\n  };\n  const handleEnter = (ev) => {\n    if (ev.key === \"Enter\") {\n      search();\n    }\n  };\n  const handleInput = (ev) => {\n    setInput(ev.target.value);\n  };\n  const handleInputClick = (ev) => {\n    ev.preventDefault();\n    ev.stopPropagation();\n  };\n  const handleItemClick = (ev) => {\n    search();\n    ev.preventDefault();\n  };\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.searchRoot\n  }, /* @__PURE__ */ React.createElement(SidebarItem, {\n    icon: Search,\n    to: props.to,\n    onClick: handleItemClick\n  }, /* @__PURE__ */ React.createElement(TextField, {\n    placeholder: \"Search\",\n    value: input,\n    onClick: handleInputClick,\n    onChange: handleInput,\n    onKeyDown: handleEnter,\n    className: classes.searchContainer,\n    InputProps: {\n      disableUnderline: true,\n      className: classes.searchField\n    }\n  })));\n};\nconst SidebarSpace = styled(\"div\")({\n  flex: 1\n});\nconst SidebarSpacer = styled(\"div\")({\n  height: 8\n});\nconst SidebarDivider = styled(\"hr\")({\n  height: 1,\n  width: \"100%\",\n  background: \"#383838\",\n  border: \"none\",\n  margin: \"12px 0px\"\n});\n\nconst useStyles$L = makeStyles((theme) => ({\n  introCard: {\n    color: \"#b5b5b5\",\n    fontSize: 12,\n    width: sidebarConfig.drawerWidthOpen,\n    marginTop: 18,\n    marginBottom: 12,\n    paddingLeft: sidebarConfig.iconPadding,\n    paddingRight: sidebarConfig.iconPadding\n  },\n  introDismiss: {\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n    alignItems: \"center\",\n    marginTop: 12\n  },\n  introDismissLink: {\n    color: \"#dddddd\",\n    display: \"flex\",\n    alignItems: \"center\",\n    marginBottom: 4,\n    \"&:hover\": {\n      color: theme.palette.linkHover,\n      transition: theme.transitions.create(\"color\", {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.shortest\n      })\n    }\n  },\n  introDismissText: {\n    fontSize: \"0.7rem\",\n    fontWeight: \"bold\",\n    textTransform: \"uppercase\",\n    letterSpacing: 1\n  },\n  introDismissIcon: {\n    width: 18,\n    height: 18,\n    marginRight: 12\n  }\n}));\nconst IntroCard = (props) => {\n  const classes = useStyles$L();\n  const {text, onClose} = props;\n  const handleClose = () => onClose();\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.introCard\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"subtitle2\"\n  }, text), /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.introDismiss\n  }, /* @__PURE__ */ React.createElement(Link$1, {\n    component: \"button\",\n    onClick: handleClose,\n    underline: \"none\",\n    className: classes.introDismissLink\n  }, /* @__PURE__ */ React.createElement(CloseIcon, {\n    className: classes.introDismissIcon\n  }), /* @__PURE__ */ React.createElement(Typography, {\n    component: \"span\",\n    className: classes.introDismissText\n  }, \"Dismiss\"))));\n};\nconst SidebarIntroCard = (props) => {\n  const {text, onDismiss} = props;\n  const [collapsing, setCollapsing] = useState(false);\n  const startDismissing = () => {\n    setCollapsing(true);\n  };\n  return /* @__PURE__ */ React.createElement(Collapse, {\n    in: !collapsing,\n    onExited: onDismiss\n  }, /* @__PURE__ */ React.createElement(IntroCard, {\n    text,\n    onClose: startDismissing\n  }));\n};\nconst starredIntroText = `Fun fact! As you explore all the awesome plugins in Backstage, you can actually pin them to this side nav.\nKeep an eye out for the little star icon (\\u2B50) next to the plugin name and give it a click!`;\nconst recentlyViewedIntroText = \"And your recently viewed plugins will pop up here!\";\nconst SidebarIntro = () => {\n  const {isOpen} = useContext(SidebarContext);\n  const defaultValue = {\n    starredItemsDismissed: false,\n    recentlyViewedItemsDismissed: false\n  };\n  const [\n    dismissedIntro,\n    setDismissedIntro\n  ] = useLocalStorage(SIDEBAR_INTRO_LOCAL_STORAGE);\n  const {starredItemsDismissed, recentlyViewedItemsDismissed} = dismissedIntro != null ? dismissedIntro : {};\n  const dismissStarred = () => {\n    setDismissedIntro((state) => ({\n      ...defaultValue,\n      ...state,\n      starredItemsDismissed: true\n    }));\n  };\n  const dismissRecentlyViewed = () => {\n    setDismissedIntro((state) => ({\n      ...defaultValue,\n      ...state,\n      recentlyViewedItemsDismissed: true\n    }));\n  };\n  if (!isOpen) {\n    return null;\n  }\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, !starredItemsDismissed && /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(SidebarIntroCard, {\n    text: starredIntroText,\n    onDismiss: dismissStarred\n  }), /* @__PURE__ */ React.createElement(SidebarDivider, null)), !recentlyViewedItemsDismissed && /* @__PURE__ */ React.createElement(SidebarIntroCard, {\n    text: recentlyViewedIntroText,\n    onDismiss: dismissRecentlyViewed\n  }));\n};\n\nconst useStyles$M = makeStyles({\n  container: {\n    padding: 0,\n    listStyle: \"none\"\n  },\n  item: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    width: \"100%\",\n    maxWidth: \"400px\",\n    margin: 0,\n    padding: 0\n  }\n});\nconst GridItem = ({children}) => {\n  const classes = useStyles$M();\n  return /* @__PURE__ */ React.createElement(Grid, {\n    component: \"li\",\n    item: true,\n    classes\n  }, children);\n};\n\nconst Component = ({config, onResult}) => {\n  const {apiRef, title, message} = config;\n  const authApi = useApi(apiRef);\n  const errorApi = useApi(errorApiRef);\n  const handleLogin = async () => {\n    try {\n      const identity = await authApi.getBackstageIdentity({\n        instantPopup: true\n      });\n      const profile = await authApi.getProfile();\n      onResult({\n        userId: identity.id,\n        profile,\n        getIdToken: () => {\n          return authApi.getBackstageIdentity().then((i) => i.idToken);\n        },\n        signOut: async () => {\n          await authApi.signOut();\n        }\n      });\n    } catch (error) {\n      errorApi.post(error);\n    }\n  };\n  return /* @__PURE__ */ React.createElement(GridItem, null, /* @__PURE__ */ React.createElement(InfoCard, {\n    variant: \"fullHeight\",\n    title,\n    actions: /* @__PURE__ */ React.createElement(Button$1, {\n      color: \"primary\",\n      variant: \"outlined\",\n      onClick: handleLogin\n    }, \"Sign In\")\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body1\"\n  }, message)));\n};\nconst loader = async (apis, apiRef) => {\n  const authApi = apis.get(apiRef);\n  const identity = await authApi.getBackstageIdentity({\n    optional: true\n  });\n  if (!identity) {\n    return void 0;\n  }\n  const profile = await authApi.getProfile();\n  return {\n    userId: identity.id,\n    profile,\n    getIdToken: () => authApi.getBackstageIdentity().then((i) => i.idToken),\n    signOut: async () => {\n      await authApi.signOut();\n    }\n  };\n};\nconst commonProvider = {Component, loader};\n\nconst result = {\n  userId: \"guest\",\n  profile: {\n    email: \"guest@example.com\",\n    displayName: \"Guest\"\n  }\n};\nconst Component$1 = ({onResult}) => /* @__PURE__ */ React.createElement(GridItem, null, /* @__PURE__ */ React.createElement(InfoCard, {\n  title: \"Guest\",\n  variant: \"fullHeight\",\n  actions: /* @__PURE__ */ React.createElement(Button$1, {\n    color: \"primary\",\n    variant: \"outlined\",\n    onClick: () => onResult(result)\n  }, \"Enter\")\n}, /* @__PURE__ */ React.createElement(Typography, {\n  variant: \"body1\"\n}, \"Enter as a Guest User.\", /* @__PURE__ */ React.createElement(\"br\", null), \"You will not have a verified identity,\", /* @__PURE__ */ React.createElement(\"br\", null), \"meaning some features might be unavailable.\")));\nconst loader$1 = async () => {\n  return result;\n};\nconst guestProvider = {Component: Component$1, loader: loader$1};\n\nconst ID_TOKEN_REGEX = /^[a-z0-9_\\-]+\\.[a-z0-9_\\-]+\\.[a-z0-9_\\-]+$/i;\nconst useFormStyles = makeStyles((theme) => ({\n  form: {\n    display: \"flex\",\n    flexFlow: \"column nowrap\"\n  },\n  button: {\n    alignSelf: \"center\",\n    marginTop: theme.spacing(2)\n  }\n}));\nconst Component$2 = ({onResult}) => {\n  const classes = useFormStyles();\n  const {register, handleSubmit, errors, formState} = useForm({\n    mode: \"onChange\"\n  });\n  const handleResult = ({userId, idToken}) => {\n    onResult({\n      userId,\n      profile: {\n        email: `${userId}@example.com`\n      },\n      getIdToken: idToken ? async () => idToken : void 0\n    });\n  };\n  return /* @__PURE__ */ React.createElement(GridItem, null, /* @__PURE__ */ React.createElement(InfoCard, {\n    title: \"Custom User\",\n    variant: \"fullHeight\"\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body1\"\n  }, \"Enter your own User ID and credentials.\", /* @__PURE__ */ React.createElement(\"br\", null), \"This selection will not be stored.\"), /* @__PURE__ */ React.createElement(\"form\", {\n    className: classes.form,\n    onSubmit: handleSubmit(handleResult)\n  }, /* @__PURE__ */ React.createElement(FormControl, null, /* @__PURE__ */ React.createElement(TextField, {\n    name: \"userId\",\n    label: \"User ID\",\n    margin: \"normal\",\n    error: Boolean(errors.userId),\n    inputRef: register({required: true})\n  }), errors.userId && /* @__PURE__ */ React.createElement(FormHelperText, {\n    error: true\n  }, errors.userId.message)), /* @__PURE__ */ React.createElement(FormControl, null, /* @__PURE__ */ React.createElement(TextField, {\n    name: \"idToken\",\n    label: \"ID Token (optional)\",\n    margin: \"normal\",\n    autoComplete: \"off\",\n    error: Boolean(errors.idToken),\n    inputRef: register({\n      required: false,\n      validate: (token) => !token || ID_TOKEN_REGEX.test(token) || \"Token is not a valid OpenID Connect JWT Token\"\n    })\n  }), errors.idToken && /* @__PURE__ */ React.createElement(FormHelperText, {\n    error: true\n  }, errors.idToken.message)), /* @__PURE__ */ React.createElement(Button$1, {\n    type: \"submit\",\n    color: \"primary\",\n    variant: \"outlined\",\n    className: classes.button,\n    disabled: !(formState == null ? void 0 : formState.isDirty) || !isEmpty(errors)\n  }, \"Continue\"))));\n};\nconst loader$2 = async () => void 0;\nconst customProvider = {Component: Component$2, loader: loader$2};\n\nconst PROVIDER_STORAGE_KEY = \"@backstage/core:SignInPage:provider\";\nconst signInProviders = {\n  guest: guestProvider,\n  custom: customProvider,\n  common: commonProvider\n};\nfunction validateIDs(id, providers) {\n  if (id in providers)\n    throw new Error(`\"${id}\" ID is duplicated. IDs of identity providers have to be unique.`);\n}\nfunction getSignInProviders(identityProviders) {\n  const providers = identityProviders.reduce((acc, config) => {\n    if (typeof config === \"string\") {\n      validateIDs(config, acc);\n      acc[config] = {components: signInProviders[config], id: config};\n      return acc;\n    }\n    const {id} = config;\n    validateIDs(id, acc);\n    acc[id] = {components: signInProviders.common, id, config};\n    return acc;\n  }, {});\n  return providers;\n}\nconst useSignInProviders = (providers, onResult) => {\n  const errorApi = useApi(errorApiRef);\n  const apiHolder = useApiHolder();\n  const [loading, setLoading] = useState(true);\n  const handleWrappedResult = useCallback((result) => {\n    onResult({\n      ...result,\n      signOut: async () => {\n        var _a;\n        localStorage.removeItem(PROVIDER_STORAGE_KEY);\n        await ((_a = result.signOut) == null ? void 0 : _a.call(result));\n      }\n    });\n  }, [onResult]);\n  useLayoutEffect(() => {\n    var _a;\n    if (!loading) {\n      return void 0;\n    }\n    const selectedProviderId = localStorage.getItem(PROVIDER_STORAGE_KEY);\n    if (selectedProviderId === null) {\n      setLoading(false);\n      return void 0;\n    }\n    const provider = providers[selectedProviderId];\n    if (!provider) {\n      setLoading(false);\n      return void 0;\n    }\n    let didCancel = false;\n    provider.components.loader(apiHolder, (_a = provider.config) == null ? void 0 : _a.apiRef).then((result) => {\n      if (didCancel) {\n        return;\n      }\n      if (result) {\n        handleWrappedResult(result);\n      } else {\n        setLoading(false);\n      }\n    }).catch((error) => {\n      if (didCancel) {\n        return;\n      }\n      errorApi.post(error);\n      setLoading(false);\n    });\n    return () => {\n      didCancel = true;\n    };\n  }, [loading, errorApi, onResult, apiHolder, providers, handleWrappedResult]);\n  const elements = useMemo(() => Object.keys(providers).map((key) => {\n    const provider = providers[key];\n    const {Component} = provider.components;\n    const handleResult = (result) => {\n      localStorage.setItem(PROVIDER_STORAGE_KEY, provider.id);\n      handleWrappedResult(result);\n    };\n    return /* @__PURE__ */ React.createElement(Component, {\n      key: provider.id,\n      config: provider.config,\n      onResult: handleResult\n    });\n  }), [providers, handleWrappedResult]);\n  return [loading, elements];\n};\n\nconst MultiSignInPage = ({\n  onResult,\n  providers = [],\n  title,\n  align = \"left\"\n}) => {\n  const configApi = useApi(configApiRef);\n  const classes = useStyles$M();\n  const signInProviders = getSignInProviders(providers);\n  const [loading, providerElements] = useSignInProviders(signInProviders, onResult);\n  if (loading) {\n    return /* @__PURE__ */ React.createElement(Progress, null);\n  }\n  return /* @__PURE__ */ React.createElement(Page, {\n    themeId: \"home\"\n  }, /* @__PURE__ */ React.createElement(Header, {\n    title: configApi.getString(\"app.title\")\n  }), /* @__PURE__ */ React.createElement(Content, null, title && /* @__PURE__ */ React.createElement(ContentHeader, {\n    title,\n    textAlign: align\n  }), /* @__PURE__ */ React.createElement(Grid, {\n    container: true,\n    justify: align === \"center\" ? align : \"flex-start\",\n    spacing: 2,\n    component: \"ul\",\n    classes\n  }, providerElements)));\n};\nconst SingleSignInPage = ({\n  onResult,\n  provider,\n  auto\n}) => {\n  const classes = useStyles$M();\n  const authApi = useApi(provider.apiRef);\n  const configApi = useApi(configApiRef);\n  const [autoShowPopup, setAutoShowPopup] = useState(auto != null ? auto : false);\n  const [retry, setRetry] = useState(true);\n  const [error, setError] = useState();\n  const [showLoginPage, setShowLoginPage] = useState(false);\n  useEffect(() => {\n    const login = async () => {\n      try {\n        let identity;\n        identity = await authApi.getBackstageIdentity({\n          optional: true\n        });\n        if (!identity && autoShowPopup) {\n          identity = await authApi.getBackstageIdentity({\n            instantPopup: true\n          });\n        }\n        if (!identity) {\n          setShowLoginPage(true);\n          return;\n        }\n        const profile = await authApi.getProfile();\n        onResult({\n          userId: identity.id,\n          profile,\n          getIdToken: () => {\n            return authApi.getBackstageIdentity().then((i) => i.idToken);\n          },\n          signOut: async () => {\n            await authApi.signOut();\n          }\n        });\n      } catch (err) {\n        setError(err);\n        setShowLoginPage(true);\n      }\n    };\n    if (retry) {\n      login();\n    }\n  }, [onResult, authApi, retry, autoShowPopup]);\n  return showLoginPage ? /* @__PURE__ */ React.createElement(Page, {\n    themeId: \"home\"\n  }, /* @__PURE__ */ React.createElement(Header, {\n    title: configApi.getString(\"app.title\")\n  }), /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(Grid, {\n    container: true,\n    justify: \"center\",\n    spacing: 2,\n    component: \"ul\",\n    classes\n  }, /* @__PURE__ */ React.createElement(GridItem, null, /* @__PURE__ */ React.createElement(InfoCard, {\n    variant: \"fullHeight\",\n    title: provider.title,\n    actions: /* @__PURE__ */ React.createElement(Button$1, {\n      color: \"primary\",\n      variant: \"outlined\",\n      onClick: () => {\n        setRetry({});\n        setAutoShowPopup(true);\n      }\n    }, \"Sign In\")\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body1\"\n  }, provider.message), error && error.name !== \"PopupRejectedError\" && /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body1\",\n    color: \"error\"\n  }, error.message)))))) : /* @__PURE__ */ React.createElement(Progress, null);\n};\nconst SignInPage = (props) => {\n  if (\"provider\" in props) {\n    return /* @__PURE__ */ React.createElement(SingleSignInPage, {\n      ...props\n    });\n  }\n  return /* @__PURE__ */ React.createElement(MultiSignInPage, {\n    ...props\n  });\n};\n\nconst useTabsStyles = makeStyles((theme) => ({\n  root: {\n    padding: theme.spacing(0, 2, 0, 2.5),\n    minHeight: theme.spacing(3)\n  },\n  indicator: {\n    backgroundColor: theme.palette.info.main,\n    height: theme.spacing(0.3)\n  }\n}));\nconst BoldHeader = withStyles((theme) => ({\n  root: {padding: theme.spacing(2, 2, 2, 2.5), display: \"inline-block\"},\n  title: {fontWeight: 700},\n  subheader: {paddingTop: theme.spacing(1)}\n}))(CardHeader);\nconst TabbedCard = ({\n  slackChannel = \"#backstage\",\n  children,\n  title,\n  deepLink,\n  value,\n  onChange\n}) => {\n  const tabsClasses = useTabsStyles();\n  const [selectedIndex, selectIndex] = useState(0);\n  const handleChange = onChange ? onChange : (_ev, newSelectedIndex) => selectIndex(newSelectedIndex);\n  let selectedTabContent;\n  if (!value) {\n    React.Children.map(children, (child, index) => {\n      if (index === selectedIndex)\n        selectedTabContent = child == null ? void 0 : child.props.children;\n    });\n  } else {\n    React.Children.map(children, (child) => {\n      if ((child == null ? void 0 : child.props.value) === value)\n        selectedTabContent = child == null ? void 0 : child.props.children;\n    });\n  }\n  return /* @__PURE__ */ React.createElement(Card, null, /* @__PURE__ */ React.createElement(ErrorBoundary, {\n    slackChannel\n  }, title && /* @__PURE__ */ React.createElement(BoldHeader, {\n    title\n  }), /* @__PURE__ */ React.createElement(Tabs$1, {\n    classes: tabsClasses,\n    value: value || selectedIndex,\n    onChange: handleChange\n  }, children), /* @__PURE__ */ React.createElement(Divider, null), /* @__PURE__ */ React.createElement(CardContent, null, selectedTabContent), deepLink && /* @__PURE__ */ React.createElement(BottomLink, {\n    ...deepLink\n  })));\n};\nconst useCardTabStyles = makeStyles((theme) => ({\n  root: {\n    minWidth: theme.spacing(6),\n    minHeight: theme.spacing(3),\n    margin: theme.spacing(0, 2, 0, 0),\n    padding: theme.spacing(0.5, 0, 0.5, 0),\n    textTransform: \"none\"\n  },\n  selected: {\n    fontWeight: \"bold\"\n  }\n}));\nconst CardTab = ({children, ...props}) => {\n  const classes = useCardTabStyles();\n  return /* @__PURE__ */ React.createElement(Tab, {\n    disableRipple: true,\n    classes,\n    ...props\n  });\n};\n\nexport { AlertDisplay, Avatar, Breadcrumbs, Button, CardTab, CodeSnippet, Content, ContentHeader, CopyTextButton, DependencyGraph, types as DependencyGraphTypes, DismissableBanner, EmptyState, ErrorBoundary, ErrorPage, FeatureCalloutCircular, Gauge, GaugeCard, Header, HeaderIconLinkRow, HeaderLabel, HeaderTabs, HomepageTimer, HorizontalScrollGrid, InfoCard, IntroCard, ItemCard, ItemCardGrid, ItemCardHeader, Lifecycle, LinearGauge, Link, MarkdownContent, MissingAnnotationEmptyState, OAuthRequestDialog, OverflowTooltip, Page, Progress, ResponseErrorDetails, ResponseErrorPanel, RoutedTabs, SIDEBAR_INTRO_LOCAL_STORAGE, SelectComponent as Select, Sidebar, SidebarContext, SidebarDivider, SidebarIntro, SidebarItem, SidebarPage, SidebarPinStateContext, SidebarSearchField, SidebarSpace, SidebarSpacer, SignInPage, SimpleStepper, SimpleStepperStep, StatusAborted, StatusError, StatusOK, StatusPending, StatusRunning, StatusWarning, StructuredMetadataTable, SubvalueCell, SupportButton, TabbedCard, TabbedLayout, Table, Tabs, TrendLine, WarningPanel, createApp, defaultConfigLoader, sidebarConfig, useQueryParamState, useSupportConfig };\n//# sourceMappingURL=index.esm.js.map\n","export default \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NjUiIGhlaWdodD0iNTQ5IiBmaWxsPSJub25lIiB2aWV3Qm94PSIwIDAgNzY1IDU0OSI+PHBhdGggZmlsbD0iIzlCRjBFMSIgZD0iTTIzMy4yNTQgMTguMTEyM0MyODcuNjEzIDEyLjk0MDYgMzQ4Ljk1MyAtMTkuNzk0MSAzOTAuNzM3IDE3LjkwMzVDNDMzLjI2MiA1Ni4yNjgyIDQxOS44MyAxMjcuMzk2IDQyMC40OTUgMTg3LjAzOEM0MjEuMTczIDI0Ny44MzQgNDI5LjcyNCAzMTIuNjI2IDM5NC41NTUgMzYwLjI3MkMzNTYuMjcyIDQxMi4xMzcgMjk0Ljc4MiA0NDQuNDMzIDIzMy4yNTQgNDQwLjcwOUMxNzQuMDg4IDQzNy4xMjggMTMwLjc5MyAzODcuMDg0IDg5LjE2MTkgMzQxLjc5QzQ3LjkyNDcgMjk2LjkyNCAtMi41MDQ1NCAyNTAuMDE4IDAuMDk2NjI5NyAxODcuMDM4QzIuNjQ5ODggMTI1LjIxNyA1My42MzYyIDgwLjAzNzcgMTAxLjQwMiA0NS40MzA5QzEzOS45NzcgMTcuNDgyNyAxODYuOTAzIDIyLjUyMjEgMjMzLjI1NCAxOC4xMTIzWiIgY2xpcFJ1bGU9ImV2ZW5vZGQiIGZpbGxSdWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzY5RERDNyIgZD0iTTUxMy4zODUgMjAuNDQzOUM1NjYuNjkzIDE0Ljg5MzggNjEzLjgwOSA2Mi4zODY3IDY1MC43NDYgMTA2LjgxNEM2ODMuMjg1IDE0NS45NTIgNjg3Ljg0NyAyMDEuOTI5IDcwNS44MzIgMjUxLjkxOEM3MjUuOTAyIDMwNy42OTYgNzc3Ljc1NiAzNTguNjkyIDc2Mi4wOTcgNDE2LjI5OEM3NDYuNDU2IDQ3My44NDEgNjgyLjQ4NSA0OTAuMjkxIDYzNC40MTQgNTE0LjY1OEM1OTUuODQyIDUzNC4yMSA1NTUuNDkyIDUzOS43MDMgNTEzLjM4NSA1NDIuMzY5QzQ2OC41MDUgNTQ1LjIxMSA0MTguNTUgNTYxLjAwNiAzODIuMjQxIDUzMC42MjRDMzQ1Ljk0MyA1MDAuMjUxIDM1MS40NTYgNDM3Ljc0NSAzMzIuNTA5IDM5MS4wMjJDMzA5LjY1MyAzMzQuNjYgMjQ1LjkwNiAyODkuMjMzIDI2MC4wMTcgMjI5LjIxOEMyNzMuOTc5IDE2OS44MzUgMzQ5LjQ2OSAxNjkuNTM1IDM5My4wMjMgMTMzLjY0N0M0MzYuMjE4IDk4LjA1MzcgNDYwLjQxMyAyNS45NTkgNTEzLjM4NSAyMC40NDM5WiIgY2xpcFJ1bGU9ImV2ZW5vZGQiIGZpbGxSdWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzAwMCIgc3Ryb2tlPSIjMDAwIiBkPSJNNTg0LjM4NCAzMzEuMjYyTDYxOC40MzcgMzYyLjM3QzYyMC4wOTYgMzYzLjg4NiA2MjIuNjc3IDM2My43MzggNjI0LjE1MiAzNjIuMDQyTDYyNS43NDcgMzYwLjIwOUM2MjcuMjE2IDM1OC41MjEgNjI3LjAxNCAzNTUuOTU2IDYyNS4yOTkgMzU0LjUxOUw1OTAuMTgzIDMyNS4wNzZDNTg5LjQ1OSAzMjQuNDY5IDU4OC41MzQgMzI0LjA5MyA1ODcuNjA2IDMyNC4yNjZDNTg0LjQ0NCAzMjQuODU0IDU4My4zMTQgMzI3LjMyNSA1ODMuMzcxIDMyOS4zNTVDNTgzLjM5MiAzMzAuMTA1IDU4My44MyAzMzAuNzU2IDU4NC4zODQgMzMxLjI2MloiLz48Y2lyY2xlIGN4PSI2MzAuNTQiIGN5PSIzNjYuMDA2IiByPSIxMS42NjIiIGZpbGw9IiM2MTYxNjEiIHRyYW5zZm9ybT0icm90YXRlKDEzMS4wMjEgNjMwLjU0IDM2Ni4wMDYpIi8+PHJlY3Qgd2lkdGg9IjI1LjQ0NCIgaGVpZ2h0PSIzLjE4IiB4PSI2MzkuNjkiIHk9IjM1Ny4xMDMiIGZpbGw9IiMyODI4MjgiIHJ4PSIxLjU5IiB0cmFuc2Zvcm09InJvdGF0ZSgxMzEuMDIxIDYzOS42OSAzNTcuMTAzKSIvPjxwYXRoIGZpbGw9IiMxODE4MTgiIGQ9Ik0zMzEuMDgxIDYwLjI5MDJDMzM0LjUyOCA3Mi45OTIzIDMzOS4wMiAxMDEuNTQ0IDMzNC40MzYgMTA2LjAyMkgzMDUuNDM2QzMwNS40MzMgMTA1Ljk3MSAzMDUuNDMgMTA1LjkyIDMwNS40MjcgMTA1Ljg2OEMyOTQuNjc5IDEwNC42NzkgMjg2LjMxOSA5NS41NjU4IDI4Ni4zMTkgODQuNVY2My41QzI4Ni4zMTkgNTEuNjI1OSAyOTUuOTQ1IDQyIDMwNy44MTkgNDJIMzA5LjgxOUMzMjAuNjAyIDQyIDMyOS41MzEgNDkuOTM4NSAzMzEuMDgxIDYwLjI5MDJaIiBjbGlwUnVsZT0iZXZlbm9kZCIgZmlsbFJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBmaWxsPSIjRURCNzk1IiBkPSJNMjk3LjU4MSA4MC40OTAxQzI5Mi45NzMgNzUuMDgxNCAyODkuODU0IDY4LjQ1MjkgMjkwLjM3NiA2MS4wMjU1QzI5MS44NzcgMzkuNjI1IDMyMS42NjcgNDQuMzMyOCAzMjcuNDYyIDU1LjEzMzlDMzMzLjI1NyA2NS45MzUxIDMzMi41NjggOTMuMzMzIDMyNS4wNzkgOTUuMjYzNUMzMjIuMDkyIDk2LjAzMzMgMzE1LjczIDk0LjE0NzUgMzA5LjI1NCA5MC4yNDQzTDMxMy4zMTkgMTE5SDI4OS4zMTlMMjk3LjU4MSA4MC40OTAxWiIgY2xpcFJ1bGU9ImV2ZW5vZGQiIGZpbGxSdWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzE4MTgxOCIgZD0iTTMwNC4wNjkgNzYuODc0OEMzMDUuMTc1IDg4Ljc1MjggMzA0LjczMiAxMDIuMzE3IDMwMS40MzYgMTA1LjUzN0gyNzIuNDM2QzI3MC44MiA3Ny40NjM1IDI4Ni40MzYgODguMzM0OSAyODYuNDM2IDYxLjkwMjhDMjg3LjQxIDYwLjk1MTUgMjg4LjMzIDYwLjAxIDI4OS4yNCA1OS4xOTgxTDI4OS4yMDggNTguNDIwN0MyOTQuMjI5IDQ4LjE0MDIgMzAwLjYgNDMgMzA4LjMyIDQzQzMxOS45IDQzIDMyMy41NTUgNDguMzg4MyAzMjYuNjY4IDUyLjk2MzFDMzI0LjM0IDYwLjk0ODIgMzE1LjMwOSA2Mi4xMzIyIDMwNy4yODUgNjcuMTA5NUMzMDYuMzM5IDY2LjM0MSAzMDUuMTMzIDY1Ljg4MDQgMzAzLjgxOSA2NS44ODA0QzMwMC43ODEgNjUuODgwNCAyOTguMzE5IDY4LjM0MjggMjk4LjMxOSA3MS4zODA0QzI5OC4zMTkgNzQuNDE4IDMwMC43ODEgNzYuODgwNCAzMDMuODE5IDc2Ljg4MDRDMzAzLjkwMyA3Ni44ODA0IDMwMy45ODYgNzYuODc4NSAzMDQuMDY5IDc2Ljg3NDhaIiBjbGlwUnVsZT0iZXZlbm9kZCIgZmlsbFJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBmaWxsPSIjQzUyQjg2IiBkPSJNMjUwLjcyNyAzMDAuMDg4QzI3NC43MTYgMzA2Ljc5OCAyOTUuNDEzIDMxMC4xNTMgMzEyLjgxOCAzMTAuMTUzQzMzMC4yMjQgMzEwLjE1MyAzNDYuMzkgMzA0Ljk4NiAzNjEuMzE5IDI5NC42NTNDMzM3Ljg0MyAyODcuNzY2IDMxOC41MSAyODQuMzIzIDMwMy4zMTkgMjg0LjMyM0MyODguMTI4IDI4NC4zMjMgMjcwLjU5NyAyODkuNTc4IDI1MC43MjcgMzAwLjA4OFoiIGNsaXBSdWxlPSJldmVub2RkIiBmaWxsUnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiNFN0IyOTEiIGQ9Ik0zMzMuNTg2IDMxOS44MjRDMzMzLjM1NCAzMTkuNDc3IDMzMy4xNTkgMzE5LjA5OCAzMzMuMDA0IDMxOC42ODlDMzI5Ljc5NyAzMTAuMjA4IDI3OC40MzYgMjE4LjcyNiAyNzMuMzE5IDIwMkgzMzEuMTQ1QzMzNS4wMzUgMjE0LjcxNyAzNTIuNTQ2IDI5NC41MiAzNTUuMDEgMzEwLjQ0MkMzNjIuNzg1IDMzNS41NTcgMzc4Ljc5NCA0MTYuODk1IDM4MC44MzggNDIyLjUzQzM4Mi45ODggNDI4LjQ1OCAzNzAuODkxIDQzNC42MzMgMzY3LjY2OCA0MjcuMzQ2QzM2Mi41MzkgNDE1Ljc1IDM1MC4zMTcgMzgzLjY2NSAzNDQuODc2IDM2NC4wNzRDMzM5Ljc3NSAzNDUuNzA4IDMzNS42MjEgMzI5LjE4NCAzMzMuNTg2IDMxOS44MjRaIiBjbGlwUnVsZT0iZXZlbm9kZCIgZmlsbFJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBmaWxsPSIjRURCNzk1IiBkPSJNMjg2LjI3NiAzMzAuOTk0QzI2Mi43OTQgMzM2LjkyOCAxNzYuOTAzIDM0Ny42NTggMTcxLjAwOSAzNDkuMzQxQzE2NC45NDUgMzUxLjA3MiAxNTkuNjI5IDMzOC41NzQgMTY3LjEyNCAzMzUuODY3QzE3OS4wNDkgMzMxLjU1OSAyMTEuOTA4IDMyMS42MDYgMjMxLjgzMSAzMTcuNTQ0QzI0Ny44NTUgMzE0LjI3NyAyNjIuNDc4IDMxMS42MTEgMjcyLjI5NSAzMTAuMDVDMjcxLjQ2NCAyODIuNDczIDI2Ny42NjIgMjE2LjI5NCAyNzAuMTU0IDIwMkgzMjEuMzE5QzMxOC45MjkgMjE1LjcwNyAyOTguNzI5IDMxNS43MTggMjk0Ljk3NSAzMjUuNzI5QzI5My43ODMgMzI5LjMwMiAyOTAuMjI4IDMzMC44ODIgMjg2LjI3NiAzMzAuOTk0WiIgY2xpcFJ1bGU9ImV2ZW5vZGQiIGZpbGxSdWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTE2Ny42NjggMzMyLjUzOUMxNjQuNTMyIDMzMS45NTYgMTYyLjIzNSAzMzEuNzkzIDE2MC43NzQgMzMyLjA1QzE1OC45OTggMzMyLjM2MyAxNTYuNDU5IDMzMy4xMTYgMTUzLjE1NiAzMzQuMzA5QzE1My41MiAzMzYuMzY5IDE1Ni43ODQgMzU0Ljg4NCAxNjIuOTUxIDM4OS44NTRDMTY3Ljk3NyAzOTAuNDU2IDE3MC40MDYgMzg5LjE2OCAxNzAuMjM4IDM4NS45OTFDMTcwLjA3IDM4Mi44MTQgMTY5Ljk1OSAzODAuMTcgMTY5LjkwMiAzNzguMDU5TDE3Ni44NTkgMzUwLjIxM0MxNzYuOTkzIDM0OS42NzcgMTc2LjY2NyAzNDkuMTM0IDE3Ni4xMzIgMzQ5QzE3Ni4xMjMgMzQ4Ljk5OCAxNzYuMTEzIDM0OC45OTYgMTc2LjEwNCAzNDguOTk0TDE3MS43ODYgMzQ4LjA0NEMxNjkuOTM1IDM0NS40MDIgMTY4Ljg1MSAzNDMuMTgxIDE2OC41MzQgMzQxLjM4MUMxNjguMjc2IDMzOS45MTkgMTY4LjUxIDMzNy43OTUgMTY5LjIzNyAzMzUuMDFMMTY5LjIzNyAzMzUuMDFDMTY5LjUxNiAzMzMuOTQxIDE2OC44NzYgMzMyLjg0OSAxNjcuODA3IDMzMi41N0MxNjcuNzYxIDMzMi41NTggMTY3LjcxNCAzMzIuNTQ4IDE2Ny42NjggMzMyLjUzOVoiIGNsaXBSdWxlPSJldmVub2RkIiBmaWxsUnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0zNjMuOTk3IDQyNi40MDJDMzYyLjg3OCA0MjkuMzg4IDM2Mi4zMTkgNDMxLjYyMyAzNjIuMzE5IDQzMy4xMDZDMzYyLjMxOSA0MzQuOTA5IDM2Mi42MTkgNDM3LjU0IDM2My4yMiA0NDFDMzY1LjMxMiA0NDEgMzg0LjExMyA0NDEgNDE5LjYyMiA0NDFDNDIxLjA4OCA0MzYuMTU1IDQyMC4yNDIgNDMzLjUzOSA0MTcuMDg0IDQzMy4xNTJDNDEzLjkyNiA0MzIuNzY2IDQxMS4zMDMgNDMyLjQxNyA0MDkuMjE0IDQzMi4xMDZMMzgyLjk5OSA0MjAuNDE5QzM4Mi40OTQgNDIwLjE5NCAzODEuOTAzIDQyMC40MjEgMzgxLjY3OCA0MjAuOTI1QzM4MS42NzQgNDIwLjkzNCAzODEuNjcxIDQyMC45NDIgMzgxLjY2NyA0MjAuOTUxTDM3OS45ODIgNDI1LjAzOUMzNzcuMDU5IDQyNi40MDMgMzc0LjY4MyA0MjcuMDg1IDM3Mi44NTYgNDI3LjA4NUMzNzEuMzcxIDQyNy4wODUgMzY5LjMyIDQyNi40ODUgMzY2LjcwMyA0MjUuMjg2TDM2Ni43MDMgNDI1LjI4NUMzNjUuNjk5IDQyNC44MjUgMzY0LjUxMiA0MjUuMjY2IDM2NC4wNTIgNDI2LjI3QzM2NC4wMzIgNDI2LjMxMyAzNjQuMDE0IDQyNi4zNTcgMzYzLjk5NyA0MjYuNDAyWiIgY2xpcFJ1bGU9ImV2ZW5vZGQiIGZpbGxSdWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iI0YwMzhBNSIgZD0iTTI3MC4zMTkgMjAyQzI5Mi44NjYgMTk1LjU0OSAzMTQuMTk5IDE5NS41NDkgMzM0LjMxOSAyMDJDMzQxLjMxOSAyMzMuOTM3IDM1OC4zMjggMjQ2LjYxMyAzNjEuMzE5IDI5NS41NzlDMzI3LjMxOSAzMTIuNDczIDI4NS4zMTkgMjgzLjUzIDI1MC4zMTkgMzAwLjAwNUMyNDAuMzE5IDI3Ni45NjEgMjU0LjMxOSAyMjEuNDY0IDI3MC4zMTkgMjAyWiIgY2xpcFJ1bGU9ImV2ZW5vZGQiIGZpbGxSdWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iI0VEQjc5NSIgZD0iTTM2Ny4zMTkgMTYyLjMxMUw0MDYuODAyIDE1Ni45MjVDNDE0LjcgMTUyLjUzMiA0MjEuOTY2IDE0OS41NTggNDI4LjU5OSAxNDguMDAzQzQzMC40NjYgMTQ3Ljk0OCA0MzMuNDM2IDE0OC42MjcgNDI5LjAxMiAxNTIuMzE1QzQyNC41ODggMTU2LjAwMyA0MjAuMDk5IDE2MC4wODMgNDIwLjg4NyAxNjIuMDUxQzQyMS42NzUgMTY0LjAyIDQyNS43OSAxNjMuMjg3IDQyNi40NzEgMTY2LjMxNUM0MjYuOTI2IDE2OC4zMzMgNDIwLjI0OCAxNjguNjYxIDQwNi40NCAxNjcuMjk5TDM3NC40MDMgMTgwTDM2Ny4zMTkgMTYyLjMxMVpNMjQzLjI4OCAxNzEuNDVMMjY1LjE4NiAxNzEuNTMyQzI0MS4xNzUgMjI1LjU2NiAyMjguNjU1IDI1My44NTcgMjI3LjYyNyAyNTYuNDA2QzIyNS4zMTMgMjYyLjE0IDIzMC4yMDkgMjcwLjg3NCAyMzIuMzAzIDI3NS41NjdDMjI1LjQ4MyAyNzguNjE5IDIyNi4yMSAyNjcuMzE3IDIxNy42MDcgMjcxLjMxOUMyMDkuNzU0IDI3NC45NzMgMjAzLjc4IDI4MS41OTIgMTk0LjcwOCAyNzUuOTk0QzE5My41OTIgMjc1LjMwNiAxOTIuMzcgMjcyLjcxNSAxOTUuMzIzIDI3MC42OUMyMDIuNjgxIDI2NS42NDUgMjEzLjI4NCAyNTYuODE1IDIxNC43MTcgMjUzLjkwOEMyMTYuNjcgMjQ5Ljk0NSAyMjYuMTk0IDIyMi40NTkgMjQzLjI4OCAxNzEuNDVaIiBjbGlwUnVsZT0iZXZlbm9kZCIgZmlsbFJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBmaWxsPSIjRUVFIiBkPSJNMzAzLjI2OCAxMDJMMzIwLjQxMyAxMDMuMTQyQzMyNC42MzUgMTQxLjM0MyAzNDcuNjM1IDE2NS40NzMgMzk5LjEzIDE1Ny4zMDRMNDA1Ljk3MSAyMDYuNDk5QzM1Ny44NDEgMjEyLjcxOSAzMTUuNjMyIDE5My40NSAzMDYuOTgxIDE0MS4yNzhDMzA0Ljc0MiAxMjcuNzczIDMwMi45NzMgMTEzLjcxOCAzMDMuMjY4IDEwMloiIGNsaXBSdWxlPSJldmVub2RkIiBmaWxsUnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0yOTQuODA5IDk3LjAxNTlMMzIwLjc4NiAxMDIuOTY1QzMyMC43ODYgMTQ3LjY0NCAzMzUuMDE5IDE3Ni4xNSAzNDIuMzE5IDIwOUgyNzIuMTYyQzI3MS4xNzQgMjIwLjM1MSAyNzAuNTY3IDIzMi4wMTggMjcwLjI1MSAyNDRIMjE3LjcyQzIyOS42MjQgMTgwLjY2NCAyNTQuNzQ5IDEzMS42NjQgMjkzLjA5NCA5N0gyOTQuNzk2TDI5NC44MDkgOTcuMDE1OVoiIGNsaXBSdWxlPSJldmVub2RkIiBmaWxsUnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiNFRUUiIGQ9Ik0yODMuMjMxIDE0NS4yNTlDMjgxLjQyMyAxNzMuMTAxIDI4Mi40ODYgMTk0LjM0NyAyODYuNDIxIDIwOUgyNzIuMTYyQzI3NC4xMiAxODYuNTE0IDI3Ny41NzUgMTY1LjI2NyAyODMuMjMxIDE0NS4yNTlWMTQ1LjI1OVoiIGNsaXBSdWxlPSJldmVub2RkIiBmaWxsUnVsZT0iZXZlbm9kZCIvPjxwYXRoIHN0cm9rZT0iI0Y5RjlGOSIgZD0iTTQyMCAxODRDNDM4LjE3NCAyMDguOTM5IDQ3My4wNDcgMjg3Ljc3MiA0NjcuMTQ0IDQwMy41OTJDNDY5Ljc0IDM3My45NTcgNDgxLjY1NiAzMTUuMzY2IDUwOC41NDggMzE4LjA4N0M1MzUuNDQxIDMyMC44MDggNTMxLjUwNSA0MDEuMTYzIDUyNi4xNzYgNDQxQzUzMi4wNTIgMzg1LjI5MiA1NTIuMzM0IDM1NS4wODcgNTczLjUgMzUxIiBzdHJva2VEYXNoYXJyYXk9IjEwIDE1IiBzdHJva2VMaW5lY2FwPSJyb3VuZCIgc3Ryb2tlV2lkdGg9IjQiLz48L3N2Zz4=\"","export default \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2ODciIGhlaWdodD0iNDIxIiBmaWxsPSJub25lIiB2aWV3Qm94PSIwIDAgNjg3IDQyMSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMDUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQwLjA1MTQgMTA5LjkxNEMyNi44OTU1IDExMi4zNjYgMTguMjE3OSAxMjUuMDE4IDIwLjY2OTUgMTM4LjE3NEMyMy4xMjEgMTUxLjMzIDM1Ljc3MzMgMTYwLjAwNyA0OC45MjkyIDE1Ny41NTZMNjcuMDU0OSAxNTQuMTc4QzYyLjAwOCAxNTkuNjA5IDU5LjUwOTcgMTY3LjI3OCA2MC45NzIyIDE3NS4xMjdDNjMuNDIzNyAxODguMjgzIDc2LjA3NiAxOTYuOTYgODkuMjMxOSAxOTQuNTA5TDIxOC4yNzkgMTcwLjQ2MkMyMTguMzA1IDE3MC42MTcgMjE4LjMzMyAxNzAuNzczIDIxOC4zNjIgMTcwLjkyOUMyMTkuODI0IDE3OC43NzggMjI0LjkxNyAxODUuMDMyIDIzMS41ODIgMTg4LjI4MUwyMjMuNjYzIDE4OS43NTdDMjEwLjUwNyAxOTIuMjA4IDIwMS44MyAyMDQuODYxIDIwNC4yODEgMjE4LjAxNkMyMDYuNzMzIDIzMS4xNzIgMjE5LjM4NSAyMzkuODUgMjMyLjU0MSAyMzcuMzk4TDYwOC42NTggMTY3LjMxMUM2MjEuODE0IDE2NC44NiA2MzAuNDkyIDE1Mi4yMDggNjI4LjA0IDEzOS4wNTJDNjI2LjU3OCAxMzEuMjAzIDYyMS40ODUgMTI0Ljk0OSA2MTQuODIxIDEyMS43TDYyNy40ODkgMTE5LjMzOUM2NDAuNjQ1IDExNi44ODggNjQ5LjMyMiAxMDQuMjM2IDY0Ni44NzEgOTEuMDc5N0M2NDQuNDE5IDc3LjkyMzggNjMxLjc2NyA2OS4yNDYyIDYxOC42MTEgNzEuNjk3N0wzOTMuMDIgMTEzLjczNUMzOTIuOTk0IDExMy41NzkgMzkyLjk2NiAxMTMuNDIzIDM5Mi45MzcgMTEzLjI2N0MzOTEuNDc1IDEwNS40MTkgMzg2LjM4MiA5OS4xNjQzIDM3OS43MTcgOTUuOTE1Nkw0MDEuNjE5IDkxLjgzNDNDNDE0Ljc3NSA4OS4zODI4IDQyMy40NTMgNzYuNzMwNSA0MjEuMDAxIDYzLjU3NDZDNDE4LjU1IDUwLjQxODcgNDA1Ljg5NyA0MS43NDExIDM5Mi43NDIgNDQuMTkyN0w0MC4wNTE0IDEwOS45MTRaTTU5LjE0NiAyOTguMjI0QzU2LjY5NDUgMjg1LjA2OCA2NS4zNzIxIDI3Mi40MTYgNzguNTI4IDI2OS45NjRMNDY0LjQ4MyAxOTguMDQ0QzQ3Ny42MzkgMTk1LjU5MiA0OTAuMjkyIDIwNC4yNyA0OTIuNzQzIDIxNy40MjZDNDk1LjE5NSAyMzAuNTgyIDQ4Ni41MTcgMjQzLjIzNCA0NzMuMzYxIDI0NS42ODVMNDYyLjMwOSAyNDcuNzQ1QzQ2My41OTkgMjQ4LjM3NCA0NjQuODMgMjQ5LjExNSA0NjUuOTg3IDI0OS45NTlMNTk5LjczMSAyMjUuMDM3QzYxMi44ODcgMjIyLjU4NSA2MjUuNTM5IDIzMS4yNjMgNjI3Ljk5MSAyNDQuNDE5QzYyOS40NTMgMjUyLjI2NyA2MjYuOTU1IDI1OS45MzcgNjIxLjkwOCAyNjUuMzY4TDYyNC42MDEgMjY0Ljg2NkM2MzcuNzU3IDI2Mi40MTQgNjUwLjQxIDI3MS4wOTIgNjUyLjg2MSAyODQuMjQ4QzY1NS4zMTMgMjk3LjQwNCA2NDYuNjM1IDMxMC4wNTYgNjMzLjQ3OSAzMTIuNTA3TDIzMi41NjEgMzg3LjIxNkMyMTkuNDA1IDM4OS42NjcgMjA2Ljc1MiAzODAuOTkgMjA0LjMwMSAzNjcuODM0QzIwMS44NDkgMzU0LjY3OCAyMTAuNTI3IDM0Mi4wMjYgMjIzLjY4MyAzMzkuNTc0TDI1Mi45NTggMzM0LjExOUMyNTEuNjY4IDMzMy40OSAyNTAuNDM3IDMzMi43NDkgMjQ5LjI3OSAzMzEuOTA1TDcwLjgyMDUgMzY1LjE1OUM1Ny42NjQ2IDM2Ny42MTEgNDUuMDEyMyAzNTguOTMzIDQyLjU2MDggMzQ1Ljc3N0M0MC4xMDkzIDMzMi42MjEgNDguNzg2OSAzMTkuOTY5IDYxLjk0MjggMzE3LjUxOEw3Mi4zNjU3IDMxNS41NzVDNjUuNzAxNCAzMTIuMzI3IDYwLjYwODUgMzA2LjA3MiA1OS4xNDYgMjk4LjIyNFoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxnIGZpbHRlcj0idXJsKCNmaWx0ZXIwX2QpIj48cGF0aCBmaWxsPSIjOUU5RTlFIiBkPSJNNTY2Ljc5NSA3Ni4wMjg4SDEyNC44NDJDMTE5LjYwNCA3Ni4wMjg4IDExNS4zNTggODAuMjcgMTE1LjM1OCA4NS41MDE4VjExMy45MjFDMTE1LjM1OCAxMTkuMTUzIDExOS42MDQgMTIzLjM5NCAxMjQuODQyIDEyMy4zOTRINTY2Ljc5NUM1NzIuMDMzIDEyMy4zOTQgNTc2LjI3OSAxMTkuMTUzIDU3Ni4yNzkgMTEzLjkyMVY4NS41MDE4QzU3Ni4yNzkgODAuMjcgNTcyLjAzMyA3Ni4wMjg4IDU2Ni43OTUgNzYuMDI4OFoiLz48bWFzayBpZD0ibWFzazAiIHdpZHRoPSI0NjIiIGhlaWdodD0iMjc3IiB4PSIxMTUiIHk9Ijc2IiBtYXNrLXR5cGU9ImFscGhhIiBtYXNrVW5pdHM9InVzZXJTcGFjZU9uVXNlIj48cGF0aCBmaWxsPSIjNDA0MDQwIiBkPSJNNTY2Ljc5NSA3Ni4wMjg4SDEyNC44NDJDMTE5LjYwNCA3Ni4wMjg4IDExNS4zNTggODAuMjcgMTE1LjM1OCA4NS41MDE4VjM0My4xNjdDMTE1LjM1OCAzNDguMzk5IDExOS42MDQgMzUyLjY0IDEyNC44NDIgMzUyLjY0SDU2Ni43OTVDNTcyLjAzMyAzNTIuNjQgNTc2LjI3OSAzNDguMzk5IDU3Ni4yNzkgMzQzLjE2N1Y4NS41MDE4QzU3Ni4yNzkgODAuMjcgNTcyLjAzMyA3Ni4wMjg4IDU2Ni43OTUgNzYuMDI4OFoiLz48L21hc2s+PGcgbWFzaz0idXJsKCNtYXNrMCkiPjxwYXRoIGZpbGw9IiNFRUUiIGQ9Ik01ODMuODY2IDEwMi41NTNIMTE1LjM1OFYzNjUuOTAySDU4My44NjZWMTAyLjU1M1oiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNNTIzLjE2OSAxODQuMDIxSDE4Ny40MzZDMTg1LjM0MSAxODQuMDIxIDE4My42NDMgMTg1LjcxNyAxODMuNjQzIDE4Ny44MUMxODMuNjQzIDE4OS45MDMgMTg1LjM0MSAxOTEuNTk5IDE4Ny40MzYgMTkxLjU5OUg1MjMuMTY5QzUyNS4yNjQgMTkxLjU5OSA1MjYuOTYyIDE4OS45MDMgNTI2Ljk2MiAxODcuODFDNTI2Ljk2MiAxODUuNzE3IDUyNS4yNjQgMTg0LjAyMSA1MjMuMTY5IDE4NC4wMjFaIi8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTM5NC4xODcgMjAxLjA3MkgxODcuNDM2QzE4NS4zNDEgMjAxLjA3MiAxODMuNjQzIDIwMi43NjkgMTgzLjY0MyAyMDQuODYxQzE4My42NDMgMjA2Ljk1NCAxODUuMzQxIDIwOC42NTEgMTg3LjQzNiAyMDguNjUxSDM5NC4xODdDMzk2LjI4MiAyMDguNjUxIDM5Ny45OCAyMDYuOTU0IDM5Ny45OCAyMDQuODYxQzM5Ny45OCAyMDIuNzY5IDM5Ni4yODIgMjAxLjA3MiAzOTQuMTg3IDIwMS4wNzJaIi8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTI3NC42ODkgMTQ5LjkxOEgxODcuNDM2QzE4NS4zNDEgMTQ5LjkxOCAxODMuNjQzIDE1MS42MTUgMTgzLjY0MyAxNTMuNzA3QzE4My42NDMgMTU1LjggMTg1LjM0MSAxNTcuNDk3IDE4Ny40MzYgMTU3LjQ5N0gyNzQuNjg5QzI3Ni43ODQgMTU3LjQ5NyAyNzguNDgyIDE1NS44IDI3OC40ODIgMTUzLjcwN0MyNzguNDgyIDE1MS42MTUgMjc2Ljc4NCAxNDkuOTE4IDI3NC42ODkgMTQ5LjkxOFoiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMjEwLjE5OCAxMTUuODE1SDE0OS41QzE0Ny40MDUgMTE1LjgxNSAxNDUuNzA3IDExNy41MTIgMTQ1LjcwNyAxMTkuNjA1QzE0NS43MDcgMTIxLjY5NyAxNDcuNDA1IDEyMy4zOTQgMTQ5LjUgMTIzLjM5NEgyMTAuMTk4QzIxMi4yOTMgMTIzLjM5NCAyMTMuOTkxIDEyMS42OTcgMjEzLjk5MSAxMTkuNjA1QzIxMy45OTEgMTE3LjUxMiAyMTIuMjkzIDExNS44MTUgMjEwLjE5OCAxMTUuODE1WiIvPjxwYXRoIGZpbGw9IiNGOEY4RjgiIGQ9Ik0xMzIuNDI5IDExOS42MDVDMTMyLjQyOSAxMTcuNTEyIDEzMC43MzEgMTE1LjgxNSAxMjguNjM2IDExNS44MTVDMTI2LjU0IDExNS44MTUgMTI0Ljg0MiAxMTcuNTEyIDEyNC44NDIgMTE5LjYwNUMxMjQuODQyIDEyMS42OTcgMTI2LjU0IDEyMy4zOTQgMTI4LjYzNiAxMjMuMzk0QzEzMC43MzEgMTIzLjM5NCAxMzIuNDI5IDEyMS42OTcgMTMyLjQyOSAxMTkuNjA1WiIvPjxwYXRoIGZpbGw9IiNGOEY4RjgiIGQ9Ik0xMzIuNDI5IDEzNi42NTZDMTMyLjQyOSAxMzQuNTYzIDEzMC43MzEgMTMyLjg2NyAxMjguNjM2IDEzMi44NjdDMTI2LjU0IDEzMi44NjcgMTI0Ljg0MiAxMzQuNTYzIDEyNC44NDIgMTM2LjY1NkMxMjQuODQyIDEzOC43NDkgMTI2LjU0IDE0MC40NDUgMTI4LjYzNiAxNDAuNDQ1QzEzMC43MzEgMTQwLjQ0NSAxMzIuNDI5IDEzOC43NDkgMTMyLjQyOSAxMzYuNjU2WiIvPjxwYXRoIGZpbGw9IiNGOEY4RjgiIGQ9Ik0xMzIuNDI5IDE1My43MDdDMTMyLjQyOSAxNTEuNjE1IDEzMC43MzEgMTQ5LjkxOCAxMjguNjM2IDE0OS45MThDMTI2LjU0IDE0OS45MTggMTI0Ljg0MiAxNTEuNjE1IDEyNC44NDIgMTUzLjcwN0MxMjQuODQyIDE1NS44IDEyNi41NCAxNTcuNDk3IDEyOC42MzYgMTU3LjQ5N0MxMzAuNzMxIDE1Ny40OTcgMTMyLjQyOSAxNTUuOCAxMzIuNDI5IDE1My43MDdaIi8+PHBhdGggZmlsbD0iI0Y4RjhGOCIgZD0iTTEzMi40MjkgMTcwLjc1OUMxMzIuNDI5IDE2OC42NjYgMTMwLjczMSAxNjYuOTY5IDEyOC42MzYgMTY2Ljk2OUMxMjYuNTQgMTY2Ljk2OSAxMjQuODQyIDE2OC42NjYgMTI0Ljg0MiAxNzAuNzU5QzEyNC44NDIgMTcyLjg1MSAxMjYuNTQgMTc0LjU0OCAxMjguNjM2IDE3NC41NDhDMTMwLjczMSAxNzQuNTQ4IDEzMi40MjkgMTcyLjg1MSAxMzIuNDI5IDE3MC43NTlaIi8+PHBhdGggZmlsbD0iI0Y4RjhGOCIgZD0iTTEzMi40MjkgMTg5LjcwNUMxMzIuNDI5IDE4Ny42MTIgMTMwLjczMSAxODUuOTE2IDEyOC42MzYgMTg1LjkxNkMxMjYuNTQgMTg1LjkxNiAxMjQuODQyIDE4Ny42MTIgMTI0Ljg0MiAxODkuNzA1QzEyNC44NDIgMTkxLjc5NyAxMjYuNTQgMTkzLjQ5NCAxMjguNjM2IDE5My40OTRDMTMwLjczMSAxOTMuNDk0IDEzMi40MjkgMTkxLjc5NyAxMzIuNDI5IDE4OS43MDVaIi8+PHBhdGggZmlsbD0iI0Y4RjhGOCIgZD0iTTEzMi40MjkgMjA0Ljg2MUMxMzIuNDI5IDIwMi43NjkgMTMwLjczMSAyMDEuMDcyIDEyOC42MzYgMjAxLjA3MkMxMjYuNTQgMjAxLjA3MiAxMjQuODQyIDIwMi43NjkgMTI0Ljg0MiAyMDQuODYxQzEyNC44NDIgMjA2Ljk1NCAxMjYuNTQgMjA4LjY1MSAxMjguNjM2IDIwOC42NTFDMTMwLjczMSAyMDguNjUxIDEzMi40MjkgMjA2Ljk1NCAxMzIuNDI5IDIwNC44NjFaIi8+PHBhdGggZmlsbD0iI0Y4RjhGOCIgZD0iTTEzMi40MjkgMjIxLjkxM0MxMzIuNDI5IDIxOS44MiAxMzAuNzMxIDIxOC4xMjQgMTI4LjYzNiAyMTguMTI0QzEyNi41NCAyMTguMTI0IDEyNC44NDIgMjE5LjgyIDEyNC44NDIgMjIxLjkxM0MxMjQuODQyIDIyNC4wMDUgMTI2LjU0IDIyNS43MDIgMTI4LjYzNiAyMjUuNzAyQzEzMC43MzEgMjI1LjcwMiAxMzIuNDI5IDIyNC4wMDUgMTMyLjQyOSAyMjEuOTEzWiIvPjxwYXRoIGZpbGw9IiNGOEY4RjgiIGQ9Ik0xMzIuNDI5IDIzOC45NjRDMTMyLjQyOSAyMzYuODcyIDEzMC43MzEgMjM1LjE3NSAxMjguNjM2IDIzNS4xNzVDMTI2LjU0IDIzNS4xNzUgMTI0Ljg0MiAyMzYuODcyIDEyNC44NDIgMjM4Ljk2NEMxMjQuODQyIDI0MS4wNTcgMTI2LjU0IDI0Mi43NTMgMTI4LjYzNiAyNDIuNzUzQzEzMC43MzEgMjQyLjc1MyAxMzIuNDI5IDI0MS4wNTcgMTMyLjQyOSAyMzguOTY0WiIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik01MjMuMTY5IDE2Ni45NjlIMTg3LjQzNkMxODUuMzQxIDE2Ni45NjkgMTgzLjY0MyAxNjguNjY2IDE4My42NDMgMTcwLjc1OUMxODMuNjQzIDE3Mi44NTEgMTg1LjM0MSAxNzQuNTQ4IDE4Ny40MzYgMTc0LjU0OEg1MjMuMTY5QzUyNS4yNjQgMTc0LjU0OCA1MjYuOTYyIDE3Mi44NTEgNTI2Ljk2MiAxNzAuNzU5QzUyNi45NjIgMTY4LjY2NiA1MjUuMjY0IDE2Ni45NjkgNTIzLjE2OSAxNjYuOTY5WiIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0yMDguMzAxIDIzNS4xNzVIMTQ5LjVDMTQ3LjQwNSAyMzUuMTc1IDE0NS43MDcgMjM2Ljg3MiAxNDUuNzA3IDIzOC45NjRDMTQ1LjcwNyAyNDEuMDU3IDE0Ny40MDUgMjQyLjc1MyAxNDkuNSAyNDIuNzUzSDIwOC4zMDFDMjEwLjM5NiAyNDIuNzUzIDIxMi4wOTQgMjQxLjA1NyAyMTIuMDk0IDIzOC45NjRDMjEyLjA5NCAyMzYuODcyIDIxMC4zOTYgMjM1LjE3NSAyMDguMzAxIDIzNS4xNzVaIi8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTMzNS4zODYgMjE4LjEyNEgxNjguNDY4QzE2Ni4zNzMgMjE4LjEyNCAxNjQuNjc1IDIxOS44MiAxNjQuNjc1IDIyMS45MTNDMTY0LjY3NSAyMjQuMDA1IDE2Ni4zNzMgMjI1LjcwMiAxNjguNDY4IDIyNS43MDJIMzM1LjM4NkMzMzcuNDgxIDIyNS43MDIgMzM5LjE4IDIyNC4wMDUgMzM5LjE4IDIyMS45MTNDMzM5LjE4IDIxOS44MiAzMzcuNDgxIDIxOC4xMjQgMzM1LjM4NiAyMTguMTI0WiIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0yNDYuMjM3IDEzMi44NjdIMTY4LjQ2OEMxNjYuMzczIDEzMi44NjcgMTY0LjY3NSAxMzQuNTYzIDE2NC42NzUgMTM2LjY1NkMxNjQuNjc1IDEzOC43NDkgMTY2LjM3MyAxNDAuNDQ1IDE2OC40NjggMTQwLjQ0NUgyNDYuMjM3QzI0OC4zMzIgMTQwLjQ0NSAyNTAuMDMgMTM4Ljc0OSAyNTAuMDMgMTM2LjY1NkMyNTAuMDMgMTM0LjU2MyAyNDguMzMyIDEzMi44NjcgMjQ2LjIzNyAxMzIuODY3WiIvPjxwYXRoIGZpbGw9IiNEOUQ5RDkiIGQ9Ik0xMjguNjM2IDkzLjA3NzFDMTMwLjczMSA5My4wNzcxIDEzMi40MjkgOTEuMzgxMyAxMzIuNDI5IDg5LjI4OTRDMTMyLjQyOSA4Ny4xOTc1IDEzMC43MzEgODUuNTAxNyAxMjguNjM2IDg1LjUwMTdDMTI2LjU0IDg1LjUwMTcgMTI0Ljg0MiA4Ny4xOTc1IDEyNC44NDIgODkuMjg5NEMxMjQuODQyIDkxLjM4MTMgMTI2LjU0IDkzLjA3NzEgMTI4LjYzNiA5My4wNzcxWiIgb3BhY2l0eT0iLjQiLz48cGF0aCBmaWxsPSIjRDlEOUQ5IiBkPSJNMTQyLjEyIDkzLjA3NzFDMTQ0LjIxNSA5My4wNzcxIDE0NS45MTMgOTEuMzgxMyAxNDUuOTEzIDg5LjI4OTRDMTQ1LjkxMyA4Ny4xOTc1IDE0NC4yMTUgODUuNTAxNyAxNDIuMTIgODUuNTAxN0MxNDAuMDI1IDg1LjUwMTcgMTM4LjMyNiA4Ny4xOTc1IDEzOC4zMjYgODkuMjg5NEMxMzguMzI2IDkxLjM4MTMgMTQwLjAyNSA5My4wNzcxIDE0Mi4xMiA5My4wNzcxWiIgb3BhY2l0eT0iLjQiLz48cGF0aCBmaWxsPSIjRDlEOUQ5IiBkPSJNMTU1LjE5MSA5My4wNzcxQzE1Ny4yODYgOTMuMDc3MSAxNTguOTg0IDkxLjM4MTMgMTU4Ljk4NCA4OS4yODk0QzE1OC45ODQgODcuMTk3NSAxNTcuMjg2IDg1LjUwMTcgMTU1LjE5MSA4NS41MDE3QzE1My4wOTYgODUuNTAxNyAxNTEuMzk3IDg3LjE5NzUgMTUxLjM5NyA4OS4yODk0QzE1MS4zOTcgOTEuMzgxMyAxNTMuMDk2IDkzLjA3NzEgMTU1LjE5MSA5My4wNzcxWiIgb3BhY2l0eT0iLjMiLz48L2c+PC9nPjxkZWZzPjxmaWx0ZXIgaWQ9ImZpbHRlcjBfZCIgd2lkdGg9IjUwMC45MjEiIGhlaWdodD0iMzE2LjYxMSIgeD0iOTcuMzU4IiB5PSI2MC4wMjkiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiIgZmlsdGVyVW5pdHM9InVzZXJTcGFjZU9uVXNlIj48ZmVGbG9vZCBmbG9vZC1vcGFjaXR5PSIwIiByZXN1bHQ9IkJhY2tncm91bmRJbWFnZUZpeCIvPjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIi8+PGZlT2Zmc2V0IGR4PSIyIiBkeT0iNCIvPjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjEwIi8+PGZlQ29sb3JNYXRyaXggdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAuMjUgMCIvPjxmZUJsZW5kIGluMj0iQmFja2dyb3VuZEltYWdlRml4IiBtb2RlPSJub3JtYWwiIHJlc3VsdD0iZWZmZWN0MV9kcm9wU2hhZG93Ii8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iZWZmZWN0MV9kcm9wU2hhZG93IiBtb2RlPSJub3JtYWwiIHJlc3VsdD0ic2hhcGUiLz48L2ZpbHRlcj48L2RlZnM+PC9zdmc+\"","export default \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNjciIGhlaWdodD0iMTcyIiBmaWxsPSJub25lIiB2aWV3Qm94PSIwIDAgMjY3IDE3MiI+PGcgZmlsdGVyPSJ1cmwoI2ZpbHRlcjBfZCkiPjxyZWN0IHdpZHRoPSIxMzkiIGhlaWdodD0iMTA0LjkwNiIgeD0iMTAiIHk9IjUwLjE2NSIgZmlsbD0iI0VFRSIgcng9IjUiLz48L2c+PG1hc2sgaWQ9Im1hc2swIiB3aWR0aD0iMTIxIiBoZWlnaHQ9Ijk4IiB4PSIxOSIgeT0iNTgiIG1hc2stdHlwZT0iYWxwaGEiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiPjxyZWN0IHdpZHRoPSI5LjE3OSIgaGVpZ2h0PSI3MC4xNTYiIHg9IjE5LjgzNSIgeT0iODUuNTcxIiBmaWxsPSIjZmZmIiByeD0iNC41OSIvPjxyZWN0IHdpZHRoPSI5LjE3OSIgaGVpZ2h0PSI3OC42NzkiIHg9IjM4LjE5NCIgeT0iNzcuMDQ3IiBmaWxsPSIjZmZmIiByeD0iNC41OSIvPjxyZWN0IHdpZHRoPSI5LjE3OSIgaGVpZ2h0PSI5Ny42OTMiIHg9IjU2LjU1MiIgeT0iNTguMDMzIiBmaWxsPSIjZmZmIiByeD0iNC41OSIvPjxyZWN0IHdpZHRoPSI5LjE3OSIgaGVpZ2h0PSI4MS45NTciIHg9Ijc0LjkxIiB5PSI3My43NjkiIGZpbGw9IiNmZmYiIHJ4PSI0LjU5Ii8+PHJlY3Qgd2lkdGg9IjkuMTc5IiBoZWlnaHQ9IjYwLjMyMSIgeD0iOTMuMjY5IiB5PSI5NS40MDYiIGZpbGw9IiNmZmYiIHJ4PSI0LjU5Ii8+PHJlY3Qgd2lkdGg9IjkuMTc5IiBoZWlnaHQ9Ijc0LjA5IiB4PSIxMTEuNjI3IiB5PSI4MS42MzciIGZpbGw9IiNmZmYiIHJ4PSI0LjU5Ii8+PHJlY3Qgd2lkdGg9IjkuMTc5IiBoZWlnaHQ9IjkzLjEwNCIgeD0iMTI5Ljk4NiIgeT0iNjIuNjIzIiBmaWxsPSIjZmZmIiByeD0iNC41OSIvPjwvbWFzaz48ZyBtYXNrPSJ1cmwoI21hc2swKSI+PHJlY3Qgd2lkdGg9IjEzOSIgaGVpZ2h0PSIxMDAuMzE2IiB4PSIxMC42NTYiIHk9IjUwLjE2NSIgZmlsbD0iI0M0QzRDNCIvPjwvZz48ZyBmaWx0ZXI9InVybCgjZmlsdGVyMV9kKSI+PHJlY3Qgd2lkdGg9IjE0NCIgaGVpZ2h0PSIxMDguNjc5IiB4PSIxMDkiIHk9IjgiIGZpbGw9IiNFRUUiIHJ4PSI1Ii8+PC9nPjxwYXRoIGZpbGw9IiNEOUQ5RDkiIGQ9Ik0xNzMuODUgNjIuMTE5MkMxNDQuNjA3IDM3LjMyMTUgMTI5Ljk5MyA2NS4xOTkxIDEyMC4wNzcgODAuNTk4NFYxMDYuNTg1SDI0MS45MjNWMjUuNzM4NEMyMDguMTcyIDI0LjU4MzQgMjEyLjU2OSA5NC45NTM4IDE3My44NSA2Mi4xMTkyWiIvPjxwYXRoIHN0cm9rZT0iIzlFOUU5RSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJNMTIwLjA3NyA4MC41OTg0QzEyOS45OTMgNjUuMTk5MSAxNDQuNjA3IDM3LjMyMTUgMTczLjg1IDYyLjExOTJDMjEyLjU2OSA5NC45NTM5IDIwOC4xNzIgMjQuNTgzNCAyNDEuOTIzIDI1LjczODQiLz48ZGVmcz48ZmlsdGVyIGlkPSJmaWx0ZXIwX2QiIHdpZHRoPSIxNjMiIGhlaWdodD0iMTI4LjkwNiIgeD0iMCIgeT0iNDIuMTY1IiBjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnM9InNSR0IiIGZpbHRlclVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PGZlRmxvb2QgZmxvb2Qtb3BhY2l0eT0iMCIgcmVzdWx0PSJCYWNrZ3JvdW5kSW1hZ2VGaXgiLz48ZmVDb2xvck1hdHJpeCBpbj0iU291cmNlQWxwaGEiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAxMjcgMCIvPjxmZU9mZnNldCBkeD0iMiIgZHk9IjQiLz48ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSI2Ii8+PGZlQ29sb3JNYXRyaXggdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAuMjUgMCIvPjxmZUJsZW5kIGluMj0iQmFja2dyb3VuZEltYWdlRml4IiBtb2RlPSJub3JtYWwiIHJlc3VsdD0iZWZmZWN0MV9kcm9wU2hhZG93Ii8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iZWZmZWN0MV9kcm9wU2hhZG93IiBtb2RlPSJub3JtYWwiIHJlc3VsdD0ic2hhcGUiLz48L2ZpbHRlcj48ZmlsdGVyIGlkPSJmaWx0ZXIxX2QiIHdpZHRoPSIxNjgiIGhlaWdodD0iMTMyLjY3OSIgeD0iOTkiIHk9IjAiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiIgZmlsdGVyVW5pdHM9InVzZXJTcGFjZU9uVXNlIj48ZmVGbG9vZCBmbG9vZC1vcGFjaXR5PSIwIiByZXN1bHQ9IkJhY2tncm91bmRJbWFnZUZpeCIvPjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIi8+PGZlT2Zmc2V0IGR4PSIyIiBkeT0iNCIvPjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjYiLz48ZmVDb2xvck1hdHJpeCB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMC4yNSAwIi8+PGZlQmxlbmQgaW4yPSJCYWNrZ3JvdW5kSW1hZ2VGaXgiIG1vZGU9Im5vcm1hbCIgcmVzdWx0PSJlZmZlY3QxX2Ryb3BTaGFkb3ciLz48ZmVCbGVuZCBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJlZmZlY3QxX2Ryb3BTaGFkb3ciIG1vZGU9Im5vcm1hbCIgcmVzdWx0PSJzaGFwZSIvPjwvZmlsdGVyPjwvZGVmcz48L3N2Zz4=\"","export default \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2OTMiIGhlaWdodD0iNDI1IiBmaWxsPSJub25lIiB2aWV3Qm94PSIwIDAgNjkzIDQyNSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMDUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQwLjQzODcgMTEwLjk3N0MyNy4xNTU2IDExMy40NTIgMTguMzk0MSAxMjYuMjI3IDIwLjg2OTMgMTM5LjUxQzIzLjM0NDUgMTUyLjc5MyAzNi4xMTkyIDE2MS41NTUgNDkuNDAyMyAxNTkuMDc5TDY3LjcwMzYgMTU1LjY2OUM2Mi42MDc4IDE2MS4xNTMgNjAuMDg1NCAxNjguODk2IDYxLjU2MiAxNzYuODJDNjQuMDM3MiAxOTAuMTAzIDc2LjgxMTggMTk4Ljg2NSA5MC4wOTQ5IDE5Ni4zOUwyMjAuMzkgMTcyLjExQzIyMC40MTYgMTcyLjI2NyAyMjAuNDQ0IDE3Mi40MjUgMjIwLjQ3MyAxNzIuNTgyQzIyMS45NSAxODAuNTA3IDIyNy4wOTIgMTg2LjgyMiAyMzMuODIxIDE5MC4xMDJMMjI1LjgyNiAxOTEuNTkyQzIxMi41NDIgMTk0LjA2NyAyMDMuNzgxIDIwNi44NDEgMjA2LjI1NiAyMjAuMTI1QzIwOC43MzEgMjMzLjQwOCAyMjEuNTA2IDI0Mi4xNjkgMjM0Ljc4OSAyMzkuNjk0TDYxNC41NDQgMTY4LjkyOUM2MjcuODI3IDE2Ni40NTQgNjM2LjU4OCAxNTMuNjc5IDYzNC4xMTMgMTQwLjM5NkM2MzIuNjM2IDEzMi40NzIgNjI3LjQ5NCAxMjYuMTU3IDYyMC43NjUgMTIyLjg3N0w2MzMuNTU2IDEyMC40OTNDNjQ2LjgzOSAxMTguMDE4IDY1NS42MDEgMTA1LjI0NCA2NTMuMTI2IDkxLjk2MDRDNjUwLjY1IDc4LjY3NzMgNjM3Ljg3NiA2OS45MTU4IDYyNC41OTMgNzIuMzkxMUwzOTYuODIgMTE0LjgzNUMzOTYuNzk0IDExNC42NzggMzk2Ljc2NiAxMTQuNTIgMzk2LjczNyAxMTQuMzYzQzM5NS4yNiAxMDYuNDM4IDM5MC4xMTggMTAwLjEyMyAzODMuMzg5IDk2Ljg0MzFMNDA1LjUwMyA5Mi43MjI0QzQxOC43ODYgOTAuMjQ3MSA0MjcuNTQ3IDc3LjQ3MjUgNDI1LjA3MiA2NC4xODk0QzQyMi41OTcgNTAuOTA2MyA0MDkuODIyIDQyLjE0NDggMzk2LjUzOSA0NC42Mkw0MC40Mzg3IDExMC45NzdaTTU5LjcxOCAzMDEuMTA3QzU3LjI0MjggMjg3LjgyNCA2Ni4wMDQzIDI3NS4wNSA3OS4yODc0IDI3Mi41NzRMNDY4Ljk3NSAxOTkuOTU5QzQ4Mi4yNTggMTk3LjQ4NCA0OTUuMDMyIDIwNi4yNDUgNDk3LjUwOCAyMTkuNTI4QzQ5OS45ODMgMjMyLjgxMSA0OTEuMjIxIDI0NS41ODYgNDc3LjkzOCAyNDguMDYxTDQ2Ni43NzkgMjUwLjE0MUM0NjguMDgyIDI1MC43NzYgNDY5LjMyNSAyNTEuNTI0IDQ3MC40OTMgMjUyLjM3Nkw2MDUuNTMgMjI3LjIxM0M2MTguODEzIDIyNC43MzggNjMxLjU4OCAyMzMuNDk5IDYzNC4wNjMgMjQ2Ljc4MkM2MzUuNTQgMjU0LjcwNyA2MzMuMDE3IDI2Mi40NSA2MjcuOTIyIDI2Ny45MzRMNjMwLjY0MSAyNjcuNDI3QzY0My45MjQgMjY0Ljk1MiA2NTYuNjk5IDI3My43MTMgNjU5LjE3NCAyODYuOTk2QzY2MS42NDkgMzAwLjI3OSA2NTIuODg4IDMxMy4wNTQgNjM5LjYwNCAzMTUuNTI5TDIzNC44MDkgMzkwLjk2QzIyMS41MjYgMzkzLjQzNSAyMDguNzUxIDM4NC42NzQgMjA2LjI3NiAzNzEuMzkxQzIwMy44MDEgMzU4LjEwOCAyMTIuNTYzIDM0NS4zMzMgMjI1Ljg0NiAzNDIuODU4TDI1NS40MDQgMzM3LjM1QzI1NC4xMDEgMzM2LjcxNSAyNTIuODU4IDMzNS45NjYgMjUxLjY5IDMzNS4xMTRMNzEuNTA1MyAzNjguNjlDNTguMjIyMiAzNzEuMTY1IDQ1LjQ0NzYgMzYyLjQwNCA0Mi45NzIzIDM0OS4xMjFDNDAuNDk3MSAzMzUuODM4IDQ5LjI1ODYgMzIzLjA2MyA2Mi41NDE3IDMyMC41ODhMNzMuMDY1NSAzMTguNjI3QzY2LjMzNjcgMzE1LjM0NyA2MS4xOTQ2IDMwOS4wMzIgNTkuNzE4IDMwMS4xMDdaIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48ZyBmaWx0ZXI9InVybCgjZmlsdGVyMF9kKSI+PHBhdGggZmlsbD0iIzlFOUU5RSIgZD0iTTU2Ny40MzcgNzBIMTI1LjQ4NEMxMjAuMjQ2IDcwIDExNiA3NC4yNDEyIDExNiA3OS40NzNWMTA3Ljg5MkMxMTYgMTEzLjEyNCAxMjAuMjQ2IDExNy4zNjUgMTI1LjQ4NCAxMTcuMzY1SDU2Ny40MzdDNTcyLjY3NSAxMTcuMzY1IDU3Ni45MjEgMTEzLjEyNCA1NzYuOTIxIDEwNy44OTJWNzkuNDczQzU3Ni45MjEgNzQuMjQxMiA1NzIuNjc1IDcwIDU2Ny40MzcgNzBaIi8+PG1hc2sgaWQ9Im1hc2swIiB3aWR0aD0iNDYxIiBoZWlnaHQ9IjI3NyIgeD0iMTE2IiB5PSI3MCIgbWFzay10eXBlPSJhbHBoYSIgbWFza1VuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZmlsbD0iIzQwNDA0MCIgZD0iTTU2Ny40MzcgNzBIMTI1LjQ4NEMxMjAuMjQ2IDcwIDExNiA3NC4yNDEyIDExNiA3OS40NzNWMzM3LjEzOEMxMTYgMzQyLjM3IDEyMC4yNDYgMzQ2LjYxMSAxMjUuNDg0IDM0Ni42MTFINTY3LjQzN0M1NzIuNjc1IDM0Ni42MTEgNTc2LjkyMSAzNDIuMzcgNTc2LjkyMSAzMzcuMTM4Vjc5LjQ3M0M1NzYuOTIxIDc0LjI0MTIgNTcyLjY3NSA3MCA1NjcuNDM3IDcwWiIvPjwvbWFzaz48ZyBtYXNrPSJ1cmwoI21hc2swKSI+PHBhdGggZmlsbD0iI0VFRSIgZD0iTTU3NyA5Ni41MjQ0SDExNlYzNDdINTc3Vjk2LjUyNDRaIi8+PHBhdGggZmlsbD0iI0Q5RDlEOSIgZD0iTTEyOS4yNzggODcuMDQ4M0MxMzEuMzczIDg3LjA0ODMgMTMzLjA3MSA4NS4zNTI1IDEzMy4wNzEgODMuMjYwNkMxMzMuMDcxIDgxLjE2ODcgMTMxLjM3MyA3OS40NzI5IDEyOS4yNzggNzkuNDcyOUMxMjcuMTgyIDc5LjQ3MjkgMTI1LjQ4NCA4MS4xNjg3IDEyNS40ODQgODMuMjYwNkMxMjUuNDg0IDg1LjM1MjUgMTI3LjE4MiA4Ny4wNDgzIDEyOS4yNzggODcuMDQ4M1oiIG9wYWNpdHk9Ii40Ii8+PHBhdGggZmlsbD0iI0Q5RDlEOSIgZD0iTTE0Mi43NjIgODcuMDQ4M0MxNDQuODU3IDg3LjA0ODMgMTQ2LjU1NSA4NS4zNTI1IDE0Ni41NTUgODMuMjYwNkMxNDYuNTU1IDgxLjE2ODcgMTQ0Ljg1NyA3OS40NzI5IDE0Mi43NjIgNzkuNDcyOUMxNDAuNjY3IDc5LjQ3MjkgMTM4Ljk2OCA4MS4xNjg3IDEzOC45NjggODMuMjYwNkMxMzguOTY4IDg1LjM1MjUgMTQwLjY2NyA4Ny4wNDgzIDE0Mi43NjIgODcuMDQ4M1oiIG9wYWNpdHk9Ii40Ii8+PHBhdGggZmlsbD0iI0Q5RDlEOSIgZD0iTTE1NS44MzMgODcuMDQ4M0MxNTcuOTI4IDg3LjA0ODMgMTU5LjYyNiA4NS4zNTI1IDE1OS42MjYgODMuMjYwNkMxNTkuNjI2IDgxLjE2ODcgMTU3LjkyOCA3OS40NzI5IDE1NS44MzMgNzkuNDcyOUMxNTMuNzM4IDc5LjQ3MjkgMTUyLjAzOSA4MS4xNjg3IDE1Mi4wMzkgODMuMjYwNkMxNTIuMDM5IDg1LjM1MjUgMTUzLjczOCA4Ny4wNDgzIDE1NS44MzMgODcuMDQ4M1oiIG9wYWNpdHk9Ii4zIi8+PHJlY3Qgd2lkdGg9IjI3IiBoZWlnaHQ9IjI1MSIgeD0iMTE2IiB5PSI5NiIgZmlsbD0iIzYxNjE2MSIvPjxyZWN0IHdpZHRoPSI0MzQiIGhlaWdodD0iMzEiIHg9IjE0MyIgeT0iOTYiIGZpbGw9IiNEOUQ5RDkiLz48cmVjdCB3aWR0aD0iNjAiIGhlaWdodD0iNyIgeD0iMTUzIiB5PSIxMzYiIGZpbGw9IiNmZmYiIHJ4PSIzLjUiLz48cmVjdCB3aWR0aD0iMTE4IiBoZWlnaHQ9IjciIHg9IjE1MyIgeT0iMTQ4IiBmaWxsPSIjZmZmIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjUyIiBoZWlnaHQ9IjE2IiB4PSI1MTUiIHk9IjEzNiIgZmlsbD0iI0JEQkRCRCIgcng9IjIiLz48cmVjdCB3aWR0aD0iMTIxIiBoZWlnaHQ9Ijk0IiB4PSIxNTQuNSIgeT0iMTY2LjUiIHN0cm9rZT0iI0Q5RDlEOSIgc3Ryb2tlLWRhc2hhcnJheT0iNSA1IiBzdHJva2Utd2lkdGg9IjMiIHJ4PSIzLjUiLz48cmVjdCB3aWR0aD0iMTI4IiBoZWlnaHQ9Ijk0IiB4PSIyOTIuNSIgeT0iMTY2LjUiIHN0cm9rZT0iI0Q5RDlEOSIgc3Ryb2tlLWRhc2hhcnJheT0iNSA1IiBzdHJva2Utd2lkdGg9IjMiIHJ4PSIzLjUiLz48cmVjdCB3aWR0aD0iMTI4IiBoZWlnaHQ9Ijk0IiB4PSI0MzcuNSIgeT0iMTY2LjUiIHN0cm9rZT0iI0Q5RDlEOSIgc3Ryb2tlLWRhc2hhcnJheT0iNSA1IiBzdHJva2Utd2lkdGg9IjMiIHJ4PSIzLjUiLz48cmVjdCB3aWR0aD0iMTk3IiBoZWlnaHQ9Ijc4IiB4PSIxNTQuNSIgeT0iMjc2LjUiIHN0cm9rZT0iI0Q5RDlEOSIgc3Ryb2tlLWRhc2hhcnJheT0iNSA1IiBzdHJva2Utd2lkdGg9IjMiIHJ4PSIzLjUiLz48cmVjdCB3aWR0aD0iMTk3IiBoZWlnaHQ9Ijc4IiB4PSIzNjguNSIgeT0iMjc2LjUiIHN0cm9rZT0iI0Q5RDlEOSIgc3Ryb2tlLWRhc2hhcnJheT0iNSA1IiBzdHJva2Utd2lkdGg9IjMiIHJ4PSIzLjUiLz48L2c+PC9nPjxkZWZzPjxmaWx0ZXIgaWQ9ImZpbHRlcjBfZCIgd2lkdGg9IjUwMC45MjEiIGhlaWdodD0iMzE2LjYxMSIgeD0iOTgiIHk9IjU0IiBjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnM9InNSR0IiIGZpbHRlclVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PGZlRmxvb2QgZmxvb2Qtb3BhY2l0eT0iMCIgcmVzdWx0PSJCYWNrZ3JvdW5kSW1hZ2VGaXgiLz48ZmVDb2xvck1hdHJpeCBpbj0iU291cmNlQWxwaGEiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAxMjcgMCIvPjxmZU9mZnNldCBkeD0iMiIgZHk9IjQiLz48ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIxMCIvPjxmZUNvbG9yTWF0cml4IHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwLjI1IDAiLz48ZmVCbGVuZCBpbjI9IkJhY2tncm91bmRJbWFnZUZpeCIgbW9kZT0ibm9ybWFsIiByZXN1bHQ9ImVmZmVjdDFfZHJvcFNoYWRvdyIvPjxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9ImVmZmVjdDFfZHJvcFNoYWRvdyIgbW9kZT0ibm9ybWFsIiByZXN1bHQ9InNoYXBlIi8+PC9maWx0ZXI+PC9kZWZzPjwvc3ZnPg==\"","export default \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2OTMiIGhlaWdodD0iNDI1IiBmaWxsPSJub25lIiB2aWV3Qm94PSIwIDAgNjkzIDQyNSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMDUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQwLjQzODcgMTEwLjk3N0MyNy4xNTU2IDExMy40NTIgMTguMzk0MSAxMjYuMjI3IDIwLjg2OTMgMTM5LjUxQzIzLjM0NDUgMTUyLjc5MyAzNi4xMTkyIDE2MS41NTUgNDkuNDAyMyAxNTkuMDc5TDY3LjcwMzYgMTU1LjY2OUM2Mi42MDc4IDE2MS4xNTMgNjAuMDg1NCAxNjguODk2IDYxLjU2MiAxNzYuODJDNjQuMDM3MiAxOTAuMTAzIDc2LjgxMTggMTk4Ljg2NSA5MC4wOTQ5IDE5Ni4zOUwyMjAuMzkgMTcyLjExQzIyMC40MTYgMTcyLjI2NyAyMjAuNDQ0IDE3Mi40MjUgMjIwLjQ3MyAxNzIuNTgyQzIyMS45NSAxODAuNTA3IDIyNy4wOTIgMTg2LjgyMiAyMzMuODIxIDE5MC4xMDJMMjI1LjgyNiAxOTEuNTkyQzIxMi41NDIgMTk0LjA2NyAyMDMuNzgxIDIwNi44NDEgMjA2LjI1NiAyMjAuMTI1QzIwOC43MzEgMjMzLjQwOCAyMjEuNTA2IDI0Mi4xNjkgMjM0Ljc4OSAyMzkuNjk0TDYxNC41NDQgMTY4LjkyOUM2MjcuODI3IDE2Ni40NTQgNjM2LjU4OCAxNTMuNjc5IDYzNC4xMTMgMTQwLjM5NkM2MzIuNjM2IDEzMi40NzIgNjI3LjQ5NCAxMjYuMTU3IDYyMC43NjUgMTIyLjg3N0w2MzMuNTU2IDEyMC40OTNDNjQ2LjgzOSAxMTguMDE4IDY1NS42MDEgMTA1LjI0NCA2NTMuMTI2IDkxLjk2MDRDNjUwLjY1IDc4LjY3NzMgNjM3Ljg3NiA2OS45MTU4IDYyNC41OTMgNzIuMzkxMUwzOTYuODIgMTE0LjgzNUMzOTYuNzk0IDExNC42NzggMzk2Ljc2NiAxMTQuNTIgMzk2LjczNyAxMTQuMzYzQzM5NS4yNiAxMDYuNDM4IDM5MC4xMTggMTAwLjEyMyAzODMuMzg5IDk2Ljg0MzFMNDA1LjUwMyA5Mi43MjI0QzQxOC43ODYgOTAuMjQ3MSA0MjcuNTQ3IDc3LjQ3MjUgNDI1LjA3MiA2NC4xODk0QzQyMi41OTcgNTAuOTA2MyA0MDkuODIyIDQyLjE0NDggMzk2LjUzOSA0NC42Mkw0MC40Mzg3IDExMC45NzdaTTU5LjcxOCAzMDEuMTA3QzU3LjI0MjggMjg3LjgyNCA2Ni4wMDQzIDI3NS4wNSA3OS4yODc0IDI3Mi41NzRMNDY4Ljk3NSAxOTkuOTU5QzQ4Mi4yNTggMTk3LjQ4NCA0OTUuMDMyIDIwNi4yNDUgNDk3LjUwOCAyMTkuNTI4QzQ5OS45ODMgMjMyLjgxMSA0OTEuMjIxIDI0NS41ODYgNDc3LjkzOCAyNDguMDYxTDQ2Ni43NzkgMjUwLjE0MUM0NjguMDgyIDI1MC43NzYgNDY5LjMyNSAyNTEuNTI0IDQ3MC40OTMgMjUyLjM3Nkw2MDUuNTMgMjI3LjIxM0M2MTguODEzIDIyNC43MzggNjMxLjU4OCAyMzMuNDk5IDYzNC4wNjMgMjQ2Ljc4MkM2MzUuNTQgMjU0LjcwNyA2MzMuMDE3IDI2Mi40NSA2MjcuOTIyIDI2Ny45MzRMNjMwLjY0MSAyNjcuNDI3QzY0My45MjQgMjY0Ljk1MiA2NTYuNjk5IDI3My43MTMgNjU5LjE3NCAyODYuOTk2QzY2MS42NDkgMzAwLjI3OSA2NTIuODg4IDMxMy4wNTQgNjM5LjYwNCAzMTUuNTI5TDIzNC44MDkgMzkwLjk2QzIyMS41MjYgMzkzLjQzNSAyMDguNzUxIDM4NC42NzQgMjA2LjI3NiAzNzEuMzkxQzIwMy44MDEgMzU4LjEwOCAyMTIuNTYzIDM0NS4zMzMgMjI1Ljg0NiAzNDIuODU4TDI1NS40MDQgMzM3LjM1QzI1NC4xMDEgMzM2LjcxNSAyNTIuODU4IDMzNS45NjYgMjUxLjY5IDMzNS4xMTRMNzEuNTA1MyAzNjguNjlDNTguMjIyMiAzNzEuMTY1IDQ1LjQ0NzYgMzYyLjQwNCA0Mi45NzIzIDM0OS4xMjFDNDAuNDk3MSAzMzUuODM4IDQ5LjI1ODYgMzIzLjA2MyA2Mi41NDE3IDMyMC41ODhMNzMuMDY1NSAzMTguNjI3QzY2LjMzNjcgMzE1LjM0NyA2MS4xOTQ2IDMwOS4wMzIgNTkuNzE4IDMwMS4xMDdaIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48ZyBmaWx0ZXI9InVybCgjZmlsdGVyMF9kKSI+PHJlY3Qgd2lkdGg9IjQ2MSIgaGVpZ2h0PSIyODYiIHg9IjEyMiIgeT0iNzAiIGZpbGw9IiNGOEY4RjgiIHJ4PSIxMCIvPjxyZWN0IHdpZHRoPSI1NSIgaGVpZ2h0PSI3IiB4PSIxNTAiIHk9Ijk2IiBmaWxsPSIjRDlEOUQ5IiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjQyIiBoZWlnaHQ9IjciIHg9IjE1MCIgeT0iMTM1IiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjY1IiBoZWlnaHQ9IjciIHg9IjE1MCIgeT0iMTc0IiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjYwIiBoZWlnaHQ9IjciIHg9IjE1MCIgeT0iMjEzIiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9Ijg0IiBoZWlnaHQ9IjciIHg9IjE1MCIgeT0iMjUyIiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjQyIiBoZWlnaHQ9IjciIHg9IjE1MCIgeT0iMjkxIiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjY1IiBoZWlnaHQ9IjciIHg9IjE1MCIgeT0iMzMwIiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjM1IiBoZWlnaHQ9IjciIHg9IjI4MiIgeT0iOTYiIGZpbGw9IiNEOUQ5RDkiIHJ4PSIzLjUiLz48cmVjdCB3aWR0aD0iMTAyIiBoZWlnaHQ9IjciIHg9IjI4MiIgeT0iMTM1IiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9Ijc3IiBoZWlnaHQ9IjciIHg9IjI4MiIgeT0iMTc0IiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjkzIiBoZWlnaHQ9IjciIHg9IjI4MiIgeT0iMjEzIiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjQyIiBoZWlnaHQ9IjciIHg9IjI4MiIgeT0iMjUyIiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjY5IiBoZWlnaHQ9IjciIHg9IjI4MiIgeT0iMjkxIiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9Ijk3IiBoZWlnaHQ9IjciIHg9IjI4MiIgeT0iMzMwIiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjkyIiBoZWlnaHQ9IjciIHg9IjQyMiIgeT0iOTYiIGZpbGw9IiNEOUQ5RDkiIHJ4PSIzLjUiLz48cmVjdCB3aWR0aD0iNjIiIGhlaWdodD0iNyIgeD0iNDIyIiB5PSIxMzUiIGZpbGw9IiNCREJEQkQiIHJ4PSIzLjUiLz48cmVjdCB3aWR0aD0iMjEiIGhlaWdodD0iNyIgeD0iNDIyIiB5PSIxNzQiIGZpbGw9IiNCREJEQkQiIHJ4PSIzLjUiLz48cmVjdCB3aWR0aD0iMzkiIGhlaWdodD0iNyIgeD0iNDIyIiB5PSIyMTMiIGZpbGw9IiNCREJEQkQiIHJ4PSIzLjUiLz48cmVjdCB3aWR0aD0iMTEyIiBoZWlnaHQ9IjciIHg9IjQyMiIgeT0iMjUyIiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjY1IiBoZWlnaHQ9IjciIHg9IjQyMiIgeT0iMjkxIiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjMwIiBoZWlnaHQ9IjciIHg9IjQyMiIgeT0iMzMwIiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PGxpbmUgeDE9IjEzOCIgeDI9IjU2NyIgeTE9IjExOC41IiB5Mj0iMTE4LjUiIHN0cm9rZT0iI0VFRSIvPjxsaW5lIHgxPSIxMzgiIHgyPSI1NjciIHkxPSIxNTcuNSIgeTI9IjE1Ny41IiBzdHJva2U9IiNFRUUiLz48bGluZSB4MT0iMTM4IiB4Mj0iNTY3IiB5MT0iMTk2LjUiIHkyPSIxOTYuNSIgc3Ryb2tlPSIjRUVFIi8+PGxpbmUgeDE9IjEzOCIgeDI9IjU2NyIgeTE9IjIzNS41IiB5Mj0iMjM1LjUiIHN0cm9rZT0iI0VFRSIvPjxsaW5lIHgxPSIxMzgiIHgyPSI1NjciIHkxPSIyNzQuNSIgeTI9IjI3NC41IiBzdHJva2U9IiNFRUUiLz48bGluZSB4MT0iMTM4IiB4Mj0iNTY3IiB5MT0iMzEzLjUiIHkyPSIzMTMuNSIgc3Ryb2tlPSIjRUVFIi8+PC9nPjxkZWZzPjxmaWx0ZXIgaWQ9ImZpbHRlcjBfZCIgd2lkdGg9IjQ4NSIgaGVpZ2h0PSIzMTAiIHg9IjExMiIgeT0iNjIiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiIgZmlsdGVyVW5pdHM9InVzZXJTcGFjZU9uVXNlIj48ZmVGbG9vZCBmbG9vZC1vcGFjaXR5PSIwIiByZXN1bHQ9IkJhY2tncm91bmRJbWFnZUZpeCIvPjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIi8+PGZlT2Zmc2V0IGR4PSIyIiBkeT0iNCIvPjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjYiLz48ZmVDb2xvck1hdHJpeCB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMC4yNSAwIi8+PGZlQmxlbmQgaW4yPSJCYWNrZ3JvdW5kSW1hZ2VGaXgiIG1vZGU9Im5vcm1hbCIgcmVzdWx0PSJlZmZlY3QxX2Ryb3BTaGFkb3ciLz48ZmVCbGVuZCBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJlZmZlY3QxX2Ryb3BTaGFkb3ciIG1vZGU9Im5vcm1hbCIgcmVzdWx0PSJzaGFwZSIvPjwvZmlsdGVyPjwvZGVmcz48L3N2Zz4=\"","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.applySubschema = exports.Type = void 0;\nconst validate_1 = require(\"./validate\");\nconst util_1 = require(\"./util\");\nconst codegen_1 = require(\"./codegen\");\nvar Type;\n(function (Type) {\n    Type[Type[\"Num\"] = 0] = \"Num\";\n    Type[Type[\"Str\"] = 1] = \"Str\";\n})(Type = exports.Type || (exports.Type = {}));\nfunction applySubschema(it, appl, valid) {\n    const subschema = getSubschema(it, appl);\n    extendSubschemaData(subschema, it, appl);\n    extendSubschemaMode(subschema, appl);\n    const nextContext = { ...it, ...subschema, items: undefined, props: undefined };\n    validate_1.subschemaCode(nextContext, valid);\n    return nextContext;\n}\nexports.applySubschema = applySubschema;\nfunction getSubschema(it, { keyword, schemaProp, schema, schemaPath, errSchemaPath, topSchemaRef }) {\n    if (keyword !== undefined && schema !== undefined) {\n        throw new Error('both \"keyword\" and \"schema\" passed, only one allowed');\n    }\n    if (keyword !== undefined) {\n        const sch = it.schema[keyword];\n        return schemaProp === undefined\n            ? {\n                schema: sch,\n                schemaPath: codegen_1._ `${it.schemaPath}${codegen_1.getProperty(keyword)}`,\n                errSchemaPath: `${it.errSchemaPath}/${keyword}`,\n            }\n            : {\n                schema: sch[schemaProp],\n                schemaPath: codegen_1._ `${it.schemaPath}${codegen_1.getProperty(keyword)}${codegen_1.getProperty(schemaProp)}`,\n                errSchemaPath: `${it.errSchemaPath}/${keyword}/${util_1.escapeFragment(schemaProp)}`,\n            };\n    }\n    if (schema !== undefined) {\n        if (schemaPath === undefined || errSchemaPath === undefined || topSchemaRef === undefined) {\n            throw new Error('\"schemaPath\", \"errSchemaPath\" and \"topSchemaRef\" are required with \"schema\"');\n        }\n        return {\n            schema,\n            schemaPath,\n            topSchemaRef,\n            errSchemaPath,\n        };\n    }\n    throw new Error('either \"keyword\" or \"schema\" must be passed');\n}\nfunction extendSubschemaData(subschema, it, { dataProp, dataPropType: dpType, data, dataTypes, propertyName }) {\n    if (data !== undefined && dataProp !== undefined) {\n        throw new Error('both \"data\" and \"dataProp\" passed, only one allowed');\n    }\n    const { gen } = it;\n    if (dataProp !== undefined) {\n        const { errorPath, dataPathArr, opts } = it;\n        const nextData = gen.let(\"data\", codegen_1._ `${it.data}${codegen_1.getProperty(dataProp)}`, true);\n        dataContextProps(nextData);\n        subschema.errorPath = codegen_1.str `${errorPath}${getErrorPath(dataProp, dpType, opts.jsPropertySyntax)}`;\n        subschema.parentDataProperty = codegen_1._ `${dataProp}`;\n        subschema.dataPathArr = [...dataPathArr, subschema.parentDataProperty];\n    }\n    if (data !== undefined) {\n        const nextData = data instanceof codegen_1.Name ? data : gen.let(\"data\", data, true); // replaceable if used once?\n        dataContextProps(nextData);\n        if (propertyName !== undefined)\n            subschema.propertyName = propertyName;\n        // TODO something is possibly wrong here with not changing parentDataProperty and not appending dataPathArr\n    }\n    if (dataTypes)\n        subschema.dataTypes = dataTypes;\n    function dataContextProps(_nextData) {\n        subschema.data = _nextData;\n        subschema.dataLevel = it.dataLevel + 1;\n        subschema.dataTypes = [];\n        it.definedProperties = new Set();\n        subschema.parentData = it.data;\n        subschema.dataNames = [...it.dataNames, _nextData];\n    }\n}\nfunction extendSubschemaMode(subschema, { jtdDiscriminator, jtdMetadata, compositeRule, createErrors, allErrors }) {\n    if (compositeRule !== undefined)\n        subschema.compositeRule = compositeRule;\n    if (createErrors !== undefined)\n        subschema.createErrors = createErrors;\n    if (allErrors !== undefined)\n        subschema.allErrors = allErrors;\n    subschema.jtdDiscriminator = jtdDiscriminator; // not inherited\n    subschema.jtdMetadata = jtdMetadata; // not inherited\n}\nfunction getErrorPath(dataProp, dataPropType, jsPropertySyntax) {\n    // let path\n    if (dataProp instanceof codegen_1.Name) {\n        const isNumber = dataPropType === Type.Num;\n        return jsPropertySyntax\n            ? isNumber\n                ? codegen_1._ `\"[\" + ${dataProp} + \"]\"`\n                : codegen_1._ `\"['\" + ${dataProp} + \"']\"`\n            : isNumber\n                ? codegen_1._ `\"/\" + ${dataProp}`\n                : codegen_1._ `\"/\" + ${dataProp}.replace(/~/g, \"~0\").replace(/\\\\//g, \"~1\")`; // TODO maybe use global escapePointer\n    }\n    return jsPropertySyntax ? codegen_1.getProperty(dataProp).toString() : \"/\" + util_1.escapeJsonPointer(dataProp);\n}\n//# sourceMappingURL=subschema.js.map","import { createPlugin, createComponentExtension, useApi, Progress, ResponseErrorPanel, InfoCard, Avatar } from '@backstage/core';\nimport { RELATION_MEMBER_OF, ENTITY_DEFAULT_NAMESPACE, RELATION_PARENT_OF, RELATION_CHILD_OF } from '@backstage/catalog-model';\nimport { useEntity, catalogApiRef, entityRouteParams, getEntityRelations, EntityRefLinks, isOwnerOf } from '@backstage/plugin-catalog-react';\nimport { makeStyles, createStyles, Grid, Box, Typography, Link, List, ListItem, ListItemIcon, Tooltip, ListItemText } from '@material-ui/core';\nimport Pagination from '@material-ui/lab/Pagination';\nimport React from 'react';\nimport { Link as Link$1, generatePath } from 'react-router-dom';\nimport { useAsync } from 'react-use';\nimport AccountTreeIcon from '@material-ui/icons/AccountTree';\nimport EmailIcon from '@material-ui/icons/Email';\nimport GroupIcon from '@material-ui/icons/Group';\nimport Alert from '@material-ui/lab/Alert';\nimport PersonIcon from '@material-ui/icons/Person';\nimport { genPageTheme } from '@backstage/theme';\n\nconst orgPlugin = createPlugin({\n  id: \"org\"\n});\nconst EntityGroupProfileCard = orgPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./esm/index-60886877.esm.js').then((m) => m.GroupProfileCard)\n  }\n}));\nconst EntityMembersListCard = orgPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./esm/index-60886877.esm.js').then((m) => m.MembersListCard)\n  }\n}));\nconst EntityOwnershipCard = orgPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./esm/index-60886877.esm.js').then((m) => m.OwnershipCard)\n  }\n}));\nconst EntityUserProfileCard = orgPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./esm/index-60886877.esm.js').then((m) => m.UserProfileCard)\n  }\n}));\n\nconst useStyles = makeStyles((theme) => createStyles({\n  card: {\n    border: `1px solid ${theme.palette.divider}`,\n    boxShadow: theme.shadows[2],\n    borderRadius: \"4px\",\n    overflow: \"visible\",\n    position: \"relative\",\n    margin: theme.spacing(4, 1, 1),\n    flex: \"1\",\n    minWidth: \"0px\"\n  }\n}));\nconst MemberComponent = ({member}) => {\n  var _a;\n  const classes = useStyles();\n  const {\n    metadata: {name: metaName},\n    spec: {profile}\n  } = member;\n  const displayName = (_a = profile == null ? void 0 : profile.displayName) != null ? _a : metaName;\n  return /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    container: true,\n    xs: 12,\n    sm: 6,\n    md: 4,\n    xl: 2\n  }, /* @__PURE__ */ React.createElement(Box, {\n    className: classes.card\n  }, /* @__PURE__ */ React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"column\",\n    m: 3,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  }, /* @__PURE__ */ React.createElement(Avatar, {\n    displayName,\n    picture: profile == null ? void 0 : profile.picture,\n    customStyles: {\n      position: \"absolute\",\n      top: \"-2rem\"\n    }\n  }), /* @__PURE__ */ React.createElement(Box, {\n    pt: 2,\n    textAlign: \"center\"\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"h5\"\n  }, /* @__PURE__ */ React.createElement(Link, {\n    component: Link$1,\n    to: generatePath(`/catalog/:namespace/user/${metaName}`, entityRouteParams(member))\n  }, displayName)), /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"caption\"\n  }, profile == null ? void 0 : profile.email)))));\n};\nconst MembersListCard = (_props) => {\n  var _a;\n  const {entity: groupEntity} = useEntity();\n  const {\n    metadata: {name: groupName, namespace: grpNamespace},\n    spec: {profile}\n  } = groupEntity;\n  const catalogApi = useApi(catalogApiRef);\n  const displayName = (_a = profile == null ? void 0 : profile.displayName) != null ? _a : groupName;\n  const groupNamespace = grpNamespace || ENTITY_DEFAULT_NAMESPACE;\n  const [page, setPage] = React.useState(1);\n  const pageChange = (_, pageIndex) => {\n    setPage(pageIndex);\n  };\n  const pageSize = 50;\n  const {loading, error, value: members} = useAsync(async () => {\n    const membersList = await catalogApi.getEntities({\n      filter: {kind: \"User\"}\n    });\n    const groupMembersList = membersList.items.filter((member) => {\n      var _a2;\n      return (_a2 = member == null ? void 0 : member.relations) == null ? void 0 : _a2.some((r) => r.type === RELATION_MEMBER_OF && r.target.name.toLocaleLowerCase(\"en-US\") === groupName.toLocaleLowerCase(\"en-US\") && r.target.namespace.toLocaleLowerCase(\"en-US\") === groupNamespace.toLocaleLowerCase(\"en-US\"));\n    });\n    return groupMembersList;\n  }, [catalogApi, groupEntity]);\n  if (loading) {\n    return /* @__PURE__ */ React.createElement(Progress, null);\n  } else if (error) {\n    return /* @__PURE__ */ React.createElement(ResponseErrorPanel, {\n      error\n    });\n  }\n  const nbPages = Math.ceil(((members == null ? void 0 : members.length) || 0) / pageSize);\n  const paginationLabel = nbPages < 2 ? \"\" : `, page ${page} of ${nbPages}`;\n  const pagination = /* @__PURE__ */ React.createElement(Pagination, {\n    count: nbPages,\n    page,\n    onChange: pageChange,\n    showFirstButton: true,\n    showLastButton: true\n  });\n  return /* @__PURE__ */ React.createElement(Grid, {\n    item: true\n  }, /* @__PURE__ */ React.createElement(InfoCard, {\n    title: `Members (${(members == null ? void 0 : members.length) || 0}${paginationLabel})`,\n    subheader: `of ${displayName}`,\n    actions: pagination\n  }, /* @__PURE__ */ React.createElement(Grid, {\n    container: true,\n    spacing: 3\n  }, members && members.length > 0 ? members.slice(pageSize * (page - 1), pageSize * page).map((member) => /* @__PURE__ */ React.createElement(MemberComponent, {\n    member,\n    key: member.metadata.uid\n  })) : /* @__PURE__ */ React.createElement(Box, {\n    p: 2\n  }, /* @__PURE__ */ React.createElement(Typography, null, \"This group has no members.\")))));\n};\n\nconst CardTitle = ({title}) => /* @__PURE__ */ React.createElement(Box, {\n  display: \"flex\",\n  alignItems: \"center\"\n}, /* @__PURE__ */ React.createElement(GroupIcon, {\n  fontSize: \"inherit\"\n}), /* @__PURE__ */ React.createElement(Box, {\n  ml: 1\n}, title));\nconst GroupProfileCard = ({\n  variant\n}) => {\n  var _a;\n  const {entity: group} = useEntity();\n  if (!group) {\n    return /* @__PURE__ */ React.createElement(Alert, {\n      severity: \"error\"\n    }, \"Group not found\");\n  }\n  const {\n    metadata: {name, description},\n    spec: {profile}\n  } = group;\n  const childRelations = getEntityRelations(group, RELATION_PARENT_OF, {\n    kind: \"Group\"\n  });\n  const parentRelations = getEntityRelations(group, RELATION_CHILD_OF, {\n    kind: \"group\"\n  });\n  const displayName = (_a = profile == null ? void 0 : profile.displayName) != null ? _a : name;\n  const emailHref = (profile == null ? void 0 : profile.email) ? `mailto:${profile.email}` : void 0;\n  return /* @__PURE__ */ React.createElement(InfoCard, {\n    title: /* @__PURE__ */ React.createElement(CardTitle, {\n      title: displayName\n    }),\n    subheader: description,\n    variant\n  }, /* @__PURE__ */ React.createElement(Grid, {\n    container: true,\n    spacing: 3\n  }, /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 2,\n    xl: 1\n  }, /* @__PURE__ */ React.createElement(Avatar, {\n    displayName,\n    picture: profile == null ? void 0 : profile.picture\n  })), /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    md: 10,\n    xl: 11\n  }, /* @__PURE__ */ React.createElement(List, null, (profile == null ? void 0 : profile.email) && /* @__PURE__ */ React.createElement(ListItem, null, /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(Tooltip, {\n    title: \"Email\"\n  }, /* @__PURE__ */ React.createElement(EmailIcon, null))), /* @__PURE__ */ React.createElement(ListItemText, null, /* @__PURE__ */ React.createElement(Link, {\n    href: emailHref\n  }, profile.email))), parentRelations.length ? /* @__PURE__ */ React.createElement(ListItem, null, /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(Tooltip, {\n    title: \"Parent Group\"\n  }, /* @__PURE__ */ React.createElement(AccountTreeIcon, null))), /* @__PURE__ */ React.createElement(ListItemText, null, /* @__PURE__ */ React.createElement(EntityRefLinks, {\n    entityRefs: parentRelations,\n    defaultKind: \"Group\"\n  }))) : null, childRelations.length ? /* @__PURE__ */ React.createElement(ListItem, null, /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(Tooltip, {\n    title: \"Child Groups\"\n  }, /* @__PURE__ */ React.createElement(GroupIcon, null))), /* @__PURE__ */ React.createElement(ListItemText, null, /* @__PURE__ */ React.createElement(EntityRefLinks, {\n    entityRefs: childRelations,\n    defaultKind: \"Group\"\n  }))) : null))));\n};\n\nconst CardTitle$1 = ({title}) => title ? /* @__PURE__ */ React.createElement(Box, {\n  display: \"flex\",\n  alignItems: \"center\"\n}, /* @__PURE__ */ React.createElement(PersonIcon, {\n  fontSize: \"inherit\"\n}), /* @__PURE__ */ React.createElement(Box, {\n  ml: 1\n}, title)) : null;\nconst UserProfileCard = ({\n  variant\n}) => {\n  var _a;\n  const {entity: user} = useEntity();\n  if (!user) {\n    return /* @__PURE__ */ React.createElement(Alert, {\n      severity: \"error\"\n    }, \"User not found\");\n  }\n  const {\n    metadata: {name: metaName},\n    spec: {profile}\n  } = user;\n  const displayName = (_a = profile == null ? void 0 : profile.displayName) != null ? _a : metaName;\n  const emailHref = (profile == null ? void 0 : profile.email) ? `mailto:${profile.email}` : void 0;\n  const memberOfRelations = getEntityRelations(user, RELATION_MEMBER_OF, {\n    kind: \"Group\"\n  });\n  return /* @__PURE__ */ React.createElement(InfoCard, {\n    title: /* @__PURE__ */ React.createElement(CardTitle$1, {\n      title: displayName\n    }),\n    variant\n  }, /* @__PURE__ */ React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    alignItems: \"flex-start\"\n  }, /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 2,\n    xl: 1\n  }, /* @__PURE__ */ React.createElement(Avatar, {\n    displayName,\n    picture: profile == null ? void 0 : profile.picture\n  })), /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    md: 10,\n    xl: 11\n  }, /* @__PURE__ */ React.createElement(List, null, (profile == null ? void 0 : profile.email) && /* @__PURE__ */ React.createElement(ListItem, null, /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(Tooltip, {\n    title: \"Email\"\n  }, /* @__PURE__ */ React.createElement(EmailIcon, null))), /* @__PURE__ */ React.createElement(ListItemText, null, /* @__PURE__ */ React.createElement(Link, {\n    href: emailHref\n  }, profile.email))), /* @__PURE__ */ React.createElement(ListItem, null, /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(Tooltip, {\n    title: \"Member of\"\n  }, /* @__PURE__ */ React.createElement(GroupIcon, null))), /* @__PURE__ */ React.createElement(ListItemText, null, /* @__PURE__ */ React.createElement(EntityRefLinks, {\n    entityRefs: memberOfRelations,\n    defaultKind: \"Group\"\n  })))))));\n};\n\nconst createPageTheme = (theme, shapeKey, colorsKey) => {\n  const {colors} = theme.getPageTheme({themeId: colorsKey});\n  const {shape} = theme.getPageTheme({themeId: shapeKey});\n  return genPageTheme(colors, shape).backgroundImage;\n};\nconst useStyles$1 = makeStyles((theme) => createStyles({\n  card: {\n    border: `1px solid ${theme.palette.divider}`,\n    boxShadow: theme.shadows[2],\n    borderRadius: \"4px\",\n    padding: theme.spacing(2),\n    color: \"#fff\",\n    transition: `${theme.transitions.duration.standard}ms`,\n    \"&:hover\": {\n      boxShadow: theme.shadows[4]\n    }\n  },\n  bold: {\n    fontWeight: theme.typography.fontWeightBold\n  },\n  service: {\n    background: createPageTheme(theme, \"home\", \"service\")\n  },\n  website: {\n    background: createPageTheme(theme, \"home\", \"website\")\n  },\n  library: {\n    background: createPageTheme(theme, \"home\", \"library\")\n  },\n  documentation: {\n    background: createPageTheme(theme, \"home\", \"documentation\")\n  },\n  api: {\n    background: createPageTheme(theme, \"home\", \"home\")\n  },\n  tool: {\n    background: createPageTheme(theme, \"home\", \"tool\")\n  }\n}));\nconst countEntitiesBy = (entities, kind, type) => entities.filter((e) => {\n  var _a;\n  return e.kind === kind && (type ? ((_a = e == null ? void 0 : e.spec) == null ? void 0 : _a.type) === type : true);\n}).length;\nconst EntityCountTile = ({\n  counter,\n  className,\n  name\n}) => {\n  const classes = useStyles$1();\n  return /* @__PURE__ */ React.createElement(Box, {\n    className: `${classes.card} ${classes[className]}`,\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    className: classes.bold,\n    variant: \"h6\"\n  }, counter), /* @__PURE__ */ React.createElement(Typography, {\n    className: classes.bold,\n    variant: \"h6\"\n  }, name));\n};\nconst OwnershipCard = ({\n  variant\n}) => {\n  const {entity} = useEntity();\n  const catalogApi = useApi(catalogApiRef);\n  const {\n    loading,\n    error,\n    value: componentsWithCounters\n  } = useAsync(async () => {\n    const kinds = [\"Component\", \"API\"];\n    const entitiesList = await catalogApi.getEntities({\n      filter: {\n        kind: kinds\n      },\n      fields: [\n        \"kind\",\n        \"metadata.name\",\n        \"metadata.namespace\",\n        \"spec.type\",\n        \"relations\"\n      ]\n    });\n    const ownedEntitiesList = entitiesList.items.filter((component) => isOwnerOf(entity, component));\n    return [\n      {\n        counter: countEntitiesBy(ownedEntitiesList, \"Component\", \"service\"),\n        className: \"service\",\n        name: \"Services\"\n      },\n      {\n        counter: countEntitiesBy(ownedEntitiesList, \"Component\", \"documentation\"),\n        className: \"documentation\",\n        name: \"Documentation\"\n      },\n      {\n        counter: countEntitiesBy(ownedEntitiesList, \"API\"),\n        className: \"api\",\n        name: \"APIs\"\n      },\n      {\n        counter: countEntitiesBy(ownedEntitiesList, \"Component\", \"library\"),\n        className: \"library\",\n        name: \"Libraries\"\n      },\n      {\n        counter: countEntitiesBy(ownedEntitiesList, \"Component\", \"website\"),\n        className: \"website\",\n        name: \"Websites\"\n      },\n      {\n        counter: countEntitiesBy(ownedEntitiesList, \"Component\", \"tool\"),\n        className: \"tool\",\n        name: \"Tools\"\n      }\n    ];\n  }, [catalogApi, entity]);\n  if (loading) {\n    return /* @__PURE__ */ React.createElement(Progress, null);\n  } else if (error) {\n    return /* @__PURE__ */ React.createElement(ResponseErrorPanel, {\n      error\n    });\n  }\n  return /* @__PURE__ */ React.createElement(InfoCard, {\n    title: \"Ownership\",\n    variant\n  }, /* @__PURE__ */ React.createElement(Grid, {\n    container: true\n  }, componentsWithCounters == null ? void 0 : componentsWithCounters.map((c) => /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    md: 6,\n    lg: 4,\n    key: c.name\n  }, /* @__PURE__ */ React.createElement(EntityCountTile, {\n    counter: c.counter,\n    className: c.className,\n    name: c.name\n  })))));\n};\n\nexport { EntityGroupProfileCard, EntityMembersListCard, EntityOwnershipCard, EntityUserProfileCard, GroupProfileCard, MembersListCard, OwnershipCard, UserProfileCard, orgPlugin, orgPlugin as plugin };\n//# sourceMappingURL=index.esm.js.map\n","import { createApiRef, createRouteRef, createPlugin, createApiFactory, configApiRef, discoveryApiRef, identityApiRef, createRoutableExtension, createComponentExtension, useApi, ErrorPage, Progress, Table, EmptyState, Button, SubvalueCell, Link, ItemCardGrid, ItemCardHeader, Page, Header, Content, WarningPanel, CodeSnippet, HeaderTabs, ContentHeader, SupportButton, useRouteRef, HeaderLabel, MissingAnnotationEmptyState } from '@backstage/core';\nimport { NotFoundError } from '@backstage/errors';\nimport { scmIntegrationsApiRef } from '@backstage/integration-react';\nimport { Typography, useTheme, Tooltip, IconButton, Card, CardMedia, CardContent, CardActions, makeStyles } from '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useParams, useNavigate, generatePath, Routes, Route } from 'react-router-dom';\nimport { useMountedState, useAsyncRetry, useAsync, useCopyToClipboard } from 'react-use';\nimport FeedbackOutlinedIcon from '@material-ui/icons/FeedbackOutlined';\nimport ReactDOM from 'react-dom';\nimport sanitizeHtml from 'sanitize-html';\nimport { catalogApiRef, isOwnerOf, getEntityRelations, EntityRefLink, EntityRefLinks, useEntity } from '@backstage/plugin-catalog-react';\nimport ShareIcon from '@material-ui/icons/Share';\nimport { RELATION_OWNED_BY } from '@backstage/catalog-model';\nimport CodeIcon from '@material-ui/icons/Code';\n\nconst techdocsStorageApiRef = createApiRef({\n  id: \"plugin.techdocs.storageservice\",\n  description: \"Used to make requests towards the techdocs storage\"\n});\nconst techdocsApiRef = createApiRef({\n  id: \"plugin.techdocs.service\",\n  description: \"Used to make requests towards techdocs API\"\n});\n\nclass TechDocsClient {\n  constructor({\n    configApi,\n    discoveryApi,\n    identityApi\n  }) {\n    this.configApi = configApi;\n    this.discoveryApi = discoveryApi;\n    this.identityApi = identityApi;\n  }\n  async getApiOrigin() {\n    var _a;\n    return (_a = this.configApi.getOptionalString(\"techdocs.requestUrl\")) != null ? _a : await this.discoveryApi.getBaseUrl(\"techdocs\");\n  }\n  async getTechDocsMetadata(entityId) {\n    const {kind, namespace, name} = entityId;\n    const apiOrigin = await this.getApiOrigin();\n    const requestUrl = `${apiOrigin}/metadata/techdocs/${namespace}/${kind}/${name}`;\n    const token = await this.identityApi.getIdToken();\n    const request = await fetch(`${requestUrl}`, {\n      headers: token ? {Authorization: `Bearer ${token}`} : {}\n    });\n    const res = await request.json();\n    return res;\n  }\n  async getEntityMetadata(entityId) {\n    const {kind, namespace, name} = entityId;\n    const apiOrigin = await this.getApiOrigin();\n    const requestUrl = `${apiOrigin}/metadata/entity/${namespace}/${kind}/${name}`;\n    const token = await this.identityApi.getIdToken();\n    const request = await fetch(`${requestUrl}`, {\n      headers: token ? {Authorization: `Bearer ${token}`} : {}\n    });\n    const res = await request.json();\n    return res;\n  }\n}\nclass TechDocsStorageClient {\n  constructor({\n    configApi,\n    discoveryApi,\n    identityApi\n  }) {\n    this.configApi = configApi;\n    this.discoveryApi = discoveryApi;\n    this.identityApi = identityApi;\n  }\n  async getApiOrigin() {\n    var _a;\n    return (_a = this.configApi.getOptionalString(\"techdocs.requestUrl\")) != null ? _a : await this.discoveryApi.getBaseUrl(\"techdocs\");\n  }\n  async getStorageUrl() {\n    var _a;\n    return (_a = this.configApi.getOptionalString(\"techdocs.storageUrl\")) != null ? _a : `${await this.discoveryApi.getBaseUrl(\"techdocs\")}/static/docs`;\n  }\n  async getBuilder() {\n    return this.configApi.getString(\"techdocs.builder\");\n  }\n  async getEntityDocs(entityId, path) {\n    const {kind, namespace, name} = entityId;\n    const storageUrl = await this.getStorageUrl();\n    const url = `${storageUrl}/${namespace}/${kind}/${name}/${path}`;\n    const token = await this.identityApi.getIdToken();\n    const request = await fetch(`${url.endsWith(\"/\") ? url : `${url}/`}index.html`, {\n      headers: token ? {Authorization: `Bearer ${token}`} : {}\n    });\n    let errorMessage = \"\";\n    switch (request.status) {\n      case 404:\n        errorMessage = \"Page not found. \";\n        if (!path) {\n          errorMessage += \"This could be because there is no index.md file in the root of the docs directory of this repository.\";\n        }\n        throw new NotFoundError(errorMessage);\n      case 500:\n        errorMessage = \"Could not generate documentation or an error in the TechDocs backend. \";\n        throw new Error(errorMessage);\n    }\n    return request.text();\n  }\n  async syncEntityDocs(entityId) {\n    const {kind, namespace, name} = entityId;\n    const apiOrigin = await this.getApiOrigin();\n    const url = `${apiOrigin}/sync/${namespace}/${kind}/${name}`;\n    const token = await this.identityApi.getIdToken();\n    let request;\n    let attempts = 0;\n    while (!request || request.status === 408 && attempts < 5) {\n      attempts++;\n      request = await fetch(url, {\n        headers: token ? {Authorization: `Bearer ${token}`} : {}\n      });\n    }\n    switch (request.status) {\n      case 404:\n        throw new NotFoundError((await request.json()).error);\n      case 200:\n      case 201:\n      case 304:\n        return true;\n      case 408:\n      default:\n        return false;\n    }\n  }\n  async getBaseUrl(oldBaseUrl, entityId, path) {\n    const {kind, namespace, name} = entityId;\n    const apiOrigin = await this.getApiOrigin();\n    return new URL(oldBaseUrl, `${apiOrigin}/static/docs/${namespace}/${kind}/${name}/${path}`).toString();\n  }\n}\n\nconst rootRouteRef = createRouteRef({\n  path: \"\",\n  title: \"TechDocs Landing Page\"\n});\nconst rootDocsRouteRef = createRouteRef({\n  path: \":namespace/:kind/:name/*\",\n  title: \"Docs\"\n});\nconst rootCatalogDocsRouteRef = createRouteRef({\n  path: \"*\",\n  title: \"Docs\"\n});\n\nconst techdocsPlugin = createPlugin({\n  id: \"techdocs\",\n  apis: [\n    createApiFactory({\n      api: techdocsStorageApiRef,\n      deps: {\n        configApi: configApiRef,\n        discoveryApi: discoveryApiRef,\n        identityApi: identityApiRef\n      },\n      factory: ({configApi, discoveryApi, identityApi}) => new TechDocsStorageClient({\n        configApi,\n        discoveryApi,\n        identityApi\n      })\n    }),\n    createApiFactory({\n      api: techdocsApiRef,\n      deps: {\n        configApi: configApiRef,\n        discoveryApi: discoveryApiRef,\n        identityApi: identityApiRef\n      },\n      factory: ({configApi, discoveryApi, identityApi}) => new TechDocsClient({\n        configApi,\n        discoveryApi,\n        identityApi\n      })\n    })\n  ],\n  routes: {\n    root: rootRouteRef,\n    entityContent: rootCatalogDocsRouteRef\n  }\n});\nconst TechdocsPage = techdocsPlugin.provide(createRoutableExtension({\n  component: () => Promise.resolve().then(function () { return Router$1; }).then((m) => m.Router),\n  mountPoint: rootRouteRef\n}));\nconst EntityTechdocsContent = techdocsPlugin.provide(createRoutableExtension({\n  component: () => Promise.resolve().then(function () { return Router$1; }).then((m) => m.EmbeddedDocsRouter),\n  mountPoint: rootCatalogDocsRouteRef\n}));\nconst DocsCardGrid = techdocsPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => Promise.resolve().then(function () { return DocsCardGrid$2; }).then((m) => m.DocsCardGrid)\n  }\n}));\nconst DocsTable = techdocsPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => Promise.resolve().then(function () { return DocsTable$2; }).then((m) => m.DocsTable)\n  }\n}));\nconst TechDocsCustomHome = techdocsPlugin.provide(createRoutableExtension({\n  component: () => Promise.resolve().then(function () { return TechDocsCustomHome$2; }).then((m) => m.TechDocsCustomHome),\n  mountPoint: rootRouteRef\n}));\nconst TechDocsReaderPage = techdocsPlugin.provide(createRoutableExtension({\n  component: () => Promise.resolve().then(function () { return TechDocsPage$1; }).then((m) => m.TechDocsPage),\n  mountPoint: rootDocsRouteRef\n}));\n\nconst addBaseUrl = ({\n  techdocsStorageApi,\n  entityId,\n  path\n}) => {\n  return (dom) => {\n    const updateDom = (list, attributeName) => {\n      Array.from(list).filter((elem) => !!elem.getAttribute(attributeName)).forEach(async (elem) => {\n        const elemAttribute = elem.getAttribute(attributeName);\n        if (!elemAttribute)\n          return;\n        elem.setAttribute(attributeName, await techdocsStorageApi.getBaseUrl(elemAttribute, entityId, path));\n      });\n    };\n    updateDom(dom.querySelectorAll(\"img\"), \"src\");\n    updateDom(dom.querySelectorAll(\"script\"), \"src\");\n    updateDom(dom.querySelectorAll(\"link\"), \"href\");\n    return dom;\n  };\n};\n\nconst addGitFeedbackLink = (scmIntegrationsApi) => {\n  return (dom) => {\n    const sourceAnchor = dom.querySelector('[title=\"Edit this page\"]');\n    if (!sourceAnchor || !sourceAnchor.href) {\n      return dom;\n    }\n    const sourceURL = new URL(sourceAnchor.href);\n    const integration = scmIntegrationsApi.byUrl(sourceURL);\n    if ((integration == null ? void 0 : integration.type) !== \"github\" && (integration == null ? void 0 : integration.type) !== \"gitlab\") {\n      return dom;\n    }\n    const title = dom.querySelector(\"article>h1\").childNodes[0].textContent;\n    const issueTitle = encodeURIComponent(`Documentation Feedback: ${title}`);\n    const issueDesc = encodeURIComponent(`Page source:\n${sourceAnchor.href}\n\nFeedback:`);\n    const repoPath = sourceURL.pathname.split(\"/\").slice(0, 3).join(\"/\");\n    const feedbackLink = sourceAnchor.cloneNode();\n    switch (integration == null ? void 0 : integration.type) {\n      case \"gitlab\":\n        feedbackLink.href = `${sourceURL.origin}${repoPath}/issues/new?issue[title]=${issueTitle}&issue[description]=${issueDesc}`;\n        break;\n      case \"github\":\n        feedbackLink.href = `${sourceURL.origin}${repoPath}/issues/new?title=${issueTitle}&body=${issueDesc}`;\n        break;\n      default:\n        return dom;\n    }\n    ReactDOM.render(React.createElement(FeedbackOutlinedIcon), feedbackLink);\n    feedbackLink.style.paddingLeft = \"5px\";\n    feedbackLink.title = \"Leave feedback for this page\";\n    feedbackLink.id = \"git-feedback-link\";\n    sourceAnchor == null ? void 0 : sourceAnchor.insertAdjacentElement(\"beforebegin\", feedbackLink);\n    return dom;\n  };\n};\n\nconst rewriteDocLinks = () => {\n  return (dom) => {\n    const updateDom = (list, attributeName) => {\n      Array.from(list).filter((elem) => elem.hasAttribute(attributeName)).forEach((elem) => {\n        const elemAttribute = elem.getAttribute(attributeName);\n        if (elemAttribute) {\n          if (elemAttribute.match(/^https?:\\/\\//i)) {\n            elem.setAttribute(\"target\", \"_blank\");\n          }\n          const normalizedWindowLocation = normalizeUrl(window.location.href);\n          elem.setAttribute(attributeName, new URL(elemAttribute, normalizedWindowLocation).toString());\n        }\n      });\n    };\n    updateDom(Array.from(dom.getElementsByTagName(\"a\")), \"href\");\n    return dom;\n  };\n};\nfunction normalizeUrl(input) {\n  const url = new URL(input);\n  if (!url.pathname.endsWith(\"/\")) {\n    url.pathname += \"/\";\n  }\n  return url.toString();\n}\n\nconst addLinkClickListener = ({\n  baseUrl,\n  onClick\n}) => {\n  return (dom) => {\n    Array.from(dom.getElementsByTagName(\"a\")).forEach((elem) => {\n      elem.addEventListener(\"click\", (e) => {\n        const target = elem;\n        const href = target.getAttribute(\"href\");\n        if (!href)\n          return;\n        if (href.startsWith(baseUrl)) {\n          e.preventDefault();\n          onClick(e, href);\n        }\n      });\n    });\n    return dom;\n  };\n};\n\nconst removeMkdocsHeader = () => {\n  return (dom) => {\n    var _a;\n    (_a = dom.querySelector(\".md-header\")) == null ? void 0 : _a.remove();\n    return dom;\n  };\n};\n\nconst simplifyMkdocsFooter = () => {\n  return (dom) => {\n    var _a;\n    (_a = dom.querySelector(\".md-footer-copyright\")) == null ? void 0 : _a.remove();\n    return dom;\n  };\n};\n\nconst onCssReady = ({\n  docStorageUrl,\n  onLoading,\n  onLoaded\n}) => {\n  return (dom) => {\n    const cssPages = Array.from(dom.querySelectorAll('head > link[rel=\"stylesheet\"]')).filter(async (elem) => {\n      var _a;\n      return (_a = elem.getAttribute(\"href\")) == null ? void 0 : _a.startsWith(await docStorageUrl);\n    });\n    let count = cssPages.length;\n    if (count > 0) {\n      onLoading(dom);\n    }\n    cssPages.forEach((cssPage) => cssPage.addEventListener(\"load\", () => {\n      count -= 1;\n      if (count === 0) {\n        onLoaded(dom);\n      }\n    }));\n    return dom;\n  };\n};\n\nconst html = [\n  \"a\",\n  \"abbr\",\n  \"acronym\",\n  \"address\",\n  \"area\",\n  \"article\",\n  \"aside\",\n  \"audio\",\n  \"b\",\n  \"bdi\",\n  \"bdo\",\n  \"big\",\n  \"blink\",\n  \"blockquote\",\n  \"body\",\n  \"br\",\n  \"button\",\n  \"canvas\",\n  \"caption\",\n  \"center\",\n  \"cite\",\n  \"code\",\n  \"col\",\n  \"colgroup\",\n  \"content\",\n  \"data\",\n  \"datalist\",\n  \"dd\",\n  \"decorator\",\n  \"del\",\n  \"details\",\n  \"dfn\",\n  \"dir\",\n  \"div\",\n  \"dl\",\n  \"dt\",\n  \"element\",\n  \"em\",\n  \"fieldset\",\n  \"figcaption\",\n  \"figure\",\n  \"font\",\n  \"footer\",\n  \"form\",\n  \"h1\",\n  \"h2\",\n  \"h3\",\n  \"h4\",\n  \"h5\",\n  \"h6\",\n  \"head\",\n  \"header\",\n  \"hgroup\",\n  \"hr\",\n  \"html\",\n  \"i\",\n  \"img\",\n  \"input\",\n  \"ins\",\n  \"kbd\",\n  \"label\",\n  \"legend\",\n  \"li\",\n  \"link\",\n  \"main\",\n  \"map\",\n  \"mark\",\n  \"marquee\",\n  \"menu\",\n  \"menuitem\",\n  \"meter\",\n  \"nav\",\n  \"nobr\",\n  \"ol\",\n  \"optgroup\",\n  \"option\",\n  \"output\",\n  \"p\",\n  \"picture\",\n  \"pre\",\n  \"progress\",\n  \"q\",\n  \"rp\",\n  \"rt\",\n  \"ruby\",\n  \"s\",\n  \"samp\",\n  \"section\",\n  \"select\",\n  \"shadow\",\n  \"small\",\n  \"source\",\n  \"spacer\",\n  \"span\",\n  \"strike\",\n  \"strong\",\n  \"sub\",\n  \"summary\",\n  \"sup\",\n  \"table\",\n  \"tbody\",\n  \"td\",\n  \"template\",\n  \"textarea\",\n  \"tfoot\",\n  \"th\",\n  \"thead\",\n  \"time\",\n  \"tr\",\n  \"track\",\n  \"tt\",\n  \"u\",\n  \"ul\",\n  \"var\",\n  \"video\",\n  \"wbr\"\n];\nconst svg = [\n  \"svg\",\n  \"a\",\n  \"altglyph\",\n  \"altglyphdef\",\n  \"altglyphitem\",\n  \"animatecolor\",\n  \"animatemotion\",\n  \"animatetransform\",\n  \"audio\",\n  \"canvas\",\n  \"circle\",\n  \"clippath\",\n  \"defs\",\n  \"desc\",\n  \"ellipse\",\n  \"filter\",\n  \"font\",\n  \"g\",\n  \"glyph\",\n  \"glyphref\",\n  \"hkern\",\n  \"image\",\n  \"line\",\n  \"lineargradient\",\n  \"marker\",\n  \"mask\",\n  \"metadata\",\n  \"mpath\",\n  \"object\",\n  \"path\",\n  \"pattern\",\n  \"polygon\",\n  \"polyline\",\n  \"radialgradient\",\n  \"rect\",\n  \"stop\",\n  \"switch\",\n  \"symbol\",\n  \"text\",\n  \"textpath\",\n  \"title\",\n  \"tref\",\n  \"tspan\",\n  \"video\",\n  \"view\",\n  \"vkern\"\n];\nconst svgFilters = [\n  \"feBlend\",\n  \"feColorMatrix\",\n  \"feComponentTransfer\",\n  \"feComposite\",\n  \"feConvolveMatrix\",\n  \"feDiffuseLighting\",\n  \"feDisplacementMap\",\n  \"feDistantLight\",\n  \"feFlood\",\n  \"feFuncA\",\n  \"feFuncB\",\n  \"feFuncG\",\n  \"feFuncR\",\n  \"feGaussianBlur\",\n  \"feMerge\",\n  \"feMergeNode\",\n  \"feMorphology\",\n  \"feOffset\",\n  \"fePointLight\",\n  \"feSpecularLighting\",\n  \"feSpotLight\",\n  \"feTile\",\n  \"feTurbulence\"\n];\nconst mathMl = [\n  \"math\",\n  \"menclose\",\n  \"merror\",\n  \"mfenced\",\n  \"mfrac\",\n  \"mglyph\",\n  \"mi\",\n  \"mlabeledtr\",\n  \"mmultiscripts\",\n  \"mn\",\n  \"mo\",\n  \"mover\",\n  \"mpadded\",\n  \"mphantom\",\n  \"mroot\",\n  \"mrow\",\n  \"ms\",\n  \"mspace\",\n  \"msqrt\",\n  \"mstyle\",\n  \"msub\",\n  \"msup\",\n  \"msubsup\",\n  \"mtable\",\n  \"mtd\",\n  \"mtext\",\n  \"mtr\",\n  \"munder\",\n  \"munderover\"\n];\nconst text = [\"#text\"];\nconst TECHDOCS_ALLOWED_TAGS = [\n  ...html,\n  ...svg,\n  ...svgFilters,\n  ...mathMl,\n  ...text,\n  \"iframe\"\n];\n\nconst html$1 = [\n  \"accept\",\n  \"action\",\n  \"align\",\n  \"alt\",\n  \"autocapitalize\",\n  \"autocomplete\",\n  \"autopictureinpicture\",\n  \"autoplay\",\n  \"background\",\n  \"bgcolor\",\n  \"border\",\n  \"capture\",\n  \"cellpadding\",\n  \"cellspacing\",\n  \"checked\",\n  \"cite\",\n  \"class\",\n  \"clear\",\n  \"color\",\n  \"cols\",\n  \"colspan\",\n  \"controls\",\n  \"controlslist\",\n  \"coords\",\n  \"crossorigin\",\n  \"datetime\",\n  \"decoding\",\n  \"default\",\n  \"dir\",\n  \"disabled\",\n  \"disablepictureinpicture\",\n  \"disableremoteplayback\",\n  \"download\",\n  \"draggable\",\n  \"enctype\",\n  \"enterkeyhint\",\n  \"face\",\n  \"for\",\n  \"headers\",\n  \"height\",\n  \"hidden\",\n  \"high\",\n  \"href\",\n  \"hreflang\",\n  \"id\",\n  \"inputmode\",\n  \"integrity\",\n  \"ismap\",\n  \"kind\",\n  \"label\",\n  \"lang\",\n  \"list\",\n  \"loading\",\n  \"loop\",\n  \"low\",\n  \"max\",\n  \"maxlength\",\n  \"media\",\n  \"method\",\n  \"min\",\n  \"minlength\",\n  \"multiple\",\n  \"muted\",\n  \"name\",\n  \"noshade\",\n  \"novalidate\",\n  \"nowrap\",\n  \"open\",\n  \"optimum\",\n  \"pattern\",\n  \"placeholder\",\n  \"playsinline\",\n  \"poster\",\n  \"preload\",\n  \"pubdate\",\n  \"radiogroup\",\n  \"readonly\",\n  \"rel\",\n  \"required\",\n  \"rev\",\n  \"reversed\",\n  \"role\",\n  \"rows\",\n  \"rowspan\",\n  \"spellcheck\",\n  \"scope\",\n  \"selected\",\n  \"shape\",\n  \"size\",\n  \"sizes\",\n  \"span\",\n  \"srclang\",\n  \"start\",\n  \"src\",\n  \"srcset\",\n  \"step\",\n  \"style\",\n  \"summary\",\n  \"tabindex\",\n  \"title\",\n  \"translate\",\n  \"type\",\n  \"usemap\",\n  \"valign\",\n  \"value\",\n  \"width\",\n  \"xmlns\"\n];\nconst svg$1 = [\n  \"accent-height\",\n  \"accumulate\",\n  \"additive\",\n  \"alignment-baseline\",\n  \"ascent\",\n  \"attributename\",\n  \"attributetype\",\n  \"azimuth\",\n  \"basefrequency\",\n  \"baseline-shift\",\n  \"begin\",\n  \"bias\",\n  \"by\",\n  \"class\",\n  \"clip\",\n  \"clip-path\",\n  \"clip-rule\",\n  \"color\",\n  \"color-interpolation\",\n  \"color-interpolation-filters\",\n  \"color-profile\",\n  \"color-rendering\",\n  \"cx\",\n  \"cy\",\n  \"d\",\n  \"dx\",\n  \"dy\",\n  \"data\",\n  \"diffuseconstant\",\n  \"direction\",\n  \"display\",\n  \"divisor\",\n  \"dur\",\n  \"edgemode\",\n  \"elevation\",\n  \"end\",\n  \"fill\",\n  \"fill-opacity\",\n  \"fill-rule\",\n  \"filter\",\n  \"filterunits\",\n  \"flood-color\",\n  \"flood-opacity\",\n  \"font-family\",\n  \"font-size\",\n  \"font-size-adjust\",\n  \"font-stretch\",\n  \"font-style\",\n  \"font-variant\",\n  \"font-weight\",\n  \"fx\",\n  \"fy\",\n  \"g1\",\n  \"g2\",\n  \"glyph-name\",\n  \"glyphref\",\n  \"gradientunits\",\n  \"gradienttransform\",\n  \"height\",\n  \"href\",\n  \"id\",\n  \"image-rendering\",\n  \"in\",\n  \"in2\",\n  \"k\",\n  \"k1\",\n  \"k2\",\n  \"k3\",\n  \"k4\",\n  \"kerning\",\n  \"keypoints\",\n  \"keysplines\",\n  \"keytimes\",\n  \"lang\",\n  \"lengthadjust\",\n  \"letter-spacing\",\n  \"kernelmatrix\",\n  \"kernelunitlength\",\n  \"lighting-color\",\n  \"local\",\n  \"marker-end\",\n  \"marker-mid\",\n  \"marker-start\",\n  \"markerheight\",\n  \"markerunits\",\n  \"markerwidth\",\n  \"maskcontentunits\",\n  \"maskunits\",\n  \"max\",\n  \"mask\",\n  \"media\",\n  \"method\",\n  \"mode\",\n  \"min\",\n  \"name\",\n  \"numoctaves\",\n  \"offset\",\n  \"operator\",\n  \"opacity\",\n  \"order\",\n  \"orient\",\n  \"orientation\",\n  \"origin\",\n  \"overflow\",\n  \"paint-order\",\n  \"path\",\n  \"pathlength\",\n  \"patterncontentunits\",\n  \"patterntransform\",\n  \"patternunits\",\n  \"points\",\n  \"preservealpha\",\n  \"preserveaspectratio\",\n  \"primitiveunits\",\n  \"r\",\n  \"rx\",\n  \"ry\",\n  \"radius\",\n  \"refx\",\n  \"refy\",\n  \"repeatcount\",\n  \"repeatdur\",\n  \"restart\",\n  \"result\",\n  \"rotate\",\n  \"scale\",\n  \"seed\",\n  \"shape-rendering\",\n  \"specularconstant\",\n  \"specularexponent\",\n  \"spreadmethod\",\n  \"startoffset\",\n  \"stddeviation\",\n  \"stitchtiles\",\n  \"stop-color\",\n  \"stop-opacity\",\n  \"stroke-dasharray\",\n  \"stroke-dashoffset\",\n  \"stroke-linecap\",\n  \"stroke-linejoin\",\n  \"stroke-miterlimit\",\n  \"stroke-opacity\",\n  \"stroke\",\n  \"stroke-width\",\n  \"style\",\n  \"surfacescale\",\n  \"tabindex\",\n  \"targetx\",\n  \"targety\",\n  \"transform\",\n  \"text-anchor\",\n  \"text-decoration\",\n  \"text-rendering\",\n  \"textlength\",\n  \"type\",\n  \"u1\",\n  \"u2\",\n  \"unicode\",\n  \"values\",\n  \"viewbox\",\n  \"visibility\",\n  \"version\",\n  \"vert-adv-y\",\n  \"vert-origin-x\",\n  \"vert-origin-y\",\n  \"width\",\n  \"word-spacing\",\n  \"wrap\",\n  \"writing-mode\",\n  \"xchannelselector\",\n  \"ychannelselector\",\n  \"x\",\n  \"x1\",\n  \"x2\",\n  \"xmlns\",\n  \"y\",\n  \"y1\",\n  \"y2\",\n  \"z\",\n  \"zoomandpan\"\n];\nconst mathMl$1 = [\n  \"accent\",\n  \"accentunder\",\n  \"align\",\n  \"bevelled\",\n  \"close\",\n  \"columnsalign\",\n  \"columnlines\",\n  \"columnspan\",\n  \"denomalign\",\n  \"depth\",\n  \"dir\",\n  \"display\",\n  \"displaystyle\",\n  \"encoding\",\n  \"fence\",\n  \"frame\",\n  \"height\",\n  \"href\",\n  \"id\",\n  \"largeop\",\n  \"length\",\n  \"linethickness\",\n  \"lspace\",\n  \"lquote\",\n  \"mathbackground\",\n  \"mathcolor\",\n  \"mathsize\",\n  \"mathvariant\",\n  \"maxsize\",\n  \"minsize\",\n  \"movablelimits\",\n  \"notation\",\n  \"numalign\",\n  \"open\",\n  \"rowalign\",\n  \"rowlines\",\n  \"rowspacing\",\n  \"rowspan\",\n  \"rspace\",\n  \"rquote\",\n  \"scriptlevel\",\n  \"scriptminsize\",\n  \"scriptsizemultiplier\",\n  \"selection\",\n  \"separator\",\n  \"separators\",\n  \"stretchy\",\n  \"subscriptshift\",\n  \"supscriptshift\",\n  \"symmetric\",\n  \"voffset\",\n  \"width\",\n  \"xmlns\"\n];\nconst xml = [\n  \"xlink:href\",\n  \"xml:id\",\n  \"xlink:title\",\n  \"xml:space\",\n  \"xmlns:xlink\"\n];\nconst TECHDOCS_ALLOWED_ATTRIBUTES = {\n  \"*\": [...html$1, ...svg$1, ...mathMl$1, ...xml, \"data-*\"]\n};\n\nconst sanitizeDOM = () => {\n  return (dom) => {\n    const sanitizedHtml = sanitizeHtml(dom.innerHTML, {\n      allowedTags: TECHDOCS_ALLOWED_TAGS,\n      allowedAttributes: TECHDOCS_ALLOWED_ATTRIBUTES,\n      allowedSchemes: [\"http\", \"https\", \"ftp\", \"mailto\", \"data\", \"blob\"]\n    });\n    return new DOMParser().parseFromString(sanitizedHtml, \"text/html\").documentElement;\n  };\n};\n\nconst injectCss = ({css}) => {\n  return (dom) => {\n    dom.getElementsByTagName(\"head\")[0].insertAdjacentHTML(\"beforeend\", `<style>${css}</style>`);\n    return dom;\n  };\n};\n\nconst transform = (html, transformers) => {\n  let dom;\n  if (typeof html === \"string\") {\n    dom = new DOMParser().parseFromString(html, \"text/html\").documentElement;\n  } else if (html instanceof Element) {\n    dom = html;\n  } else {\n    throw new Error(\"dom is not a recognized type\");\n  }\n  transformers.forEach((transformer) => {\n    dom = transformer(dom);\n  });\n  return dom;\n};\n\nconst TechDocsNotFound = ({errorMessage}) => {\n  const techdocsBuilder = useApi(configApiRef).getOptionalString(\"techdocs.builder\");\n  let additionalInfo = \"\";\n  if (techdocsBuilder !== \"local\") {\n    additionalInfo = \"Note that techdocs.builder is not set to 'local' in your config, which means this Backstage app will not generate docs if they are not found. Make sure the project's docs are generated and published by some external process (e.g. CI/CD pipeline). Or change techdocs.builder to 'local' to generate docs from this Backstage instance.\";\n  }\n  return /* @__PURE__ */ React.createElement(ErrorPage, {\n    status: \"404\",\n    statusMessage: errorMessage || \"Documentation not found\",\n    additionalInfo\n  });\n};\n\nconst TechDocsProgressBar = () => {\n  const isMounted = useMountedState();\n  const [hasBeenDelayed, setHasBeenDelayed] = useState(false);\n  const delayReason = `Docs are still loading...Backstage takes some extra time to load docs\n  for the first time. The subsequent loads are much faster.`;\n  const allowedDelayTime = 5e3;\n  useEffect(() => {\n    setTimeout(() => {\n      if (isMounted()) {\n        setHasBeenDelayed(true);\n      }\n    }, allowedDelayTime);\n  });\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, hasBeenDelayed ? /* @__PURE__ */ React.createElement(Typography, {\n    \"data-testid\": \"delay-reason\"\n  }, delayReason) : null, /* @__PURE__ */ React.createElement(Progress, null));\n};\n\nfunction useRawPage(path, kind, namespace, name) {\n  const techdocsStorageApi = useApi(techdocsStorageApiRef);\n  return useAsyncRetry(async () => {\n    const content = await techdocsStorageApi.getEntityDocs({kind, namespace, name}, path);\n    return {\n      content,\n      path,\n      entityId: {\n        kind,\n        name,\n        namespace\n      }\n    };\n  }, [techdocsStorageApi, kind, namespace, name, path]);\n}\n\nconst Reader = ({entityId, onReady}) => {\n  const {kind, namespace, name} = entityId;\n  const {\"*\": path} = useParams();\n  const theme = useTheme();\n  const techdocsStorageApi = useApi(techdocsStorageApiRef);\n  const [sidebars, setSidebars] = useState();\n  const navigate = useNavigate();\n  const shadowDomRef = useRef(null);\n  const [loadedPath, setLoadedPath] = useState(\"\");\n  const [atInitialLoad, setAtInitialLoad] = useState(true);\n  const [newerDocsExist, setNewerDocsExist] = useState(false);\n  const scmIntegrationsApi = useApi(scmIntegrationsApiRef);\n  const {\n    value: isSynced,\n    loading: syncInProgress,\n    error: syncError\n  } = useAsync(async () => {\n    if (await techdocsStorageApi.getBuilder() !== \"local\") {\n      return Promise.resolve({\n        value: true,\n        loading: null,\n        error: null\n      });\n    }\n    return techdocsStorageApi.syncEntityDocs({kind, namespace, name});\n  }, [techdocsStorageApi, kind, namespace, name]);\n  const {\n    value: rawPage,\n    loading: docLoading,\n    error: docLoadError,\n    retry\n  } = useRawPage(path, kind, namespace, name);\n  useEffect(() => {\n    if (isSynced && newerDocsExist && path !== loadedPath) {\n      retry();\n    }\n  });\n  useEffect(() => {\n    const updateSidebarPosition = () => {\n      if (!!shadowDomRef.current && !!sidebars) {\n        const mdTabs = shadowDomRef.current.querySelector(\".md-container > .md-tabs\");\n        sidebars.forEach((sidebar) => {\n          const newTop = Math.max(shadowDomRef.current.getBoundingClientRect().top, 0);\n          sidebar.style.top = mdTabs ? `${newTop + mdTabs.getBoundingClientRect().height}px` : `${newTop}px`;\n        });\n      }\n    };\n    updateSidebarPosition();\n    window.addEventListener(\"scroll\", updateSidebarPosition);\n    window.addEventListener(\"resize\", updateSidebarPosition);\n    return () => {\n      window.removeEventListener(\"scroll\", updateSidebarPosition);\n      window.removeEventListener(\"resize\", updateSidebarPosition);\n    };\n  }, [shadowDomRef, sidebars]);\n  useEffect(() => {\n    if (rawPage) {\n      setLoadedPath(path);\n    }\n  }, [rawPage, path]);\n  useEffect(() => {\n    if (atInitialLoad === false) {\n      return;\n    }\n    setTimeout(() => {\n      setAtInitialLoad(false);\n    }, 5e3);\n  });\n  useEffect(() => {\n    if (!atInitialLoad && !!rawPage && syncInProgress) {\n      setNewerDocsExist(true);\n    }\n  }, [atInitialLoad, rawPage, syncInProgress]);\n  useEffect(() => {\n    if (!rawPage || !shadowDomRef.current) {\n      return;\n    }\n    if (onReady) {\n      onReady();\n    }\n    const transformedElement = transform(rawPage.content, [\n      sanitizeDOM(),\n      addBaseUrl({\n        techdocsStorageApi,\n        entityId: rawPage.entityId,\n        path: rawPage.path\n      }),\n      rewriteDocLinks(),\n      removeMkdocsHeader(),\n      simplifyMkdocsFooter(),\n      addGitFeedbackLink(scmIntegrationsApi),\n      injectCss({\n        css: `\n        body {\n          font-family: ${theme.typography.fontFamily};\n          --md-text-color: ${theme.palette.text.primary};\n          --md-text-link-color: ${theme.palette.primary.main};\n\n          --md-code-fg-color: ${theme.palette.text.primary};\n          --md-code-bg-color: ${theme.palette.background.paper};\n        }\n        .md-main__inner { margin-top: 0; }\n        .md-sidebar {  position: fixed; bottom: 100px; width: 20rem; }\n        .md-sidebar--secondary { right: 2rem; }\n        .md-content { margin-bottom: 50px }\n        .md-footer { position: fixed; bottom: 0px; width: 100vw; }\n        .md-footer-nav__link { width: 20rem;}\n        .md-content { margin-left: 20rem; max-width: calc(100% - 20rem * 2 - 3rem); }\n        .md-typeset { font-size: 1rem; }\n        .md-nav { font-size: 1rem; }\n        .md-grid { max-width: 90vw; margin: 0 }\n        .md-typeset table:not([class]) {\n          font-size: 1rem;\n          border: 1px solid ${theme.palette.text.primary};\n          border-bottom: none;\n          border-collapse: collapse;\n        }\n        .md-typeset table:not([class]) td, .md-typeset table:not([class]) th {\n          border-bottom: 1px solid ${theme.palette.text.primary};\n        }\n        .md-typeset table:not([class]) th { font-weight: bold; }\n        @media screen and (max-width: 76.1875em) {\n          .md-nav { \n            background-color: ${theme.palette.background.default}; \n            transition: none !important\n          }\n          .md-sidebar--secondary { display: none; }\n          .md-sidebar--primary { left: 72px; width: 10rem }\n          .md-content { margin-left: 10rem; max-width: calc(100% - 10rem); }\n          .md-content__inner { font-size: 0.9rem }\n          .md-footer { \n            position: static; \n            margin-left: 10rem; \n            width: calc(100% - 10rem); \n          }\n          .md-nav--primary .md-nav__title {  \n            white-space: normal;\n            height: auto;\n            line-height: 1rem;\n            cursor: auto;\n          }\n          .md-nav--primary > .md-nav__title [for=\"none\"] {\n            padding-top: 0;\n          }\n        }\n      `\n      }),\n      injectCss({\n        css: `\n        .md-nav__link, .md-typeset a, .md-typeset a::before, .md-typeset .headerlink {\n          transition: none;\n        }\n        `\n      }),\n      injectCss({\n        css: `\n        :host {\n          --md-admonition-icon--note: url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z\"/></svg>');\n          --md-admonition-icon--abstract: url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M4 5h16v2H4V5m0 4h16v2H4V9m0 4h16v2H4v-2m0 4h10v2H4v-2z\"/></svg>');\n          --md-admonition-icon--info: url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M13 9h-2V7h2m0 10h-2v-6h2m-1-9A10 10 0 002 12a10 10 0 0010 10 10 10 0 0010-10A10 10 0 0012 2z\"/></svg>');\n          --md-admonition-icon--tip: url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M17.55 11.2c-.23-.3-.5-.56-.76-.82-.65-.6-1.4-1.03-2.03-1.66C13.3 7.26 13 4.85 13.91 3c-.91.23-1.75.75-2.45 1.32-2.54 2.08-3.54 5.75-2.34 8.9.04.1.08.2.08.33 0 .22-.15.42-.35.5-.22.1-.46.04-.64-.12a.83.83 0 01-.15-.17c-1.1-1.43-1.28-3.48-.53-5.12C5.89 10 5 12.3 5.14 14.47c.04.5.1 1 .27 1.5.14.6.4 1.2.72 1.73 1.04 1.73 2.87 2.97 4.84 3.22 2.1.27 4.35-.12 5.96-1.6 1.8-1.66 2.45-4.32 1.5-6.6l-.13-.26c-.2-.46-.47-.87-.8-1.25l.05-.01m-3.1 6.3c-.28.24-.73.5-1.08.6-1.1.4-2.2-.16-2.87-.82 1.19-.28 1.89-1.16 2.09-2.05.17-.8-.14-1.46-.27-2.23-.12-.74-.1-1.37.18-2.06.17.38.37.76.6 1.06.76 1 1.95 1.44 2.2 2.8.04.14.06.28.06.43.03.82-.32 1.72-.92 2.27h.01z\"/></svg>');\n          --md-admonition-icon--success: url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/></svg>');\n          --md-admonition-icon--question: url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M15.07 11.25l-.9.92C13.45 12.89 13 13.5 13 15h-2v-.5c0-1.11.45-2.11 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41a2 2 0 00-2-2 2 2 0 00-2 2H8a4 4 0 014-4 4 4 0 014 4 3.2 3.2 0 01-.93 2.25M13 19h-2v-2h2M12 2A10 10 0 002 12a10 10 0 0010 10 10 10 0 0010-10c0-5.53-4.5-10-10-10z\"/></svg>');\n          --md-admonition-icon--warning: url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M13 14h-2v-4h2m0 8h-2v-2h2M1 21h22L12 2 1 21z\"/></svg>');\n          --md-admonition-icon--failure: url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M12 2c5.53 0 10 4.47 10 10s-4.47 10-10 10S2 17.53 2 12 6.47 2 12 2m3.59 5L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41 15.59 7z\"/></svg>');\n          --md-admonition-icon--danger: url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M11.5 20l4.86-9.73H13V4l-5 9.73h3.5V20M12 2c2.75 0 5.1 1 7.05 2.95C21 6.9 22 9.25 22 12s-1 5.1-2.95 7.05C17.1 21 14.75 22 12 22s-5.1-1-7.05-2.95C3 17.1 2 14.75 2 12s1-5.1 2.95-7.05C6.9 3 9.25 2 12 2z\"/></svg>');\n          --md-admonition-icon--bug: url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M14 12h-4v-2h4m0 6h-4v-2h4m6-6h-2.81a5.985 5.985 0 00-1.82-1.96L17 4.41 15.59 3l-2.17 2.17a6.002 6.002 0 00-2.83 0L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8z\"/></svg>');\n          --md-admonition-icon--example: url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M7 13v-2h14v2H7m0 6v-2h14v2H7M7 7V5h14v2H7M3 8V5H2V4h2v4H3m-1 9v-1h3v4H2v-1h2v-.5H3v-1h1V17H2m2.25-7a.75.75 0 01.75.75c0 .2-.08.39-.21.52L3.12 13H5v1H2v-.92L4 11H2v-1h2.25z\"/></svg>');\n          --md-admonition-icon--quote: url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M14 17h3l2-4V7h-6v6h3M6 17h3l2-4V7H5v6h3l-2 4z\"/></svg>');\n        }\n        :host {\n          --md-footnotes-icon: url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M19 7v4H5.83l3.58-3.59L8 6l-6 6 6 6 1.41-1.42L5.83 13H21V7h-2z\"/></svg>');\n        }\n        :host {\n          --md-details-icon: url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z\"/></svg>');\n        }\n        :host {\n          --md-tasklist-icon: url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M12 2A10 10 0 002 12a10 10 0 0010 10 10 10 0 0010-10A10 10 0 0012 2z\"/></svg>');\n          --md-tasklist-icon--checked: url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/></svg>');\n        }\n        `\n      })\n    ]);\n    if (!transformedElement) {\n      return;\n    }\n    const shadowDiv = shadowDomRef.current;\n    const shadowRoot = shadowDiv.shadowRoot || shadowDiv.attachShadow({mode: \"open\"});\n    Array.from(shadowRoot.children).forEach((child) => shadowRoot.removeChild(child));\n    shadowRoot.appendChild(transformedElement);\n    window.scroll({top: 0});\n    transform(shadowRoot.children[0], [\n      (dom) => {\n        setTimeout(() => {\n          var _a;\n          if (window.location.hash) {\n            const hash = window.location.hash.slice(1);\n            (_a = shadowRoot == null ? void 0 : shadowRoot.getElementById(hash)) == null ? void 0 : _a.scrollIntoView();\n          }\n        }, 200);\n        return dom;\n      },\n      addLinkClickListener({\n        baseUrl: window.location.origin,\n        onClick: (_, url) => {\n          var _a;\n          const parsedUrl = new URL(url);\n          if (newerDocsExist && isSynced) {\n            setNewerDocsExist(false);\n          }\n          if (parsedUrl.hash) {\n            navigate(`${parsedUrl.pathname}${parsedUrl.hash}`);\n            (_a = shadowRoot == null ? void 0 : shadowRoot.getElementById(parsedUrl.hash.slice(1))) == null ? void 0 : _a.scrollIntoView();\n          } else {\n            navigate(parsedUrl.pathname);\n          }\n        }\n      }),\n      onCssReady({\n        docStorageUrl: techdocsStorageApi.getApiOrigin(),\n        onLoading: (dom) => {\n          dom.style.setProperty(\"opacity\", \"0\");\n        },\n        onLoaded: (dom) => {\n          var _a;\n          dom.style.removeProperty(\"opacity\");\n          (_a = dom.querySelector(\".md-nav__title\")) == null ? void 0 : _a.removeAttribute(\"for\");\n          const sideDivs = Array.from(shadowRoot.querySelectorAll(\".md-sidebar\"));\n          setSidebars(sideDivs);\n          const docTopPosition = dom.getBoundingClientRect().top;\n          const mdTabs = dom.querySelector(\".md-container > .md-tabs\");\n          sideDivs.forEach((sidebar) => {\n            sidebar.style.top = mdTabs ? `${docTopPosition + mdTabs.getBoundingClientRect().height}px` : `${docTopPosition}px`;\n          });\n        }\n      })\n    ]);\n  }, [\n    rawPage,\n    navigate,\n    onReady,\n    shadowDomRef,\n    techdocsStorageApi,\n    theme.typography.fontFamily,\n    theme.palette.text.primary,\n    theme.palette.primary.main,\n    theme.palette.background.paper,\n    theme.palette.background.default,\n    newerDocsExist,\n    isSynced,\n    scmIntegrationsApi\n  ]);\n  if (docLoadError && !syncInProgress && !docLoading || syncError) {\n    let errMessage = \"\";\n    if (docLoadError) {\n      errMessage += ` Load error: ${docLoadError}`;\n    }\n    if (syncError)\n      errMessage += ` Build error: ${syncError}`;\n    return /* @__PURE__ */ React.createElement(TechDocsNotFound, {\n      errorMessage: errMessage\n    });\n  }\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, newerDocsExist && !isSynced ? /* @__PURE__ */ React.createElement(Alert, {\n    variant: \"outlined\",\n    severity: \"info\"\n  }, \"A newer version of this documentation is being prepared and will be available shortly.\") : null, newerDocsExist && isSynced ? /* @__PURE__ */ React.createElement(Alert, {\n    variant: \"outlined\",\n    severity: \"success\"\n  }, \"A newer version of this documentation is now available, please refresh to view.\") : null, docLoading || docLoadError && syncInProgress ? /* @__PURE__ */ React.createElement(TechDocsProgressBar, null) : null, /* @__PURE__ */ React.createElement(\"div\", {\n    \"data-testid\": \"techdocs-content-shadowroot\",\n    ref: shadowDomRef\n  }));\n};\n\nfunction useOwnUser() {\n  const catalogApi = useApi(catalogApiRef);\n  const identityApi = useApi(identityApiRef);\n  return useAsync(() => catalogApi.getEntityByName({\n    kind: \"User\",\n    namespace: \"default\",\n    name: identityApi.getUserId()\n  }), [catalogApi, identityApi]);\n}\n\nconst DocsTable$1 = ({\n  entities,\n  title\n}) => {\n  const [, copyToClipboard] = useCopyToClipboard();\n  if (!entities)\n    return null;\n  const documents = entities.map((entity) => {\n    var _a, _b, _c;\n    return {\n      name: entity.metadata.name,\n      description: entity.metadata.description,\n      owner: (_a = entity == null ? void 0 : entity.spec) == null ? void 0 : _a.owner,\n      type: (_b = entity == null ? void 0 : entity.spec) == null ? void 0 : _b.type,\n      docsUrl: generatePath(rootDocsRouteRef.path, {\n        namespace: (_c = entity.metadata.namespace) != null ? _c : \"default\",\n        kind: entity.kind,\n        name: entity.metadata.name\n      })\n    };\n  });\n  const columns = [\n    {\n      title: \"Document\",\n      field: \"name\",\n      highlight: true,\n      render: (row) => /* @__PURE__ */ React.createElement(SubvalueCell, {\n        value: /* @__PURE__ */ React.createElement(Link, {\n          to: row.docsUrl\n        }, row.name),\n        subvalue: row.description\n      })\n    },\n    {\n      title: \"Owner\",\n      field: \"owner\"\n    },\n    {\n      title: \"Type\",\n      field: \"type\"\n    },\n    {\n      title: \"Actions\",\n      width: \"10%\",\n      render: (row) => /* @__PURE__ */ React.createElement(Tooltip, {\n        title: \"Click to copy documentation link to clipboard\"\n      }, /* @__PURE__ */ React.createElement(IconButton, {\n        onClick: () => copyToClipboard(`${window.location.href}/${row.docsUrl}`)\n      }, /* @__PURE__ */ React.createElement(ShareIcon, null)))\n    }\n  ];\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, documents && documents.length > 0 ? /* @__PURE__ */ React.createElement(Table, {\n    options: {\n      paging: true,\n      pageSize: 20,\n      search: true\n    },\n    data: documents,\n    columns,\n    title: title ? `${title} (${documents.length})` : `All (${documents.length})`\n  }) : /* @__PURE__ */ React.createElement(EmptyState, {\n    missing: \"data\",\n    title: \"No documents to show\",\n    description: \"Create your own document. Check out our Getting Started Information\",\n    action: /* @__PURE__ */ React.createElement(Button, {\n      color: \"primary\",\n      href: \"#\",\n      to: \"https://backstage.io/docs/features/techdocs/getting-started\",\n      variant: \"contained\"\n    }, \"DOCS\")\n  }));\n};\n\nvar DocsTable$2 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  DocsTable: DocsTable$1\n});\n\nconst DocsCardGrid$1 = ({\n  entities\n}) => {\n  if (!entities)\n    return null;\n  return /* @__PURE__ */ React.createElement(ItemCardGrid, {\n    \"data-testid\": \"docs-explore\"\n  }, !(entities == null ? void 0 : entities.length) ? null : entities.map((entity, index) => {\n    var _a;\n    return /* @__PURE__ */ React.createElement(Card, {\n      key: index\n    }, /* @__PURE__ */ React.createElement(CardMedia, null, /* @__PURE__ */ React.createElement(ItemCardHeader, {\n      title: entity.metadata.name\n    })), /* @__PURE__ */ React.createElement(CardContent, null, entity.metadata.description), /* @__PURE__ */ React.createElement(CardActions, null, /* @__PURE__ */ React.createElement(Button, {\n      to: generatePath(rootDocsRouteRef.path, {\n        namespace: (_a = entity.metadata.namespace) != null ? _a : \"default\",\n        kind: entity.kind,\n        name: entity.metadata.name\n      }),\n      color: \"primary\"\n    }, \"Read Docs\")));\n  }));\n};\n\nvar DocsCardGrid$2 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  DocsCardGrid: DocsCardGrid$1\n});\n\nconst panels = {\n  DocsTable: DocsTable$1,\n  DocsCardGrid: DocsCardGrid$1\n};\nconst CustomPanel = ({\n  config,\n  entities,\n  index\n}) => {\n  const useStyles = makeStyles({\n    panelContainer: {\n      marginBottom: \"2rem\",\n      ...config.panelCSS ? config.panelCSS : {}\n    }\n  });\n  const classes = useStyles();\n  const Panel = panels[config.panelType];\n  const shownEntities = entities.filter(config.filterPredicate);\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(ContentHeader, {\n    title: config.title,\n    description: config.description\n  }, index === 0 ? /* @__PURE__ */ React.createElement(SupportButton, null, \"Discover documentation in your ecosystem.\") : null), /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.panelContainer\n  }, /* @__PURE__ */ React.createElement(Panel, {\n    entities: shownEntities\n  })));\n};\nconst TechDocsCustomHome$1 = ({\n  tabsConfig\n}) => {\n  var _a;\n  const [selectedTab, setSelectedTab] = useState(0);\n  const catalogApi = useApi(catalogApiRef);\n  const configApi = useApi(configApiRef);\n  const {value: entities, loading, error} = useAsync(async () => {\n    const response = await catalogApi.getEntities();\n    return response.items.filter((entity) => {\n      var _a2;\n      return !!((_a2 = entity.metadata.annotations) == null ? void 0 : _a2[\"backstage.io/techdocs-ref\"]);\n    });\n  });\n  const generatedSubtitle = `Documentation available in ${(_a = configApi.getOptionalString(\"organization.name\")) != null ? _a : \"Backstage\"}`;\n  const currentTabConfig = tabsConfig[selectedTab];\n  if (loading) {\n    return /* @__PURE__ */ React.createElement(Page, {\n      themeId: \"documentation\"\n    }, /* @__PURE__ */ React.createElement(Header, {\n      title: \"Documentation\",\n      subtitle: generatedSubtitle\n    }), /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(Progress, null)));\n  }\n  if (error) {\n    return /* @__PURE__ */ React.createElement(Page, {\n      themeId: \"documentation\"\n    }, /* @__PURE__ */ React.createElement(Header, {\n      title: \"Documentation\",\n      subtitle: generatedSubtitle\n    }), /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(WarningPanel, {\n      severity: \"error\",\n      title: \"Could not load available documentation.\"\n    }, /* @__PURE__ */ React.createElement(CodeSnippet, {\n      language: \"text\",\n      text: error.toString()\n    }))));\n  }\n  return /* @__PURE__ */ React.createElement(Page, {\n    themeId: \"documentation\"\n  }, /* @__PURE__ */ React.createElement(Header, {\n    title: \"Documentation\",\n    subtitle: generatedSubtitle\n  }), /* @__PURE__ */ React.createElement(HeaderTabs, {\n    selectedIndex: selectedTab,\n    onChange: (index) => setSelectedTab(index),\n    tabs: tabsConfig.map(({label}, index) => ({\n      id: index.toString(),\n      label\n    }))\n  }), /* @__PURE__ */ React.createElement(Content, null, currentTabConfig.panels.map((config, index) => /* @__PURE__ */ React.createElement(CustomPanel, {\n    key: index,\n    config,\n    entities: !!entities ? entities : [],\n    index\n  }))));\n};\n\nvar TechDocsCustomHome$2 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  TechDocsCustomHome: TechDocsCustomHome$1\n});\n\nconst TechDocsHome = () => {\n  const {value: user} = useOwnUser();\n  const tabsConfig = [\n    {\n      label: \"Overview\",\n      panels: [\n        {\n          title: \"Overview\",\n          description: \"Explore your internal technical ecosystem through documentation.\",\n          panelType: \"DocsCardGrid\",\n          filterPredicate: () => true\n        }\n      ]\n    },\n    {\n      label: \"Owned Documents\",\n      panels: [\n        {\n          title: \"Owned documents\",\n          description: \"Access your documentation.\",\n          panelType: \"DocsTable\",\n          filterPredicate: (entity) => {\n            if (!user) {\n              return false;\n            }\n            return isOwnerOf(user, entity);\n          }\n        }\n      ]\n    }\n  ];\n  return /* @__PURE__ */ React.createElement(TechDocsCustomHome$1, {\n    tabsConfig\n  });\n};\n\nconst TechDocsPageHeader = ({\n  entityId,\n  metadataRequest\n}) => {\n  const {\n    techdocs: techdocsMetadata,\n    entity: entityMetadata\n  } = metadataRequest;\n  const {value: techdocsMetadataValues} = techdocsMetadata;\n  const {value: entityMetadataValues} = entityMetadata;\n  const {name} = entityId;\n  const {site_name: siteName, site_description: siteDescription} = techdocsMetadataValues || {};\n  const {\n    locationMetadata,\n    spec: {lifecycle}\n  } = entityMetadataValues || {spec: {}};\n  const ownedByRelations = entityMetadataValues ? getEntityRelations(entityMetadataValues, RELATION_OWNED_BY) : [];\n  const docsRootLink = useRouteRef(rootRouteRef)();\n  const labels = /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(HeaderLabel, {\n    label: \"Component\",\n    value: /* @__PURE__ */ React.createElement(EntityRefLink, {\n      color: \"inherit\",\n      entityRef: entityId,\n      defaultKind: \"Component\"\n    })\n  }), ownedByRelations.length > 0 && /* @__PURE__ */ React.createElement(HeaderLabel, {\n    label: \"Owner\",\n    value: /* @__PURE__ */ React.createElement(EntityRefLinks, {\n      color: \"inherit\",\n      entityRefs: ownedByRelations,\n      defaultKind: \"group\"\n    })\n  }), lifecycle ? /* @__PURE__ */ React.createElement(HeaderLabel, {\n    label: \"Lifecycle\",\n    value: lifecycle\n  }) : null, locationMetadata && locationMetadata.type !== \"dir\" && locationMetadata.type !== \"file\" ? /* @__PURE__ */ React.createElement(HeaderLabel, {\n    label: \"\",\n    value: /* @__PURE__ */ React.createElement(\"a\", {\n      href: locationMetadata.target,\n      target: \"_blank\",\n      rel: \"noopener noreferrer\"\n    }, /* @__PURE__ */ React.createElement(CodeIcon, {\n      style: {marginTop: \"-25px\", fill: \"#fff\"}\n    }))\n  }) : null);\n  return /* @__PURE__ */ React.createElement(Header, {\n    title: siteName ? siteName : \".\",\n    pageTitleOverride: siteName || name,\n    subtitle: siteDescription && siteDescription !== \"None\" ? siteDescription : \"\",\n    type: \"Docs\",\n    typeLink: docsRootLink\n  }, labels);\n};\n\nconst TechDocsPage = () => {\n  const [documentReady, setDocumentReady] = useState(false);\n  const {namespace, kind, name} = useParams();\n  const techdocsApi = useApi(techdocsApiRef);\n  const techdocsMetadataRequest = useAsync(() => {\n    if (documentReady) {\n      return techdocsApi.getTechDocsMetadata({kind, namespace, name});\n    }\n    return Promise.resolve(void 0);\n  }, [kind, namespace, name, techdocsApi, documentReady]);\n  const entityMetadataRequest = useAsync(() => {\n    return techdocsApi.getEntityMetadata({kind, namespace, name});\n  }, [kind, namespace, name, techdocsApi]);\n  const onReady = useCallback(() => {\n    setDocumentReady(true);\n  }, [setDocumentReady]);\n  return /* @__PURE__ */ React.createElement(Page, {\n    themeId: \"documentation\"\n  }, /* @__PURE__ */ React.createElement(TechDocsPageHeader, {\n    metadataRequest: {\n      techdocs: techdocsMetadataRequest,\n      entity: entityMetadataRequest\n    },\n    entityId: {\n      kind,\n      namespace,\n      name\n    }\n  }), /* @__PURE__ */ React.createElement(Content, {\n    \"data-testid\": \"techdocs-content\"\n  }, /* @__PURE__ */ React.createElement(Reader, {\n    onReady,\n    entityId: {\n      kind,\n      namespace,\n      name\n    }\n  })));\n};\n\nvar TechDocsPage$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  TechDocsPage: TechDocsPage\n});\n\nconst EntityPageDocs = ({entity}) => {\n  var _a;\n  return /* @__PURE__ */ React.createElement(Reader, {\n    entityId: {\n      kind: entity.kind,\n      namespace: (_a = entity.metadata.namespace) != null ? _a : \"default\",\n      name: entity.metadata.name\n    }\n  });\n};\n\nconst TECHDOCS_ANNOTATION = \"backstage.io/techdocs-ref\";\nconst Router = () => {\n  return /* @__PURE__ */ React.createElement(Routes, null, /* @__PURE__ */ React.createElement(Route, {\n    path: `/${rootRouteRef.path}`,\n    element: /* @__PURE__ */ React.createElement(TechDocsHome, null)\n  }), /* @__PURE__ */ React.createElement(Route, {\n    path: `/${rootDocsRouteRef.path}`,\n    element: /* @__PURE__ */ React.createElement(TechDocsPage, null)\n  }));\n};\nconst EmbeddedDocsRouter = (_props) => {\n  var _a;\n  const {entity} = useEntity();\n  const projectId = (_a = entity.metadata.annotations) == null ? void 0 : _a[TECHDOCS_ANNOTATION];\n  if (!projectId) {\n    return /* @__PURE__ */ React.createElement(MissingAnnotationEmptyState, {\n      annotation: TECHDOCS_ANNOTATION\n    });\n  }\n  return /* @__PURE__ */ React.createElement(Routes, null, /* @__PURE__ */ React.createElement(Route, {\n    path: `/${rootCatalogDocsRouteRef.path}`,\n    element: /* @__PURE__ */ React.createElement(EntityPageDocs, {\n      entity\n    })\n  }));\n};\n\nvar Router$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  Router: Router,\n  EmbeddedDocsRouter: EmbeddedDocsRouter\n});\n\nexport { DocsCardGrid, DocsTable, EmbeddedDocsRouter, EntityTechdocsContent, Reader, Router, TechDocsClient, TechDocsCustomHome, TechDocsReaderPage, TechDocsStorageClient, TechdocsPage, techdocsPlugin as plugin, techdocsApiRef, techdocsPlugin, techdocsStorageApiRef };\n//# sourceMappingURL=index.esm.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reportTypeError = exports.checkDataTypes = exports.checkDataType = exports.coerceAndCheckDataType = exports.getJSONTypes = exports.getSchemaTypes = exports.DataType = void 0;\nconst rules_1 = require(\"../rules\");\nconst applicability_1 = require(\"./applicability\");\nconst errors_1 = require(\"../errors\");\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nvar DataType;\n(function (DataType) {\n    DataType[DataType[\"Correct\"] = 0] = \"Correct\";\n    DataType[DataType[\"Wrong\"] = 1] = \"Wrong\";\n})(DataType = exports.DataType || (exports.DataType = {}));\nfunction getSchemaTypes(schema) {\n    const types = getJSONTypes(schema.type);\n    const hasNull = types.includes(\"null\");\n    if (hasNull) {\n        if (schema.nullable === false)\n            throw new Error(\"type: null contradicts nullable: false\");\n    }\n    else {\n        if (!types.length && schema.nullable !== undefined) {\n            throw new Error('\"nullable\" cannot be used without \"type\"');\n        }\n        if (schema.nullable === true)\n            types.push(\"null\");\n    }\n    return types;\n}\nexports.getSchemaTypes = getSchemaTypes;\nfunction getJSONTypes(ts) {\n    const types = Array.isArray(ts) ? ts : ts ? [ts] : [];\n    if (types.every(rules_1.isJSONType))\n        return types;\n    throw new Error(\"type must be JSONType or JSONType[]: \" + types.join(\",\"));\n}\nexports.getJSONTypes = getJSONTypes;\nfunction coerceAndCheckDataType(it, types) {\n    const { gen, data, opts } = it;\n    const coerceTo = coerceToTypes(types, opts.coerceTypes);\n    const checkTypes = types.length > 0 &&\n        !(coerceTo.length === 0 && types.length === 1 && applicability_1.schemaHasRulesForType(it, types[0]));\n    if (checkTypes) {\n        const wrongType = checkDataTypes(types, data, opts.strict, DataType.Wrong);\n        gen.if(wrongType, () => {\n            if (coerceTo.length)\n                coerceData(it, types, coerceTo);\n            else\n                reportTypeError(it);\n        });\n    }\n    return checkTypes;\n}\nexports.coerceAndCheckDataType = coerceAndCheckDataType;\nconst COERCIBLE = new Set([\"string\", \"number\", \"integer\", \"boolean\", \"null\"]);\nfunction coerceToTypes(types, coerceTypes) {\n    return coerceTypes\n        ? types.filter((t) => COERCIBLE.has(t) || (coerceTypes === \"array\" && t === \"array\"))\n        : [];\n}\nfunction coerceData(it, types, coerceTo) {\n    const { gen, data, opts } = it;\n    const dataType = gen.let(\"dataType\", codegen_1._ `typeof ${data}`);\n    const coerced = gen.let(\"coerced\", codegen_1._ `undefined`);\n    if (opts.coerceTypes === \"array\") {\n        gen.if(codegen_1._ `${dataType} == 'object' && Array.isArray(${data}) && ${data}.length == 1`, () => gen\n            .assign(data, codegen_1._ `${data}[0]`)\n            .assign(dataType, codegen_1._ `typeof ${data}`)\n            .if(checkDataTypes(types, data, opts.strict), () => gen.assign(coerced, data)));\n    }\n    gen.if(codegen_1._ `${coerced} !== undefined`);\n    for (const t of coerceTo) {\n        if (COERCIBLE.has(t) || (t === \"array\" && opts.coerceTypes === \"array\")) {\n            coerceSpecificType(t);\n        }\n    }\n    gen.else();\n    reportTypeError(it);\n    gen.endIf();\n    gen.if(codegen_1._ `${coerced} !== undefined`, () => {\n        gen.assign(data, coerced);\n        assignParentData(it, coerced);\n    });\n    function coerceSpecificType(t) {\n        switch (t) {\n            case \"string\":\n                gen\n                    .elseIf(codegen_1._ `${dataType} == \"number\" || ${dataType} == \"boolean\"`)\n                    .assign(coerced, codegen_1._ `\"\" + ${data}`)\n                    .elseIf(codegen_1._ `${data} === null`)\n                    .assign(coerced, codegen_1._ `\"\"`);\n                return;\n            case \"number\":\n                gen\n                    .elseIf(codegen_1._ `${dataType} == \"boolean\" || ${data} === null\n              || (${dataType} == \"string\" && ${data} && ${data} == +${data})`)\n                    .assign(coerced, codegen_1._ `+${data}`);\n                return;\n            case \"integer\":\n                gen\n                    .elseIf(codegen_1._ `${dataType} === \"boolean\" || ${data} === null\n              || (${dataType} === \"string\" && ${data} && ${data} == +${data} && !(${data} % 1))`)\n                    .assign(coerced, codegen_1._ `+${data}`);\n                return;\n            case \"boolean\":\n                gen\n                    .elseIf(codegen_1._ `${data} === \"false\" || ${data} === 0 || ${data} === null`)\n                    .assign(coerced, false)\n                    .elseIf(codegen_1._ `${data} === \"true\" || ${data} === 1`)\n                    .assign(coerced, true);\n                return;\n            case \"null\":\n                gen.elseIf(codegen_1._ `${data} === \"\" || ${data} === 0 || ${data} === false`);\n                gen.assign(coerced, null);\n                return;\n            case \"array\":\n                gen\n                    .elseIf(codegen_1._ `${dataType} === \"string\" || ${dataType} === \"number\"\n              || ${dataType} === \"boolean\" || ${data} === null`)\n                    .assign(coerced, codegen_1._ `[${data}]`);\n        }\n    }\n}\nfunction assignParentData({ gen, parentData, parentDataProperty }, expr) {\n    // TODO use gen.property\n    gen.if(codegen_1._ `${parentData} !== undefined`, () => gen.assign(codegen_1._ `${parentData}[${parentDataProperty}]`, expr));\n}\nfunction checkDataType(dataType, data, strictNums, correct = DataType.Correct) {\n    const EQ = correct === DataType.Correct ? codegen_1.operators.EQ : codegen_1.operators.NEQ;\n    let cond;\n    switch (dataType) {\n        case \"null\":\n            return codegen_1._ `${data} ${EQ} null`;\n        case \"array\":\n            cond = codegen_1._ `Array.isArray(${data})`;\n            break;\n        case \"object\":\n            cond = codegen_1._ `${data} && typeof ${data} == \"object\" && !Array.isArray(${data})`;\n            break;\n        case \"integer\":\n            cond = numCond(codegen_1._ `!(${data} % 1) && !isNaN(${data})`);\n            break;\n        case \"number\":\n            cond = numCond();\n            break;\n        default:\n            return codegen_1._ `typeof ${data} ${EQ} ${dataType}`;\n    }\n    return correct === DataType.Correct ? cond : codegen_1.not(cond);\n    function numCond(_cond = codegen_1.nil) {\n        return codegen_1.and(codegen_1._ `typeof ${data} == \"number\"`, _cond, strictNums ? codegen_1._ `isFinite(${data})` : codegen_1.nil);\n    }\n}\nexports.checkDataType = checkDataType;\nfunction checkDataTypes(dataTypes, data, strictNums, correct) {\n    if (dataTypes.length === 1) {\n        return checkDataType(dataTypes[0], data, strictNums, correct);\n    }\n    let cond;\n    const types = util_1.toHash(dataTypes);\n    if (types.array && types.object) {\n        const notObj = codegen_1._ `typeof ${data} != \"object\"`;\n        cond = types.null ? notObj : codegen_1._ `!${data} || ${notObj}`;\n        delete types.null;\n        delete types.array;\n        delete types.object;\n    }\n    else {\n        cond = codegen_1.nil;\n    }\n    if (types.number)\n        delete types.integer;\n    for (const t in types)\n        cond = codegen_1.and(cond, checkDataType(t, data, strictNums, correct));\n    return cond;\n}\nexports.checkDataTypes = checkDataTypes;\nconst typeError = {\n    message: ({ schema }) => codegen_1.str `should be ${schema}`,\n    params: ({ schema, schemaValue }) => typeof schema == \"string\" ? codegen_1._ `{type: ${schema}}` : codegen_1._ `{type: ${schemaValue}}`,\n};\nfunction reportTypeError(it) {\n    const cxt = getTypeErrorContext(it);\n    errors_1.reportError(cxt, typeError);\n}\nexports.reportTypeError = reportTypeError;\nfunction getTypeErrorContext(it) {\n    const { gen, data, schema } = it;\n    const schemaCode = util_1.schemaRefOrVal(it, schema, \"type\");\n    return {\n        gen,\n        keyword: \"type\",\n        data,\n        schema: schema.type,\n        schemaCode,\n        schemaValue: schemaCode,\n        parentSchema: schema,\n        params: {},\n        it,\n    };\n}\n//# sourceMappingURL=dataType.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.or = exports.and = exports.not = exports.CodeGen = exports.operators = exports.varKinds = exports.ValueScopeName = exports.ValueScope = exports.Scope = exports.Name = exports.stringify = exports.getProperty = exports.nil = exports.strConcat = exports.str = exports._ = void 0;\nconst code_1 = require(\"./code\");\nconst scope_1 = require(\"./scope\");\nvar code_2 = require(\"./code\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return code_2._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return code_2.str; } });\nObject.defineProperty(exports, \"strConcat\", { enumerable: true, get: function () { return code_2.strConcat; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return code_2.nil; } });\nObject.defineProperty(exports, \"getProperty\", { enumerable: true, get: function () { return code_2.getProperty; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return code_2.stringify; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return code_2.Name; } });\nvar scope_2 = require(\"./scope\");\nObject.defineProperty(exports, \"Scope\", { enumerable: true, get: function () { return scope_2.Scope; } });\nObject.defineProperty(exports, \"ValueScope\", { enumerable: true, get: function () { return scope_2.ValueScope; } });\nObject.defineProperty(exports, \"ValueScopeName\", { enumerable: true, get: function () { return scope_2.ValueScopeName; } });\nObject.defineProperty(exports, \"varKinds\", { enumerable: true, get: function () { return scope_2.varKinds; } });\nexports.operators = {\n    GT: new code_1._Code(\">\"),\n    GTE: new code_1._Code(\">=\"),\n    LT: new code_1._Code(\"<\"),\n    LTE: new code_1._Code(\"<=\"),\n    EQ: new code_1._Code(\"===\"),\n    NEQ: new code_1._Code(\"!==\"),\n    NOT: new code_1._Code(\"!\"),\n    OR: new code_1._Code(\"||\"),\n    AND: new code_1._Code(\"&&\"),\n    ADD: new code_1._Code(\"+\"),\n};\nclass Node {\n    optimizeNodes() {\n        return this;\n    }\n    optimizeNames(_names, _constants) {\n        return this;\n    }\n}\nclass Def extends Node {\n    constructor(varKind, name, rhs) {\n        super();\n        this.varKind = varKind;\n        this.name = name;\n        this.rhs = rhs;\n    }\n    render({ es5, _n }) {\n        const varKind = es5 ? scope_1.varKinds.var : this.varKind;\n        const rhs = this.rhs === undefined ? \"\" : ` = ${this.rhs}`;\n        return `${varKind} ${this.name}${rhs};` + _n;\n    }\n    optimizeNames(names, constants) {\n        if (!names[this.name.str])\n            return;\n        if (this.rhs)\n            this.rhs = optimizeExpr(this.rhs, names, constants);\n        return this;\n    }\n    get names() {\n        return this.rhs instanceof code_1._CodeOrName ? this.rhs.names : {};\n    }\n}\nclass Assign extends Node {\n    constructor(lhs, rhs, sideEffects) {\n        super();\n        this.lhs = lhs;\n        this.rhs = rhs;\n        this.sideEffects = sideEffects;\n    }\n    render({ _n }) {\n        return `${this.lhs} = ${this.rhs};` + _n;\n    }\n    optimizeNames(names, constants) {\n        if (this.lhs instanceof code_1.Name && !names[this.lhs.str] && !this.sideEffects)\n            return;\n        this.rhs = optimizeExpr(this.rhs, names, constants);\n        return this;\n    }\n    get names() {\n        const names = this.lhs instanceof code_1.Name ? {} : { ...this.lhs.names };\n        return addExprNames(names, this.rhs);\n    }\n}\nclass AssignOp extends Assign {\n    constructor(lhs, op, rhs, sideEffects) {\n        super(lhs, rhs, sideEffects);\n        this.op = op;\n    }\n    render({ _n }) {\n        return `${this.lhs} ${this.op}= ${this.rhs};` + _n;\n    }\n}\nclass Label extends Node {\n    constructor(label) {\n        super();\n        this.label = label;\n        this.names = {};\n    }\n    render({ _n }) {\n        return `${this.label}:` + _n;\n    }\n}\nclass Break extends Node {\n    constructor(label) {\n        super();\n        this.label = label;\n        this.names = {};\n    }\n    render({ _n }) {\n        const label = this.label ? ` ${this.label}` : \"\";\n        return `break${label};` + _n;\n    }\n}\nclass Throw extends Node {\n    constructor(error) {\n        super();\n        this.error = error;\n    }\n    render({ _n }) {\n        return `throw ${this.error};` + _n;\n    }\n    get names() {\n        return this.error.names;\n    }\n}\nclass AnyCode extends Node {\n    constructor(code) {\n        super();\n        this.code = code;\n    }\n    render({ _n }) {\n        return `${this.code};` + _n;\n    }\n    optimizeNodes() {\n        return `${this.code}` ? this : undefined;\n    }\n    optimizeNames(names, constants) {\n        this.code = optimizeExpr(this.code, names, constants);\n        return this;\n    }\n    get names() {\n        return this.code instanceof code_1._CodeOrName ? this.code.names : {};\n    }\n}\nclass ParentNode extends Node {\n    constructor(nodes = []) {\n        super();\n        this.nodes = nodes;\n    }\n    render(opts) {\n        return this.nodes.reduce((code, n) => code + n.render(opts), \"\");\n    }\n    optimizeNodes() {\n        const { nodes } = this;\n        let i = nodes.length;\n        while (i--) {\n            const n = nodes[i].optimizeNodes();\n            if (Array.isArray(n))\n                nodes.splice(i, 1, ...n);\n            else if (n)\n                nodes[i] = n;\n            else\n                nodes.splice(i, 1);\n        }\n        return nodes.length > 0 ? this : undefined;\n    }\n    optimizeNames(names, constants) {\n        const { nodes } = this;\n        let i = nodes.length;\n        while (i--) {\n            // iterating backwards improves 1-pass optimization\n            const n = nodes[i];\n            if (n.optimizeNames(names, constants))\n                continue;\n            subtractNames(names, n.names);\n            nodes.splice(i, 1);\n        }\n        return nodes.length > 0 ? this : undefined;\n    }\n    get names() {\n        return this.nodes.reduce((names, n) => addNames(names, n.names), {});\n    }\n}\nclass BlockNode extends ParentNode {\n    render(opts) {\n        return \"{\" + opts._n + super.render(opts) + \"}\" + opts._n;\n    }\n}\nclass Root extends ParentNode {\n}\nclass Else extends BlockNode {\n}\nElse.kind = \"else\";\nclass If extends BlockNode {\n    constructor(condition, nodes) {\n        super(nodes);\n        this.condition = condition;\n    }\n    render(opts) {\n        let code = `if(${this.condition})` + super.render(opts);\n        if (this.else)\n            code += \"else \" + this.else.render(opts);\n        return code;\n    }\n    optimizeNodes() {\n        super.optimizeNodes();\n        const cond = this.condition;\n        if (cond === true)\n            return this.nodes; // else is ignored here\n        let e = this.else;\n        if (e) {\n            const ns = e.optimizeNodes();\n            e = this.else = Array.isArray(ns) ? new Else(ns) : ns;\n        }\n        if (e) {\n            if (cond === false)\n                return e instanceof If ? e : e.nodes;\n            if (this.nodes.length)\n                return this;\n            return new If(not(cond), e instanceof If ? [e] : e.nodes);\n        }\n        if (cond === false || !this.nodes.length)\n            return undefined;\n        return this;\n    }\n    optimizeNames(names, constants) {\n        var _a;\n        this.else = (_a = this.else) === null || _a === void 0 ? void 0 : _a.optimizeNames(names, constants);\n        if (!(super.optimizeNames(names, constants) || this.else))\n            return;\n        this.condition = optimizeExpr(this.condition, names, constants);\n        return this;\n    }\n    get names() {\n        const names = super.names;\n        addExprNames(names, this.condition);\n        if (this.else)\n            addNames(names, this.else.names);\n        return names;\n    }\n}\nIf.kind = \"if\";\nclass For extends BlockNode {\n}\nFor.kind = \"for\";\nclass ForLoop extends For {\n    constructor(iteration) {\n        super();\n        this.iteration = iteration;\n    }\n    render(opts) {\n        return `for(${this.iteration})` + super.render(opts);\n    }\n    optimizeNames(names, constants) {\n        if (!super.optimizeNames(names, constants))\n            return;\n        this.iteration = optimizeExpr(this.iteration, names, constants);\n        return this;\n    }\n    get names() {\n        return addNames(super.names, this.iteration.names);\n    }\n}\nclass ForRange extends For {\n    constructor(varKind, name, from, to) {\n        super();\n        this.varKind = varKind;\n        this.name = name;\n        this.from = from;\n        this.to = to;\n    }\n    render(opts) {\n        const varKind = opts.es5 ? scope_1.varKinds.var : this.varKind;\n        const { name, from, to } = this;\n        return `for(${varKind} ${name}=${from}; ${name}<${to}; ${name}++)` + super.render(opts);\n    }\n    get names() {\n        const names = addExprNames(super.names, this.from);\n        return addExprNames(names, this.to);\n    }\n}\nclass ForIter extends For {\n    constructor(loop, varKind, name, iterable) {\n        super();\n        this.loop = loop;\n        this.varKind = varKind;\n        this.name = name;\n        this.iterable = iterable;\n    }\n    render(opts) {\n        return `for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})` + super.render(opts);\n    }\n    optimizeNames(names, constants) {\n        if (!super.optimizeNames(names, constants))\n            return;\n        this.iterable = optimizeExpr(this.iterable, names, constants);\n        return this;\n    }\n    get names() {\n        return addNames(super.names, this.iterable.names);\n    }\n}\nclass Func extends BlockNode {\n    constructor(name, args, async) {\n        super();\n        this.name = name;\n        this.args = args;\n        this.async = async;\n    }\n    render(opts) {\n        const _async = this.async ? \"async \" : \"\";\n        return `${_async}function ${this.name}(${this.args})` + super.render(opts);\n    }\n}\nFunc.kind = \"func\";\nclass Return extends ParentNode {\n    render(opts) {\n        return \"return \" + super.render(opts);\n    }\n}\nReturn.kind = \"return\";\nclass Try extends BlockNode {\n    render(opts) {\n        let code = \"try\" + super.render(opts);\n        if (this.catch)\n            code += this.catch.render(opts);\n        if (this.finally)\n            code += this.finally.render(opts);\n        return code;\n    }\n    optimizeNodes() {\n        var _a, _b;\n        super.optimizeNodes();\n        (_a = this.catch) === null || _a === void 0 ? void 0 : _a.optimizeNodes();\n        (_b = this.finally) === null || _b === void 0 ? void 0 : _b.optimizeNodes();\n        return this;\n    }\n    optimizeNames(names, constants) {\n        var _a, _b;\n        super.optimizeNames(names, constants);\n        (_a = this.catch) === null || _a === void 0 ? void 0 : _a.optimizeNames(names, constants);\n        (_b = this.finally) === null || _b === void 0 ? void 0 : _b.optimizeNames(names, constants);\n        return this;\n    }\n    get names() {\n        const names = super.names;\n        if (this.catch)\n            addNames(names, this.catch.names);\n        if (this.finally)\n            addNames(names, this.finally.names);\n        return names;\n    }\n}\nclass Catch extends BlockNode {\n    constructor(error) {\n        super();\n        this.error = error;\n    }\n    render(opts) {\n        return `catch(${this.error})` + super.render(opts);\n    }\n}\nCatch.kind = \"catch\";\nclass Finally extends BlockNode {\n    render(opts) {\n        return \"finally\" + super.render(opts);\n    }\n}\nFinally.kind = \"finally\";\nclass CodeGen {\n    constructor(extScope, opts = {}) {\n        this._values = {};\n        this._blockStarts = [];\n        this._constants = {};\n        this.opts = { ...opts, _n: opts.lines ? \"\\n\" : \"\" };\n        this._extScope = extScope;\n        this._scope = new scope_1.Scope({ parent: extScope });\n        this._nodes = [new Root()];\n    }\n    toString() {\n        return this._root.render(this.opts);\n    }\n    // returns unique name in the internal scope\n    name(prefix) {\n        return this._scope.name(prefix);\n    }\n    // reserves unique name in the external scope\n    scopeName(prefix) {\n        return this._extScope.name(prefix);\n    }\n    // reserves unique name in the external scope and assigns value to it\n    scopeValue(prefixOrName, value) {\n        const name = this._extScope.value(prefixOrName, value);\n        const vs = this._values[name.prefix] || (this._values[name.prefix] = new Set());\n        vs.add(name);\n        return name;\n    }\n    getScopeValue(prefix, keyOrRef) {\n        return this._extScope.getValue(prefix, keyOrRef);\n    }\n    // return code that assigns values in the external scope to the names that are used internally\n    // (same names that were returned by gen.scopeName or gen.scopeValue)\n    scopeRefs(scopeName) {\n        return this._extScope.scopeRefs(scopeName, this._values);\n    }\n    scopeCode() {\n        return this._extScope.scopeCode(this._values);\n    }\n    _def(varKind, nameOrPrefix, rhs, constant) {\n        const name = this._scope.toName(nameOrPrefix);\n        if (rhs !== undefined && constant)\n            this._constants[name.str] = rhs;\n        this._leafNode(new Def(varKind, name, rhs));\n        return name;\n    }\n    // `const` declaration (`var` in es5 mode)\n    const(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.const, nameOrPrefix, rhs, _constant);\n    }\n    // `let` declaration with optional assignment (`var` in es5 mode)\n    let(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.let, nameOrPrefix, rhs, _constant);\n    }\n    // `var` declaration with optional assignment\n    var(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.var, nameOrPrefix, rhs, _constant);\n    }\n    // assignment code\n    assign(lhs, rhs, sideEffects) {\n        return this._leafNode(new Assign(lhs, rhs, sideEffects));\n    }\n    // `+=` code\n    add(lhs, rhs) {\n        return this._leafNode(new AssignOp(lhs, exports.operators.ADD, rhs));\n    }\n    // appends passed SafeExpr to code or executes Block\n    code(c) {\n        if (typeof c == \"function\")\n            c();\n        else if (c !== code_1.nil)\n            this._leafNode(new AnyCode(c));\n        return this;\n    }\n    // returns code for object literal for the passed argument list of key-value pairs\n    object(...keyValues) {\n        const code = [\"{\"];\n        for (const [key, value] of keyValues) {\n            if (code.length > 1)\n                code.push(\",\");\n            code.push(key);\n            if (key !== value || this.opts.es5) {\n                code.push(\":\");\n                code_1.addCodeArg(code, value);\n            }\n        }\n        code.push(\"}\");\n        return new code_1._Code(code);\n    }\n    // `if` clause (or statement if `thenBody` and, optionally, `elseBody` are passed)\n    if(condition, thenBody, elseBody) {\n        this._blockNode(new If(condition));\n        if (thenBody && elseBody) {\n            this.code(thenBody).else().code(elseBody).endIf();\n        }\n        else if (thenBody) {\n            this.code(thenBody).endIf();\n        }\n        else if (elseBody) {\n            throw new Error('CodeGen: \"else\" body without \"then\" body');\n        }\n        return this;\n    }\n    // `else if` clause - invalid without `if` or after `else` clauses\n    elseIf(condition) {\n        return this._elseNode(new If(condition));\n    }\n    // `else` clause - only valid after `if` or `else if` clauses\n    else() {\n        return this._elseNode(new Else());\n    }\n    // end `if` statement (needed if gen.if was used only with condition)\n    endIf() {\n        return this._endBlockNode(If, Else);\n    }\n    _for(node, forBody) {\n        this._blockNode(node);\n        if (forBody)\n            this.code(forBody).endFor();\n        return this;\n    }\n    // a generic `for` clause (or statement if `forBody` is passed)\n    for(iteration, forBody) {\n        return this._for(new ForLoop(iteration), forBody);\n    }\n    // `for` statement for a range of values\n    forRange(nameOrPrefix, from, to, forBody, varKind = this.opts.es5 ? scope_1.varKinds.var : scope_1.varKinds.let) {\n        const name = this._scope.toName(nameOrPrefix);\n        return this._for(new ForRange(varKind, name, from, to), () => forBody(name));\n    }\n    // `for-of` statement (in es5 mode replace with a normal for loop)\n    forOf(nameOrPrefix, iterable, forBody, varKind = scope_1.varKinds.const) {\n        const name = this._scope.toName(nameOrPrefix);\n        if (this.opts.es5) {\n            const arr = iterable instanceof code_1.Name ? iterable : this.var(\"_arr\", iterable);\n            return this.forRange(\"_i\", 0, code_1._ `${arr}.length`, (i) => {\n                this.var(name, code_1._ `${arr}[${i}]`);\n                forBody(name);\n            });\n        }\n        return this._for(new ForIter(\"of\", varKind, name, iterable), () => forBody(name));\n    }\n    // `for-in` statement.\n    // With option `ownProperties` replaced with a `for-of` loop for object keys\n    forIn(nameOrPrefix, obj, forBody, varKind = this.opts.es5 ? scope_1.varKinds.var : scope_1.varKinds.const) {\n        if (this.opts.ownProperties) {\n            return this.forOf(nameOrPrefix, code_1._ `Object.keys(${obj})`, forBody);\n        }\n        const name = this._scope.toName(nameOrPrefix);\n        return this._for(new ForIter(\"in\", varKind, name, obj), () => forBody(name));\n    }\n    // end `for` loop\n    endFor() {\n        return this._endBlockNode(For);\n    }\n    // `label` statement\n    label(label) {\n        return this._leafNode(new Label(label));\n    }\n    // `break` statement\n    break(label) {\n        return this._leafNode(new Break(label));\n    }\n    // `return` statement\n    return(value) {\n        const node = new Return();\n        this._blockNode(node);\n        this.code(value);\n        if (node.nodes.length !== 1)\n            throw new Error('CodeGen: \"return\" should have one node');\n        return this._endBlockNode(Return);\n    }\n    // `try` statement\n    try(tryBody, catchCode, finallyCode) {\n        if (!catchCode && !finallyCode)\n            throw new Error('CodeGen: \"try\" without \"catch\" and \"finally\"');\n        const node = new Try();\n        this._blockNode(node);\n        this.code(tryBody);\n        if (catchCode) {\n            const error = this.name(\"e\");\n            this._currNode = node.catch = new Catch(error);\n            catchCode(error);\n        }\n        if (finallyCode) {\n            this._currNode = node.finally = new Finally();\n            this.code(finallyCode);\n        }\n        return this._endBlockNode(Catch, Finally);\n    }\n    // `throw` statement\n    throw(error) {\n        return this._leafNode(new Throw(error));\n    }\n    // start self-balancing block\n    block(body, nodeCount) {\n        this._blockStarts.push(this._nodes.length);\n        if (body)\n            this.code(body).endBlock(nodeCount);\n        return this;\n    }\n    // end the current self-balancing block\n    endBlock(nodeCount) {\n        const len = this._blockStarts.pop();\n        if (len === undefined)\n            throw new Error(\"CodeGen: not in self-balancing block\");\n        const toClose = this._nodes.length - len;\n        if (toClose < 0 || (nodeCount !== undefined && toClose !== nodeCount)) {\n            throw new Error(`CodeGen: wrong number of nodes: ${toClose} vs ${nodeCount} expected`);\n        }\n        this._nodes.length = len;\n        return this;\n    }\n    // `function` heading (or definition if funcBody is passed)\n    func(name, args = code_1.nil, async, funcBody) {\n        this._blockNode(new Func(name, args, async));\n        if (funcBody)\n            this.code(funcBody).endFunc();\n        return this;\n    }\n    // end function definition\n    endFunc() {\n        return this._endBlockNode(Func);\n    }\n    optimize(n = 1) {\n        while (n-- > 0) {\n            this._root.optimizeNodes();\n            this._root.optimizeNames(this._root.names, this._constants);\n        }\n    }\n    _leafNode(node) {\n        this._currNode.nodes.push(node);\n        return this;\n    }\n    _blockNode(node) {\n        this._currNode.nodes.push(node);\n        this._nodes.push(node);\n    }\n    _endBlockNode(N1, N2) {\n        const n = this._currNode;\n        if (n instanceof N1 || (N2 && n instanceof N2)) {\n            this._nodes.pop();\n            return this;\n        }\n        throw new Error(`CodeGen: not in block \"${N2 ? `${N1.kind}/${N2.kind}` : N1.kind}\"`);\n    }\n    _elseNode(node) {\n        const n = this._currNode;\n        if (!(n instanceof If)) {\n            throw new Error('CodeGen: \"else\" without \"if\"');\n        }\n        this._currNode = n.else = node;\n        return this;\n    }\n    get _root() {\n        return this._nodes[0];\n    }\n    get _currNode() {\n        const ns = this._nodes;\n        return ns[ns.length - 1];\n    }\n    set _currNode(node) {\n        const ns = this._nodes;\n        ns[ns.length - 1] = node;\n    }\n}\nexports.CodeGen = CodeGen;\nfunction addNames(names, from) {\n    for (const n in from)\n        names[n] = (names[n] || 0) + (from[n] || 0);\n    return names;\n}\nfunction addExprNames(names, from) {\n    return from instanceof code_1._CodeOrName ? addNames(names, from.names) : names;\n}\nfunction optimizeExpr(expr, names, constants) {\n    if (expr instanceof code_1.Name)\n        return replaceName(expr);\n    if (!canOptimize(expr))\n        return expr;\n    return new code_1._Code(expr._items.reduce((items, c) => {\n        if (c instanceof code_1.Name)\n            c = replaceName(c);\n        if (c instanceof code_1._Code)\n            items.push(...c._items);\n        else\n            items.push(c);\n        return items;\n    }, []));\n    function replaceName(n) {\n        const c = constants[n.str];\n        if (c === undefined || names[n.str] !== 1)\n            return n;\n        delete names[n.str];\n        return c;\n    }\n    function canOptimize(e) {\n        return (e instanceof code_1._Code &&\n            e._items.some((c) => c instanceof code_1.Name && names[c.str] === 1 && constants[c.str] !== undefined));\n    }\n}\nfunction subtractNames(names, from) {\n    for (const n in from)\n        names[n] = (names[n] || 0) - (from[n] || 0);\n}\nfunction not(x) {\n    return typeof x == \"boolean\" || typeof x == \"number\" || x === null ? !x : code_1._ `!${par(x)}`;\n}\nexports.not = not;\nconst andCode = mappend(exports.operators.AND);\n// boolean AND (&&) expression with the passed arguments\nfunction and(...args) {\n    return args.reduce(andCode);\n}\nexports.and = and;\nconst orCode = mappend(exports.operators.OR);\n// boolean OR (||) expression with the passed arguments\nfunction or(...args) {\n    return args.reduce(orCode);\n}\nexports.or = or;\nfunction mappend(op) {\n    return (x, y) => (x === code_1.nil ? y : y === code_1.nil ? x : code_1._ `${par(x)} ${op} ${par(y)}`);\n}\nfunction par(x) {\n    return x instanceof code_1.Name ? x : code_1._ `(${x})`;\n}\n//# sourceMappingURL=index.js.map","import { createMuiTheme } from '@material-ui/core';\nimport { darken, lighten } from '@material-ui/core/styles/colorManipulator';\nimport { yellow } from '@material-ui/core/colors';\n\nconst shapes = {\n  wave: `url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='1368' height='400' fill='none'%3e%3cmask id='a' width='1368' height='401' x='0' y='0' maskUnits='userSpaceOnUse'%3e%3cpath fill='url(%23paint0_linear)' d='M437 116C223 116 112 0 112 0h1256v400c-82 0-225-21-282-109-112-175-436-175-649-175z'/%3e%3cpath fill='url(%23paint1_linear)' d='M1368 400V282C891-29 788 40 711 161 608 324 121 372 0 361v39h1368z'/%3e%3cpath fill='url(%23paint2_linear)' d='M1368 244v156H0V94c92-24 198-46 375 0l135 41c176 51 195 109 858 109z'/%3e%3cpath fill='url(%23paint3_linear)' d='M1252 400h116c-14-7-35-14-116-16-663-14-837-128-1013-258l-85-61C98 28 46 8 0 0v400h1252z'/%3e%3c/mask%3e%3cg mask='url(%23a)'%3e%3cpath fill='white' d='M-172-98h1671v601H-172z'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient id='paint0_linear' x1='602' x2='1093.5' y1='-960.5' y2='272' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint1_linear' x1='482' x2='480' y1='1058.5' y2='70.5' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint2_linear' x1='424' x2='446.1' y1='-587.5' y2='274.6' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint3_linear' x1='587' x2='349' y1='-1120.5' y2='341' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e\")`,\n  wave2: `url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='1368' height='400' fill='none'%3e%3cmask id='a' width='1764' height='479' x='-229' y='-6' maskUnits='userSpaceOnUse'%3e%3cpath fill='url(%23paint0_linear)' d='M0 400h1350C1321 336 525 33 179-2c-345-34-395 236-408 402H0z'/%3e%3cpath fill='url(%23paint1_linear)' d='M1378 177v223H0V217s219 75 327 52C436 246 717-35 965 45s254 144 413 132z'/%3e%3cpath fill='url(%23paint2_linear)' d='M26 400l-78-16c-170 205-44-6-137-30l-4-1 4 1 137 30c37-45 89-110 159-201 399-514-45 238 1176-50 275-65 354-39 91 267H26z'/%3e%3c/mask%3e%3cg mask='url(%23a)'%3e%3cpath fill='white' d='M0 0h1368v400H0z'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient id='paint0_linear' x1='431' x2='397.3' y1='-599' y2='372.8' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint1_linear' x1='236.5' x2='446.6' y1='-586' y2='381.5' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint2_linear' x1='851.8' x2='640.4' y1='-867.2' y2='363.7' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e\")`,\n  round: `url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='1368' height='400' fill='none'%3e%3cmask id='a' width='2269' height='1408' x='-610' y='-509' maskUnits='userSpaceOnUse'%3e%3ccircle cx='1212.8' cy='74.8' r='317.5' fill='url(%23paint0_linear)' transform='rotate(-52 1213 75)'/%3e%3ccircle cx='737.8' cy='445.8' r='317.5' fill='url(%23paint1_linear)' transform='rotate(-116 738 446)'/%3e%3ccircle cx='601.8' cy='52.8' r='418.6' fill='url(%23paint2_linear)' transform='rotate(-117 602 53)'/%3e%3ccircle cx='999.8' cy='364' r='389.1' fill='url(%23paint3_linear)' transform='rotate(31 1000 364)'/%3e%3cellipse cx='-109.2' cy='263.5' fill='url(%23paint4_linear)' rx='429.2' ry='465.8' transform='rotate(-85 -109 264)'/%3e%3c/mask%3e%3cg mask='url(%23a)'%3e%3cpath fill='white' d='M0 0h1368v400H0z'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient id='paint0_linear' x1='1301.2' x2='161.4' y1='-1879.7' y2='-969.6' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint1_linear' x1='826.2' x2='-313.6' y1='-1508.7' y2='-598.6' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint2_linear' x1='718.4' x2='-784.3' y1='-2524' y2='-1324.2' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint3_linear' x1='1108.2' x2='-288.6' y1='-2031.1' y2='-915.9' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint4_linear' x1='10.4' x2='-1626.5' y1='-2603.8' y2='-1399.5' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e\")`\n};\nconst colorVariants = {\n  darkGrey: [\"#171717\", \"#383838\"],\n  marineBlue: [\"#006D8F\", \"#0049A1\"],\n  veryBlue: [\"#0027AF\", \"#270094\"],\n  rubyRed: [\"#98002B\", \"#8D1134\"],\n  toastyOrange: [\"#BE2200\", \"#A41D00\"],\n  purpleSky: [\"#8912CA\", \"#3E00EA\"],\n  eveningSea: [\"#00FFF2\", \"#035355\"],\n  teal: [\"#005B4B\"],\n  pinkSea: [\"#C8077A\", \"#C2297D\"]\n};\nfunction genPageTheme(colors, shape) {\n  const gradientColors = colors.length === 1 ? [colors[0], colors[0]] : colors;\n  const gradient = `linear-gradient(90deg, ${gradientColors.join(\", \")})`;\n  const backgroundImage = `${shape},  ${gradient}`;\n  return {colors, shape, backgroundImage};\n}\nconst pageTheme = {\n  home: genPageTheme(colorVariants.teal, shapes.wave),\n  documentation: genPageTheme(colorVariants.pinkSea, shapes.wave2),\n  tool: genPageTheme(colorVariants.purpleSky, shapes.round),\n  service: genPageTheme(colorVariants.marineBlue, shapes.wave),\n  website: genPageTheme(colorVariants.veryBlue, shapes.wave),\n  library: genPageTheme(colorVariants.rubyRed, shapes.wave),\n  other: genPageTheme(colorVariants.darkGrey, shapes.wave),\n  app: genPageTheme(colorVariants.toastyOrange, shapes.wave),\n  apis: genPageTheme(colorVariants.teal, shapes.wave2)\n};\n\nconst DEFAULT_FONT_FAMILY = '\"Helvetica Neue\", Helvetica, Roboto, Arial, sans-serif';\nfunction createThemeOptions(options) {\n  const {\n    palette,\n    fontFamily = DEFAULT_FONT_FAMILY,\n    defaultPageTheme,\n    pageTheme: pageTheme$1 = pageTheme\n  } = options;\n  if (!pageTheme$1[defaultPageTheme]) {\n    throw new Error(`${defaultPageTheme} is not defined in pageTheme.`);\n  }\n  return {\n    palette,\n    props: {\n      MuiGrid: {\n        spacing: 2\n      },\n      MuiSwitch: {\n        color: \"primary\"\n      }\n    },\n    typography: {\n      fontFamily,\n      h5: {\n        fontWeight: 700\n      },\n      h4: {\n        fontWeight: 700,\n        fontSize: 28,\n        marginBottom: 6\n      },\n      h3: {\n        fontSize: 32,\n        fontWeight: 700,\n        marginBottom: 6\n      },\n      h2: {\n        fontSize: 40,\n        fontWeight: 700,\n        marginBottom: 8\n      },\n      h1: {\n        fontSize: 54,\n        fontWeight: 700,\n        marginBottom: 10\n      }\n    },\n    page: pageTheme$1[defaultPageTheme],\n    getPageTheme: ({themeId}) => {\n      var _a;\n      return (_a = pageTheme$1[themeId]) != null ? _a : pageTheme$1[defaultPageTheme];\n    }\n  };\n}\nfunction createThemeOverrides(theme) {\n  return {\n    MuiCssBaseline: {\n      \"@global\": {\n        html: {\n          height: \"100%\",\n          fontFamily: theme.typography.fontFamily\n        },\n        body: {\n          height: \"100%\",\n          fontFamily: theme.typography.fontFamily,\n          \"overscroll-behavior-y\": \"none\"\n        },\n        a: {\n          color: \"inherit\",\n          textDecoration: \"none\"\n        }\n      }\n    },\n    MuiTableRow: {\n      root: {\n        \"&:nth-of-type(odd)\": {\n          backgroundColor: theme.palette.background.default\n        }\n      },\n      hover: {\n        \"&:hover\": {\n          cursor: \"pointer\"\n        }\n      },\n      head: {\n        \"&:nth-of-type(odd)\": {\n          backgroundColor: theme.palette.background.paper\n        }\n      }\n    },\n    MuiTableCell: {\n      root: {\n        wordBreak: \"break-word\",\n        overflow: \"hidden\",\n        verticalAlign: \"middle\",\n        lineHeight: \"1\",\n        margin: 0,\n        padding: theme.spacing(3, 2, 3, 2.5),\n        borderBottom: 0\n      },\n      sizeSmall: {\n        padding: theme.spacing(1.5, 2, 1.5, 2.5)\n      },\n      head: {\n        wordBreak: \"break-word\",\n        overflow: \"hidden\",\n        color: \"rgb(179, 179, 179)\",\n        fontWeight: \"normal\",\n        lineHeight: \"1\"\n      }\n    },\n    MuiTabs: {\n      root: {\n        minHeight: 24\n      }\n    },\n    MuiTab: {\n      root: {\n        color: theme.palette.link,\n        minHeight: 24,\n        textTransform: \"initial\",\n        letterSpacing: \"0.07em\",\n        \"&:hover\": {\n          color: darken(theme.palette.link, 0.3),\n          background: lighten(theme.palette.link, 0.95)\n        },\n        [theme.breakpoints.up(\"md\")]: {\n          minWidth: 120,\n          fontSize: theme.typography.pxToRem(14),\n          fontWeight: 500\n        }\n      },\n      textColorPrimary: {\n        color: theme.palette.link\n      }\n    },\n    MuiTableSortLabel: {\n      root: {\n        color: \"inherit\",\n        \"&:hover\": {\n          color: \"inherit\"\n        },\n        \"&:focus\": {\n          color: \"inherit\"\n        }\n      },\n      active: {\n        fontWeight: \"bold\",\n        color: \"inherit\"\n      }\n    },\n    MuiListItemText: {\n      dense: {\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\"\n      }\n    },\n    MuiButton: {\n      text: {\n        padding: void 0\n      }\n    },\n    MuiChip: {\n      root: {\n        backgroundColor: \"#D9D9D9\",\n        marginRight: theme.spacing(1),\n        marginBottom: theme.spacing(1),\n        color: theme.palette.grey[900]\n      },\n      outlined: {\n        color: theme.palette.text.primary\n      },\n      label: {\n        lineHeight: `${theme.spacing(2.5)}px`,\n        fontWeight: theme.typography.fontWeightMedium,\n        fontSize: `${theme.spacing(1.75)}px`\n      },\n      labelSmall: {\n        fontSize: `${theme.spacing(1.5)}px`\n      },\n      deleteIcon: {\n        color: theme.palette.grey[500],\n        width: `${theme.spacing(3)}px`,\n        height: `${theme.spacing(3)}px`,\n        margin: `0 ${theme.spacing(0.75)}px 0 -${theme.spacing(0.75)}px`\n      },\n      deleteIconSmall: {\n        width: `${theme.spacing(2)}px`,\n        height: `${theme.spacing(2)}px`,\n        margin: `0 ${theme.spacing(0.5)}px 0 -${theme.spacing(0.5)}px`\n      }\n    },\n    MuiCard: {\n      root: {\n        display: \"flex\",\n        flexDirection: \"column\"\n      }\n    },\n    MuiCardHeader: {\n      root: {\n        paddingBottom: 0\n      }\n    },\n    MuiCardContent: {\n      root: {\n        flexGrow: 1,\n        \"&:last-child\": {\n          paddingBottom: void 0\n        }\n      }\n    },\n    MuiCardActions: {\n      root: {\n        justifyContent: \"flex-end\"\n      }\n    }\n  };\n}\nfunction createTheme(options) {\n  const themeOptions = createThemeOptions(options);\n  const baseTheme = createMuiTheme(themeOptions);\n  const overrides = createThemeOverrides(baseTheme);\n  const theme = {...baseTheme, overrides};\n  return theme;\n}\n\nconst lightTheme = createTheme({\n  palette: {\n    type: \"light\",\n    background: {\n      default: \"#F8F8F8\"\n    },\n    status: {\n      ok: \"#1DB954\",\n      warning: \"#FF9800\",\n      error: \"#E22134\",\n      running: \"#2E77D0\",\n      pending: \"#FFED51\",\n      aborted: \"#757575\"\n    },\n    bursts: {\n      fontColor: \"#FEFEFE\",\n      slackChannelText: \"#ddd\",\n      backgroundColor: {\n        default: \"#7C3699\"\n      }\n    },\n    primary: {\n      main: \"#2E77D0\"\n    },\n    banner: {\n      info: \"#2E77D0\",\n      error: \"#E22134\",\n      text: \"#FFFFFF\",\n      link: \"#000000\"\n    },\n    border: \"#E6E6E6\",\n    textContrast: \"#000000\",\n    textVerySubtle: \"#DDD\",\n    textSubtle: \"#6E6E6E\",\n    highlight: \"#FFFBCC\",\n    errorBackground: \"#FFEBEE\",\n    warningBackground: \"#F59B23\",\n    infoBackground: \"#ebf5ff\",\n    errorText: \"#CA001B\",\n    infoText: \"#004e8a\",\n    warningText: \"#000000\",\n    linkHover: \"#2196F3\",\n    link: \"#0A6EBE\",\n    gold: yellow.A700,\n    navigation: {\n      background: \"#171717\",\n      indicator: \"#9BF0E1\",\n      color: \"#b5b5b5\",\n      selectedColor: \"#FFF\"\n    },\n    pinSidebarButton: {\n      icon: \"#181818\",\n      background: \"#BDBDBD\"\n    },\n    tabbar: {\n      indicator: \"#9BF0E1\"\n    }\n  },\n  defaultPageTheme: \"home\",\n  pageTheme\n});\nconst darkTheme = createTheme({\n  palette: {\n    type: \"dark\",\n    background: {\n      default: \"#333333\"\n    },\n    status: {\n      ok: \"#71CF88\",\n      warning: \"#FFB84D\",\n      error: \"#F84C55\",\n      running: \"#3488E3\",\n      pending: \"#FEF071\",\n      aborted: \"#9E9E9E\"\n    },\n    bursts: {\n      fontColor: \"#FEFEFE\",\n      slackChannelText: \"#ddd\",\n      backgroundColor: {\n        default: \"#7C3699\"\n      }\n    },\n    primary: {\n      main: \"#9CC9FF\",\n      dark: \"#82BAFD\"\n    },\n    secondary: {\n      main: \"#FF88B2\"\n    },\n    banner: {\n      info: \"#2E77D0\",\n      error: \"#E22134\",\n      text: \"#FFFFFF\",\n      link: \"#000000\"\n    },\n    border: \"#E6E6E6\",\n    textContrast: \"#FFFFFF\",\n    textVerySubtle: \"#727272\",\n    textSubtle: \"#CCCCCC\",\n    highlight: \"#FFFBCC\",\n    errorBackground: \"#FFEBEE\",\n    warningBackground: \"#F59B23\",\n    infoBackground: \"#ebf5ff\",\n    errorText: \"#CA001B\",\n    infoText: \"#004e8a\",\n    warningText: \"#000000\",\n    linkHover: \"#82BAFD\",\n    link: \"#9CC9FF\",\n    gold: yellow.A700,\n    navigation: {\n      background: \"#424242\",\n      indicator: \"#9BF0E1\",\n      color: \"#b5b5b5\",\n      selectedColor: \"#FFF\"\n    },\n    pinSidebarButton: {\n      icon: \"#404040\",\n      background: \"#BDBDBD\"\n    },\n    tabbar: {\n      indicator: \"#9BF0E1\"\n    }\n  },\n  defaultPageTheme: \"home\",\n  pageTheme\n});\n\nexport { colorVariants, createTheme, createThemeOptions, createThemeOverrides, darkTheme, genPageTheme, lightTheme, pageTheme, shapes };\n//# sourceMappingURL=index.esm.js.map\n","import '@backstage/core';\nimport '@backstage/integration-react';\nimport '@backstage/errors';\nimport 'zen-observable';\nexport { c as ScaffolderClient, S as ScaffolderPage, b as plugin, s as scaffolderApiRef, b as scaffolderPlugin } from './esm/index-bc9fd18e.esm.js';\n//# sourceMappingURL=index.esm.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getData = void 0;\nconst dataType_1 = require(\"./validate/dataType\");\nconst util_1 = require(\"./util\");\nconst errors_1 = require(\"./errors\");\nconst codegen_1 = require(\"./codegen\");\nconst names_1 = require(\"./names\");\nconst subschema_1 = require(\"./subschema\");\nclass KeywordCxt {\n    constructor(it, def, keyword) {\n        validateKeywordUsage(it, def, keyword);\n        this.gen = it.gen;\n        this.allErrors = it.allErrors;\n        this.keyword = keyword;\n        this.data = it.data;\n        this.schema = it.schema[keyword];\n        this.$data = def.$data && it.opts.$data && this.schema && this.schema.$data;\n        this.schemaValue = util_1.schemaRefOrVal(it, this.schema, keyword, this.$data);\n        this.schemaType = def.schemaType;\n        this.parentSchema = it.schema;\n        this.params = {};\n        this.it = it;\n        this.def = def;\n        if (this.$data) {\n            this.schemaCode = it.gen.const(\"vSchema\", getData(this.$data, it));\n        }\n        else {\n            this.schemaCode = this.schemaValue;\n            if (!validSchemaType(this.schema, def.schemaType, def.allowUndefined)) {\n                throw new Error(`${keyword} value must be ${JSON.stringify(def.schemaType)}`);\n            }\n        }\n        if (\"code\" in def ? def.trackErrors : def.errors !== false) {\n            this.errsCount = it.gen.const(\"_errs\", names_1.default.errors);\n        }\n    }\n    result(condition, successAction, failAction) {\n        this.gen.if(codegen_1.not(condition));\n        if (failAction)\n            failAction();\n        else\n            this.error();\n        if (successAction) {\n            this.gen.else();\n            successAction();\n            if (this.allErrors)\n                this.gen.endIf();\n        }\n        else {\n            if (this.allErrors)\n                this.gen.endIf();\n            else\n                this.gen.else();\n        }\n    }\n    pass(condition, failAction) {\n        this.result(condition, undefined, failAction);\n    }\n    fail(condition) {\n        if (condition === undefined) {\n            this.error();\n            if (!this.allErrors)\n                this.gen.if(false); // this branch will be removed by gen.optimize\n            return;\n        }\n        this.gen.if(condition);\n        this.error();\n        if (this.allErrors)\n            this.gen.endIf();\n        else\n            this.gen.else();\n    }\n    fail$data(condition) {\n        if (!this.$data)\n            return this.fail(condition);\n        const { schemaCode } = this;\n        this.fail(codegen_1._ `${schemaCode} !== undefined && (${codegen_1.or(this.invalid$data(), condition)})`);\n    }\n    error(append) {\n        ;\n        (append ? errors_1.reportExtraError : errors_1.reportError)(this, this.def.error);\n    }\n    $dataError() {\n        errors_1.reportError(this, this.def.$dataError || errors_1.keyword$DataError);\n    }\n    reset() {\n        if (this.errsCount === undefined)\n            throw new Error('add \"trackErrors\" to keyword definition');\n        errors_1.resetErrorsCount(this.gen, this.errsCount);\n    }\n    ok(cond) {\n        if (!this.allErrors)\n            this.gen.if(cond);\n    }\n    setParams(obj, assign) {\n        if (assign)\n            Object.assign(this.params, obj);\n        else\n            this.params = obj;\n    }\n    block$data(valid, codeBlock, $dataValid = codegen_1.nil) {\n        this.gen.block(() => {\n            this.check$data(valid, $dataValid);\n            codeBlock();\n        });\n    }\n    check$data(valid = codegen_1.nil, $dataValid = codegen_1.nil) {\n        if (!this.$data)\n            return;\n        const { gen, schemaCode, schemaType, def } = this;\n        gen.if(codegen_1.or(codegen_1._ `${schemaCode} === undefined`, $dataValid));\n        if (valid !== codegen_1.nil)\n            gen.assign(valid, true);\n        if (schemaType.length || def.validateSchema) {\n            gen.elseIf(this.invalid$data());\n            this.$dataError();\n            if (valid !== codegen_1.nil)\n                gen.assign(valid, false);\n        }\n        gen.else();\n    }\n    invalid$data() {\n        const { gen, schemaCode, schemaType, def, it } = this;\n        return codegen_1.or(wrong$DataType(), invalid$DataSchema());\n        function wrong$DataType() {\n            if (schemaType.length) {\n                /* istanbul ignore if */\n                if (!(schemaCode instanceof codegen_1.Name))\n                    throw new Error(\"ajv implementation error\");\n                const st = Array.isArray(schemaType) ? schemaType : [schemaType];\n                return codegen_1._ `${dataType_1.checkDataTypes(st, schemaCode, it.opts.strict, dataType_1.DataType.Wrong)}`;\n            }\n            return codegen_1.nil;\n        }\n        function invalid$DataSchema() {\n            if (def.validateSchema) {\n                const validateSchemaRef = gen.scopeValue(\"validate$data\", { ref: def.validateSchema }); // TODO value.code for standalone\n                return codegen_1._ `!${validateSchemaRef}(${schemaCode})`;\n            }\n            return codegen_1.nil;\n        }\n    }\n    subschema(appl, valid) {\n        return subschema_1.applySubschema(this.it, appl, valid);\n    }\n    mergeEvaluated(schemaCxt, toName) {\n        const { it, gen } = this;\n        if (!it.opts.unevaluated)\n            return;\n        if (it.props !== true && schemaCxt.props !== undefined) {\n            it.props = util_1.mergeEvaluated.props(gen, schemaCxt.props, it.props, toName);\n        }\n        if (it.items !== true && schemaCxt.items !== undefined) {\n            it.items = util_1.mergeEvaluated.items(gen, schemaCxt.items, it.items, toName);\n        }\n    }\n    mergeValidEvaluated(schemaCxt, valid) {\n        const { it, gen } = this;\n        if (it.opts.unevaluated && (it.props !== true || it.items !== true)) {\n            gen.if(valid, () => this.mergeEvaluated(schemaCxt, codegen_1.Name));\n            return true;\n        }\n    }\n}\nexports.default = KeywordCxt;\nfunction validSchemaType(schema, schemaType, allowUndefined = false) {\n    // TODO add tests\n    return (!schemaType.length ||\n        schemaType.some((st) => st === \"array\"\n            ? Array.isArray(schema)\n            : st === \"object\"\n                ? schema && typeof schema == \"object\" && !Array.isArray(schema)\n                : typeof schema == st || (allowUndefined && typeof schema == \"undefined\")));\n}\nfunction validateKeywordUsage({ schema, opts, self }, def, keyword) {\n    /* istanbul ignore if */\n    if (Array.isArray(def.keyword) ? !def.keyword.includes(keyword) : def.keyword !== keyword) {\n        throw new Error(\"ajv implementation error\");\n    }\n    const deps = def.dependencies;\n    if (deps === null || deps === void 0 ? void 0 : deps.some((kwd) => !Object.prototype.hasOwnProperty.call(schema, kwd))) {\n        throw new Error(`parent schema must have dependencies of ${keyword}: ${deps.join(\",\")}`);\n    }\n    if (def.validateSchema) {\n        const valid = def.validateSchema(schema[keyword]);\n        if (!valid) {\n            const msg = \"keyword value is invalid: \" + self.errorsText(def.validateSchema.errors);\n            if (opts.validateSchema === \"log\")\n                self.logger.error(msg);\n            else\n                throw new Error(msg);\n        }\n    }\n}\nconst JSON_POINTER = /^\\/(?:[^~]|~0|~1)*$/;\nconst RELATIVE_JSON_POINTER = /^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;\nfunction getData($data, { dataLevel, dataNames, dataPathArr }) {\n    let jsonPointer;\n    let data;\n    if ($data === \"\")\n        return names_1.default.rootData;\n    if ($data[0] === \"/\") {\n        if (!JSON_POINTER.test($data))\n            throw new Error(`Invalid JSON-pointer: ${$data}`);\n        jsonPointer = $data;\n        data = names_1.default.rootData;\n    }\n    else {\n        const matches = RELATIVE_JSON_POINTER.exec($data);\n        if (!matches)\n            throw new Error(`Invalid JSON-pointer: ${$data}`);\n        const up = +matches[1];\n        jsonPointer = matches[2];\n        if (jsonPointer === \"#\") {\n            if (up >= dataLevel)\n                throw new Error(errorMsg(\"property/index\", up));\n            return dataPathArr[dataLevel - up];\n        }\n        if (up > dataLevel)\n            throw new Error(errorMsg(\"data\", up));\n        data = dataNames[dataLevel - up];\n        if (!jsonPointer)\n            return data;\n    }\n    let expr = data;\n    const segments = jsonPointer.split(\"/\");\n    for (const segment of segments) {\n        if (segment) {\n            data = codegen_1._ `${data}${codegen_1.getProperty(util_1.unescapeJsonPointer(segment))}`;\n            expr = codegen_1._ `${expr} && ${data}`;\n        }\n    }\n    return expr;\n    function errorMsg(pointerType, up) {\n        return `Cannot access ${pointerType} ${up} levels up, current level is ${dataLevel}`;\n    }\n}\nexports.getData = getData;\n//# sourceMappingURL=context.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extendErrors = exports.resetErrorsCount = exports.reportExtraError = exports.reportError = exports.keyword$DataError = exports.keywordError = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst names_1 = require(\"./names\");\nexports.keywordError = {\n    message: ({ keyword }) => codegen_1.str `should pass \"${keyword}\" keyword validation`,\n};\nexports.keyword$DataError = {\n    message: ({ keyword, schemaType }) => schemaType\n        ? codegen_1.str `\"${keyword}\" keyword must be ${schemaType} ($data)`\n        : codegen_1.str `\"${keyword}\" keyword is invalid ($data)`,\n};\nfunction reportError(cxt, error = exports.keywordError, overrideAllErrors) {\n    const { it } = cxt;\n    const { gen, compositeRule, allErrors } = it;\n    const errObj = errorObjectCode(cxt, error);\n    if (overrideAllErrors !== null && overrideAllErrors !== void 0 ? overrideAllErrors : (compositeRule || allErrors)) {\n        addError(gen, errObj);\n    }\n    else {\n        returnErrors(it, codegen_1._ `[${errObj}]`);\n    }\n}\nexports.reportError = reportError;\nfunction reportExtraError(cxt, error = exports.keywordError) {\n    const { it } = cxt;\n    const { gen, compositeRule, allErrors } = it;\n    const errObj = errorObjectCode(cxt, error);\n    addError(gen, errObj);\n    if (!(compositeRule || allErrors)) {\n        returnErrors(it, names_1.default.vErrors);\n    }\n}\nexports.reportExtraError = reportExtraError;\nfunction resetErrorsCount(gen, errsCount) {\n    gen.assign(names_1.default.errors, errsCount);\n    gen.if(codegen_1._ `${names_1.default.vErrors} !== null`, () => gen.if(errsCount, () => gen.assign(codegen_1._ `${names_1.default.vErrors}.length`, errsCount), () => gen.assign(names_1.default.vErrors, null)));\n}\nexports.resetErrorsCount = resetErrorsCount;\nfunction extendErrors({ gen, keyword, schemaValue, data, errsCount, it, }) {\n    /* istanbul ignore if */\n    if (errsCount === undefined)\n        throw new Error(\"ajv implementation error\");\n    const err = gen.name(\"err\");\n    gen.forRange(\"i\", errsCount, names_1.default.errors, (i) => {\n        gen.const(err, codegen_1._ `${names_1.default.vErrors}[${i}]`);\n        gen.if(codegen_1._ `${err}.dataPath === undefined`, () => gen.assign(codegen_1._ `${err}.dataPath`, codegen_1.strConcat(names_1.default.dataPath, it.errorPath)));\n        gen.assign(codegen_1._ `${err}.schemaPath`, codegen_1.str `${it.errSchemaPath}/${keyword}`);\n        if (it.opts.verbose) {\n            gen.assign(codegen_1._ `${err}.schema`, schemaValue);\n            gen.assign(codegen_1._ `${err}.data`, data);\n        }\n    });\n}\nexports.extendErrors = extendErrors;\nfunction addError(gen, errObj) {\n    const err = gen.const(\"err\", errObj);\n    gen.if(codegen_1._ `${names_1.default.vErrors} === null`, () => gen.assign(names_1.default.vErrors, codegen_1._ `[${err}]`), codegen_1._ `${names_1.default.vErrors}.push(${err})`);\n    gen.code(codegen_1._ `${names_1.default.errors}++`);\n}\nfunction returnErrors(it, errs) {\n    const { gen, validateName, schemaEnv } = it;\n    if (schemaEnv.$async) {\n        gen.throw(codegen_1._ `new ${it.ValidationError}(${errs})`);\n    }\n    else {\n        gen.assign(codegen_1._ `${validateName}.errors`, errs);\n        gen.return(false);\n    }\n}\nconst E = {\n    keyword: new codegen_1.Name(\"keyword\"),\n    schemaPath: new codegen_1.Name(\"schemaPath\"),\n    params: new codegen_1.Name(\"params\"),\n    propertyName: new codegen_1.Name(\"propertyName\"),\n    message: new codegen_1.Name(\"message\"),\n    schema: new codegen_1.Name(\"schema\"),\n    parentSchema: new codegen_1.Name(\"parentSchema\"),\n    // JTD error properties\n    instancePath: new codegen_1.Name(\"instancePath\"),\n};\nfunction errorObjectCode(cxt, error) {\n    const { createErrors, opts } = cxt.it;\n    if (createErrors === false)\n        return codegen_1._ `{}`;\n    return (opts.jtd && !opts.ajvErrors ? jtdErrorObject : ajvErrorObject)(cxt, error);\n}\nfunction jtdErrorObject(cxt, { message }) {\n    const { gen, keyword, it } = cxt;\n    const { errorPath, errSchemaPath, opts } = it;\n    const keyValues = [\n        [E.instancePath, codegen_1.strConcat(names_1.default.dataPath, errorPath)],\n        [E.schemaPath, codegen_1.str `${errSchemaPath}/${keyword}`],\n    ];\n    if (opts.messages) {\n        keyValues.push([E.message, typeof message == \"function\" ? message(cxt) : message]);\n    }\n    return gen.object(...keyValues);\n}\nfunction ajvErrorObject(cxt, error) {\n    const { gen, keyword, data, schemaValue, it } = cxt;\n    const { topSchemaRef, schemaPath, errorPath, errSchemaPath, propertyName, opts } = it;\n    const { params, message } = error;\n    const keyValues = [\n        [E.keyword, keyword],\n        [names_1.default.dataPath, codegen_1.strConcat(names_1.default.dataPath, errorPath)],\n        [E.schemaPath, codegen_1.str `${errSchemaPath}/${keyword}`],\n        [E.params, typeof params == \"function\" ? params(cxt) : params || codegen_1._ `{}`],\n    ];\n    if (propertyName)\n        keyValues.push([E.propertyName, propertyName]);\n    if (opts.messages) {\n        keyValues.push([E.message, typeof message == \"function\" ? message(cxt) : message]);\n    }\n    if (opts.verbose) {\n        keyValues.push([E.schema, schemaValue], [E.parentSchema, codegen_1._ `${topSchemaRef}${schemaPath}`], [names_1.default.data, data]);\n    }\n    return gen.object(...keyValues);\n}\n//# sourceMappingURL=errors.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getSchemaRefs = exports.resolveUrl = exports.normalizeId = exports._getFullPath = exports.getFullPath = exports.inlineRef = void 0;\nconst util_1 = require(\"./util\");\nconst equal = require(\"fast-deep-equal\");\nconst traverse = require(\"json-schema-traverse\");\nconst URI = require(\"uri-js\");\n// TODO refactor to use keyword definitions\nconst SIMPLE_INLINED = new Set([\n    \"type\",\n    \"format\",\n    \"pattern\",\n    \"maxLength\",\n    \"minLength\",\n    \"maxProperties\",\n    \"minProperties\",\n    \"maxItems\",\n    \"minItems\",\n    \"maximum\",\n    \"minimum\",\n    \"uniqueItems\",\n    \"multipleOf\",\n    \"required\",\n    \"enum\",\n    \"const\",\n]);\nfunction inlineRef(schema, limit = true) {\n    if (typeof schema == \"boolean\")\n        return true;\n    if (limit === true)\n        return !hasRef(schema);\n    if (!limit)\n        return false;\n    return countKeys(schema) <= limit;\n}\nexports.inlineRef = inlineRef;\nconst REF_KEYWORDS = new Set([\n    \"$ref\",\n    \"$recursiveRef\",\n    \"$recursiveAnchor\",\n    \"$dynamicRef\",\n    \"$dynamicAnchor\",\n]);\nfunction hasRef(schema) {\n    for (const key in schema) {\n        if (REF_KEYWORDS.has(key))\n            return true;\n        const sch = schema[key];\n        if (Array.isArray(sch) && sch.some(hasRef))\n            return true;\n        if (typeof sch == \"object\" && hasRef(sch))\n            return true;\n    }\n    return false;\n}\nfunction countKeys(schema) {\n    let count = 0;\n    for (const key in schema) {\n        if (key === \"$ref\")\n            return Infinity;\n        count++;\n        if (SIMPLE_INLINED.has(key))\n            continue;\n        if (typeof schema[key] == \"object\") {\n            util_1.eachItem(schema[key], (sch) => (count += countKeys(sch)));\n        }\n        if (count === Infinity)\n            return Infinity;\n    }\n    return count;\n}\nfunction getFullPath(id = \"\", normalize) {\n    if (normalize !== false)\n        id = normalizeId(id);\n    const p = URI.parse(id);\n    return _getFullPath(p);\n}\nexports.getFullPath = getFullPath;\nfunction _getFullPath(p) {\n    return URI.serialize(p).split(\"#\")[0] + \"#\";\n}\nexports._getFullPath = _getFullPath;\nconst TRAILING_SLASH_HASH = /#\\/?$/;\nfunction normalizeId(id) {\n    return id ? id.replace(TRAILING_SLASH_HASH, \"\") : \"\";\n}\nexports.normalizeId = normalizeId;\nfunction resolveUrl(baseId, id) {\n    id = normalizeId(id);\n    return URI.resolve(baseId, id);\n}\nexports.resolveUrl = resolveUrl;\nconst ANCHOR = /^[a-z_][-a-z0-9._]*$/i;\nfunction getSchemaRefs(schema) {\n    if (typeof schema == \"boolean\")\n        return {};\n    const schemaId = normalizeId(schema.$id);\n    const baseIds = { \"\": schemaId };\n    const pathPrefix = getFullPath(schemaId, false);\n    const localRefs = {};\n    const schemaRefs = new Set();\n    traverse(schema, { allKeys: true }, (sch, jsonPtr, _, parentJsonPtr) => {\n        if (parentJsonPtr === undefined)\n            return;\n        const fullPath = pathPrefix + jsonPtr;\n        let baseId = baseIds[parentJsonPtr];\n        if (typeof sch.$id == \"string\")\n            baseId = addRef.call(this, sch.$id);\n        addAnchor.call(this, sch.$anchor);\n        addAnchor.call(this, sch.$dynamicAnchor);\n        baseIds[jsonPtr] = baseId;\n        function addRef(ref) {\n            ref = normalizeId(baseId ? URI.resolve(baseId, ref) : ref);\n            if (schemaRefs.has(ref))\n                throw ambiguos(ref);\n            schemaRefs.add(ref);\n            let schOrRef = this.refs[ref];\n            if (typeof schOrRef == \"string\")\n                schOrRef = this.refs[schOrRef];\n            if (typeof schOrRef == \"object\") {\n                checkAmbiguosRef(sch, schOrRef.schema, ref);\n            }\n            else if (ref !== normalizeId(fullPath)) {\n                if (ref[0] === \"#\") {\n                    checkAmbiguosRef(sch, localRefs[ref], ref);\n                    localRefs[ref] = sch;\n                }\n                else {\n                    this.refs[ref] = fullPath;\n                }\n            }\n            return ref;\n        }\n        function addAnchor(anchor) {\n            if (typeof anchor == \"string\") {\n                if (!ANCHOR.test(anchor))\n                    throw new Error(`invalid anchor \"${anchor}\"`);\n                addRef.call(this, `#${anchor}`);\n            }\n        }\n    });\n    return localRefs;\n    function checkAmbiguosRef(sch1, sch2, ref) {\n        if (sch2 !== undefined && !equal(sch1, sch2))\n            throw ambiguos(ref);\n    }\n    function ambiguos(ref) {\n        return new Error(`reference \"${ref}\" resolves to more than one schema`);\n    }\n}\nexports.getSchemaRefs = getSchemaRefs;\n//# sourceMappingURL=resolve.js.map","import { EDIT_URL_ANNOTATION, VIEW_URL_ANNOTATION, SOURCE_LOCATION_ANNOTATION, parseLocationReference, RELATION_PART_OF, RELATION_OWNED_BY, RELATION_PROVIDES_API, RELATION_CONSUMES_API, ENTITY_DEFAULT_NAMESPACE, ORIGIN_LOCATION_ANNOTATION, getEntityName } from '@backstage/catalog-model';\nimport { useApi, HeaderIconLinkRow, alertApiRef, configApiRef, Progress, ResponseErrorPanel, attachComponentData, Page, Header, RoutedTabs, Content, HeaderLabel, HeaderTabs, WarningPanel, Link, OverflowTooltip, CodeSnippet, Table, createExternalRouteRef, identityApiRef, errorApiRef, useRouteRef, ContentHeader, SupportButton, createPlugin, createApiFactory, discoveryApiRef, createRoutableExtension, createComponentExtension } from '@backstage/core';\nimport { scmIntegrationsApiRef } from '@backstage/integration-react';\nimport { getEntityRelations, EntityRefLinks, useEntity, useStarredEntities, catalogApiRef, EntityRefLink, useEntityCompoundName, EntityContext, formatEntityRefTitle, isOwnerOf, useEntityFromUrl, rootRoute, entityRoute, catalogRouteRef, entityRouteRef } from '@backstage/plugin-catalog-react';\nimport { makeStyles, Typography, Grid, Chip, Card, CardHeader, IconButton, Divider, CardContent, MenuItem, ListItemIcon, ListItemText, Popover, MenuList, withStyles, Tooltip, Dialog, DialogTitle, DialogContent, DialogActions, Button, Box, DialogContentText, List, ListItemSecondaryAction, ListItem, Checkbox, Link as Link$2 } from '@material-ui/core';\nimport DocsIcon from '@material-ui/icons/Description';\nimport EditIcon from '@material-ui/icons/Edit';\nimport ExtensionIcon from '@material-ui/icons/Extension';\nimport React, { useState, useCallback, useContext, Children, isValidElement, Fragment, useMemo, createContext, useRef, useEffect } from 'react';\nimport CodeIcon from '@material-ui/icons/Code';\nimport GitHubIcon from '@material-ui/icons/GitHub';\nimport { Alert as Alert$1 } from '@material-ui/lab';\nimport { useNavigate, useParams, Navigate, matchRoutes, useRoutes, Routes, Route as Route$1 } from 'react-router';\nimport { makeStyles as makeStyles$1 } from '@material-ui/core/styles';\nimport Cancel from '@material-ui/icons/Cancel';\nimport MoreVert from '@material-ui/icons/MoreVert';\nimport StarBorder from '@material-ui/icons/StarBorder';\nimport Star from '@material-ui/icons/Star';\nimport Alert from '@material-ui/lab/Alert';\nimport { useAsync, useAsyncFn } from 'react-use';\nimport { Helmet } from 'react-helmet';\nimport OpenInNew from '@material-ui/icons/OpenInNew';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport { Link as Link$1 } from 'react-router-dom';\nimport IlloSvgUrl from '../components/EntityNotFound/Illo/illo.svg';\nimport { CatalogClient } from '@backstage/catalog-client';\n\nfunction getEntityMetadataViewUrl(entity) {\n  var _a;\n  return (_a = entity.metadata.annotations) == null ? void 0 : _a[VIEW_URL_ANNOTATION];\n}\nfunction getEntityMetadataEditUrl(entity) {\n  var _a;\n  return (_a = entity.metadata.annotations) == null ? void 0 : _a[EDIT_URL_ANNOTATION];\n}\n\nfunction getEntitySourceLocation(entity, scmIntegrationsApi) {\n  var _a;\n  const sourceLocation = (_a = entity.metadata.annotations) == null ? void 0 : _a[SOURCE_LOCATION_ANNOTATION];\n  if (!sourceLocation) {\n    return void 0;\n  }\n  try {\n    const sourceLocationRef = parseLocationReference(sourceLocation);\n    const integration = scmIntegrationsApi.byUrl(sourceLocationRef.target);\n    return {\n      locationTargetUrl: sourceLocationRef.target,\n      integrationType: integration == null ? void 0 : integration.type\n    };\n  } catch {\n    return void 0;\n  }\n}\n\nconst useStyles = makeStyles((theme) => ({\n  value: {\n    fontWeight: \"bold\",\n    overflow: \"hidden\",\n    lineHeight: \"24px\",\n    wordBreak: \"break-word\"\n  },\n  label: {\n    color: theme.palette.text.secondary,\n    textTransform: \"uppercase\",\n    fontSize: \"10px\",\n    fontWeight: \"bold\",\n    letterSpacing: 0.5,\n    overflow: \"hidden\",\n    whiteSpace: \"nowrap\"\n  }\n}));\nconst AboutField = ({label, value, gridSizes, children}) => {\n  const classes = useStyles();\n  const content = React.Children.count(children) ? children : /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body2\",\n    className: classes.value\n  }, value || `unknown`);\n  return /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    ...gridSizes\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"subtitle2\",\n    className: classes.label\n  }, label), content);\n};\n\nconst useStyles$1 = makeStyles({\n  description: {\n    wordBreak: \"break-word\"\n  }\n});\nconst AboutContent = ({entity}) => {\n  var _a, _b, _c, _d;\n  const classes = useStyles$1();\n  const isSystem = entity.kind.toLocaleLowerCase(\"en-US\") === \"system\";\n  const isDomain = entity.kind.toLocaleLowerCase(\"en-US\") === \"domain\";\n  const isResource = entity.kind.toLocaleLowerCase(\"en-US\") === \"resource\";\n  const isComponent = entity.kind.toLocaleLowerCase(\"en-US\") === \"component\";\n  const partOfSystemRelations = getEntityRelations(entity, RELATION_PART_OF, {\n    kind: \"system\"\n  });\n  const partOfComponentRelations = getEntityRelations(entity, RELATION_PART_OF, {\n    kind: \"component\"\n  });\n  const partOfDomainRelations = getEntityRelations(entity, RELATION_PART_OF, {\n    kind: \"domain\"\n  });\n  const ownedByRelations = getEntityRelations(entity, RELATION_OWNED_BY);\n  return /* @__PURE__ */ React.createElement(Grid, {\n    container: true\n  }, /* @__PURE__ */ React.createElement(AboutField, {\n    label: \"Description\",\n    gridSizes: {xs: 12}\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body2\",\n    paragraph: true,\n    className: classes.description\n  }, ((_a = entity == null ? void 0 : entity.metadata) == null ? void 0 : _a.description) || \"No description\")), /* @__PURE__ */ React.createElement(AboutField, {\n    label: \"Owner\",\n    gridSizes: {xs: 12, sm: 6, lg: 4}\n  }, /* @__PURE__ */ React.createElement(EntityRefLinks, {\n    entityRefs: ownedByRelations,\n    defaultKind: \"group\"\n  })), isSystem && /* @__PURE__ */ React.createElement(AboutField, {\n    label: \"Domain\",\n    value: \"No Domain\",\n    gridSizes: {xs: 12, sm: 6, lg: 4}\n  }, /* @__PURE__ */ React.createElement(EntityRefLinks, {\n    entityRefs: partOfDomainRelations,\n    defaultKind: \"domain\"\n  })), !isSystem && !isDomain && /* @__PURE__ */ React.createElement(AboutField, {\n    label: \"System\",\n    value: \"No System\",\n    gridSizes: {xs: 12, sm: 6, lg: 4}\n  }, /* @__PURE__ */ React.createElement(EntityRefLinks, {\n    entityRefs: partOfSystemRelations,\n    defaultKind: \"system\"\n  })), isComponent && partOfComponentRelations.length > 0 && /* @__PURE__ */ React.createElement(AboutField, {\n    label: \"Parent Component\",\n    value: \"No Parent Component\",\n    gridSizes: {xs: 12, sm: 6, lg: 4}\n  }, /* @__PURE__ */ React.createElement(EntityRefLinks, {\n    entityRefs: partOfComponentRelations,\n    defaultKind: \"component\"\n  })), !isSystem && !isDomain && /* @__PURE__ */ React.createElement(AboutField, {\n    label: \"Type\",\n    value: (_b = entity == null ? void 0 : entity.spec) == null ? void 0 : _b.type,\n    gridSizes: {xs: 12, sm: 6, lg: 4}\n  }), !isSystem && !isDomain && !isResource && /* @__PURE__ */ React.createElement(AboutField, {\n    label: \"Lifecycle\",\n    value: (_c = entity == null ? void 0 : entity.spec) == null ? void 0 : _c.lifecycle,\n    gridSizes: {xs: 12, sm: 6, lg: 4}\n  }), /* @__PURE__ */ React.createElement(AboutField, {\n    label: \"Tags\",\n    value: \"No Tags\",\n    gridSizes: {xs: 12, sm: 6, lg: 4}\n  }, (((_d = entity == null ? void 0 : entity.metadata) == null ? void 0 : _d.tags) || []).map((t) => /* @__PURE__ */ React.createElement(Chip, {\n    key: t,\n    size: \"small\",\n    label: t\n  }))));\n};\n\nconst ScmIntegrationIcon = ({type}) => {\n  switch (type) {\n    case \"github\":\n      return /* @__PURE__ */ React.createElement(GitHubIcon, null);\n    default:\n      return /* @__PURE__ */ React.createElement(CodeIcon, null);\n  }\n};\n\nconst useStyles$2 = makeStyles({\n  gridItemCard: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    height: \"calc(100% - 10px)\",\n    marginBottom: \"10px\"\n  },\n  gridItemCardContent: {\n    flex: 1\n  }\n});\nfunction AboutCard({variant}) {\n  var _a;\n  const classes = useStyles$2();\n  const {entity} = useEntity();\n  const scmIntegrationsApi = useApi(scmIntegrationsApiRef);\n  const entitySourceLocation = getEntitySourceLocation(entity, scmIntegrationsApi);\n  const entityMetadataEditUrl = getEntityMetadataEditUrl(entity);\n  const providesApiRelations = getEntityRelations(entity, RELATION_PROVIDES_API);\n  const consumesApiRelations = getEntityRelations(entity, RELATION_CONSUMES_API);\n  const hasApis = providesApiRelations.length > 0 || consumesApiRelations.length > 0;\n  const viewInSource = {\n    label: \"View Source\",\n    disabled: !entitySourceLocation,\n    icon: /* @__PURE__ */ React.createElement(ScmIntegrationIcon, {\n      type: entitySourceLocation == null ? void 0 : entitySourceLocation.integrationType\n    }),\n    href: entitySourceLocation == null ? void 0 : entitySourceLocation.locationTargetUrl\n  };\n  const viewInTechDocs = {\n    label: \"View TechDocs\",\n    disabled: !((_a = entity.metadata.annotations) == null ? void 0 : _a[\"backstage.io/techdocs-ref\"]),\n    icon: /* @__PURE__ */ React.createElement(DocsIcon, null),\n    href: `/docs/${entity.metadata.namespace || ENTITY_DEFAULT_NAMESPACE}/${entity.kind}/${entity.metadata.name}`\n  };\n  const viewApi = {\n    title: hasApis ? \"\" : \"No APIs available\",\n    label: \"View API\",\n    disabled: !hasApis,\n    icon: /* @__PURE__ */ React.createElement(ExtensionIcon, null),\n    href: \"api\"\n  };\n  return /* @__PURE__ */ React.createElement(Card, {\n    className: variant === \"gridItem\" ? classes.gridItemCard : \"\"\n  }, /* @__PURE__ */ React.createElement(CardHeader, {\n    title: \"About\",\n    action: /* @__PURE__ */ React.createElement(IconButton, {\n      \"aria-label\": \"Edit\",\n      disabled: !entityMetadataEditUrl,\n      title: \"Edit Metadata\",\n      onClick: () => {\n        window.open(entityMetadataEditUrl != null ? entityMetadataEditUrl : \"#\", \"_blank\");\n      }\n    }, /* @__PURE__ */ React.createElement(EditIcon, null)),\n    subheader: /* @__PURE__ */ React.createElement(HeaderIconLinkRow, {\n      links: [viewInSource, viewInTechDocs, viewApi]\n    })\n  }), /* @__PURE__ */ React.createElement(Divider, null), /* @__PURE__ */ React.createElement(CardContent, {\n    className: variant === \"gridItem\" ? classes.gridItemCardContent : \"\"\n  }, /* @__PURE__ */ React.createElement(AboutContent, {\n    entity\n  })));\n}\n\nconst useStyles$3 = makeStyles$1({\n  button: {\n    color: \"white\"\n  }\n});\nconst EntityContextMenu = ({\n  UNSTABLE_extraContextMenuItems,\n  onUnregisterEntity\n}) => {\n  const [anchorEl, setAnchorEl] = useState();\n  const classes = useStyles$3();\n  const onOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const onClose = () => {\n    setAnchorEl(void 0);\n  };\n  const extraItems = UNSTABLE_extraContextMenuItems && [\n    ...UNSTABLE_extraContextMenuItems.map((item) => /* @__PURE__ */ React.createElement(MenuItem, {\n      key: item.title,\n      onClick: () => {\n        onClose();\n        item.onClick();\n      }\n    }, /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(item.Icon, {\n      fontSize: \"small\"\n    })), /* @__PURE__ */ React.createElement(ListItemText, {\n      primary: item.title\n    }))),\n    /* @__PURE__ */ React.createElement(Divider, {\n      key: \"the divider is here!\"\n    })\n  ];\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(IconButton, {\n    \"aria-label\": \"more\",\n    \"aria-controls\": \"long-menu\",\n    \"aria-haspopup\": \"true\",\n    onClick: onOpen,\n    \"data-testid\": \"menu-button\",\n    className: classes.button\n  }, /* @__PURE__ */ React.createElement(MoreVert, null)), /* @__PURE__ */ React.createElement(Popover, {\n    open: Boolean(anchorEl),\n    onClose,\n    anchorEl,\n    anchorOrigin: {vertical: \"bottom\", horizontal: \"right\"},\n    transformOrigin: {vertical: \"top\", horizontal: \"right\"}\n  }, /* @__PURE__ */ React.createElement(MenuList, null, extraItems, /* @__PURE__ */ React.createElement(MenuItem, {\n    onClick: () => {\n      onClose();\n      onUnregisterEntity();\n    }\n  }, /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(Cancel, {\n    fontSize: \"small\"\n  })), /* @__PURE__ */ React.createElement(ListItemText, {\n    primary: \"Unregister entity\"\n  })))));\n};\n\nconst YellowStar = withStyles({\n  root: {\n    color: \"#f3ba37\"\n  }\n})(Star);\nconst favouriteEntityTooltip = (isStarred) => isStarred ? \"Remove from favorites\" : \"Add to favorites\";\nconst favouriteEntityIcon = (isStarred) => isStarred ? /* @__PURE__ */ React.createElement(YellowStar, null) : /* @__PURE__ */ React.createElement(StarBorder, null);\nconst FavouriteEntity = (props) => {\n  const {toggleStarredEntity, isStarredEntity} = useStarredEntities();\n  const isStarred = isStarredEntity(props.entity);\n  return /* @__PURE__ */ React.createElement(IconButton, {\n    color: \"inherit\",\n    ...props,\n    onClick: () => toggleStarredEntity(props.entity)\n  }, /* @__PURE__ */ React.createElement(Tooltip, {\n    title: favouriteEntityTooltip(isStarred)\n  }, favouriteEntityIcon(isStarred)));\n};\n\nfunction useUnregisterEntityDialogState(entity) {\n  var _a;\n  const catalogApi = useApi(catalogApiRef);\n  const locationRef = (_a = entity.metadata.annotations) == null ? void 0 : _a[ORIGIN_LOCATION_ANNOTATION];\n  const uid = entity.metadata.uid;\n  const isBootstrap = locationRef === \"bootstrap:bootstrap\";\n  const prerequisites = useAsync(async () => {\n    const locationPromise = catalogApi.getOriginLocationByEntity(entity);\n    let colocatedEntitiesPromise;\n    if (!locationRef) {\n      colocatedEntitiesPromise = Promise.resolve([]);\n    } else {\n      const locationAnnotationFilter = `metadata.annotations.${ORIGIN_LOCATION_ANNOTATION}`;\n      colocatedEntitiesPromise = catalogApi.getEntities({\n        filter: {[locationAnnotationFilter]: locationRef},\n        fields: [\n          \"kind\",\n          \"metadata.uid\",\n          \"metadata.name\",\n          \"metadata.namespace\"\n        ]\n      }).then((response) => response.items);\n    }\n    return Promise.all([locationPromise, colocatedEntitiesPromise]).then(([location2, colocatedEntities2]) => ({\n      location: location2,\n      colocatedEntities: colocatedEntities2\n    }));\n  }, [catalogApi, entity]);\n  const unregisterLocation = useCallback(async function unregisterLocationFn() {\n    const {location: location2, colocatedEntities: colocatedEntities2} = prerequisites.value;\n    await catalogApi.removeLocationById(location2.id);\n    await Promise.allSettled(colocatedEntities2.map((e) => catalogApi.removeEntityByUid(e.metadata.uid)));\n  }, [catalogApi, prerequisites]);\n  const deleteEntity = useCallback(async function deleteEntityFn() {\n    await catalogApi.removeEntityByUid(uid);\n  }, [catalogApi, uid]);\n  if (isBootstrap) {\n    return {type: \"bootstrap\", location: locationRef, deleteEntity};\n  }\n  const {loading, error, value} = prerequisites;\n  if (loading) {\n    return {type: \"loading\"};\n  } else if (error) {\n    return {type: \"error\", error};\n  }\n  const {location, colocatedEntities} = value;\n  if (!location) {\n    return {type: \"only-delete\", deleteEntity};\n  }\n  return {\n    type: \"unregister\",\n    location: locationRef,\n    colocatedEntities: colocatedEntities.map(getEntityName),\n    unregisterLocation,\n    deleteEntity\n  };\n}\n\nconst useStyles$4 = makeStyles({\n  advancedButton: {\n    fontSize: \"0.7em\"\n  }\n});\nconst Contents = ({\n  entity,\n  onConfirm\n}) => {\n  var _a;\n  const alertApi = useApi(alertApiRef);\n  const configApi = useApi(configApiRef);\n  const classes = useStyles$4();\n  const state = useUnregisterEntityDialogState(entity);\n  const [showDelete, setShowDelete] = useState(false);\n  const [busy, setBusy] = useState(false);\n  const appTitle = (_a = configApi.getOptionalString(\"app.title\")) != null ? _a : \"Backstage\";\n  const onUnregister = useCallback(async function onUnregisterFn() {\n    if (\"unregisterLocation\" in state) {\n      setBusy(true);\n      try {\n        await state.unregisterLocation();\n        onConfirm();\n      } catch (err) {\n        alertApi.post({message: err.message});\n      } finally {\n        setBusy(false);\n      }\n    }\n  }, [alertApi, onConfirm, state]);\n  const onDelete = useCallback(async function onDeleteFn() {\n    if (\"deleteEntity\" in state) {\n      setBusy(true);\n      try {\n        await state.deleteEntity();\n        onConfirm();\n      } catch (err) {\n        alertApi.post({message: err.message});\n      } finally {\n        setBusy(false);\n      }\n    }\n  }, [alertApi, onConfirm, state]);\n  if (state.type === \"loading\") {\n    return /* @__PURE__ */ React.createElement(Progress, null);\n  }\n  if (state.type === \"error\") {\n    return /* @__PURE__ */ React.createElement(ResponseErrorPanel, {\n      error: state.error\n    });\n  }\n  if (state.type === \"bootstrap\") {\n    return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Alert, {\n      severity: \"info\"\n    }, 'You cannot unregister this entity, since it originates from a protected Backstage configuration (location \"', state.location, '\"). If you believe this is in error, please contact the ', appTitle, \" \", \"integrator.\"), /* @__PURE__ */ React.createElement(Box, {\n      marginTop: 2\n    }, !showDelete && /* @__PURE__ */ React.createElement(Button, {\n      variant: \"text\",\n      size: \"small\",\n      color: \"primary\",\n      className: classes.advancedButton,\n      onClick: () => setShowDelete(true)\n    }, \"Advanced Options\"), showDelete && /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(DialogContentText, null, \"You have the option to delete the entity itself from the catalog. Note that this should only be done if you know that the catalog file has been deleted at, or moved from, its origin location. If that is not the case, the entity will reappear shortly as the next refresh round is performed by the catalog.\"), /* @__PURE__ */ React.createElement(Button, {\n      variant: \"contained\",\n      color: \"secondary\",\n      disabled: busy,\n      onClick: onDelete\n    }, \"Delete Entity\"))));\n  }\n  if (state.type === \"only-delete\") {\n    return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(DialogContentText, null, \"This entity does not seem to originate from a location. You therefore only have the option to delete it outright from the catalog.\"), /* @__PURE__ */ React.createElement(Button, {\n      variant: \"contained\",\n      color: \"secondary\",\n      disabled: busy,\n      onClick: onDelete\n    }, \"Delete Entity\"));\n  }\n  if (state.type === \"unregister\") {\n    return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(DialogContentText, null, \"This action will unregister the following entities:\"), /* @__PURE__ */ React.createElement(DialogContentText, {\n      component: \"ul\"\n    }, state.colocatedEntities.map((e) => /* @__PURE__ */ React.createElement(\"li\", {\n      key: `${e.kind}:${e.namespace}/${e.name}`\n    }, /* @__PURE__ */ React.createElement(EntityRefLink, {\n      entityRef: e\n    })))), /* @__PURE__ */ React.createElement(DialogContentText, null, \"Located at the following location:\"), /* @__PURE__ */ React.createElement(DialogContentText, {\n      component: \"ul\"\n    }, /* @__PURE__ */ React.createElement(\"li\", null, state.location)), /* @__PURE__ */ React.createElement(DialogContentText, null, \"To undo, just re-register the entity in \", appTitle, \".\"), /* @__PURE__ */ React.createElement(Box, {\n      marginTop: 2\n    }, /* @__PURE__ */ React.createElement(Button, {\n      variant: \"contained\",\n      color: \"secondary\",\n      disabled: busy,\n      onClick: onUnregister\n    }, \"Unregister Location\"), !showDelete && /* @__PURE__ */ React.createElement(Box, {\n      component: \"span\",\n      marginLeft: 2\n    }, /* @__PURE__ */ React.createElement(Button, {\n      variant: \"text\",\n      size: \"small\",\n      color: \"primary\",\n      className: classes.advancedButton,\n      onClick: () => setShowDelete(true)\n    }, \"Advanced Options\"))), showDelete && /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Box, {\n      paddingTop: 4,\n      paddingBottom: 4\n    }, /* @__PURE__ */ React.createElement(Divider, null)), /* @__PURE__ */ React.createElement(DialogContentText, null, \"You also have the option to delete the entity itself from the catalog. Note that this should only be done if you know that the catalog file has been deleted at, or moved from, its origin location. If that is not the case, the entity will reappear shortly as the next refresh round is performed by the catalog.\"), /* @__PURE__ */ React.createElement(Button, {\n      variant: \"contained\",\n      color: \"secondary\",\n      disabled: busy,\n      onClick: onDelete\n    }, \"Delete Entity\")));\n  }\n  return /* @__PURE__ */ React.createElement(Alert, {\n    severity: \"error\"\n  }, \"Internal error: Unknown state\");\n};\nconst UnregisterEntityDialog = ({\n  open,\n  onConfirm,\n  onClose,\n  entity\n}) => /* @__PURE__ */ React.createElement(Dialog, {\n  open,\n  onClose\n}, /* @__PURE__ */ React.createElement(DialogTitle, {\n  id: \"responsive-dialog-title\"\n}, \"Are you sure you want to unregister this entity?\"), /* @__PURE__ */ React.createElement(DialogContent, null, /* @__PURE__ */ React.createElement(Contents, {\n  entity,\n  onConfirm\n})), /* @__PURE__ */ React.createElement(DialogActions, null, /* @__PURE__ */ React.createElement(Button, {\n  onClick: onClose,\n  color: \"primary\"\n}, \"Cancel\")));\n\nconst Route = () => null;\nattachComponentData(Route, \"core.gatherMountPoints\", true);\nfunction createSubRoutesFromChildren(childrenProps, entity) {\n  const routeType = (/* @__PURE__ */ React.createElement(Route, {\n    path: \"\",\n    title: \"\"\n  }, /* @__PURE__ */ React.createElement(\"div\", null))).type;\n  return Children.toArray(childrenProps).flatMap((child) => {\n    if (!isValidElement(child)) {\n      return [];\n    }\n    if (child.type === Fragment) {\n      return createSubRoutesFromChildren(child.props.children, entity);\n    }\n    if (child.type !== routeType) {\n      throw new Error(\"Child of EntityLayout must be an EntityLayout.Route\");\n    }\n    const {path, title, children, if: condition, tabProps} = child.props;\n    if (condition && entity && !condition(entity)) {\n      return [];\n    }\n    return [{path, title, children, tabProps}];\n  });\n}\nconst EntityLayoutTitle = ({\n  entity,\n  title\n}) => /* @__PURE__ */ React.createElement(Box, {\n  display: \"inline-flex\",\n  alignItems: \"center\",\n  height: \"1em\"\n}, title, entity && /* @__PURE__ */ React.createElement(FavouriteEntity, {\n  entity\n}));\nconst headerProps = (paramKind, paramNamespace, paramName, entity) => {\n  var _a, _b, _c;\n  const kind = (_a = paramKind != null ? paramKind : entity == null ? void 0 : entity.kind) != null ? _a : \"\";\n  const namespace = (_b = paramNamespace != null ? paramNamespace : entity == null ? void 0 : entity.metadata.namespace) != null ? _b : \"\";\n  const name = (_c = paramName != null ? paramName : entity == null ? void 0 : entity.metadata.name) != null ? _c : \"\";\n  return {\n    headerTitle: `${name}${namespace && namespace !== ENTITY_DEFAULT_NAMESPACE ? ` in ${namespace}` : \"\"}`,\n    headerType: (() => {\n      let t = kind.toLocaleLowerCase(\"en-US\");\n      if (entity && entity.spec && \"type\" in entity.spec) {\n        t += \" \\u2014 \";\n        t += entity.spec.type.toLocaleLowerCase(\"en-US\");\n      }\n      return t;\n    })()\n  };\n};\nconst EntityLabels = ({entity}) => {\n  var _a;\n  const ownedByRelations = getEntityRelations(entity, RELATION_OWNED_BY);\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, ownedByRelations.length > 0 && /* @__PURE__ */ React.createElement(HeaderLabel, {\n    label: \"Owner\",\n    value: /* @__PURE__ */ React.createElement(EntityRefLinks, {\n      entityRefs: ownedByRelations,\n      defaultKind: \"Group\",\n      color: \"inherit\"\n    })\n  }), ((_a = entity.spec) == null ? void 0 : _a.lifecycle) && /* @__PURE__ */ React.createElement(HeaderLabel, {\n    label: \"Lifecycle\",\n    value: entity.spec.lifecycle\n  }));\n};\nconst EntityLayout = ({\n  UNSTABLE_extraContextMenuItems,\n  children\n}) => {\n  var _a, _b, _c;\n  const {kind, namespace, name} = useEntityCompoundName();\n  const {entity, loading, error} = useContext(EntityContext);\n  const routes = createSubRoutesFromChildren(children, entity);\n  const {headerTitle, headerType} = headerProps(kind, namespace, name, entity);\n  const [confirmationDialogOpen, setConfirmationDialogOpen] = useState(false);\n  const navigate = useNavigate();\n  const cleanUpAfterRemoval = async () => {\n    setConfirmationDialogOpen(false);\n    navigate(\"/\");\n  };\n  const showRemovalDialog = () => setConfirmationDialogOpen(true);\n  return /* @__PURE__ */ React.createElement(Page, {\n    themeId: (_c = (_b = (_a = entity == null ? void 0 : entity.spec) == null ? void 0 : _a.type) == null ? void 0 : _b.toString()) != null ? _c : \"home\"\n  }, /* @__PURE__ */ React.createElement(Header, {\n    title: /* @__PURE__ */ React.createElement(EntityLayoutTitle, {\n      title: headerTitle,\n      entity\n    }),\n    pageTitleOverride: headerTitle,\n    type: headerType\n  }, entity && /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(EntityLabels, {\n    entity\n  }), /* @__PURE__ */ React.createElement(EntityContextMenu, {\n    UNSTABLE_extraContextMenuItems,\n    onUnregisterEntity: showRemovalDialog\n  }))), loading && /* @__PURE__ */ React.createElement(Progress, null), entity && /* @__PURE__ */ React.createElement(RoutedTabs, {\n    routes\n  }), error && /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(Alert$1, {\n    severity: \"error\"\n  }, error.toString())), /* @__PURE__ */ React.createElement(UnregisterEntityDialog, {\n    open: confirmationDialogOpen,\n    entity,\n    onConfirm: cleanUpAfterRemoval,\n    onClose: () => setConfirmationDialogOpen(false)\n  }));\n};\nEntityLayout.Route = Route;\n\nconst getSelectedIndexOrDefault = (matchedRoute, tabs, defaultIndex = 0) => {\n  if (!matchedRoute)\n    return defaultIndex;\n  const tabIndex = tabs.findIndex((t) => t.id === matchedRoute.route.path);\n  return ~tabIndex ? tabIndex : defaultIndex;\n};\nconst Tabbed = {\n  Layout: ({children}) => {\n    var _a, _b, _c;\n    const routes = [];\n    const tabs = [];\n    const params = useParams();\n    const navigate = useNavigate();\n    React.Children.forEach(children, (child) => {\n      if (!React.isValidElement(child)) {\n        return;\n      }\n      if (child.type !== Tabbed.Content) {\n        throw new Error(\"This component only accepts Content elements as direct children. Check the code of the EntityPage.\");\n      }\n      const pathAndId = child.props.path;\n      tabs.push({\n        id: pathAndId,\n        label: child.props.title\n      });\n      routes.push({\n        path: pathAndId,\n        element: child.props.element\n      });\n    });\n    if (((_b = (_a = routes == null ? void 0 : routes[0]) == null ? void 0 : _a.path) != null ? _b : \"\") !== \"\")\n      routes.push({\n        path: \"/*\",\n        element: /* @__PURE__ */ React.createElement(Navigate, {\n          to: routes[0].path\n        })\n      });\n    const [matchedRoute] = (_c = matchRoutes(routes, `/${params[\"*\"]}`)) != null ? _c : [];\n    const selectedIndex = getSelectedIndexOrDefault(matchedRoute, tabs);\n    const currentTab = tabs[selectedIndex];\n    const title = currentTab == null ? void 0 : currentTab.label;\n    const onTabChange = (index) => navigate(tabs[index].id.replace(/\\/\\*$/, \"\").replace(/^\\//, \"\"));\n    const currentRouteElement = useRoutes(routes);\n    if (!currentTab)\n      return null;\n    return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(HeaderTabs, {\n      tabs,\n      selectedIndex,\n      onChange: onTabChange\n    }), /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(Helmet, {\n      title\n    }), currentRouteElement));\n  },\n  Content: (_props) => null\n};\n\nconst EntityPageTitle = ({\n  entity,\n  title\n}) => /* @__PURE__ */ React.createElement(Box, {\n  display: \"inline-flex\",\n  alignItems: \"center\",\n  height: \"1em\"\n}, title, entity && /* @__PURE__ */ React.createElement(FavouriteEntity, {\n  entity\n}));\nconst EntityLabels$1 = ({entity}) => {\n  var _a;\n  const ownedByRelations = getEntityRelations(entity, RELATION_OWNED_BY);\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, ownedByRelations.length > 0 && /* @__PURE__ */ React.createElement(HeaderLabel, {\n    label: \"Owner\",\n    value: /* @__PURE__ */ React.createElement(EntityRefLinks, {\n      entityRefs: ownedByRelations,\n      defaultKind: \"Group\",\n      color: \"inherit\"\n    })\n  }), ((_a = entity.spec) == null ? void 0 : _a.lifecycle) && /* @__PURE__ */ React.createElement(HeaderLabel, {\n    label: \"Lifecycle\",\n    value: entity.spec.lifecycle\n  }));\n};\nconst headerProps$1 = (kind, namespace, name, entity) => {\n  return {\n    headerTitle: `${name}${namespace && namespace !== ENTITY_DEFAULT_NAMESPACE ? ` in ${namespace}` : \"\"}`,\n    headerType: (() => {\n      let t = kind.toLocaleLowerCase(\"en-US\");\n      if (entity && entity.spec && \"type\" in entity.spec) {\n        t += \" \\u2014 \";\n        t += entity.spec.type.toLocaleLowerCase(\"en-US\");\n      }\n      return t;\n    })()\n  };\n};\nconst EntityPageLayout = ({\n  children,\n  UNSTABLE_extraContextMenuItems\n}) => {\n  var _a, _b, _c;\n  const {kind, namespace, name} = useEntityCompoundName();\n  const {entity, loading, error} = useContext(EntityContext);\n  const {headerTitle, headerType} = headerProps$1(kind, namespace, name, entity);\n  const [confirmationDialogOpen, setConfirmationDialogOpen] = useState(false);\n  const navigate = useNavigate();\n  const cleanUpAfterRemoval = async () => {\n    setConfirmationDialogOpen(false);\n    navigate(\"/\");\n  };\n  const showRemovalDialog = () => setConfirmationDialogOpen(true);\n  return /* @__PURE__ */ React.createElement(Page, {\n    themeId: (_c = (_b = (_a = entity == null ? void 0 : entity.spec) == null ? void 0 : _a.type) == null ? void 0 : _b.toString()) != null ? _c : \"home\"\n  }, /* @__PURE__ */ React.createElement(Header, {\n    title: /* @__PURE__ */ React.createElement(EntityPageTitle, {\n      title: headerTitle,\n      entity\n    }),\n    pageTitleOverride: headerTitle,\n    type: headerType\n  }, entity && /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(EntityLabels$1, {\n    entity\n  }), /* @__PURE__ */ React.createElement(EntityContextMenu, {\n    UNSTABLE_extraContextMenuItems,\n    onUnregisterEntity: showRemovalDialog\n  }))), loading && /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(Progress, null)), entity && /* @__PURE__ */ React.createElement(Tabbed.Layout, null, children), error && /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(ResponseErrorPanel, {\n    error\n  })), !loading && !error && !entity && /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(WarningPanel, {\n    title: \"Entity not found\"\n  }, \"There is no \", kind, \" with the requested\", \" \", /* @__PURE__ */ React.createElement(Link, {\n    to: \"https://backstage.io/docs/features/software-catalog/references\"\n  }, \"kind, namespace, and name\"), \".\")), /* @__PURE__ */ React.createElement(UnregisterEntityDialog, {\n    open: confirmationDialogOpen,\n    entity,\n    onConfirm: cleanUpAfterRemoval,\n    onClose: () => setConfirmationDialogOpen(false)\n  }));\n};\nEntityPageLayout.Content = Tabbed.Content;\n\nfunction createNameColumn() {\n  return {\n    title: \"Name\",\n    field: \"resolved.name\",\n    highlight: true,\n    render: ({entity}) => /* @__PURE__ */ React.createElement(EntityRefLink, {\n      entityRef: entity,\n      defaultKind: \"Component\"\n    })\n  };\n}\nfunction createSystemColumn() {\n  return {\n    title: \"System\",\n    field: \"resolved.partOfSystemRelationTitle\",\n    render: ({resolved}) => /* @__PURE__ */ React.createElement(EntityRefLinks, {\n      entityRefs: resolved.partOfSystemRelations,\n      defaultKind: \"system\"\n    })\n  };\n}\nfunction createOwnerColumn() {\n  return {\n    title: \"Owner\",\n    field: \"resolved.ownedByRelationsTitle\",\n    render: ({resolved}) => /* @__PURE__ */ React.createElement(EntityRefLinks, {\n      entityRefs: resolved.ownedByRelations,\n      defaultKind: \"group\"\n    })\n  };\n}\nfunction createSpecTypeColumn() {\n  return {\n    title: \"Type\",\n    field: \"entity.spec.type\",\n    hidden: true\n  };\n}\nfunction createSpecLifecycleColumn() {\n  return {\n    title: \"Lifecycle\",\n    field: \"entity.spec.lifecycle\"\n  };\n}\nfunction createMetadataDescriptionColumn() {\n  return {\n    title: \"Description\",\n    field: \"entity.metadata.description\",\n    render: ({entity}) => /* @__PURE__ */ React.createElement(OverflowTooltip, {\n      text: entity.metadata.description,\n      placement: \"bottom-start\"\n    }),\n    width: \"auto\"\n  };\n}\nfunction createTagsColumn() {\n  return {\n    title: \"Tags\",\n    field: \"entity.metadata.tags\",\n    cellStyle: {\n      padding: \"0px 16px 0px 20px\"\n    },\n    render: ({entity}) => /* @__PURE__ */ React.createElement(React.Fragment, null, entity.metadata.tags && entity.metadata.tags.map((t) => /* @__PURE__ */ React.createElement(Chip, {\n      key: t,\n      label: t,\n      size: \"small\",\n      variant: \"outlined\",\n      style: {marginBottom: \"0px\"}\n    })))\n  };\n}\n\nvar columnFactories = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  createNameColumn: createNameColumn,\n  createSystemColumn: createSystemColumn,\n  createOwnerColumn: createOwnerColumn,\n  createSpecTypeColumn: createSpecTypeColumn,\n  createSpecLifecycleColumn: createSpecLifecycleColumn,\n  createMetadataDescriptionColumn: createMetadataDescriptionColumn,\n  createTagsColumn: createTagsColumn\n});\n\nconst defaultColumns = [\n  createNameColumn(),\n  createSystemColumn(),\n  createOwnerColumn(),\n  createSpecTypeColumn(),\n  createSpecLifecycleColumn(),\n  createMetadataDescriptionColumn(),\n  createTagsColumn()\n];\nconst CatalogTable = ({\n  entities,\n  loading,\n  error,\n  titlePreamble,\n  view,\n  columns\n}) => {\n  const {isStarredEntity, toggleStarredEntity} = useStarredEntities();\n  if (error) {\n    return /* @__PURE__ */ React.createElement(\"div\", null, /* @__PURE__ */ React.createElement(WarningPanel, {\n      severity: \"error\",\n      title: \"Could not fetch catalog entities.\"\n    }, /* @__PURE__ */ React.createElement(CodeSnippet, {\n      language: \"text\",\n      text: error.toString()\n    })));\n  }\n  const actions = [\n    ({entity}) => {\n      const url = getEntityMetadataViewUrl(entity);\n      return {\n        icon: () => /* @__PURE__ */ React.createElement(OpenInNew, {\n          fontSize: \"small\"\n        }),\n        tooltip: \"View\",\n        disabled: !url,\n        onClick: () => {\n          if (!url)\n            return;\n          window.open(url, \"_blank\");\n        }\n      };\n    },\n    ({entity}) => {\n      const url = getEntityMetadataEditUrl(entity);\n      return {\n        icon: () => /* @__PURE__ */ React.createElement(EditIcon, {\n          fontSize: \"small\"\n        }),\n        tooltip: \"Edit\",\n        disabled: !url,\n        onClick: () => {\n          if (!url)\n            return;\n          window.open(url, \"_blank\");\n        }\n      };\n    },\n    ({entity}) => {\n      const isStarred = isStarredEntity(entity);\n      return {\n        cellStyle: {paddingLeft: \"1em\"},\n        icon: () => favouriteEntityIcon(isStarred),\n        tooltip: favouriteEntityTooltip(isStarred),\n        onClick: () => toggleStarredEntity(entity)\n      };\n    }\n  ];\n  const rows = entities.map((entity) => {\n    const partOfSystemRelations = getEntityRelations(entity, RELATION_PART_OF, {\n      kind: \"system\"\n    });\n    const ownedByRelations = getEntityRelations(entity, RELATION_OWNED_BY);\n    return {\n      entity,\n      resolved: {\n        name: formatEntityRefTitle(entity, {\n          defaultKind: \"Component\"\n        }),\n        ownedByRelationsTitle: ownedByRelations.map((r) => formatEntityRefTitle(r, {defaultKind: \"group\"})).join(\", \"),\n        ownedByRelations,\n        partOfSystemRelationTitle: partOfSystemRelations.map((r) => formatEntityRefTitle(r, {\n          defaultKind: \"system\"\n        })).join(\", \"),\n        partOfSystemRelations\n      }\n    };\n  });\n  const typeColumn = (columns || defaultColumns).find((c) => c.title === \"Type\");\n  if (typeColumn) {\n    typeColumn.hidden = view !== \"Other\";\n  }\n  return /* @__PURE__ */ React.createElement(Table, {\n    isLoading: loading,\n    columns: columns || defaultColumns,\n    options: {\n      paging: true,\n      pageSize: 20,\n      actionsColumnIndex: -1,\n      loadingType: \"linear\",\n      showEmptyDataSourceMessage: !loading,\n      padding: \"dense\",\n      pageSizeOptions: [20, 50, 100]\n    },\n    title: `${titlePreamble} (${entities && entities.length || 0})`,\n    data: rows,\n    actions\n  });\n};\nCatalogTable.columns = columnFactories;\n\nconst EntitySwitchCase = (_) => null;\nfunction createSwitchCasesFromChildren(childrenNode) {\n  return Children.toArray(childrenNode).flatMap((child) => {\n    if (!isValidElement(child)) {\n      return [];\n    }\n    if (child.type === Fragment) {\n      return createSwitchCasesFromChildren(child.props.children);\n    }\n    if (child.type !== EntitySwitchCase) {\n      throw new Error(`Child of EntitySwitch is not an EntitySwitch.Case`);\n    }\n    const {if: condition, children} = child.props;\n    return [{if: condition, children}];\n  });\n}\nconst EntitySwitch = ({children}) => {\n  var _a;\n  const {entity} = useEntity();\n  const switchCases = useMemo(() => createSwitchCasesFromChildren(children), [\n    children\n  ]);\n  const matchingCase = switchCases.find((switchCase) => switchCase.if ? switchCase.if(entity) : true);\n  return (_a = matchingCase == null ? void 0 : matchingCase.children) != null ? _a : null;\n};\nEntitySwitch.Case = EntitySwitchCase;\n\nfunction strCmp(a, b) {\n  return Boolean(a && (a == null ? void 0 : a.toLowerCase()) === (b == null ? void 0 : b.toLowerCase()));\n}\nfunction isKind(kind) {\n  return (entity) => strCmp(entity == null ? void 0 : entity.kind, kind);\n}\nfunction isComponentType(type) {\n  return (entity) => {\n    if (!strCmp(entity == null ? void 0 : entity.kind, \"component\")) {\n      return false;\n    }\n    const componentEntity = entity;\n    return strCmp(componentEntity.spec.type, type);\n  };\n}\nfunction isNamespace(namespace) {\n  return (entity) => {\n    var _a;\n    return strCmp((_a = entity == null ? void 0 : entity.metadata) == null ? void 0 : _a.namespace, namespace);\n  };\n}\n\nconst filterGroupsContext = createContext(void 0);\n\nconst EntityFilterGroupsProvider = ({\n  children\n}) => {\n  const state = useProvideEntityFilters();\n  return /* @__PURE__ */ React.createElement(filterGroupsContext.Provider, {\n    value: state\n  }, children);\n};\nfunction useProvideEntityFilters() {\n  const catalogApi = useApi(catalogApiRef);\n  const [{value: entities, error}, doReload] = useAsyncFn(async () => {\n    const response = await catalogApi.getEntities({\n      filter: {kind: \"Component\"}\n    });\n    return response.items;\n  });\n  const filterGroups = useRef({});\n  const selectedFilterKeys = useRef({});\n  const selectedTags = useRef([]);\n  const [filterGroupStates, setFilterGroupStates] = useState({});\n  const [matchingEntities, setMatchingEntities] = useState([]);\n  const [availableTags, setAvailableTags] = useState([]);\n  const [isCatalogEmpty, setCatalogEmpty] = useState(false);\n  useEffect(() => {\n    doReload();\n  }, [doReload]);\n  const rebuild = useCallback(() => {\n    setFilterGroupStates(buildStates(filterGroups.current, selectedFilterKeys.current, selectedTags.current, entities, error));\n    setMatchingEntities(buildMatchingEntities(filterGroups.current, selectedFilterKeys.current, selectedTags.current, entities));\n    setAvailableTags(collectTags(entities));\n    setCatalogEmpty(entities !== void 0 && entities.length === 0);\n  }, [entities, error]);\n  const register = useCallback((filterGroupId, filterGroup, initialSelectedFilterIds) => {\n    filterGroups.current[filterGroupId] = filterGroup;\n    selectedFilterKeys.current[filterGroupId] = new Set(initialSelectedFilterIds != null ? initialSelectedFilterIds : []);\n    rebuild();\n  }, [rebuild]);\n  const unregister = useCallback((filterGroupId) => {\n    delete filterGroups.current[filterGroupId];\n    delete selectedFilterKeys.current[filterGroupId];\n    rebuild();\n  }, [rebuild]);\n  const setGroupSelectedFilters = useCallback((filterGroupId, filters) => {\n    selectedFilterKeys.current[filterGroupId] = new Set(filters);\n    rebuild();\n  }, [rebuild]);\n  const setSelectedTags = useCallback((tags) => {\n    selectedTags.current = tags;\n    rebuild();\n  }, [rebuild]);\n  const reload = useCallback(async () => {\n    await doReload();\n  }, [doReload]);\n  return {\n    register,\n    unregister,\n    setGroupSelectedFilters,\n    setSelectedTags,\n    reload,\n    loading: !error && !entities,\n    error,\n    filterGroupStates,\n    matchingEntities,\n    availableTags,\n    isCatalogEmpty\n  };\n}\nfunction buildStates(filterGroups, selectedFilterKeys, selectedTags, entities, error) {\n  var _a;\n  if (error) {\n    return Object.fromEntries(Object.keys(filterGroups).map((filterGroupId) => [\n      filterGroupId,\n      {type: \"error\", error}\n    ]));\n  }\n  if (!entities) {\n    return Object.fromEntries(Object.keys(filterGroups).map((filterGroupId) => [\n      filterGroupId,\n      {type: \"loading\"}\n    ]));\n  }\n  const result = {};\n  for (const [filterGroupId, filterGroup] of Object.entries(filterGroups)) {\n    const otherMatchingEntities = buildMatchingEntities(filterGroups, selectedFilterKeys, selectedTags, entities, filterGroupId);\n    const groupState = {filters: {}};\n    for (const [filterId, filterFn] of Object.entries(filterGroup.filters)) {\n      const isSelected = !!((_a = selectedFilterKeys[filterGroupId]) == null ? void 0 : _a.has(filterId));\n      const matchCount = otherMatchingEntities.filter((entity) => filterFn(entity)).length;\n      groupState.filters[filterId] = {isSelected, matchCount};\n    }\n    result[filterGroupId] = {type: \"ready\", state: groupState};\n  }\n  return result;\n}\nfunction collectTags(entities) {\n  const tags = new Set();\n  (entities || []).forEach((e) => {\n    if (e.metadata.tags) {\n      e.metadata.tags.forEach((t) => tags.add(t));\n    }\n  });\n  return Array.from(tags).sort();\n}\nfunction buildMatchingEntities(filterGroups, selectedFilterKeys, selectedTags, entities, excludeFilterGroupId) {\n  var _a, _b;\n  const allFilters = [];\n  for (const [filterGroupId, filterGroup] of Object.entries(filterGroups)) {\n    if (excludeFilterGroupId === filterGroupId) {\n      continue;\n    }\n    const groupFilters = [];\n    for (const [filterId, filterFn] of Object.entries(filterGroup.filters)) {\n      if (!!((_a = selectedFilterKeys[filterGroupId]) == null ? void 0 : _a.has(filterId))) {\n        groupFilters.push(filterFn);\n      }\n    }\n    if (groupFilters.length) {\n      allFilters.push((entity) => groupFilters.some((fn) => fn(entity)));\n    }\n  }\n  if (selectedTags.length > 0) {\n    allFilters.push((entity) => !!entity.metadata.tags && entity.metadata.tags.some((t) => selectedTags.includes(t)));\n  }\n  return (_b = entities == null ? void 0 : entities.filter((entity) => allFilters.every((fn) => fn(entity)))) != null ? _b : [];\n}\n\nconst useEntityFilterGroup = (filterGroupId, filterGroup, initialSelectedFilters) => {\n  const context = useContext(filterGroupsContext);\n  if (!context) {\n    throw new Error(`Must be used inside an EntityFilterGroupsProvider`);\n  }\n  const {\n    register,\n    unregister,\n    setGroupSelectedFilters,\n    filterGroupStates\n  } = context;\n  const initialMemo = useMemo(() => {\n    return initialSelectedFilters == null ? void 0 : initialSelectedFilters.slice();\n  }, [initialSelectedFilters]);\n  useEffect(() => {\n    register(filterGroupId, filterGroup, initialMemo);\n    return () => unregister(filterGroupId);\n  }, [register, unregister, filterGroupId, filterGroup]);\n  const setSelectedFilters = useCallback((filters) => {\n    setGroupSelectedFilters(filterGroupId, filters);\n  }, [setGroupSelectedFilters, filterGroupId]);\n  let state = filterGroupStates[filterGroupId];\n  if (!state) {\n    state = {type: \"loading\"};\n  }\n  return {state, setSelectedFilters};\n};\n\nfunction useFilteredEntities() {\n  const context = useContext(filterGroupsContext);\n  if (!context) {\n    throw new Error(`Must be used inside an EntityFilterGroupsProvider`);\n  }\n  return {\n    loading: context.loading,\n    error: context.error,\n    matchingEntities: context.matchingEntities,\n    availableTags: context.availableTags,\n    isCatalogEmpty: context.isCatalogEmpty,\n    reload: context.reload\n  };\n}\n\nconst createComponentRouteRef = createExternalRouteRef({\n  id: \"create-component\",\n  optional: true\n});\n\nconst useStyles$5 = makeStyles((theme) => ({\n  root: {\n    backgroundColor: \"rgba(0, 0, 0, .11)\",\n    boxShadow: \"none\"\n  },\n  title: {\n    margin: theme.spacing(1, 0, 0, 1),\n    textTransform: \"uppercase\",\n    fontSize: 12,\n    fontWeight: \"bold\"\n  },\n  listIcon: {\n    minWidth: 30,\n    color: theme.palette.text.primary\n  },\n  menuItem: {\n    minHeight: theme.spacing(6)\n  },\n  groupWrapper: {\n    margin: theme.spacing(1, 1, 2, 1)\n  },\n  menuTitle: {\n    fontWeight: 500\n  }\n}));\nconst CatalogFilter = ({\n  buttonGroups,\n  onChange,\n  initiallySelected\n}) => {\n  const classes = useStyles$5();\n  const {currentFilter, setCurrentFilter, getFilterCount} = useFilter(buttonGroups, initiallySelected);\n  const onChangeRef = useRef();\n  useEffect(() => {\n    onChangeRef.current = onChange;\n  }, [onChange]);\n  const setCurrent = useCallback((item) => {\n    var _a;\n    setCurrentFilter(item.id);\n    (_a = onChangeRef.current) == null ? void 0 : _a.call(onChangeRef, {id: item.id, label: item.label});\n  }, [setCurrentFilter]);\n  useEffect(() => {\n    var _a;\n    const items = buttonGroups.flatMap((g) => g.items);\n    const item = items.find((i) => i.id === initiallySelected) || items[0];\n    if (item) {\n      (_a = onChangeRef.current) == null ? void 0 : _a.call(onChangeRef, {id: item.id, label: item.label});\n    }\n  }, []);\n  return /* @__PURE__ */ React.createElement(Card, {\n    className: classes.root\n  }, buttonGroups.map((group) => /* @__PURE__ */ React.createElement(React.Fragment, {\n    key: group.name\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"subtitle2\",\n    className: classes.title\n  }, group.name), /* @__PURE__ */ React.createElement(Card, {\n    className: classes.groupWrapper\n  }, /* @__PURE__ */ React.createElement(List, {\n    disablePadding: true,\n    dense: true\n  }, group.items.map((item) => {\n    var _a;\n    return /* @__PURE__ */ React.createElement(MenuItem, {\n      key: item.id,\n      button: true,\n      divider: true,\n      onClick: () => setCurrent(item),\n      selected: item.id === currentFilter,\n      className: classes.menuItem\n    }, item.icon && /* @__PURE__ */ React.createElement(ListItemIcon, {\n      className: classes.listIcon\n    }, /* @__PURE__ */ React.createElement(item.icon, {\n      fontSize: \"small\"\n    })), /* @__PURE__ */ React.createElement(ListItemText, null, /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"body1\",\n      className: classes.menuTitle\n    }, item.label)), /* @__PURE__ */ React.createElement(ListItemSecondaryAction, null, (_a = getFilterCount(item.id)) != null ? _a : \"-\"));\n  }))))));\n};\nfunction useFilter(buttonGroups, initiallySelected) {\n  const [currentFilter, setCurrentFilter] = useState(initiallySelected);\n  const filterGroup = useMemo(() => ({\n    filters: Object.fromEntries(buttonGroups.flatMap((g) => g.items).map((i) => [i.id, i.filterFn]))\n  }), [buttonGroups]);\n  const {setSelectedFilters, state} = useEntityFilterGroup(\"primary-sidebar\", filterGroup, [initiallySelected]);\n  const setCurrent = useCallback((filterId) => {\n    setCurrentFilter(filterId);\n    setSelectedFilters([filterId]);\n  }, [setCurrentFilter, setSelectedFilters]);\n  const getFilterCount = useCallback((filterId) => {\n    if (state.type !== \"ready\") {\n      return void 0;\n    }\n    return state.state.filters[filterId].matchCount;\n  }, [state]);\n  return {\n    currentFilter,\n    setCurrentFilter: setCurrent,\n    getFilterCount\n  };\n}\n\nconst useStyles$6 = makeStyles((theme) => ({\n  filterBox: {\n    display: \"flex\",\n    margin: theme.spacing(2, 0, 0, 0)\n  },\n  filterBoxTitle: {\n    margin: theme.spacing(1, 0, 0, 1),\n    fontWeight: \"bold\",\n    flex: 1\n  },\n  title: {\n    margin: theme.spacing(1, 0, 0, 1),\n    textTransform: \"uppercase\",\n    fontSize: 12,\n    fontWeight: \"bold\"\n  },\n  checkbox: {\n    padding: theme.spacing(0, 1, 0, 1)\n  }\n}));\nconst ResultsFilter = ({availableTags}) => {\n  const classes = useStyles$6();\n  const [selectedTags, setSelectedTags] = useState([]);\n  const context = useContext(filterGroupsContext);\n  if (!context) {\n    throw new Error(`Must be used inside an EntityFilterGroupsProvider`);\n  }\n  const setSelectedTagsFilter = context == null ? void 0 : context.setSelectedTags;\n  const updateSelectedTags = useCallback((tags) => {\n    setSelectedTags(tags);\n    setSelectedTagsFilter(tags);\n  }, [setSelectedTags, setSelectedTagsFilter]);\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.filterBox\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"subtitle2\",\n    className: classes.filterBoxTitle\n  }, \"Refine Results\"), \" \", /* @__PURE__ */ React.createElement(Button, {\n    onClick: () => updateSelectedTags([])\n  }, \"Clear\")), /* @__PURE__ */ React.createElement(Divider, null), /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"subtitle2\",\n    className: classes.title\n  }, \"Tags\"), /* @__PURE__ */ React.createElement(List, {\n    disablePadding: true,\n    dense: true\n  }, availableTags.map((t) => {\n    const labelId = `checkbox-list-label-${t}`;\n    return /* @__PURE__ */ React.createElement(ListItem, {\n      key: t,\n      dense: true,\n      button: true,\n      onClick: () => updateSelectedTags(selectedTags.includes(t) ? selectedTags.filter((s) => s !== t) : [...selectedTags, t])\n    }, /* @__PURE__ */ React.createElement(Checkbox, {\n      edge: \"start\",\n      color: \"primary\",\n      checked: selectedTags.includes(t),\n      tabIndex: -1,\n      disableRipple: true,\n      className: classes.checkbox,\n      inputProps: {\"aria-labelledby\": labelId}\n    }), /* @__PURE__ */ React.createElement(ListItemText, {\n      id: labelId,\n      primary: t\n    }));\n  })));\n};\n\nfunction useOwnUser() {\n  const catalogApi = useApi(catalogApiRef);\n  const identityApi = useApi(identityApiRef);\n  return useAsync(() => catalogApi.getEntityByName({\n    kind: \"User\",\n    namespace: \"default\",\n    name: identityApi.getUserId()\n  }), [catalogApi, identityApi]);\n}\n\nconst CatalogLayout = ({children}) => {\n  var _a;\n  const orgName = (_a = useApi(configApiRef).getOptionalString(\"organization.name\")) != null ? _a : \"Backstage\";\n  return /* @__PURE__ */ React.createElement(Page, {\n    themeId: \"home\"\n  }, /* @__PURE__ */ React.createElement(Header, {\n    title: `${orgName} Catalog`,\n    subtitle: `Catalog of software components at ${orgName}`,\n    pageTitleOverride: \"Home\"\n  }), children);\n};\n\nconst CatalogTabs = ({tabs, onChange}) => {\n  const filterGroup = useMemo(() => {\n    const otherType = \"other\";\n    const wellKnownTypes = tabs.map((t) => t.id).filter((t) => t !== otherType);\n    const isOtherType = (entity) => {\n      var _a;\n      return !wellKnownTypes.includes((_a = entity.spec) == null ? void 0 : _a.type);\n    };\n    return {\n      filters: Object.fromEntries(tabs.map((t) => [\n        t.id,\n        (entity) => {\n          var _a;\n          return t.id === otherType && isOtherType(entity) || ((_a = entity.spec) == null ? void 0 : _a.type) === t.id;\n        }\n      ]))\n    };\n  }, [tabs]);\n  const {setSelectedFilters} = useEntityFilterGroup(\"type\", filterGroup, [\n    tabs[0].id\n  ]);\n  const [currentTabIndex, setCurrentTabIndex] = useState(0);\n  const onChangeRef = useRef();\n  useEffect(() => {\n    onChangeRef.current = onChange;\n  }, [onChange]);\n  useEffect(() => {\n    var _a;\n    (_a = onChangeRef.current) == null ? void 0 : _a.call(onChangeRef, tabs[currentTabIndex]);\n  }, [tabs, currentTabIndex]);\n  const switchTab = useCallback((index) => {\n    var _a;\n    const tab = tabs[index];\n    setSelectedFilters([tab.id]);\n    setCurrentTabIndex(index);\n    (_a = onChangeRef.current) == null ? void 0 : _a.call(onChangeRef, tab);\n  }, [tabs, setSelectedFilters]);\n  return /* @__PURE__ */ React.createElement(HeaderTabs, {\n    tabs,\n    onChange: switchTab\n  });\n};\n\nconst useStyles$7 = makeStyles((theme) => ({\n  contentWrapper: {\n    display: \"grid\",\n    gridTemplateAreas: \"'filters' 'table'\",\n    gridTemplateColumns: \"250px 1fr\",\n    gridColumnGap: theme.spacing(2)\n  },\n  buttonSpacing: {\n    marginLeft: theme.spacing(2)\n  }\n}));\nconst CatalogPageContents = (props) => {\n  var _a, _b, _c, _d;\n  const styles = useStyles$7();\n  const {\n    loading,\n    error,\n    reload,\n    matchingEntities,\n    availableTags,\n    isCatalogEmpty\n  } = useFilteredEntities();\n  const configApi = useApi(configApiRef);\n  const catalogApi = useApi(catalogApiRef);\n  const errorApi = useApi(errorApiRef);\n  const {isStarredEntity} = useStarredEntities();\n  const [selectedTab, setSelectedTab] = useState();\n  const [\n    selectedSidebarItem,\n    setSelectedSidebarItem\n  ] = useState();\n  const orgName = (_a = configApi.getOptionalString(\"organization.name\")) != null ? _a : \"Company\";\n  const initiallySelectedFilter = (_c = (_b = selectedSidebarItem == null ? void 0 : selectedSidebarItem.id) != null ? _b : props.initiallySelectedFilter) != null ? _c : \"owned\";\n  const createComponentLink = useRouteRef(createComponentRouteRef);\n  const addMockData = useCallback(async () => {\n    try {\n      const promises = [];\n      const root = configApi.getConfig(\"catalog.exampleEntityLocations\");\n      for (const type of root.keys()) {\n        for (const target of root.getStringArray(type)) {\n          promises.push(catalogApi.addLocation({target}));\n        }\n      }\n      await Promise.all(promises);\n      await reload();\n    } catch (err) {\n      errorApi.post(err);\n    }\n  }, [catalogApi, configApi, errorApi, reload]);\n  const tabs = useMemo(() => [\n    {\n      id: \"service\",\n      label: \"Services\"\n    },\n    {\n      id: \"website\",\n      label: \"Websites\"\n    },\n    {\n      id: \"library\",\n      label: \"Libraries\"\n    },\n    {\n      id: \"documentation\",\n      label: \"Documentation\"\n    },\n    {\n      id: \"other\",\n      label: \"Other\"\n    }\n  ], []);\n  const {value: user} = useOwnUser();\n  const filterGroups = useMemo(() => [\n    {\n      name: \"Personal\",\n      items: [\n        {\n          id: \"owned\",\n          label: \"Owned\",\n          icon: SettingsIcon,\n          filterFn: (entity) => user !== void 0 && isOwnerOf(user, entity)\n        },\n        {\n          id: \"starred\",\n          label: \"Starred\",\n          icon: Star,\n          filterFn: isStarredEntity\n        }\n      ]\n    },\n    {\n      name: orgName,\n      items: [\n        {\n          id: \"all\",\n          label: \"All\",\n          filterFn: () => true\n        }\n      ]\n    }\n  ], [isStarredEntity, orgName, user]);\n  const showAddExampleEntities = configApi.has(\"catalog.exampleEntityLocations\") && isCatalogEmpty;\n  return /* @__PURE__ */ React.createElement(CatalogLayout, null, /* @__PURE__ */ React.createElement(CatalogTabs, {\n    tabs,\n    onChange: ({label}) => setSelectedTab(label)\n  }), /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(ContentHeader, {\n    title: selectedTab != null ? selectedTab : \"\"\n  }, createComponentLink && /* @__PURE__ */ React.createElement(Button, {\n    component: Link$1,\n    variant: \"contained\",\n    color: \"primary\",\n    to: createComponentLink()\n  }, \"Create Component\"), showAddExampleEntities && /* @__PURE__ */ React.createElement(Button, {\n    className: styles.buttonSpacing,\n    variant: \"outlined\",\n    color: \"primary\",\n    onClick: addMockData\n  }, \"Add example components\"), /* @__PURE__ */ React.createElement(SupportButton, null, \"All your software catalog entities\")), /* @__PURE__ */ React.createElement(\"div\", {\n    className: styles.contentWrapper\n  }, /* @__PURE__ */ React.createElement(\"div\", null, /* @__PURE__ */ React.createElement(CatalogFilter, {\n    buttonGroups: filterGroups,\n    onChange: ({label, id}) => setSelectedSidebarItem({label, id}),\n    initiallySelected: initiallySelectedFilter\n  }), /* @__PURE__ */ React.createElement(ResultsFilter, {\n    availableTags\n  })), /* @__PURE__ */ React.createElement(CatalogTable, {\n    titlePreamble: (_d = selectedSidebarItem == null ? void 0 : selectedSidebarItem.label) != null ? _d : \"\",\n    view: selectedTab,\n    columns: props.columns,\n    entities: matchingEntities,\n    loading,\n    error\n  }))));\n};\nconst CatalogPage = (props) => /* @__PURE__ */ React.createElement(EntityFilterGroupsProvider, null, /* @__PURE__ */ React.createElement(CatalogPageContents, {\n  ...props\n}));\n\nconst EntityLoaderProvider = ({children}) => {\n  const {entity, loading, error} = useEntityFromUrl();\n  return /* @__PURE__ */ React.createElement(EntityContext.Provider, {\n    value: {entity, loading, error}\n  }, children);\n};\n\nconst useStyles$8 = makeStyles((theme) => ({\n  illo: {\n    maxWidth: \"60%\",\n    top: 100,\n    right: 20,\n    position: \"absolute\",\n    [theme.breakpoints.down(\"xs\")]: {\n      maxWidth: \"96%\",\n      position: \"relative\",\n      top: \"unset\",\n      right: \"unset\",\n      margin: `${theme.spacing(10)}px auto ${theme.spacing(4)}px`\n    }\n  }\n}));\nconst Illo = () => {\n  const classes = useStyles$8();\n  return /* @__PURE__ */ React.createElement(\"img\", {\n    src: IlloSvgUrl,\n    className: classes.illo,\n    alt: \"Illustration on entity not found page\"\n  });\n};\n\nconst useStyles$9 = makeStyles$1((theme) => ({\n  container: {\n    paddingTop: theme.spacing(24),\n    paddingLeft: theme.spacing(8),\n    [theme.breakpoints.down(\"xs\")]: {\n      padding: theme.spacing(2)\n    }\n  },\n  title: {\n    paddingBottom: theme.spacing(2),\n    [theme.breakpoints.down(\"xs\")]: {\n      fontSize: 32\n    }\n  },\n  body: {\n    paddingBottom: theme.spacing(6),\n    [theme.breakpoints.down(\"xs\")]: {\n      paddingBottom: theme.spacing(5)\n    }\n  }\n}));\nconst EntityNotFound = () => {\n  const classes = useStyles$9();\n  return /* @__PURE__ */ React.createElement(Grid, {\n    container: true,\n    spacing: 0,\n    className: classes.container\n  }, /* @__PURE__ */ React.createElement(Illo, null), /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"h2\",\n    className: classes.title\n  }, \"Entity was not found\"), /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body1\",\n    className: classes.body\n  }, \"Want to help us build this? Check out our Getting Started documentation.\"), /* @__PURE__ */ React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    href: \"https://backstage.io/docs\"\n  }, \"DOCS\")));\n};\n\nconst DefaultEntityPage = () => /* @__PURE__ */ React.createElement(EntityPageLayout, null, /* @__PURE__ */ React.createElement(EntityPageLayout.Content, {\n  path: \"/\",\n  title: \"Overview\",\n  element: /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"h2\"\n  }, \"This is the default entity page.\"), /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body1\"\n  }, \"To override this component with your custom implementation, read docs on\", \" \", /* @__PURE__ */ React.createElement(Link$2, {\n    target: \"_blank\",\n    href: \"https://backstage.io/docs\"\n  }, \"backstage.io/docs\")))\n}));\nconst EntityPageSwitch = ({EntityPage}) => {\n  const {entity, loading, error} = useEntity();\n  if (loading)\n    return /* @__PURE__ */ React.createElement(EntityPageLayout, null);\n  if (error || !entity)\n    return /* @__PURE__ */ React.createElement(EntityNotFound, null);\n  return /* @__PURE__ */ React.createElement(EntityPage, null);\n};\nconst OldEntityRouteRedirect = () => {\n  var _a;\n  const {optionalNamespaceAndName, \"*\": rest} = useParams();\n  const [name, namespace] = optionalNamespaceAndName.split(\":\").reverse();\n  const namespaceLower = (_a = namespace == null ? void 0 : namespace.toLocaleLowerCase(\"en-US\")) != null ? _a : ENTITY_DEFAULT_NAMESPACE;\n  const restWithSlash = rest ? `/${rest}` : \"\";\n  return /* @__PURE__ */ React.createElement(Navigate, {\n    to: `../../${namespaceLower}/component/${name}${restWithSlash}`\n  });\n};\nconst Router = ({\n  EntityPage = DefaultEntityPage\n}) => /* @__PURE__ */ React.createElement(Routes, null, /* @__PURE__ */ React.createElement(Route$1, {\n  path: `${rootRoute.path}`,\n  element: /* @__PURE__ */ React.createElement(CatalogPage, null)\n}), /* @__PURE__ */ React.createElement(Route$1, {\n  path: `${entityRoute.path}`,\n  element: /* @__PURE__ */ React.createElement(EntityLoaderProvider, null, /* @__PURE__ */ React.createElement(EntityPageSwitch, {\n    EntityPage\n  }))\n}), /* @__PURE__ */ React.createElement(Route$1, {\n  path: \"Component/:optionalNamespaceAndName/*\",\n  element: /* @__PURE__ */ React.createElement(OldEntityRouteRedirect, null)\n}));\n\nclass CatalogClientWrapper {\n  constructor(options) {\n    this.client = options.client;\n    this.identityApi = options.identityApi;\n  }\n  async getLocationById(id, options) {\n    var _a;\n    return await this.client.getLocationById(id, {\n      token: (_a = options == null ? void 0 : options.token) != null ? _a : await this.identityApi.getIdToken()\n    });\n  }\n  async getEntities(request, options) {\n    var _a;\n    return await this.client.getEntities(request, {\n      token: (_a = options == null ? void 0 : options.token) != null ? _a : await this.identityApi.getIdToken()\n    });\n  }\n  async getEntityByName(compoundName, options) {\n    var _a;\n    return await this.client.getEntityByName(compoundName, {\n      token: (_a = options == null ? void 0 : options.token) != null ? _a : await this.identityApi.getIdToken()\n    });\n  }\n  async addLocation(request, options) {\n    var _a;\n    return await this.client.addLocation(request, {\n      token: (_a = options == null ? void 0 : options.token) != null ? _a : await this.identityApi.getIdToken()\n    });\n  }\n  async getOriginLocationByEntity(entity, options) {\n    var _a;\n    return await this.client.getOriginLocationByEntity(entity, {\n      token: (_a = options == null ? void 0 : options.token) != null ? _a : await this.identityApi.getIdToken()\n    });\n  }\n  async getLocationByEntity(entity, options) {\n    var _a;\n    return await this.client.getLocationByEntity(entity, {\n      token: (_a = options == null ? void 0 : options.token) != null ? _a : await this.identityApi.getIdToken()\n    });\n  }\n  async removeLocationById(id, options) {\n    var _a;\n    return await this.client.removeLocationById(id, {\n      token: (_a = options == null ? void 0 : options.token) != null ? _a : await this.identityApi.getIdToken()\n    });\n  }\n  async removeEntityByUid(uid, options) {\n    var _a;\n    return await this.client.removeEntityByUid(uid, {\n      token: (_a = options == null ? void 0 : options.token) != null ? _a : await this.identityApi.getIdToken()\n    });\n  }\n}\n\nconst catalogPlugin = createPlugin({\n  id: \"catalog\",\n  apis: [\n    createApiFactory({\n      api: catalogApiRef,\n      deps: {discoveryApi: discoveryApiRef, identityApi: identityApiRef},\n      factory: ({discoveryApi, identityApi}) => new CatalogClientWrapper({\n        client: new CatalogClient({discoveryApi}),\n        identityApi\n      })\n    })\n  ],\n  routes: {\n    catalogIndex: catalogRouteRef,\n    catalogEntity: entityRouteRef\n  },\n  externalRoutes: {\n    createComponent: createComponentRouteRef\n  }\n});\nconst CatalogIndexPage = catalogPlugin.provide(createRoutableExtension({\n  component: () => import('./index-debd3943.esm.js').then((m) => m.CatalogPage),\n  mountPoint: catalogRouteRef\n}));\nconst CatalogEntityPage = catalogPlugin.provide(createRoutableExtension({\n  component: () => import('./index-291071ad.esm.js').then((m) => m.CatalogEntityPage),\n  mountPoint: entityRouteRef\n}));\nconst EntityAboutCard = catalogPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./index-e0b4ece2.esm.js').then((m) => m.AboutCard)\n  }\n}));\nconst EntityLinksCard = catalogPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./index-e628ccf2.esm.js').then((m) => m.EntityLinksCard)\n  }\n}));\nconst EntityHasSystemsCard = catalogPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./index-4ef77e53.esm.js').then((m) => m.HasSystemsCard)\n  }\n}));\nconst EntityHasComponentsCard = catalogPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./index-b3e21eee.esm.js').then((m) => m.HasComponentsCard)\n  }\n}));\nconst EntityHasSubcomponentsCard = catalogPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./index-3ace567b.esm.js').then((m) => m.HasSubcomponentsCard)\n  }\n}));\nconst EntityHasResourcesCard = catalogPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./index-593342f8.esm.js').then((m) => m.HasResourcesCard)\n  }\n}));\nconst EntityDependsOnComponentsCard = catalogPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./index-36b66f8e.esm.js').then((m) => m.DependsOnComponentsCard)\n  }\n}));\nconst EntityDependsOnResourcesCard = catalogPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./index-d231361f.esm.js').then((m) => m.DependsOnResourcesCard)\n  }\n}));\nconst EntitySystemDiagramCard = catalogPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./index-d159831b.esm.js').then((m) => m.SystemDiagramCard)\n  }\n}));\n\nconst DeleteEntityDialog = ({\n  open,\n  onClose,\n  onConfirm,\n  entity\n}) => {\n  const [busy, setBusy] = useState(false);\n  const catalogApi = useApi(catalogApiRef);\n  const alertApi = useApi(alertApiRef);\n  const onDelete = async () => {\n    setBusy(true);\n    try {\n      const uid = entity.metadata.uid;\n      await catalogApi.removeEntityByUid(uid);\n      onConfirm();\n    } catch (err) {\n      alertApi.post({message: err.message});\n    } finally {\n      setBusy(false);\n    }\n  };\n  return /* @__PURE__ */ React.createElement(Dialog, {\n    open,\n    onClose\n  }, /* @__PURE__ */ React.createElement(DialogTitle, {\n    id: \"responsive-dialog-title\"\n  }, \"Are you sure you want to delete this entity?\"), /* @__PURE__ */ React.createElement(DialogActions, null, /* @__PURE__ */ React.createElement(Button, {\n    variant: \"contained\",\n    color: \"secondary\",\n    disabled: busy,\n    onClick: onDelete\n  }, \"Delete\"), /* @__PURE__ */ React.createElement(Button, {\n    onClick: onClose,\n    color: \"primary\"\n  }, \"Cancel\")));\n};\n\nconst isOrphan = (entity) => {\n  var _a, _b;\n  return ((_b = (_a = entity == null ? void 0 : entity.metadata) == null ? void 0 : _a.annotations) == null ? void 0 : _b[\"backstage.io/orphan\"]) === \"true\";\n};\nconst EntityOrphanWarning = () => {\n  const navigate = useNavigate();\n  const catalogLink = useRouteRef(catalogRouteRef);\n  const [confirmationDialogOpen, setConfirmationDialogOpen] = useState(false);\n  const {entity} = useEntity();\n  const cleanUpAfterRemoval = async () => {\n    setConfirmationDialogOpen(false);\n    navigate(catalogLink());\n  };\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Alert$1, {\n    severity: \"warning\",\n    onClick: () => setConfirmationDialogOpen(true)\n  }, \"This entity is not referenced by any location and is therefore not receiving updates. Click here to delete.\"), /* @__PURE__ */ React.createElement(DeleteEntityDialog, {\n    open: confirmationDialogOpen,\n    entity,\n    onConfirm: cleanUpAfterRemoval,\n    onClose: () => setConfirmationDialogOpen(false)\n  }));\n};\n\nexport { AboutCard as A, CatalogPage as C, EntityLoaderProvider as E, Router as R, EntityLayout as a, EntityPageLayout as b, CatalogTable as c, CatalogEntityPage as d, CatalogIndexPage as e, catalogPlugin as f, EntityAboutCard as g, EntityDependsOnComponentsCard as h, EntityDependsOnResourcesCard as i, EntityHasComponentsCard as j, EntityHasResourcesCard as k, EntityHasSubcomponentsCard as l, EntityHasSystemsCard as m, EntityLinksCard as n, EntitySystemDiagramCard as o, EntitySwitch as p, isKind as q, isNamespace as r, isComponentType as s, EntityOrphanWarning as t, isOrphan as u };\n//# sourceMappingURL=index-85897b39.esm.js.map\n","import '@backstage/core';\nimport '@backstage/catalog-model';\nimport 'qs';\nexport { F as Filters, d as FiltersButton, S as Router, e as SearchBar, b as SearchPage, c as SearchPageNext, f as SearchResult, g as SidebarSearch, s as plugin, s as searchPlugin } from './esm/index-37ed06b2.esm.js';\nimport '@backstage/plugin-catalog-react';\nimport '@material-ui/core';\nimport 'react';\nimport 'react-use';\nimport '@material-ui/core/styles';\nimport '@material-ui/core/InputBase';\nimport '@material-ui/core/IconButton';\nimport '@material-ui/icons/Search';\nimport '@material-ui/icons/Clear';\nimport '@material-ui/lab';\nimport '@material-ui/icons/FilterList';\nimport 'react-router-dom';\n//# sourceMappingURL=index.esm.js.map\n","import { createRouteRef, createPlugin, createRoutableExtension, SidebarItem, EmptyState, CodeSnippet, useApi, SessionState, googleAuthApiRef, microsoftAuthApiRef, githubAuthApiRef, gitlabAuthApiRef, auth0AuthApiRef, oktaAuthApiRef, oauth2ApiRef, configApiRef, InfoCard, featureFlagsApiRef, FeatureFlagState, SidebarPinStateContext, identityApiRef, sidebarConfig, appThemeApiRef, Page, Header, TabbedLayout } from '@backstage/core';\nimport React, { useState, useEffect, useCallback, useContext, cloneElement } from 'react';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport { Typography, Button, ListItem, ListItemIcon, ListItemText, Tooltip, ListItemSecondaryAction, List, Switch, makeStyles, Avatar, IconButton, Menu, MenuItem, Grid } from '@material-ui/core';\nimport Star from '@material-ui/icons/Star';\nimport SignOutIcon from '@material-ui/icons/MeetingRoom';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport { useObservable } from 'react-use';\nimport AutoIcon from '@material-ui/icons/BrightnessAuto';\nimport ToggleButton from '@material-ui/lab/ToggleButton';\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup';\n\nconst settingsRouteRef = createRouteRef({\n  path: \"/settings\",\n  title: \"Settings\"\n});\nconst userSettingsPlugin = createPlugin({\n  id: \"user-settings\",\n  routes: {\n    settingsPage: settingsRouteRef\n  }\n});\nconst UserSettingsPage = userSettingsPlugin.provide(createRoutableExtension({\n  component: () => Promise.resolve().then(function () { return SettingsPage$1; }).then((m) => m.SettingsPage),\n  mountPoint: settingsRouteRef\n}));\n\nconst Settings = () => {\n  return /* @__PURE__ */ React.createElement(SidebarItem, {\n    text: \"Settings\",\n    to: settingsRouteRef.path,\n    icon: SettingsIcon\n  });\n};\n\nconst EXAMPLE = `auth:\n  providers:\n    google:\n      development:\n        clientId: \\${AUTH_GOOGLE_CLIENT_ID}\n        clientSecret: \\${AUTH_GOOGLE_CLIENT_SECRET}\n`;\nconst EmptyProviders = () => /* @__PURE__ */ React.createElement(EmptyState, {\n  missing: \"content\",\n  title: \"No Authentication Providers\",\n  description: \"You can add Authentication Providers to Backstage which allows you to use these providers to authenticate yourself.\",\n  action: /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body1\"\n  }, \"Open \", /* @__PURE__ */ React.createElement(\"code\", null, \"app-config.yaml\"), \" and make the changes as highlighted below:\"), /* @__PURE__ */ React.createElement(CodeSnippet, {\n    text: EXAMPLE,\n    language: \"yaml\",\n    showLineNumbers: true,\n    highlightedNumbers: [3, 4, 5, 6, 7, 8],\n    customStyle: {background: \"inherit\", fontSize: \"115%\"}\n  }), /* @__PURE__ */ React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    href: \"https://backstage.io/docs/auth/add-auth-provider\"\n  }, \"Read More\"))\n});\n\nconst ProviderSettingsItem = ({\n  title,\n  description,\n  icon: Icon,\n  apiRef\n}) => {\n  const api = useApi(apiRef);\n  const [signedIn, setSignedIn] = useState(false);\n  useEffect(() => {\n    let didCancel = false;\n    const subscription = api.sessionState$().subscribe((sessionState) => {\n      if (!didCancel) {\n        setSignedIn(sessionState === SessionState.SignedIn);\n      }\n    });\n    return () => {\n      didCancel = true;\n      subscription.unsubscribe();\n    };\n  }, [api]);\n  return /* @__PURE__ */ React.createElement(ListItem, null, /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(Icon, null)), /* @__PURE__ */ React.createElement(ListItemText, {\n    primary: title,\n    secondary: /* @__PURE__ */ React.createElement(Tooltip, {\n      placement: \"top\",\n      arrow: true,\n      title: description\n    }, /* @__PURE__ */ React.createElement(\"span\", null, description)),\n    secondaryTypographyProps: {noWrap: true, style: {width: \"80%\"}}\n  }), /* @__PURE__ */ React.createElement(ListItemSecondaryAction, null, /* @__PURE__ */ React.createElement(Tooltip, {\n    placement: \"top\",\n    arrow: true,\n    title: signedIn ? `Sign out from ${title}` : `Sign in to ${title}`\n  }, /* @__PURE__ */ React.createElement(Button, {\n    variant: \"outlined\",\n    color: \"primary\",\n    onClick: () => signedIn ? api.signOut() : api.signIn()\n  }, signedIn ? `Sign out` : `Sign in`))));\n};\n\nconst DefaultProviderSettings = ({configuredProviders}) => /* @__PURE__ */ React.createElement(React.Fragment, null, configuredProviders.includes(\"google\") && /* @__PURE__ */ React.createElement(ProviderSettingsItem, {\n  title: \"Google\",\n  description: \"Provides authentication towards Google APIs and identities\",\n  apiRef: googleAuthApiRef,\n  icon: Star\n}), configuredProviders.includes(\"microsoft\") && /* @__PURE__ */ React.createElement(ProviderSettingsItem, {\n  title: \"Microsoft\",\n  description: \"Provides authentication towards Microsoft APIs and identities\",\n  apiRef: microsoftAuthApiRef,\n  icon: Star\n}), configuredProviders.includes(\"github\") && /* @__PURE__ */ React.createElement(ProviderSettingsItem, {\n  title: \"GitHub\",\n  description: \"Provides authentication towards GitHub APIs\",\n  apiRef: githubAuthApiRef,\n  icon: Star\n}), configuredProviders.includes(\"gitlab\") && /* @__PURE__ */ React.createElement(ProviderSettingsItem, {\n  title: \"GitLab\",\n  description: \"Provides authentication towards GitLab APIs\",\n  apiRef: gitlabAuthApiRef,\n  icon: Star\n}), configuredProviders.includes(\"auth0\") && /* @__PURE__ */ React.createElement(ProviderSettingsItem, {\n  title: \"Auth0\",\n  description: \"Provides authentication towards Auth0 APIs\",\n  apiRef: auth0AuthApiRef,\n  icon: Star\n}), configuredProviders.includes(\"okta\") && /* @__PURE__ */ React.createElement(ProviderSettingsItem, {\n  title: \"Okta\",\n  description: \"Provides authentication towards Okta APIs\",\n  apiRef: oktaAuthApiRef,\n  icon: Star\n}), configuredProviders.includes(\"oauth2\") && /* @__PURE__ */ React.createElement(ProviderSettingsItem, {\n  title: \"YourOrg\",\n  description: \"Example of how to use oauth2 custom provider\",\n  apiRef: oauth2ApiRef,\n  icon: Star\n}));\n\nconst AuthProviders = ({providerSettings}) => {\n  const configApi = useApi(configApiRef);\n  const providersConfig = configApi.getOptionalConfig(\"auth.providers\");\n  const configuredProviders = (providersConfig == null ? void 0 : providersConfig.keys()) || [];\n  const providers = providerSettings != null ? providerSettings : /* @__PURE__ */ React.createElement(DefaultProviderSettings, {\n    configuredProviders\n  });\n  if (!providerSettings && !(configuredProviders == null ? void 0 : configuredProviders.length)) {\n    return /* @__PURE__ */ React.createElement(EmptyProviders, null);\n  }\n  return /* @__PURE__ */ React.createElement(InfoCard, {\n    title: \"Available Providers\"\n  }, /* @__PURE__ */ React.createElement(List, {\n    dense: true\n  }, providers));\n};\n\nconst EXAMPLE$1 = `import { createPlugin } from '@backstage/core';\n\nexport default createPlugin({\n  id: 'plugin-name',\n  register({ router, featureFlags }) {\n    featureFlags.register('enable-example-feature');\n  },\n});\n`;\nconst EmptyFlags = () => /* @__PURE__ */ React.createElement(EmptyState, {\n  missing: \"content\",\n  title: \"No Feature Flags\",\n  description: \"Feature Flags make it possible for plugins to register features in Backstage for users to opt into. You can use this to split out logic in your code for manual A/B testing, etc.\",\n  action: /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body1\"\n  }, \"An example for how to add a feature flag is highlighted below:\"), /* @__PURE__ */ React.createElement(CodeSnippet, {\n    text: EXAMPLE$1,\n    language: \"typescript\",\n    showLineNumbers: true,\n    highlightedNumbers: [6],\n    customStyle: {background: \"inherit\", fontSize: \"115%\"}\n  }), /* @__PURE__ */ React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    href: \"https://backstage.io/docs/api/utility-apis\"\n  }, \"Read More\"))\n});\n\nconst FlagItem = ({flag, enabled, toggleHandler}) => /* @__PURE__ */ React.createElement(ListItem, null, /* @__PURE__ */ React.createElement(ListItemText, {\n  primary: flag.name,\n  secondary: `Registered in ${flag.pluginId} plugin`\n}), /* @__PURE__ */ React.createElement(ListItemSecondaryAction, null, /* @__PURE__ */ React.createElement(Tooltip, {\n  placement: \"top\",\n  arrow: true,\n  title: enabled ? \"Disable\" : \"Enable\"\n}, /* @__PURE__ */ React.createElement(Switch, {\n  color: \"primary\",\n  checked: enabled,\n  onChange: () => toggleHandler(flag.name),\n  name: flag.name\n}))));\n\nconst FeatureFlags = () => {\n  const featureFlagsApi = useApi(featureFlagsApiRef);\n  const featureFlags = featureFlagsApi.getRegisteredFlags();\n  const initialFlagState = Object.fromEntries(featureFlags.map(({name}) => [name, featureFlagsApi.isActive(name)]));\n  const [state, setState] = useState(initialFlagState);\n  const toggleFlag = useCallback((flagName) => {\n    const newState = featureFlagsApi.isActive(flagName) ? FeatureFlagState.None : FeatureFlagState.Active;\n    featureFlagsApi.save({\n      states: {[flagName]: newState},\n      merge: true\n    });\n    setState((prevState) => ({\n      ...prevState,\n      [flagName]: newState === FeatureFlagState.Active\n    }));\n  }, [featureFlagsApi]);\n  if (!featureFlags.length) {\n    return /* @__PURE__ */ React.createElement(EmptyFlags, null);\n  }\n  return /* @__PURE__ */ React.createElement(InfoCard, {\n    title: \"Feature Flags\"\n  }, /* @__PURE__ */ React.createElement(List, {\n    dense: true\n  }, featureFlags.map((featureFlag) => {\n    const enabled = Boolean(state[featureFlag.name]);\n    return /* @__PURE__ */ React.createElement(FlagItem, {\n      key: featureFlag.name,\n      flag: featureFlag,\n      enabled,\n      toggleHandler: toggleFlag\n    });\n  })));\n};\n\nconst PinButton = () => {\n  const {isPinned, toggleSidebarPinState} = useContext(SidebarPinStateContext);\n  return /* @__PURE__ */ React.createElement(ListItem, null, /* @__PURE__ */ React.createElement(ListItemText, {\n    primary: \"Pin Sidebar\",\n    secondary: \"Prevent the sidebar from collapsing\"\n  }), /* @__PURE__ */ React.createElement(ListItemSecondaryAction, null, /* @__PURE__ */ React.createElement(Tooltip, {\n    placement: \"top\",\n    arrow: true,\n    title: `${isPinned ? \"Unpin\" : \"Pin\"} Sidebar`\n  }, /* @__PURE__ */ React.createElement(Switch, {\n    color: \"primary\",\n    checked: isPinned,\n    onChange: () => toggleSidebarPinState(),\n    name: \"pin\",\n    inputProps: {\"aria-label\": \"Pin Sidebar Switch\"}\n  }))));\n};\n\nconst useUserProfile = () => {\n  var _a;\n  const identityApi = useApi(identityApiRef);\n  const userId = identityApi.getUserId();\n  const profile = identityApi.getProfile();\n  const displayName = (_a = profile.displayName) != null ? _a : userId;\n  return {profile, displayName};\n};\n\nconst useStyles = makeStyles((theme) => ({\n  avatar: {\n    width: ({size}) => size,\n    height: ({size}) => size,\n    fontSize: ({size}) => size * 0.7,\n    border: `1px solid ${theme.palette.textSubtle}`\n  }\n}));\nconst SignInAvatar = ({size}) => {\n  const {iconSize} = sidebarConfig;\n  const classes = useStyles(size ? {size} : {size: iconSize});\n  const {profile} = useUserProfile();\n  return /* @__PURE__ */ React.createElement(Avatar, {\n    src: profile.picture,\n    className: classes.avatar\n  });\n};\n\nconst UserSettingsMenu = () => {\n  const identityApi = useApi(identityApiRef);\n  const [open, setOpen] = React.useState(false);\n  const [anchorEl, setAnchorEl] = React.useState(void 0);\n  const handleOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n    setOpen(true);\n  };\n  const handleClose = () => {\n    setAnchorEl(void 0);\n    setOpen(false);\n  };\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(IconButton, {\n    \"aria-label\": \"more\",\n    onClick: handleOpen\n  }, /* @__PURE__ */ React.createElement(MoreVertIcon, null)), /* @__PURE__ */ React.createElement(Menu, {\n    anchorEl,\n    open,\n    onClose: handleClose\n  }, /* @__PURE__ */ React.createElement(MenuItem, {\n    onClick: () => identityApi.signOut()\n  }, /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(SignOutIcon, null)), \"Sign Out\")));\n};\n\nconst Profile = () => {\n  const {profile, displayName} = useUserProfile();\n  return /* @__PURE__ */ React.createElement(InfoCard, {\n    title: \"Profile\"\n  }, /* @__PURE__ */ React.createElement(Grid, {\n    container: true,\n    spacing: 6\n  }, /* @__PURE__ */ React.createElement(Grid, {\n    item: true\n  }, /* @__PURE__ */ React.createElement(SignInAvatar, {\n    size: 96\n  })), /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: true,\n    container: true\n  }, /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: true,\n    container: true,\n    direction: \"column\",\n    spacing: 2\n  }, /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: true\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"subtitle1\",\n    gutterBottom: true\n  }, displayName), /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\"\n  }, profile.email))), /* @__PURE__ */ React.createElement(Grid, {\n    item: true\n  }, /* @__PURE__ */ React.createElement(UserSettingsMenu, null)))));\n};\n\nconst ThemeIcon = ({id, activeId, icon}) => icon ? cloneElement(icon, {\n  color: activeId === id ? \"primary\" : void 0\n}) : /* @__PURE__ */ React.createElement(AutoIcon, {\n  color: activeId === id ? \"primary\" : void 0\n});\nconst useStyles$1 = makeStyles((theme) => ({\n  list: {\n    [theme.breakpoints.down(\"xs\")]: {\n      padding: `0 0 12px`\n    }\n  },\n  listItemText: {\n    [theme.breakpoints.down(\"xs\")]: {\n      paddingRight: 0,\n      paddingLeft: 0\n    }\n  },\n  listItemSecondaryAction: {\n    [theme.breakpoints.down(\"xs\")]: {\n      width: \"100%\",\n      top: \"auto\",\n      right: \"auto\",\n      position: \"relative\",\n      transform: \"unset\"\n    }\n  }\n}));\nconst TooltipToggleButton = ({\n  children,\n  title,\n  value,\n  ...props\n}) => /* @__PURE__ */ React.createElement(Tooltip, {\n  placement: \"top\",\n  arrow: true,\n  title\n}, /* @__PURE__ */ React.createElement(ToggleButton, {\n  value,\n  ...props\n}, children));\nconst ThemeToggle = () => {\n  const classes = useStyles$1();\n  const appThemeApi = useApi(appThemeApiRef);\n  const themeId = useObservable(appThemeApi.activeThemeId$(), appThemeApi.getActiveThemeId());\n  const themeIds = appThemeApi.getInstalledThemes();\n  const handleSetTheme = (_event, newThemeId) => {\n    if (themeIds.some((t) => t.id === newThemeId)) {\n      appThemeApi.setActiveThemeId(newThemeId);\n    } else {\n      appThemeApi.setActiveThemeId(void 0);\n    }\n  };\n  return /* @__PURE__ */ React.createElement(ListItem, {\n    className: classes.list\n  }, /* @__PURE__ */ React.createElement(ListItemText, {\n    className: classes.listItemText,\n    primary: \"Theme\",\n    secondary: \"Change the theme mode\"\n  }), /* @__PURE__ */ React.createElement(ListItemSecondaryAction, {\n    className: classes.listItemSecondaryAction\n  }, /* @__PURE__ */ React.createElement(ToggleButtonGroup, {\n    exclusive: true,\n    size: \"small\",\n    value: themeId != null ? themeId : \"auto\",\n    onChange: handleSetTheme\n  }, themeIds.map((theme) => {\n    var _a;\n    const themeIcon = (_a = themeIds.find((t) => t.id === theme.id)) == null ? void 0 : _a.icon;\n    return /* @__PURE__ */ React.createElement(TooltipToggleButton, {\n      key: theme.id,\n      title: `Select ${theme.title}`,\n      value: theme.variant\n    }, /* @__PURE__ */ React.createElement(React.Fragment, null, theme.variant, \"\\xA0\", /* @__PURE__ */ React.createElement(ThemeIcon, {\n      id: theme.id,\n      icon: themeIcon,\n      activeId: themeId\n    })));\n  }), /* @__PURE__ */ React.createElement(Tooltip, {\n    placement: \"top\",\n    arrow: true,\n    title: \"Select auto theme\"\n  }, /* @__PURE__ */ React.createElement(ToggleButton, {\n    value: \"auto\",\n    selected: themeId === void 0\n  }, \"Auto\\xA0\", /* @__PURE__ */ React.createElement(AutoIcon, {\n    color: themeId === void 0 ? \"primary\" : void 0\n  }))))));\n};\n\nconst General = () => {\n  return /* @__PURE__ */ React.createElement(Grid, {\n    container: true,\n    direction: \"row\",\n    spacing: 3\n  }, /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    sm: 12,\n    md: 6\n  }, /* @__PURE__ */ React.createElement(Profile, null)), /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    sm: 12,\n    md: 6\n  }, /* @__PURE__ */ React.createElement(InfoCard, {\n    title: \"Appearance\"\n  }, /* @__PURE__ */ React.createElement(List, {\n    dense: true\n  }, /* @__PURE__ */ React.createElement(ThemeToggle, null), /* @__PURE__ */ React.createElement(PinButton, null)))));\n};\n\nconst SettingsPage = ({providerSettings}) => {\n  return /* @__PURE__ */ React.createElement(Page, {\n    themeId: \"home\"\n  }, /* @__PURE__ */ React.createElement(Header, {\n    title: \"Settings\"\n  }), /* @__PURE__ */ React.createElement(TabbedLayout, null, /* @__PURE__ */ React.createElement(TabbedLayout.Route, {\n    path: \"general\",\n    title: \"General\"\n  }, /* @__PURE__ */ React.createElement(General, null)), /* @__PURE__ */ React.createElement(TabbedLayout.Route, {\n    path: \"auth-providers\",\n    title: \"Authentication Providers\"\n  }, /* @__PURE__ */ React.createElement(AuthProviders, {\n    providerSettings\n  })), /* @__PURE__ */ React.createElement(TabbedLayout.Route, {\n    path: \"feature-flags\",\n    title: \"Feature Flags\"\n  }, /* @__PURE__ */ React.createElement(FeatureFlags, null))));\n};\n\nvar SettingsPage$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  SettingsPage: SettingsPage\n});\n\nexport { AuthProviders, DefaultProviderSettings, ProviderSettingsItem, SettingsPage as Router, Settings, UserSettingsPage, userSettingsPlugin as plugin, userSettingsPlugin };\n//# sourceMappingURL=index.esm.js.map\n","export default \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2ODciIGhlaWdodD0iNDIxIiBmaWxsPSJub25lIiB2aWV3Qm94PSIwIDAgNjg3IDQyMSI+PHJlY3Qgd2lkdGg9IjQwNy4yMjMiIGhlaWdodD0iNDguNDYyIiB4PSIxNi4yMzEiIHk9IjExNC4zNTMiIGZpbGw9IiNEOUQ5RDkiIHJ4PSIyNC4yMzEiIHRyYW5zZm9ybT0icm90YXRlKC0xMC41NTU2IDE2LjIzMSAxMTQuMzUzKSIvPjxyZWN0IHdpZHRoPSIzMzcuNjc5IiBoZWlnaHQ9IjQ4LjQ2MiIgeD0iNTYuNTMzIiB5PSIxNTEuMzA2IiBmaWxsPSIjRDlEOUQ5IiByeD0iMjQuMjMxIiB0cmFuc2Zvcm09InJvdGF0ZSgtMTAuNTU1NiA1Ni41MzMyIDE1MS4zMDYpIi8+PHJlY3Qgd2lkdGg9IjQ0MS4wNjEiIGhlaWdodD0iNDguNDYyIiB4PSI1NC43MDciIHk9IjI3NC40MDMiIGZpbGw9IiNEOUQ5RDkiIHJ4PSIyNC4yMzEiIHRyYW5zZm9ybT0icm90YXRlKC0xMC41NTU2IDU0LjcwNyAyNzQuNDAzKSIvPjxyZWN0IHdpZHRoPSI0NDAuNDIxIiBoZWlnaHQ9IjQ4LjQ2MiIgeD0iMzguMTIyIiB5PSIzMjEuOTU2IiBmaWxsPSIjRDlEOUQ5IiByeD0iMjQuMjMxIiB0cmFuc2Zvcm09InJvdGF0ZSgtMTAuNTU1NiAzOC4xMjIxIDMyMS45NTYpIi8+PHJlY3Qgd2lkdGg9IjQzNS44ODUiIGhlaWdodD0iNDguNDYyIiB4PSIyMTMuOTIzIiB5PSIxNDcuMTA5IiBmaWxsPSIjRDlEOUQ5IiByeD0iMjQuMjMxIiB0cmFuc2Zvcm09InJvdGF0ZSgtMTAuNTU1NiAyMTMuOTIzIDE0Ny4xMDkpIi8+PHJlY3Qgd2lkdGg9IjQzMS4wNTQiIGhlaWdodD0iNDguNDYyIiB4PSIxOTkuODQyIiB5PSIxOTQuMTk2IiBmaWxsPSIjRDlEOUQ5IiByeD0iMjQuMjMxIiB0cmFuc2Zvcm09InJvdGF0ZSgtMTAuNTU1NiAxOTkuODQyIDE5NC4xOTYpIi8+PHJlY3Qgd2lkdGg9IjM5NC45MzYiIGhlaWdodD0iNDguNDYyIiB4PSIyMzUuMjk5IiB5PSIyOTIuOTQ2IiBmaWxsPSIjRDlEOUQ5IiByeD0iMjQuMjMxIiB0cmFuc2Zvcm09InJvdGF0ZSgtMTAuNTU1NiAyMzUuMjk5IDI5Mi45NDYpIi8+PHJlY3Qgd2lkdGg9IjQ1Ni4yODIiIGhlaWdodD0iNDguNDYyIiB4PSIxOTkuODYyIiB5PSIzNDQuMDEzIiBmaWxsPSIjRDlEOUQ5IiByeD0iMjQuMjMxIiB0cmFuc2Zvcm09InJvdGF0ZSgtMTAuNTU1NiAxOTkuODYyIDM0NC4wMTMpIi8+PGcgZmlsdGVyPSJ1cmwoI2ZpbHRlcjBfZCkiPjxyZWN0IHdpZHRoPSI0NjEiIGhlaWdodD0iMjg2IiB4PSIxMjYiIHk9IjY3IiBmaWxsPSIjRjhGOEY4IiByeD0iMTAiLz48cmVjdCB3aWR0aD0iOTAiIGhlaWdodD0iNjcuMjgzIiB4PSIxNTQiIHk9IjkxIiBmaWxsPSIjRDlEOUQ5Ii8+PHJlY3Qgd2lkdGg9IjkwIiBoZWlnaHQ9IjY5LjI5MSIgeD0iMTU0IiB5PSIxNzUuMzU0IiBmaWxsPSIjRDlEOUQ5Ii8+PHJlY3Qgd2lkdGg9IjkwIiBoZWlnaHQ9IjY3LjI4MyIgeD0iMTU0IiB5PSIyNjEuNzE3IiBmaWxsPSIjRDlEOUQ5Ii8+PHJlY3Qgd2lkdGg9IjkwIiBoZWlnaHQ9IjY3LjI4MyIgeD0iMjU5IiB5PSI5MSIgZmlsbD0iI0Q5RDlEOSIvPjxyZWN0IHdpZHRoPSI5MCIgaGVpZ2h0PSI2Ny4yODMiIHg9IjM2NCIgeT0iOTEiIGZpbGw9IiNEOUQ5RDkiLz48cmVjdCB3aWR0aD0iOTAiIGhlaWdodD0iNjkuMjkxIiB4PSIzNjQiIHk9IjE3NS4zNTQiIGZpbGw9IiNFRUUiLz48cmVjdCB3aWR0aD0iOTAiIGhlaWdodD0iNjcuMjgzIiB4PSIzNjQiIHk9IjI2MS43MTciIGZpbGw9IiNEOUQ5RDkiLz48cmVjdCB3aWR0aD0iOTAiIGhlaWdodD0iNjkuMjkxIiB4PSIyNTkiIHk9IjE3NS4zNTQiIGZpbGw9IiNEOUQ5RDkiLz48cmVjdCB3aWR0aD0iOTAiIGhlaWdodD0iNjcuMjgzIiB4PSIyNTkiIHk9IjI2MS43MTciIGZpbGw9IiNEOUQ5RDkiLz48cmVjdCB3aWR0aD0iOTAiIGhlaWdodD0iNjcuMjgzIiB4PSI0NjkiIHk9IjkxIiBmaWxsPSIjRDlEOUQ5Ii8+PHJlY3Qgd2lkdGg9IjkwIiBoZWlnaHQ9IjY5LjI5MSIgeD0iNDY5IiB5PSIxNzUuMzU0IiBmaWxsPSIjRDlEOUQ5Ii8+PHJlY3Qgd2lkdGg9IjkwIiBoZWlnaHQ9IjY3LjI4MyIgeD0iNDY5IiB5PSIyNjEuNzE3IiBmaWxsPSIjRDlEOUQ5Ii8+PC9nPjxkZWZzPjxmaWx0ZXIgaWQ9ImZpbHRlcjBfZCIgd2lkdGg9IjQ4NSIgaGVpZ2h0PSIzMTAiIHg9IjExNiIgeT0iNTkiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiIgZmlsdGVyVW5pdHM9InVzZXJTcGFjZU9uVXNlIj48ZmVGbG9vZCBmbG9vZC1vcGFjaXR5PSIwIiByZXN1bHQ9IkJhY2tncm91bmRJbWFnZUZpeCIvPjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIi8+PGZlT2Zmc2V0IGR4PSIyIiBkeT0iNCIvPjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjYiLz48ZmVDb2xvck1hdHJpeCB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMC4yNSAwIi8+PGZlQmxlbmQgaW4yPSJCYWNrZ3JvdW5kSW1hZ2VGaXgiIG1vZGU9Im5vcm1hbCIgcmVzdWx0PSJlZmZlY3QxX2Ryb3BTaGFkb3ciLz48ZmVCbGVuZCBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJlZmZlY3QxX2Ryb3BTaGFkb3ciIG1vZGU9Im5vcm1hbCIgcmVzdWx0PSJzaGFwZSIvPjwvZmlsdGVyPjwvZGVmcz48L3N2Zz4=\"","import { ORIGIN_LOCATION_ANNOTATION, stringifyLocationReference, LOCATION_ANNOTATION } from '@backstage/catalog-model';\nimport { ResponseError } from '@backstage/errors';\nimport fetch from 'cross-fetch';\n\nclass CatalogClient {\n  constructor(options) {\n    this.discoveryApi = options.discoveryApi;\n  }\n  async getLocationById(id, options) {\n    return await this.requestOptional(\"GET\", `/locations/${encodeURIComponent(id)}`, options);\n  }\n  async getEntities(request, options) {\n    const {filter = [], fields = []} = request != null ? request : {};\n    const filterItems = [filter].flat();\n    const params = [];\n    for (const filterItem of filterItems) {\n      const filterParts = [];\n      for (const [key, value] of Object.entries(filterItem)) {\n        for (const v of [value].flat()) {\n          filterParts.push(`${encodeURIComponent(key)}=${encodeURIComponent(v)}`);\n        }\n      }\n      if (filterParts.length) {\n        params.push(`filter=${filterParts.join(\",\")}`);\n      }\n    }\n    if (fields.length) {\n      params.push(`fields=${fields.map(encodeURIComponent).join(\",\")}`);\n    }\n    const query = params.length ? `?${params.join(\"&\")}` : \"\";\n    const entities = await this.requestRequired(\"GET\", `/entities${query}`, options);\n    return {items: entities};\n  }\n  async getEntityByName(compoundName, options) {\n    const {kind, namespace = \"default\", name} = compoundName;\n    return this.requestOptional(\"GET\", `/entities/by-name/${encodeURIComponent(kind)}/${encodeURIComponent(namespace)}/${encodeURIComponent(name)}`, options);\n  }\n  async addLocation({type = \"url\", target, dryRun, presence}, options) {\n    const response = await fetch(`${await this.discoveryApi.getBaseUrl(\"catalog\")}/locations${dryRun ? \"?dryRun=true\" : \"\"}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...(options == null ? void 0 : options.token) && {Authorization: `Bearer ${options == null ? void 0 : options.token}`}\n      },\n      method: \"POST\",\n      body: JSON.stringify({type, target, presence})\n    });\n    if (response.status !== 201) {\n      throw new Error(await response.text());\n    }\n    const {location, entities} = await response.json();\n    if (!location) {\n      throw new Error(`Location wasn't added: ${target}`);\n    }\n    if (entities.length === 0) {\n      throw new Error(`Location was added but has no entities specified yet: ${target}`);\n    }\n    return {\n      location,\n      entities\n    };\n  }\n  async getOriginLocationByEntity(entity, options) {\n    var _a;\n    const locationCompound = (_a = entity.metadata.annotations) == null ? void 0 : _a[ORIGIN_LOCATION_ANNOTATION];\n    if (!locationCompound) {\n      return void 0;\n    }\n    const all = await this.requestRequired(\"GET\", \"/locations\", options);\n    return all.map((r) => r.data).find((l) => locationCompound === stringifyLocationReference(l));\n  }\n  async getLocationByEntity(entity, options) {\n    var _a;\n    const locationCompound = (_a = entity.metadata.annotations) == null ? void 0 : _a[LOCATION_ANNOTATION];\n    if (!locationCompound) {\n      return void 0;\n    }\n    const all = await this.requestRequired(\"GET\", \"/locations\", options);\n    return all.map((r) => r.data).find((l) => locationCompound === stringifyLocationReference(l));\n  }\n  async removeLocationById(id, options) {\n    await this.requestIgnored(\"DELETE\", `/locations/${encodeURIComponent(id)}`, options);\n  }\n  async removeEntityByUid(uid, options) {\n    await this.requestIgnored(\"DELETE\", `/entities/by-uid/${encodeURIComponent(uid)}`, options);\n  }\n  async requestIgnored(method, path, options) {\n    const url = `${await this.discoveryApi.getBaseUrl(\"catalog\")}${path}`;\n    const headers = (options == null ? void 0 : options.token) ? {Authorization: `Bearer ${options.token}`} : {};\n    const response = await fetch(url, {method, headers});\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n  }\n  async requestRequired(method, path, options) {\n    const url = `${await this.discoveryApi.getBaseUrl(\"catalog\")}${path}`;\n    const headers = (options == null ? void 0 : options.token) ? {Authorization: `Bearer ${options.token}`} : {};\n    const response = await fetch(url, {method, headers});\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n    return await response.json();\n  }\n  async requestOptional(method, path, options) {\n    const url = `${await this.discoveryApi.getBaseUrl(\"catalog\")}${path}`;\n    const headers = (options == null ? void 0 : options.token) ? {Authorization: `Bearer ${options.token}`} : {};\n    const response = await fetch(url, {method, headers});\n    if (!response.ok) {\n      if (response.status === 404) {\n        return void 0;\n      }\n      throw await ResponseError.fromResponse(response);\n    }\n    return await response.json();\n  }\n}\n\nexport { CatalogClient };\n//# sourceMappingURL=index.esm.js.map\n","import { createApiRef, createRouteRef, createPlugin, createApiFactory, configApiRef, githubAuthApiRef, createRoutableExtension, createComponentExtension, StatusPending, StatusOK, StatusError, StatusWarning, StatusAborted, StatusRunning, useApi, useRouteRefParams, Breadcrumbs, Link, errorApiRef, EmptyState, Table as Table$1, MissingAnnotationEmptyState, InfoCard, StructuredMetadataTable } from '@backstage/core';\nimport { readGitHubIntegrationConfigs } from '@backstage/integration';\nimport { Octokit } from '@octokit/rest';\nimport React, { Suspense, useState, useEffect } from 'react';\nimport { useEntity } from '@backstage/plugin-catalog-react';\nimport { Routes, Route } from 'react-router';\nimport { makeStyles, Accordion, AccordionSummary, Typography, CircularProgress, Tooltip, Zoom, Modal, Fade, LinearProgress, Box, TableContainer, Paper, Table, TableBody, TableRow, TableCell, Link as Link$1, AccordionDetails, ListItemText, Button, IconButton } from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport ExternalLinkIcon from '@material-ui/icons/Launch';\nimport moment from 'moment';\nimport { useAsync, useAsyncRetry } from 'react-use';\nimport DescriptionIcon from '@material-ui/icons/Description';\nimport RetryIcon from '@material-ui/icons/Replay';\nimport GitHubIcon from '@material-ui/icons/GitHub';\nimport { Link as Link$2, generatePath } from 'react-router-dom';\nimport SyncIcon from '@material-ui/icons/Sync';\n\nconst githubActionsApiRef = createApiRef({\n  id: \"plugin.githubactions.service\",\n  description: \"Used by the GitHub Actions plugin to make requests\"\n});\n\nclass GithubActionsClient {\n  constructor(options) {\n    this.configApi = options.configApi;\n    this.githubAuthApi = options.githubAuthApi;\n  }\n  async getOctokit(hostname) {\n    var _a;\n    const token = await this.githubAuthApi.getAccessToken([\"repo\"]);\n    const configs = readGitHubIntegrationConfigs((_a = this.configApi.getOptionalConfigArray(\"integrations.github\")) != null ? _a : []);\n    const githubIntegrationConfig = configs.find((v) => v.host === hostname);\n    const baseUrl = githubIntegrationConfig == null ? void 0 : githubIntegrationConfig.apiBaseUrl;\n    return new Octokit({auth: token, baseUrl});\n  }\n  async reRunWorkflow({\n    hostname,\n    owner,\n    repo,\n    runId\n  }) {\n    const octokit = await this.getOctokit(hostname);\n    return octokit.actions.reRunWorkflow({\n      owner,\n      repo,\n      run_id: runId\n    });\n  }\n  async listWorkflowRuns({\n    hostname,\n    owner,\n    repo,\n    pageSize = 100,\n    page = 0,\n    branch\n  }) {\n    const octokit = await this.getOctokit(hostname);\n    const workflowRuns = await octokit.actions.listWorkflowRunsForRepo({\n      owner,\n      repo,\n      per_page: pageSize,\n      page,\n      ...branch ? {branch} : {}\n    });\n    return workflowRuns.data;\n  }\n  async getWorkflow({\n    hostname,\n    owner,\n    repo,\n    id\n  }) {\n    const octokit = await this.getOctokit(hostname);\n    const workflow = await octokit.actions.getWorkflow({\n      owner,\n      repo,\n      workflow_id: id\n    });\n    return workflow.data;\n  }\n  async getWorkflowRun({\n    hostname,\n    owner,\n    repo,\n    id\n  }) {\n    const octokit = await this.getOctokit(hostname);\n    const run = await octokit.actions.getWorkflowRun({\n      owner,\n      repo,\n      run_id: id\n    });\n    return run.data;\n  }\n  async downloadJobLogsForWorkflowRun({\n    hostname,\n    owner,\n    repo,\n    runId\n  }) {\n    const octokit = await this.getOctokit(hostname);\n    const workflow = await octokit.actions.downloadJobLogsForWorkflowRun({\n      owner,\n      repo,\n      job_id: runId\n    });\n    return workflow.data;\n  }\n}\n\nvar BuildStatus;\n(function(BuildStatus2) {\n  BuildStatus2[BuildStatus2[\"success\"] = 0] = \"success\";\n  BuildStatus2[BuildStatus2[\"failure\"] = 1] = \"failure\";\n  BuildStatus2[BuildStatus2[\"pending\"] = 2] = \"pending\";\n  BuildStatus2[BuildStatus2[\"running\"] = 3] = \"running\";\n})(BuildStatus || (BuildStatus = {}));\n\nconst rootRouteRef = createRouteRef({\n  path: \"\",\n  title: \"GitHub Actions\"\n});\nconst buildRouteRef = createRouteRef({\n  path: \":id\",\n  params: [\"id\"],\n  title: \"GitHub Actions Workflow Run\"\n});\n\nconst githubActionsPlugin = createPlugin({\n  id: \"github-actions\",\n  apis: [\n    createApiFactory({\n      api: githubActionsApiRef,\n      deps: {configApi: configApiRef, githubAuthApi: githubAuthApiRef},\n      factory: ({configApi, githubAuthApi}) => new GithubActionsClient({configApi, githubAuthApi})\n    })\n  ],\n  routes: {\n    entityContent: rootRouteRef\n  }\n});\nconst EntityGithubActionsContent = githubActionsPlugin.provide(createRoutableExtension({\n  component: () => Promise.resolve().then(function () { return Router$1; }).then((m) => m.Router),\n  mountPoint: rootRouteRef\n}));\nconst EntityLatestGithubActionRunCard = githubActionsPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./esm/index-dd6083b6.esm.js').then((m) => m.LatestWorkflowRunCard)\n  }\n}));\nconst EntityLatestGithubActionsForBranchCard = githubActionsPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./esm/index-dd6083b6.esm.js').then((m) => m.LatestWorkflowsForBranchCard)\n  }\n}));\nconst EntityRecentGithubActionsRunsCard = githubActionsPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./esm/index-dd6083b6.esm.js').then((m) => m.RecentWorkflowRunsCard)\n  }\n}));\n\nconst GITHUB_ACTIONS_ANNOTATION = \"github.com/project-slug\";\nconst useProjectName = (entity) => {\n  const {value, loading, error} = useAsync(async () => {\n    var _a, _b;\n    return (_b = (_a = entity == null ? void 0 : entity.metadata.annotations) == null ? void 0 : _a[GITHUB_ACTIONS_ANNOTATION]) != null ? _b : \"\";\n  });\n  return {value, loading, error};\n};\n\nconst WorkflowRunStatus = ({\n  status,\n  conclusion\n}) => {\n  if (status === void 0)\n    return null;\n  switch (status.toLocaleLowerCase(\"en-US\")) {\n    case \"queued\":\n      return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(StatusPending, null), \" Queued\");\n    case \"in_progress\":\n      return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(StatusRunning, null), \" In progress\");\n    case \"completed\":\n      switch (conclusion == null ? void 0 : conclusion.toLocaleLowerCase(\"en-US\")) {\n        case \"skipped\":\n          return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(StatusAborted, null), \" Aborted\");\n        case \"timed_out\":\n          return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(StatusWarning, null), \" Timed out\");\n        case \"failure\":\n          return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(StatusError, null), \" Error\");\n        default:\n          return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(StatusOK, null), \" Completed\");\n      }\n    default:\n      return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(StatusPending, null), \" Pending\");\n  }\n};\n\nconst useWorkflowRunJobs = (jobsUrl) => {\n  const jobs = useAsync(async () => {\n    if (jobsUrl === void 0) {\n      return {\n        total_count: 0,\n        jobs: []\n      };\n    }\n    const data = await fetch(jobsUrl).then((d) => d.json());\n    return data;\n  }, [jobsUrl]);\n  return jobs;\n};\n\nconst useWorkflowRunsDetails = ({\n  hostname,\n  owner,\n  repo\n}) => {\n  const api = useApi(githubActionsApiRef);\n  const {id} = useRouteRefParams(buildRouteRef);\n  const details = useAsync(async () => {\n    return repo && owner ? api.getWorkflowRun({\n      hostname,\n      owner,\n      repo,\n      id: parseInt(id, 10)\n    }) : Promise.reject(\"No repo/owner provided\");\n  }, [repo, owner, id]);\n  return details;\n};\n\nconst useDownloadWorkflowRunLogs = ({\n  hostname,\n  owner,\n  repo,\n  id\n}) => {\n  const api = useApi(githubActionsApiRef);\n  const details = useAsync(async () => {\n    return repo && owner ? api.downloadJobLogsForWorkflowRun({\n      hostname,\n      owner,\n      repo,\n      runId: parseInt(id, 10)\n    }) : Promise.reject(\"No repo/owner provided\");\n  }, [repo, owner, id]);\n  return details;\n};\n\nconst LazyLog = React.lazy(() => import('react-lazylog/build/LazyLog'));\nconst LinePart = React.lazy(() => import('react-lazylog/build/LinePart'));\nconst useStyles = makeStyles(() => ({\n  button: {\n    order: -1,\n    marginRight: 0,\n    marginLeft: \"-20px\"\n  },\n  modal: {\n    display: \"flex\",\n    alignItems: \"center\",\n    width: \"85%\",\n    height: \"85%\",\n    justifyContent: \"center\",\n    margin: \"auto\"\n  },\n  normalLog: {\n    height: \"75vh\",\n    width: \"100%\"\n  },\n  modalLog: {\n    height: \"100%\",\n    width: \"100%\"\n  }\n}));\nconst DisplayLog = ({\n  jobLogs,\n  className\n}) => {\n  return /* @__PURE__ */ React.createElement(Suspense, {\n    fallback: /* @__PURE__ */ React.createElement(LinearProgress, null)\n  }, /* @__PURE__ */ React.createElement(\"div\", {\n    className\n  }, /* @__PURE__ */ React.createElement(LazyLog, {\n    text: jobLogs != null ? jobLogs : \"No Values Found\",\n    extraLines: 1,\n    caseInsensitive: true,\n    enableSearch: true,\n    formatPart: (line) => {\n      if (line.toLocaleLowerCase().includes(\"error\") || line.toLocaleLowerCase().includes(\"failed\") || line.toLocaleLowerCase().includes(\"failure\")) {\n        return /* @__PURE__ */ React.createElement(LinePart, {\n          style: {color: \"red\"},\n          part: {text: line}\n        });\n      }\n      return line;\n    }\n  })));\n};\nconst WorkflowRunLogs = ({\n  entity,\n  runId,\n  inProgress\n}) => {\n  var _a;\n  const config = useApi(configApiRef);\n  const classes = useStyles();\n  const projectName = useProjectName(entity);\n  const hostname = readGitHubIntegrationConfigs((_a = config.getOptionalConfigArray(\"integrations.github\")) != null ? _a : [])[0].host;\n  const [owner, repo] = projectName.value ? projectName.value.split(\"/\") : [];\n  const jobLogs = useDownloadWorkflowRunLogs({\n    hostname,\n    owner,\n    repo,\n    id: runId\n  });\n  const [open, setOpen] = React.useState(false);\n  const handleOpen = () => {\n    setOpen(true);\n  };\n  const handleClose = () => {\n    setOpen(false);\n  };\n  return /* @__PURE__ */ React.createElement(Accordion, {\n    TransitionProps: {unmountOnExit: true},\n    disabled: inProgress\n  }, /* @__PURE__ */ React.createElement(AccordionSummary, {\n    expandIcon: /* @__PURE__ */ React.createElement(ExpandMoreIcon, null),\n    \"aria-controls\": `panel-${name}-content`,\n    id: `panel-${name}-header`,\n    IconButtonProps: {\n      className: classes.button\n    }\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"button\"\n  }, jobLogs.loading ? /* @__PURE__ */ React.createElement(CircularProgress, null) : \"Job Log\"), /* @__PURE__ */ React.createElement(Tooltip, {\n    title: \"Open Log\",\n    TransitionComponent: Zoom,\n    arrow: true\n  }, /* @__PURE__ */ React.createElement(DescriptionIcon, {\n    onClick: (event) => {\n      event.stopPropagation();\n      handleOpen();\n    },\n    style: {marginLeft: \"auto\"}\n  })), /* @__PURE__ */ React.createElement(Modal, {\n    className: classes.modal,\n    onClick: (event) => event.stopPropagation(),\n    open,\n    onClose: handleClose\n  }, /* @__PURE__ */ React.createElement(Fade, {\n    in: open\n  }, /* @__PURE__ */ React.createElement(DisplayLog, {\n    jobLogs: jobLogs.value || void 0,\n    className: classes.modalLog\n  })))), jobLogs.value && /* @__PURE__ */ React.createElement(DisplayLog, {\n    jobLogs: jobLogs.value || void 0,\n    className: classes.normalLog\n  }));\n};\n\nconst useStyles$1 = makeStyles((theme) => ({\n  root: {\n    maxWidth: 720,\n    margin: theme.spacing(2)\n  },\n  title: {\n    padding: theme.spacing(1, 0, 2, 0)\n  },\n  table: {\n    padding: theme.spacing(1)\n  },\n  accordionDetails: {\n    padding: 0\n  },\n  button: {\n    order: -1,\n    marginRight: 0,\n    marginLeft: \"-20px\"\n  },\n  externalLinkIcon: {\n    fontSize: \"inherit\",\n    verticalAlign: \"bottom\"\n  }\n}));\nconst getElapsedTime = (start, end) => {\n  const diff = moment(moment(end || moment()).diff(moment(start)));\n  const timeElapsed = diff.format(\"m [minutes] s [seconds]\");\n  return timeElapsed;\n};\nconst StepView = ({step}) => {\n  var _a;\n  return /* @__PURE__ */ React.createElement(TableRow, null, /* @__PURE__ */ React.createElement(TableCell, null, /* @__PURE__ */ React.createElement(ListItemText, {\n    primary: step.name,\n    secondary: getElapsedTime(step.started_at, step.completed_at)\n  })), /* @__PURE__ */ React.createElement(TableCell, null, /* @__PURE__ */ React.createElement(WorkflowRunStatus, {\n    status: step.status.toLocaleUpperCase(\"en-US\"),\n    conclusion: (_a = step.conclusion) == null ? void 0 : _a.toLocaleUpperCase(\"en-US\")\n  })));\n};\nconst JobListItem = ({\n  job,\n  className,\n  entity\n}) => {\n  const classes = useStyles$1();\n  return /* @__PURE__ */ React.createElement(Accordion, {\n    TransitionProps: {unmountOnExit: true},\n    className\n  }, /* @__PURE__ */ React.createElement(AccordionSummary, {\n    expandIcon: /* @__PURE__ */ React.createElement(ExpandMoreIcon, null),\n    \"aria-controls\": `panel-${name}-content`,\n    id: `panel-${name}-header`,\n    IconButtonProps: {\n      className: classes.button\n    }\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"button\"\n  }, job.name, \" (\", getElapsedTime(job.started_at, job.completed_at), \")\")), /* @__PURE__ */ React.createElement(AccordionDetails, {\n    className: classes.accordionDetails\n  }, /* @__PURE__ */ React.createElement(TableContainer, null, /* @__PURE__ */ React.createElement(Table, null, job.steps.map((step) => /* @__PURE__ */ React.createElement(StepView, {\n    key: step.number,\n    step\n  }))))), job.status === \"queued\" || job.status === \"in_progress\" ? /* @__PURE__ */ React.createElement(WorkflowRunLogs, {\n    runId: job.id,\n    inProgress: true,\n    entity\n  }) : /* @__PURE__ */ React.createElement(WorkflowRunLogs, {\n    runId: job.id,\n    inProgress: false,\n    entity\n  }));\n};\nconst JobsList = ({jobs, entity}) => {\n  const classes = useStyles$1();\n  return /* @__PURE__ */ React.createElement(Box, null, jobs && jobs.total_count > 0 && jobs.jobs.map((job) => /* @__PURE__ */ React.createElement(JobListItem, {\n    key: job.id,\n    job,\n    className: job.status !== \"success\" ? classes.failed : classes.success,\n    entity\n  })));\n};\nconst WorkflowRunDetails = ({entity}) => {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q;\n  const config = useApi(configApiRef);\n  const projectName = useProjectName(entity);\n  const hostname = readGitHubIntegrationConfigs((_a = config.getOptionalConfigArray(\"integrations.github\")) != null ? _a : [])[0].host;\n  const [owner, repo] = projectName.value ? projectName.value.split(\"/\") : [];\n  const details = useWorkflowRunsDetails({hostname, owner, repo});\n  const jobs = useWorkflowRunJobs((_b = details.value) == null ? void 0 : _b.jobs_url);\n  const error = projectName.error || projectName.value && details.error;\n  const classes = useStyles$1();\n  if (error) {\n    return /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"h6\",\n      color: \"error\"\n    }, \"Failed to load build, \", error.message);\n  } else if (projectName.loading || details.loading) {\n    return /* @__PURE__ */ React.createElement(LinearProgress, null);\n  }\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.root\n  }, /* @__PURE__ */ React.createElement(Box, {\n    mb: 3\n  }, /* @__PURE__ */ React.createElement(Breadcrumbs, {\n    \"aria-label\": \"breadcrumb\"\n  }, /* @__PURE__ */ React.createElement(Link, {\n    to: \"..\"\n  }, \"Workflow runs\"), /* @__PURE__ */ React.createElement(Typography, null, \"Workflow run details\"))), /* @__PURE__ */ React.createElement(TableContainer, {\n    component: Paper,\n    className: classes.table\n  }, /* @__PURE__ */ React.createElement(Table, null, /* @__PURE__ */ React.createElement(TableBody, null, /* @__PURE__ */ React.createElement(TableRow, null, /* @__PURE__ */ React.createElement(TableCell, null, /* @__PURE__ */ React.createElement(Typography, {\n    noWrap: true\n  }, \"Branch\")), /* @__PURE__ */ React.createElement(TableCell, null, (_c = details.value) == null ? void 0 : _c.head_branch)), /* @__PURE__ */ React.createElement(TableRow, null, /* @__PURE__ */ React.createElement(TableCell, null, /* @__PURE__ */ React.createElement(Typography, {\n    noWrap: true\n  }, \"Message\")), /* @__PURE__ */ React.createElement(TableCell, null, (_e = (_d = details.value) == null ? void 0 : _d.head_commit) == null ? void 0 : _e.message)), /* @__PURE__ */ React.createElement(TableRow, null, /* @__PURE__ */ React.createElement(TableCell, null, /* @__PURE__ */ React.createElement(Typography, {\n    noWrap: true\n  }, \"Commit ID\")), /* @__PURE__ */ React.createElement(TableCell, null, (_g = (_f = details.value) == null ? void 0 : _f.head_commit) == null ? void 0 : _g.id)), /* @__PURE__ */ React.createElement(TableRow, null, /* @__PURE__ */ React.createElement(TableCell, null, /* @__PURE__ */ React.createElement(Typography, {\n    noWrap: true\n  }, \"Workflow\")), /* @__PURE__ */ React.createElement(TableCell, null, (_h = details.value) == null ? void 0 : _h.name)), /* @__PURE__ */ React.createElement(TableRow, null, /* @__PURE__ */ React.createElement(TableCell, null, /* @__PURE__ */ React.createElement(Typography, {\n    noWrap: true\n  }, \"Status\")), /* @__PURE__ */ React.createElement(TableCell, null, /* @__PURE__ */ React.createElement(WorkflowRunStatus, {\n    status: ((_i = details.value) == null ? void 0 : _i.status) || void 0,\n    conclusion: ((_j = details.value) == null ? void 0 : _j.conclusion) || void 0\n  }))), /* @__PURE__ */ React.createElement(TableRow, null, /* @__PURE__ */ React.createElement(TableCell, null, /* @__PURE__ */ React.createElement(Typography, {\n    noWrap: true\n  }, \"Author\")), /* @__PURE__ */ React.createElement(TableCell, null, `${(_m = (_l = (_k = details.value) == null ? void 0 : _k.head_commit) == null ? void 0 : _l.author) == null ? void 0 : _m.name} (${(_p = (_o = (_n = details.value) == null ? void 0 : _n.head_commit) == null ? void 0 : _o.author) == null ? void 0 : _p.email})`)), /* @__PURE__ */ React.createElement(TableRow, null, /* @__PURE__ */ React.createElement(TableCell, null, /* @__PURE__ */ React.createElement(Typography, {\n    noWrap: true\n  }, \"Links\")), /* @__PURE__ */ React.createElement(TableCell, null, ((_q = details.value) == null ? void 0 : _q.html_url) && /* @__PURE__ */ React.createElement(Link$1, {\n    target: \"_blank\",\n    href: details.value.html_url\n  }, \"Workflow runs on GitHub\", \" \", /* @__PURE__ */ React.createElement(ExternalLinkIcon, {\n    className: classes.externalLinkIcon\n  })))), /* @__PURE__ */ React.createElement(TableRow, null, /* @__PURE__ */ React.createElement(TableCell, {\n    colSpan: 2\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    noWrap: true\n  }, \"Jobs\"), jobs.loading ? /* @__PURE__ */ React.createElement(CircularProgress, null) : /* @__PURE__ */ React.createElement(JobsList, {\n    jobs: jobs.value,\n    entity\n  })))))));\n};\n\nfunction useWorkflowRuns({\n  hostname,\n  owner,\n  repo,\n  branch,\n  initialPageSize = 5\n}) {\n  const api = useApi(githubActionsApiRef);\n  const errorApi = useApi(errorApiRef);\n  const [total, setTotal] = useState(0);\n  const [page, setPage] = useState(0);\n  const [pageSize, setPageSize] = useState(initialPageSize);\n  const {loading, value: runs, retry, error} = useAsyncRetry(async () => {\n    const workflowRunsData = await api.listWorkflowRuns({\n      hostname,\n      owner,\n      repo,\n      pageSize,\n      page: page + 1,\n      branch\n    });\n    setTotal(workflowRunsData.total_count);\n    return workflowRunsData.workflow_runs.map((run) => {\n      var _a, _b;\n      return {\n        workflowName: run.name,\n        message: run.head_commit.message,\n        id: `${run.id}`,\n        onReRunClick: async () => {\n          try {\n            await api.reRunWorkflow({\n              hostname,\n              owner,\n              repo,\n              runId: run.id\n            });\n          } catch (e) {\n            errorApi.post(e);\n          }\n        },\n        source: {\n          branchName: run.head_branch,\n          commit: {\n            hash: run.head_commit.id,\n            url: (_b = (_a = run.head_repository) == null ? void 0 : _a.branches_url) == null ? void 0 : _b.replace(\"{/branch}\", run.head_branch)\n          }\n        },\n        status: run.status,\n        conclusion: run.conclusion,\n        url: run.url,\n        githubUrl: run.html_url\n      };\n    });\n  }, [page, pageSize, repo, owner]);\n  return [\n    {\n      page,\n      pageSize,\n      loading,\n      runs,\n      projectName: `${owner}/${repo}`,\n      total,\n      error\n    },\n    {\n      runs,\n      setPage,\n      setPageSize,\n      retry\n    }\n  ];\n}\n\nconst generatedColumns = [\n  {\n    title: \"ID\",\n    field: \"id\",\n    type: \"numeric\",\n    width: \"150px\"\n  },\n  {\n    title: \"Message\",\n    field: \"message\",\n    highlight: true,\n    render: (row) => /* @__PURE__ */ React.createElement(Link$1, {\n      component: Link$2,\n      to: generatePath(buildRouteRef.path, {id: row.id})\n    }, row.message)\n  },\n  {\n    title: \"Source\",\n    render: (row) => {\n      var _a, _b;\n      return /* @__PURE__ */ React.createElement(Typography, {\n        variant: \"body2\",\n        noWrap: true\n      }, /* @__PURE__ */ React.createElement(\"p\", null, (_a = row.source) == null ? void 0 : _a.branchName), /* @__PURE__ */ React.createElement(\"p\", null, (_b = row.source) == null ? void 0 : _b.commit.hash));\n    }\n  },\n  {\n    title: \"Workflow\",\n    field: \"workflowName\"\n  },\n  {\n    title: \"Status\",\n    width: \"150px\",\n    render: (row) => /* @__PURE__ */ React.createElement(Box, {\n      display: \"flex\",\n      alignItems: \"center\"\n    }, /* @__PURE__ */ React.createElement(WorkflowRunStatus, {\n      status: row.status,\n      conclusion: row.conclusion\n    }))\n  },\n  {\n    title: \"Actions\",\n    render: (row) => /* @__PURE__ */ React.createElement(Tooltip, {\n      title: \"Rerun workflow\"\n    }, /* @__PURE__ */ React.createElement(IconButton, {\n      onClick: row.onReRunClick\n    }, /* @__PURE__ */ React.createElement(RetryIcon, null))),\n    width: \"10%\"\n  }\n];\nconst WorkflowRunsTableView = ({\n  projectName,\n  loading,\n  pageSize,\n  page,\n  retry,\n  runs,\n  onChangePage,\n  onChangePageSize,\n  total\n}) => {\n  return /* @__PURE__ */ React.createElement(Table$1, {\n    isLoading: loading,\n    options: {paging: true, pageSize, padding: \"dense\"},\n    totalCount: total,\n    page,\n    actions: [\n      {\n        icon: () => /* @__PURE__ */ React.createElement(SyncIcon, null),\n        tooltip: \"Reload workflow runs\",\n        isFreeAction: true,\n        onClick: () => retry()\n      }\n    ],\n    data: runs != null ? runs : [],\n    onChangePage,\n    onChangeRowsPerPage: onChangePageSize,\n    style: {width: \"100%\"},\n    title: /* @__PURE__ */ React.createElement(Box, {\n      display: \"flex\",\n      alignItems: \"center\"\n    }, /* @__PURE__ */ React.createElement(GitHubIcon, null), /* @__PURE__ */ React.createElement(Box, {\n      mr: 1\n    }), /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"h6\"\n    }, projectName)),\n    columns: generatedColumns\n  });\n};\nconst WorkflowRunsTable = ({\n  entity,\n  branch\n}) => {\n  var _a;\n  const config = useApi(configApiRef);\n  const {value: projectName, loading} = useProjectName(entity);\n  const hostname = readGitHubIntegrationConfigs((_a = config.getOptionalConfigArray(\"integrations.github\")) != null ? _a : [])[0].host;\n  const [owner, repo] = (projectName != null ? projectName : \"/\").split(\"/\");\n  const [\n    {runs, ...tableProps},\n    {retry, setPage, setPageSize}\n  ] = useWorkflowRuns({\n    hostname,\n    owner,\n    repo,\n    branch\n  });\n  const githubHost = hostname || \"github.com\";\n  return !runs ? /* @__PURE__ */ React.createElement(EmptyState, {\n    missing: \"data\",\n    title: \"No Workflow Data\",\n    description: \"This component has GitHub Actions enabled, but no data was found. Have you created any Workflows? Click the button below to create a new Workflow.\",\n    action: /* @__PURE__ */ React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      href: `https://${githubHost}/${projectName}/actions/new`\n    }, \"Create new Workflow\")\n  }) : /* @__PURE__ */ React.createElement(WorkflowRunsTableView, {\n    ...tableProps,\n    runs,\n    loading: loading || tableProps.loading,\n    retry,\n    onChangePageSize: setPageSize,\n    onChangePage: setPage\n  });\n};\n\nconst isGithubActionsAvailable = (entity) => {\n  var _a;\n  return Boolean((_a = entity.metadata.annotations) == null ? void 0 : _a[GITHUB_ACTIONS_ANNOTATION]);\n};\nconst Router = (_props) => {\n  const {entity} = useEntity();\n  if (!isGithubActionsAvailable(entity)) {\n    return /* @__PURE__ */ React.createElement(MissingAnnotationEmptyState, {\n      annotation: GITHUB_ACTIONS_ANNOTATION\n    });\n  }\n  return /* @__PURE__ */ React.createElement(Routes, null, /* @__PURE__ */ React.createElement(Route, {\n    path: `/${rootRouteRef.path}`,\n    element: /* @__PURE__ */ React.createElement(WorkflowRunsTable, {\n      entity\n    })\n  }), /* @__PURE__ */ React.createElement(Route, {\n    path: `/${buildRouteRef.path}`,\n    element: /* @__PURE__ */ React.createElement(WorkflowRunDetails, {\n      entity\n    })\n  }), \")\");\n};\n\nvar Router$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  isGithubActionsAvailable: isGithubActionsAvailable,\n  Router: Router\n});\n\nconst useStyles$2 = makeStyles({\n  externalLinkIcon: {\n    fontSize: \"inherit\",\n    verticalAlign: \"bottom\"\n  }\n});\nconst WidgetContent = ({\n  error,\n  loading,\n  lastRun,\n  branch\n}) => {\n  const classes = useStyles$2();\n  if (error)\n    return /* @__PURE__ */ React.createElement(Typography, null, \"Couldn't fetch latest \", branch, \" run\");\n  if (loading)\n    return /* @__PURE__ */ React.createElement(LinearProgress, null);\n  return /* @__PURE__ */ React.createElement(StructuredMetadataTable, {\n    metadata: {\n      status: /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(WorkflowRunStatus, {\n        status: lastRun.status,\n        conclusion: lastRun.conclusion\n      })),\n      message: lastRun.message,\n      url: /* @__PURE__ */ React.createElement(Link$1, {\n        href: lastRun.githubUrl,\n        target: \"_blank\"\n      }, \"See more on GitHub\", \" \", /* @__PURE__ */ React.createElement(ExternalLinkIcon, {\n        className: classes.externalLinkIcon\n      }))\n    }\n  });\n};\nconst LatestWorkflowRunCard = ({\n  branch = \"master\",\n  variant\n}) => {\n  var _a, _b, _c, _d;\n  const {entity} = useEntity();\n  const config = useApi(configApiRef);\n  const errorApi = useApi(errorApiRef);\n  const hostname = readGitHubIntegrationConfigs((_a = config.getOptionalConfigArray(\"integrations.github\")) != null ? _a : [])[0].host;\n  const [owner, repo] = ((_c = (_b = entity == null ? void 0 : entity.metadata.annotations) == null ? void 0 : _b[GITHUB_ACTIONS_ANNOTATION]) != null ? _c : \"/\").split(\"/\");\n  const [{runs, loading, error}] = useWorkflowRuns({\n    hostname,\n    owner,\n    repo,\n    branch\n  });\n  const lastRun = (_d = runs == null ? void 0 : runs[0]) != null ? _d : {};\n  useEffect(() => {\n    if (error) {\n      errorApi.post(error);\n    }\n  }, [error, errorApi]);\n  return /* @__PURE__ */ React.createElement(InfoCard, {\n    title: `Last ${branch} build`,\n    variant\n  }, /* @__PURE__ */ React.createElement(WidgetContent, {\n    error,\n    loading,\n    branch,\n    lastRun\n  }));\n};\nconst LatestWorkflowsForBranchCard = ({\n  branch = \"master\",\n  variant\n}) => {\n  const {entity} = useEntity();\n  return /* @__PURE__ */ React.createElement(InfoCard, {\n    title: `Last ${branch} build`,\n    variant\n  }, /* @__PURE__ */ React.createElement(WorkflowRunsTable, {\n    branch,\n    entity\n  }));\n};\n\nconst firstLine = (message) => message.split(\"\\n\")[0];\nconst RecentWorkflowRunsCard = ({\n  branch,\n  dense = false,\n  limit = 5,\n  variant\n}) => {\n  var _a, _b, _c;\n  const {entity} = useEntity();\n  const config = useApi(configApiRef);\n  const errorApi = useApi(errorApiRef);\n  const hostname = readGitHubIntegrationConfigs((_a = config.getOptionalConfigArray(\"integrations.github\")) != null ? _a : [])[0].host;\n  const [owner, repo] = ((_c = (_b = entity == null ? void 0 : entity.metadata.annotations) == null ? void 0 : _b[GITHUB_ACTIONS_ANNOTATION]) != null ? _c : \"/\").split(\"/\");\n  const [{runs = [], loading, error}] = useWorkflowRuns({\n    hostname,\n    owner,\n    repo,\n    branch,\n    initialPageSize: limit\n  });\n  useEffect(() => {\n    if (error) {\n      errorApi.post(error);\n    }\n  }, [error, errorApi]);\n  const githubHost = hostname || \"github.com\";\n  return /* @__PURE__ */ React.createElement(InfoCard, {\n    title: \"Recent Workflow Runs\",\n    subheader: branch ? `Branch: ${branch}` : \"All Branches\",\n    noPadding: true,\n    variant\n  }, !runs.length ? /* @__PURE__ */ React.createElement(\"div\", {\n    style: {textAlign: \"center\"}\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body1\"\n  }, \"This component has GitHub Actions enabled, but no workflows were found.\"), /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body2\"\n  }, /* @__PURE__ */ React.createElement(Link, {\n    to: `https://${githubHost}/${owner}/${repo}/actions/new`\n  }, \"Create a new workflow\"))) : /* @__PURE__ */ React.createElement(Table$1, {\n    isLoading: loading,\n    options: {\n      search: false,\n      paging: false,\n      padding: dense ? \"dense\" : \"default\",\n      toolbar: false\n    },\n    columns: [\n      {\n        title: \"Commit Message\",\n        field: \"message\",\n        render: (data) => /* @__PURE__ */ React.createElement(Link, {\n          component: Link$2,\n          to: generatePath(\"./ci-cd/:id\", {id: data.id})\n        }, firstLine(data.message))\n      },\n      {title: \"Branch\", field: \"source.branchName\"},\n      {title: \"Status\", field: \"status\", render: WorkflowRunStatus}\n    ],\n    data: runs\n  }));\n};\n\nexport { BuildStatus, EntityGithubActionsContent, EntityLatestGithubActionRunCard, EntityLatestGithubActionsForBranchCard, EntityRecentGithubActionsRunsCard, GITHUB_ACTIONS_ANNOTATION, GithubActionsClient, LatestWorkflowRunCard, LatestWorkflowsForBranchCard, RecentWorkflowRunsCard, Router, githubActionsApiRef, githubActionsPlugin, isGithubActionsAvailable, isGithubActionsAvailable as isPluginApplicableToEntity, githubActionsPlugin as plugin };\n//# sourceMappingURL=index.esm.js.map\n","import { createApiRef, CodeSnippet, useApi, TabbedCard, CardTab, Progress, InfoCard, WarningPanel, Link, createRouteRef, createExternalRouteRef, useQueryParamState, Table, OverflowTooltip, configApiRef, Page, Header, useRouteRef, Content, ContentHeader, SupportButton, createPlugin, createApiFactory, createRoutableExtension, createComponentExtension } from '@backstage/core';\nimport { useEntity, EntityTable, useRelatedEntities, getEntityRelations, formatEntityRefTitle, EntityRefLink, EntityRefLinks, catalogApiRef } from '@backstage/plugin-catalog-react';\nimport { Alert } from '@material-ui/lab';\nimport React, { Suspense, useState, useEffect } from 'react';\nimport AsyncApi from '@asyncapi/react-component';\nimport '@asyncapi/react-component/lib/styles/fiori.css';\nimport { makeStyles, fade } from '@material-ui/core/styles';\nimport 'graphiql/graphiql.css';\nimport { buildSchema } from 'graphql';\nimport SwaggerUI from 'swagger-ui-react';\nimport 'swagger-ui-react/swagger-ui.css';\nimport { RELATION_CONSUMES_API, RELATION_HAS_PART, RELATION_PROVIDES_API, RELATION_API_CONSUMED_BY, RELATION_API_PROVIDED_BY, RELATION_PART_OF, RELATION_OWNED_BY } from '@backstage/catalog-model';\nimport { Typography, Chip, Button } from '@material-ui/core';\nimport { Link as Link$1 } from 'react-router-dom';\nimport { useAsync } from 'react-use';\n\nconst apiDocsConfigRef = createApiRef({\n  id: \"plugin.api-docs.config\",\n  description: \"Used to configure api-docs widgets\"\n});\n\nconst PlainApiDefinitionWidget = ({definition, language}) => {\n  return /* @__PURE__ */ React.createElement(CodeSnippet, {\n    text: definition,\n    language,\n    showCopyCodeButton: true\n  });\n};\n\nconst ApiDefinitionCard = (_) => {\n  const {entity} = useEntity();\n  const config = useApi(apiDocsConfigRef);\n  const {getApiDefinitionWidget} = config;\n  if (!entity) {\n    return /* @__PURE__ */ React.createElement(Alert, {\n      severity: \"error\"\n    }, \"Could not fetch the API\");\n  }\n  const definitionWidget = getApiDefinitionWidget(entity);\n  if (definitionWidget) {\n    return /* @__PURE__ */ React.createElement(TabbedCard, {\n      title: entity.metadata.name\n    }, /* @__PURE__ */ React.createElement(CardTab, {\n      label: definitionWidget.title,\n      key: \"widget\"\n    }, definitionWidget.component(entity.spec.definition)), /* @__PURE__ */ React.createElement(CardTab, {\n      label: \"Raw\",\n      key: \"raw\"\n    }, /* @__PURE__ */ React.createElement(PlainApiDefinitionWidget, {\n      definition: entity.spec.definition,\n      language: definitionWidget.rawLanguage || entity.spec.type\n    })));\n  }\n  return /* @__PURE__ */ React.createElement(TabbedCard, {\n    title: entity.metadata.name,\n    children: [\n      /* @__PURE__ */ React.createElement(CardTab, {\n        label: entity.spec.type,\n        key: \"raw\"\n      }, /* @__PURE__ */ React.createElement(PlainApiDefinitionWidget, {\n        definition: entity.spec.definition,\n        language: entity.spec.type\n      }))\n    ]\n  });\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    \"& .asyncapi\": {\n      \"font-family\": \"inherit\",\n      background: \"none\"\n    },\n    \"& h2\": {\n      ...theme.typography.h6\n    },\n    \"& .text-teal\": {\n      color: theme.palette.primary.main\n    },\n    \"& button\": {\n      ...theme.typography.button,\n      background: \"none\",\n      boxSizing: \"border-box\",\n      minWidth: 64,\n      borderRadius: theme.shape.borderRadius,\n      transition: theme.transitions.create([\"background-color\", \"box-shadow\", \"border\"], {\n        duration: theme.transitions.duration.short\n      }),\n      padding: \"5px 15px\",\n      color: theme.palette.primary.main,\n      border: `1px solid ${fade(theme.palette.primary.main, 0.5)}`,\n      \"&:hover\": {\n        textDecoration: \"none\",\n        \"&.Mui-disabled\": {\n          backgroundColor: \"transparent\"\n        },\n        border: `1px solid ${theme.palette.primary.main}`,\n        backgroundColor: fade(theme.palette.primary.main, theme.palette.action.hoverOpacity),\n        \"@media (hover: none)\": {\n          backgroundColor: \"transparent\"\n        }\n      },\n      \"&.Mui-disabled\": {\n        color: theme.palette.action.disabled\n      }\n    },\n    \"& .asyncapi__collapse-button:hover\": {\n      color: theme.palette.primary.main\n    },\n    \"& button.asyncapi__toggle-button\": {\n      \"min-width\": \"inherit\"\n    },\n    \"& .asyncapi__info-list li\": {\n      \"border-color\": theme.palette.primary.main,\n      \"&:hover\": {\n        color: theme.palette.text.primary,\n        \"border-color\": theme.palette.primary.main,\n        \"background-color\": theme.palette.primary.main\n      }\n    },\n    \"& .asyncapi__info-list li a\": {\n      color: theme.palette.primary.main,\n      \"&:hover\": {\n        color: theme.palette.getContrastText(theme.palette.primary.main)\n      }\n    },\n    \"& .asyncapi__enum\": {\n      color: theme.palette.secondary.main\n    },\n    \"& .asyncapi__info, .asyncapi__channel, .asyncapi__channels > div, .asyncapi__schema, .asyncapi__channel-operations-list .asyncapi__messages-list-item .asyncapi__message, .asyncapi__message, .asyncapi__server, .asyncapi__servers > div, .asyncapi__messages > div, .asyncapi__schemas > div\": {\n      \"background-color\": \"inherit\"\n    },\n    \"& .asyncapi__channel-parameters-header, .asyncapi__channel-operations-header, .asyncapi__channel-operation-oneOf-subscribe-header, .asyncapi__channel-operation-oneOf-publish-header, .asyncapi__channel-operation-message-header,  .asyncapi__message-header, .asyncapi__message-header-title, .asyncapi__message-header-title > h3, .asyncapi__bindings, .asyncapi__bindings-header, .asyncapi__bindings-header > h4\": {\n      \"background-color\": \"inherit\",\n      color: theme.palette.text.primary\n    },\n    \"& .asyncapi__additional-properties-notice\": {\n      color: theme.palette.text.hint\n    },\n    \"& .asyncapi__code, .asyncapi__code-pre\": {\n      background: theme.palette.background.default\n    },\n    \"& .asyncapi__schema-example-header-title\": {\n      color: theme.palette.text.secondary\n    },\n    \"& .asyncapi__message-headers-header, .asyncapi__message-payload-header, .asyncapi__server-variables-header, .asyncapi__server-security-header\": {\n      \"background-color\": \"inherit\",\n      color: theme.palette.text.secondary\n    },\n    \"& .asyncapi__table-header\": {\n      background: theme.palette.background.default\n    },\n    \"& .asyncapi__table-body\": {\n      color: theme.palette.text.primary\n    },\n    \"& .asyncapi__server-security-flow\": {\n      background: theme.palette.background.default,\n      border: \"none\"\n    },\n    \"& .asyncapi__server-security-flows-list a\": {\n      color: theme.palette.primary.main\n    },\n    \"& .asyncapi__table-row--nested\": {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\nconst AsyncApiDefinitionWidget = ({definition}) => {\n  const classes = useStyles();\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.root\n  }, /* @__PURE__ */ React.createElement(AsyncApi, {\n    schema: definition\n  }));\n};\n\nconst GraphiQL = React.lazy(() => import('graphiql'));\nconst useStyles$1 = makeStyles(() => ({\n  root: {\n    height: \"100%\",\n    display: \"flex\",\n    flexFlow: \"column nowrap\"\n  },\n  graphiQlWrapper: {\n    flex: 1,\n    \"@global\": {\n      \".graphiql-container\": {\n        boxSizing: \"initial\",\n        height: \"100%\",\n        minHeight: \"600px\",\n        flex: \"1 1 auto\"\n      }\n    }\n  }\n}));\nconst GraphQlDefinitionWidget = ({definition}) => {\n  const classes = useStyles$1();\n  const schema = buildSchema(definition);\n  return /* @__PURE__ */ React.createElement(Suspense, {\n    fallback: /* @__PURE__ */ React.createElement(Progress, null)\n  }, /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.root\n  }, /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.graphiQlWrapper\n  }, /* @__PURE__ */ React.createElement(GraphiQL, {\n    fetcher: () => Promise.resolve(null),\n    schema,\n    docExplorerOpen: true,\n    defaultSecondaryEditorOpen: false\n  }))));\n};\n\nconst useStyles$2 = makeStyles((theme) => ({\n  root: {\n    \"& .swagger-ui, .info h1, .info h2, .info h3, .info h4, .info h\": {\n      \"font-family\": \"inherit\",\n      color: theme.palette.text.primary\n    },\n    \"& .scheme-container\": {\n      \"background-color\": theme.palette.background.default\n    },\n    \"& .opblock-tag, .opblock-tag small, table thead tr td, table thead tr th\": {\n      color: theme.palette.text.primary,\n      \"border-color\": theme.palette.divider\n    },\n    \"& section.models, section.models.is-open h4\": {\n      \"border-color\": theme.palette.divider\n    },\n    \"& .opblock .opblock-summary-description, .parameter__type, table.headers td, .model-title, .model .property.primitive, section h3\": {\n      color: theme.palette.text.secondary\n    },\n    \"& .opblock .opblock-summary-operation-id, .opblock .opblock-summary-path, .opblock .opblock-summary-path__deprecated, .opblock .opblock-section-header h4, .parameter__name, .response-col_status, .response-col_links, .responses-inner h4, .swagger-ui .responses-inner h5, .opblock-section-header .btn, .tab li, .info li, .info p, .info table, section.models h4, .info .title, table.model tr.description, .property-row\": {\n      color: theme.palette.text.primary\n    },\n    \"& .opblock .opblock-section-header, .model-box, section.models .model-container\": {\n      background: theme.palette.background.default\n    },\n    \"& .prop-format, .parameter__in\": {\n      color: theme.palette.text.disabled\n    },\n    \"& \": {\n      color: theme.palette.text.primary,\n      \"border-color\": theme.palette.divider\n    },\n    \"& .opblock-description-wrapper p, .opblock-external-docs-wrapper p, .opblock-title_normal p, .response-control-media-type__accept-message, .opblock .opblock-section-header>label, .scheme-container .schemes>label, .info .base-url, .model\": {\n      color: theme.palette.text.hint\n    },\n    \"& .parameter__name.required:after\": {\n      color: theme.palette.warning.dark\n    },\n    \"& .prop-type\": {\n      color: theme.palette.primary.main\n    }\n  }\n}));\nconst OpenApiDefinitionWidget = ({definition}) => {\n  const classes = useStyles$2();\n  const [def, setDef] = useState(\"\");\n  useEffect(() => {\n    const timer = setTimeout(() => setDef(definition), 0);\n    return () => clearTimeout(timer);\n  }, [definition, setDef]);\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.root\n  }, /* @__PURE__ */ React.createElement(SwaggerUI, {\n    spec: def\n  }));\n};\n\nfunction defaultDefinitionWidgets() {\n  return [\n    {\n      type: \"openapi\",\n      title: \"OpenAPI\",\n      rawLanguage: \"yaml\",\n      component: (definition) => /* @__PURE__ */ React.createElement(OpenApiDefinitionWidget, {\n        definition\n      })\n    },\n    {\n      type: \"asyncapi\",\n      title: \"AsyncAPI\",\n      rawLanguage: \"yaml\",\n      component: (definition) => /* @__PURE__ */ React.createElement(AsyncApiDefinitionWidget, {\n        definition\n      })\n    },\n    {\n      type: \"graphql\",\n      title: \"GraphQL\",\n      rawLanguage: \"graphql\",\n      component: (definition) => /* @__PURE__ */ React.createElement(GraphQlDefinitionWidget, {\n        definition\n      })\n    }\n  ];\n}\n\nconst ApiTypeTitle = ({apiEntity}) => {\n  const config = useApi(apiDocsConfigRef);\n  const definition = config.getApiDefinitionWidget(apiEntity);\n  const type = definition ? definition.title : apiEntity.spec.type;\n  return /* @__PURE__ */ React.createElement(\"span\", null, type);\n};\n\nfunction createSpecApiTypeColumn() {\n  return {\n    title: \"Type\",\n    field: \"spec.type\",\n    render: (entity) => /* @__PURE__ */ React.createElement(ApiTypeTitle, {\n      apiEntity: entity\n    })\n  };\n}\nconst apiEntityColumns = [\n  EntityTable.columns.createEntityRefColumn({defaultKind: \"API\"}),\n  EntityTable.columns.createSystemColumn(),\n  EntityTable.columns.createOwnerColumn(),\n  EntityTable.columns.createSpecLifecycleColumn(),\n  createSpecApiTypeColumn(),\n  EntityTable.columns.createMetadataDescriptionColumn()\n];\n\nconst ConsumedApisCard = ({variant = \"gridItem\"}) => {\n  const {entity} = useEntity();\n  const {entities, loading, error} = useRelatedEntities(entity, {\n    type: RELATION_CONSUMES_API\n  });\n  if (loading) {\n    return /* @__PURE__ */ React.createElement(InfoCard, {\n      variant,\n      title: \"Consumed APIs\"\n    }, /* @__PURE__ */ React.createElement(Progress, null));\n  }\n  if (error || !entities) {\n    return /* @__PURE__ */ React.createElement(InfoCard, {\n      variant,\n      title: \"Consumed APIs\"\n    }, /* @__PURE__ */ React.createElement(WarningPanel, {\n      severity: \"error\",\n      title: \"Could not load APIs\",\n      message: /* @__PURE__ */ React.createElement(CodeSnippet, {\n        text: `${error}`,\n        language: \"text\"\n      })\n    }));\n  }\n  return /* @__PURE__ */ React.createElement(EntityTable, {\n    title: \"Consumed APIs\",\n    variant,\n    emptyContent: /* @__PURE__ */ React.createElement(\"div\", {\n      style: {textAlign: \"center\"}\n    }, /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"body1\"\n    }, \"This \", entity.kind.toLocaleLowerCase(\"en-US\"), \" does not consume any APIs.\"), /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"body2\"\n    }, /* @__PURE__ */ React.createElement(Link, {\n      to: \"https://backstage.io/docs/features/software-catalog/descriptor-format#specconsumesapis-optional\"\n    }, \"Learn how to change this.\"))),\n    columns: apiEntityColumns,\n    entities\n  });\n};\n\nconst columns = [\n  EntityTable.columns.createEntityRefColumn({defaultKind: \"API\"}),\n  EntityTable.columns.createOwnerColumn(),\n  EntityTable.columns.createSpecLifecycleColumn(),\n  createSpecApiTypeColumn(),\n  EntityTable.columns.createMetadataDescriptionColumn()\n];\nconst HasApisCard = ({variant = \"gridItem\"}) => {\n  const {entity} = useEntity();\n  const {entities, loading, error} = useRelatedEntities(entity, {\n    type: RELATION_HAS_PART,\n    kind: \"API\"\n  });\n  if (loading) {\n    return /* @__PURE__ */ React.createElement(InfoCard, {\n      variant,\n      title: \"APIs\"\n    }, /* @__PURE__ */ React.createElement(Progress, null));\n  }\n  if (error || !entities) {\n    return /* @__PURE__ */ React.createElement(InfoCard, {\n      variant,\n      title: \"APIs\"\n    }, /* @__PURE__ */ React.createElement(WarningPanel, {\n      severity: \"error\",\n      title: \"Could not load APIs\",\n      message: /* @__PURE__ */ React.createElement(CodeSnippet, {\n        text: `${error}`,\n        language: \"text\"\n      })\n    }));\n  }\n  return /* @__PURE__ */ React.createElement(EntityTable, {\n    title: \"APIs\",\n    variant,\n    emptyContent: /* @__PURE__ */ React.createElement(\"div\", {\n      style: {textAlign: \"center\"}\n    }, /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"body1\"\n    }, \"This \", entity.kind.toLocaleLowerCase(\"en-US\"), \" does not contain any APIs.\"), /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"body2\"\n    }, /* @__PURE__ */ React.createElement(Link, {\n      to: \"https://backstage.io/docs/features/software-catalog/descriptor-format#kind-api\"\n    }, \"Learn how to change this.\"))),\n    columns,\n    entities\n  });\n};\n\nconst ProvidedApisCard = ({variant = \"gridItem\"}) => {\n  const {entity} = useEntity();\n  const {entities, loading, error} = useRelatedEntities(entity, {\n    type: RELATION_PROVIDES_API\n  });\n  if (loading) {\n    return /* @__PURE__ */ React.createElement(InfoCard, {\n      variant,\n      title: \"Provided APIs\"\n    }, /* @__PURE__ */ React.createElement(Progress, null));\n  }\n  if (error || !entities) {\n    return /* @__PURE__ */ React.createElement(InfoCard, {\n      variant,\n      title: \"Provided APIs\"\n    }, /* @__PURE__ */ React.createElement(WarningPanel, {\n      severity: \"error\",\n      title: \"Could not load APIs\",\n      message: /* @__PURE__ */ React.createElement(CodeSnippet, {\n        text: `${error}`,\n        language: \"text\"\n      })\n    }));\n  }\n  return /* @__PURE__ */ React.createElement(EntityTable, {\n    title: \"Provided APIs\",\n    variant,\n    emptyContent: /* @__PURE__ */ React.createElement(\"div\", {\n      style: {textAlign: \"center\"}\n    }, /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"body1\"\n    }, \"This \", entity.kind.toLocaleLowerCase(\"en-US\"), \" does not provide any APIs.\"), /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"body2\"\n    }, /* @__PURE__ */ React.createElement(Link, {\n      to: \"https://backstage.io/docs/features/software-catalog/descriptor-format#specprovidesapis-optional\"\n    }, \"Learn how to change this.\"))),\n    columns: apiEntityColumns,\n    entities\n  });\n};\n\nconst ConsumingComponentsCard = ({variant = \"gridItem\"}) => {\n  const {entity} = useEntity();\n  const {entities, loading, error} = useRelatedEntities(entity, {\n    type: RELATION_API_CONSUMED_BY\n  });\n  if (loading) {\n    return /* @__PURE__ */ React.createElement(InfoCard, {\n      variant,\n      title: \"Consumers\"\n    }, /* @__PURE__ */ React.createElement(Progress, null));\n  }\n  if (error || !entities) {\n    return /* @__PURE__ */ React.createElement(InfoCard, {\n      variant,\n      title: \"Consumers\"\n    }, /* @__PURE__ */ React.createElement(WarningPanel, {\n      severity: \"error\",\n      title: \"Could not load components\",\n      message: /* @__PURE__ */ React.createElement(CodeSnippet, {\n        text: `${error}`,\n        language: \"text\"\n      })\n    }));\n  }\n  return /* @__PURE__ */ React.createElement(EntityTable, {\n    title: \"Consumers\",\n    variant,\n    emptyContent: /* @__PURE__ */ React.createElement(\"div\", {\n      style: {textAlign: \"center\"}\n    }, /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"body1\"\n    }, \"No component consumes this API.\"), /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"body2\"\n    }, /* @__PURE__ */ React.createElement(Link, {\n      to: \"https://backstage.io/docs/features/software-catalog/descriptor-format#specconsumesapis-optional\"\n    }, \"Learn how to change this.\"))),\n    columns: EntityTable.componentEntityColumns,\n    entities\n  });\n};\n\nconst ProvidingComponentsCard = ({variant = \"gridItem\"}) => {\n  const {entity} = useEntity();\n  const {entities, loading, error} = useRelatedEntities(entity, {\n    type: RELATION_API_PROVIDED_BY\n  });\n  if (loading) {\n    return /* @__PURE__ */ React.createElement(InfoCard, {\n      variant,\n      title: \"Providers\"\n    }, /* @__PURE__ */ React.createElement(Progress, null));\n  }\n  if (error || !entities) {\n    return /* @__PURE__ */ React.createElement(InfoCard, {\n      variant,\n      title: \"Providers\"\n    }, /* @__PURE__ */ React.createElement(WarningPanel, {\n      severity: \"error\",\n      title: \"Could not load components\",\n      message: /* @__PURE__ */ React.createElement(CodeSnippet, {\n        text: `${error}`,\n        language: \"text\"\n      })\n    }));\n  }\n  return /* @__PURE__ */ React.createElement(EntityTable, {\n    title: \"Providers\",\n    variant,\n    emptyContent: /* @__PURE__ */ React.createElement(\"div\", {\n      style: {textAlign: \"center\"}\n    }, /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"body1\"\n    }, \"No component provides this API.\"), /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"body2\"\n    }, /* @__PURE__ */ React.createElement(Link, {\n      to: \"https://backstage.io/docs/features/software-catalog/descriptor-format#specprovidesapis-optional\"\n    }, \"Learn how to change this.\"))),\n    columns: EntityTable.componentEntityColumns,\n    entities\n  });\n};\n\nconst NoIcon = () => null;\nconst rootRoute = createRouteRef({\n  icon: NoIcon,\n  path: \"/api-docs\",\n  title: \"APIs\"\n});\nconst createComponentRouteRef = createExternalRouteRef({\n  id: \"create-component\",\n  optional: true\n});\n\nconst columns$1 = [\n  {\n    title: \"Name\",\n    field: \"resolved.name\",\n    highlight: true,\n    render: ({entity}) => /* @__PURE__ */ React.createElement(EntityRefLink, {\n      entityRef: entity,\n      defaultKind: \"API\"\n    })\n  },\n  {\n    title: \"System\",\n    field: \"resolved.partOfSystemRelationTitle\",\n    render: ({resolved}) => /* @__PURE__ */ React.createElement(EntityRefLinks, {\n      entityRefs: resolved.partOfSystemRelations,\n      defaultKind: \"system\"\n    })\n  },\n  {\n    title: \"Owner\",\n    field: \"resolved.ownedByRelationsTitle\",\n    render: ({resolved}) => /* @__PURE__ */ React.createElement(EntityRefLinks, {\n      entityRefs: resolved.ownedByRelations,\n      defaultKind: \"group\"\n    })\n  },\n  {\n    title: \"Lifecycle\",\n    field: \"entity.spec.lifecycle\"\n  },\n  {\n    title: \"Type\",\n    field: \"entity.spec.type\",\n    render: ({entity}) => /* @__PURE__ */ React.createElement(ApiTypeTitle, {\n      apiEntity: entity\n    })\n  },\n  {\n    title: \"Description\",\n    field: \"entity.metadata.description\",\n    render: ({entity}) => /* @__PURE__ */ React.createElement(OverflowTooltip, {\n      text: entity.metadata.description,\n      placement: \"bottom-start\"\n    }),\n    width: \"auto\"\n  },\n  {\n    title: \"Tags\",\n    field: \"entity.metadata.tags\",\n    cellStyle: {\n      padding: \"0px 16px 0px 20px\"\n    },\n    render: ({entity}) => /* @__PURE__ */ React.createElement(React.Fragment, null, entity.metadata.tags && entity.metadata.tags.map((t) => /* @__PURE__ */ React.createElement(Chip, {\n      key: t,\n      label: t,\n      size: \"small\",\n      variant: \"outlined\",\n      style: {marginBottom: \"0px\"}\n    })))\n  }\n];\nconst filters = [\n  {\n    column: \"Owner\",\n    type: \"select\"\n  },\n  {\n    column: \"Type\",\n    type: \"multiple-select\"\n  },\n  {\n    column: \"Lifecycle\",\n    type: \"multiple-select\"\n  },\n  {\n    column: \"Tags\",\n    type: \"checkbox-tree\"\n  }\n];\nconst ApiExplorerTable = ({\n  entities,\n  loading,\n  error\n}) => {\n  const [queryParamState, setQueryParamState] = useQueryParamState(\"apiTable\");\n  if (error) {\n    return /* @__PURE__ */ React.createElement(WarningPanel, {\n      severity: \"error\",\n      title: \"Could not fetch catalog entities.\"\n    }, /* @__PURE__ */ React.createElement(CodeSnippet, {\n      language: \"text\",\n      text: error.toString()\n    }));\n  }\n  const rows = entities.map((entity) => {\n    const partOfSystemRelations = getEntityRelations(entity, RELATION_PART_OF, {\n      kind: \"system\"\n    });\n    const ownedByRelations = getEntityRelations(entity, RELATION_OWNED_BY);\n    return {\n      entity,\n      resolved: {\n        name: formatEntityRefTitle(entity, {\n          defaultKind: \"API\"\n        }),\n        ownedByRelationsTitle: ownedByRelations.map((r) => formatEntityRefTitle(r, {defaultKind: \"group\"})).join(\", \"),\n        ownedByRelations,\n        partOfSystemRelationTitle: partOfSystemRelations.map((r) => formatEntityRefTitle(r, {\n          defaultKind: \"system\"\n        })).join(\", \"),\n        partOfSystemRelations\n      }\n    };\n  });\n  return /* @__PURE__ */ React.createElement(Table, {\n    isLoading: loading,\n    columns: columns$1,\n    options: {\n      paging: false,\n      actionsColumnIndex: -1,\n      loadingType: \"linear\",\n      padding: \"dense\",\n      showEmptyDataSourceMessage: !loading\n    },\n    data: rows,\n    filters,\n    initialState: queryParamState,\n    onStateChange: setQueryParamState\n  });\n};\n\nconst ApiExplorerLayout = ({children}) => {\n  var _a;\n  const configApi = useApi(configApiRef);\n  const generatedSubtitle = `${(_a = configApi.getOptionalString(\"organization.name\")) != null ? _a : \"Backstage\"} API Explorer`;\n  return /* @__PURE__ */ React.createElement(Page, {\n    themeId: \"apis\"\n  }, /* @__PURE__ */ React.createElement(Header, {\n    title: \"APIs\",\n    subtitle: generatedSubtitle,\n    pageTitleOverride: \"APIs\"\n  }), children);\n};\n\nconst ApiExplorerPage = () => {\n  var _a;\n  const createComponentLink = useRouteRef(createComponentRouteRef);\n  const catalogApi = useApi(catalogApiRef);\n  const {loading, error, value: catalogResponse} = useAsync(() => {\n    return catalogApi.getEntities({\n      filter: {kind: \"API\"},\n      fields: [\n        \"apiVersion\",\n        \"kind\",\n        \"metadata\",\n        \"relations\",\n        \"spec.lifecycle\",\n        \"spec.owner\",\n        \"spec.type\",\n        \"spec.system\"\n      ]\n    });\n  }, [catalogApi]);\n  return /* @__PURE__ */ React.createElement(ApiExplorerLayout, null, /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(ContentHeader, {\n    title: \"\"\n  }, createComponentLink && /* @__PURE__ */ React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    component: Link$1,\n    to: createComponentLink()\n  }, \"Register Existing API\"), /* @__PURE__ */ React.createElement(SupportButton, null, \"All your APIs\")), /* @__PURE__ */ React.createElement(ApiExplorerTable, {\n    entities: (_a = catalogResponse == null ? void 0 : catalogResponse.items) != null ? _a : [],\n    loading,\n    error\n  })));\n};\n\nconst apiDocsPlugin = createPlugin({\n  id: \"api-docs\",\n  routes: {\n    root: rootRoute\n  },\n  apis: [\n    createApiFactory({\n      api: apiDocsConfigRef,\n      deps: {},\n      factory: () => {\n        const definitionWidgets = defaultDefinitionWidgets();\n        return {\n          getApiDefinitionWidget: (apiEntity) => {\n            return definitionWidgets.find((d) => d.type === apiEntity.spec.type);\n          }\n        };\n      }\n    })\n  ],\n  externalRoutes: {\n    createComponent: createComponentRouteRef\n  },\n  register({router}) {\n    router.addRoute(rootRoute, ApiExplorerPage);\n  }\n});\nconst ApiExplorerPage$1 = apiDocsPlugin.provide(createRoutableExtension({\n  component: () => import('./index-947d5b4c.esm.js').then((m) => m.ApiExplorerPage),\n  mountPoint: rootRoute\n}));\nconst EntityApiDefinitionCard = apiDocsPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./index-44b03952.esm.js').then((m) => m.ApiDefinitionCard)\n  }\n}));\nconst EntityConsumedApisCard = apiDocsPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./index-7c2f5135.esm.js').then((m) => m.ConsumedApisCard)\n  }\n}));\nconst EntityConsumingComponentsCard = apiDocsPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./index-257abbe3.esm.js').then((m) => m.ConsumingComponentsCard)\n  }\n}));\nconst EntityProvidedApisCard = apiDocsPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./index-7c2f5135.esm.js').then((m) => m.ProvidedApisCard)\n  }\n}));\nconst EntityProvidingComponentsCard = apiDocsPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./index-257abbe3.esm.js').then((m) => m.ProvidingComponentsCard)\n  }\n}));\nconst EntityHasApisCard = apiDocsPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./index-7c2f5135.esm.js').then((m) => m.HasApisCard)\n  }\n}));\n\nexport { ApiExplorerPage as A, ConsumedApisCard as C, EntityApiDefinitionCard as E, HasApisCard as H, OpenApiDefinitionWidget as O, ProvidedApisCard as P, ApiDefinitionCard as a, ApiTypeTitle as b, ConsumingComponentsCard as c, defaultDefinitionWidgets as d, ProvidingComponentsCard as e, apiDocsConfigRef as f, apiDocsPlugin as g, ApiExplorerPage$1 as h, EntityConsumedApisCard as i, EntityConsumingComponentsCard as j, EntityHasApisCard as k, EntityProvidedApisCard as l, EntityProvidingComponentsCard as m, AsyncApiDefinitionWidget as n, PlainApiDefinitionWidget as o };\n//# sourceMappingURL=index-70fbe4d9.esm.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.func = exports.setEvaluated = exports.evaluatedPropsToName = exports.mergeEvaluated = exports.eachItem = exports.unescapeJsonPointer = exports.escapeJsonPointer = exports.escapeFragment = exports.unescapeFragment = exports.schemaRefOrVal = exports.schemaHasRulesButRef = exports.schemaHasRules = exports.checkUnknownRules = exports.alwaysValidSchema = exports.toHash = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst validate_1 = require(\"./validate\");\n// TODO refactor to use Set\nfunction toHash(arr) {\n    const hash = {};\n    for (const item of arr)\n        hash[item] = true;\n    return hash;\n}\nexports.toHash = toHash;\nfunction alwaysValidSchema(it, schema) {\n    if (typeof schema == \"boolean\")\n        return schema;\n    if (Object.keys(schema).length === 0)\n        return true;\n    checkUnknownRules(it, schema);\n    return !schemaHasRules(schema, it.self.RULES.all);\n}\nexports.alwaysValidSchema = alwaysValidSchema;\nfunction checkUnknownRules(it, schema = it.schema) {\n    const { opts, self } = it;\n    if (!opts.strict)\n        return;\n    if (typeof schema === \"boolean\")\n        return;\n    const rules = self.RULES.keywords;\n    for (const key in schema) {\n        if (!rules[key])\n            validate_1.checkStrictMode(it, `unknown keyword: \"${key}\"`);\n    }\n}\nexports.checkUnknownRules = checkUnknownRules;\nfunction schemaHasRules(schema, rules) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (rules[key])\n            return true;\n    return false;\n}\nexports.schemaHasRules = schemaHasRules;\nfunction schemaHasRulesButRef(schema, RULES) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (key !== \"$ref\" && RULES.all[key])\n            return true;\n    return false;\n}\nexports.schemaHasRulesButRef = schemaHasRulesButRef;\nfunction schemaRefOrVal({ topSchemaRef, schemaPath }, schema, keyword, $data) {\n    if (!$data) {\n        if (typeof schema == \"number\" || typeof schema == \"boolean\")\n            return schema;\n        if (typeof schema == \"string\")\n            return codegen_1._ `${schema}`;\n    }\n    return codegen_1._ `${topSchemaRef}${schemaPath}${codegen_1.getProperty(keyword)}`;\n}\nexports.schemaRefOrVal = schemaRefOrVal;\nfunction unescapeFragment(str) {\n    return unescapeJsonPointer(decodeURIComponent(str));\n}\nexports.unescapeFragment = unescapeFragment;\nfunction escapeFragment(str) {\n    return encodeURIComponent(escapeJsonPointer(str));\n}\nexports.escapeFragment = escapeFragment;\nfunction escapeJsonPointer(str) {\n    if (typeof str == \"number\")\n        return `${str}`;\n    return str.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\n}\nexports.escapeJsonPointer = escapeJsonPointer;\nfunction unescapeJsonPointer(str) {\n    return str.replace(/~1/g, \"/\").replace(/~0/g, \"~\");\n}\nexports.unescapeJsonPointer = unescapeJsonPointer;\nfunction eachItem(xs, f) {\n    if (Array.isArray(xs)) {\n        for (const x of xs)\n            f(x);\n    }\n    else {\n        f(xs);\n    }\n}\nexports.eachItem = eachItem;\nfunction makeMergeEvaluated({ mergeNames, mergeToName, mergeValues, resultToName, }) {\n    return (gen, from, to, toName) => {\n        const res = to === undefined\n            ? from\n            : to instanceof codegen_1.Name\n                ? (from instanceof codegen_1.Name ? mergeNames(gen, from, to) : mergeToName(gen, from, to), to)\n                : from instanceof codegen_1.Name\n                    ? (mergeToName(gen, to, from), from)\n                    : mergeValues(from, to);\n        return toName === codegen_1.Name && !(res instanceof codegen_1.Name) ? resultToName(gen, res) : res;\n    };\n}\nexports.mergeEvaluated = {\n    props: makeMergeEvaluated({\n        mergeNames: (gen, from, to) => gen.if(codegen_1._ `${to} !== true && ${from} !== undefined`, () => {\n            gen.if(codegen_1._ `${from} === true`, () => gen.assign(to, true), () => gen.assign(to, codegen_1._ `${to} || {}`).code(codegen_1._ `Object.assign(${to}, ${from})`));\n        }),\n        mergeToName: (gen, from, to) => gen.if(codegen_1._ `${to} !== true`, () => {\n            if (from === true) {\n                gen.assign(to, true);\n            }\n            else {\n                gen.assign(to, codegen_1._ `${to} || {}`);\n                setEvaluated(gen, to, from);\n            }\n        }),\n        mergeValues: (from, to) => (from === true ? true : { ...from, ...to }),\n        resultToName: evaluatedPropsToName,\n    }),\n    items: makeMergeEvaluated({\n        mergeNames: (gen, from, to) => gen.if(codegen_1._ `${to} !== true && ${from} !== undefined`, () => gen.assign(to, codegen_1._ `${from} === true ? true : ${to} > ${from} ? ${to} : ${from}`)),\n        mergeToName: (gen, from, to) => gen.if(codegen_1._ `${to} !== true`, () => gen.assign(to, from === true ? true : codegen_1._ `${to} > ${from} ? ${to} : ${from}`)),\n        mergeValues: (from, to) => (from === true ? true : Math.max(from, to)),\n        resultToName: (gen, items) => gen.var(\"items\", items),\n    }),\n};\nfunction evaluatedPropsToName(gen, ps) {\n    if (ps === true)\n        return gen.var(\"props\", true);\n    const props = gen.var(\"props\", codegen_1._ `{}`);\n    if (ps !== undefined)\n        setEvaluated(gen, props, ps);\n    return props;\n}\nexports.evaluatedPropsToName = evaluatedPropsToName;\nfunction setEvaluated(gen, props, ps) {\n    Object.keys(ps).forEach((p) => gen.assign(codegen_1._ `${props}${codegen_1.getProperty(p)}`, true));\n}\nexports.setEvaluated = setEvaluated;\nfunction func(gen, f) {\n    return gen.scopeValue(\"func\", {\n        ref: f,\n        code: f.code,\n    });\n}\nexports.func = func;\n//# sourceMappingURL=util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getProperty = exports.safeStringify = exports.stringify = exports.strConcat = exports.addCodeArg = exports.str = exports._ = exports.nil = exports._Code = exports.Name = exports.IDENTIFIER = exports._CodeOrName = void 0;\nclass _CodeOrName {\n}\nexports._CodeOrName = _CodeOrName;\nexports.IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;\nclass Name extends _CodeOrName {\n    constructor(s) {\n        super();\n        if (!exports.IDENTIFIER.test(s))\n            throw new Error(\"CodeGen: name must be a valid identifier\");\n        this.str = s;\n    }\n    toString() {\n        return this.str;\n    }\n    emptyStr() {\n        return false;\n    }\n    get names() {\n        return { [this.str]: 1 };\n    }\n}\nexports.Name = Name;\nclass _Code extends _CodeOrName {\n    constructor(code) {\n        super();\n        this._items = typeof code === \"string\" ? [code] : code;\n    }\n    toString() {\n        return this.str;\n    }\n    emptyStr() {\n        if (this._items.length > 1)\n            return false;\n        const item = this._items[0];\n        return item === \"\" || item === '\"\"';\n    }\n    get str() {\n        var _a;\n        return ((_a = this._str) !== null && _a !== void 0 ? _a : (this._str = this._items.reduce((s, c) => `${s}${c}`, \"\")));\n    }\n    get names() {\n        var _a;\n        return ((_a = this._names) !== null && _a !== void 0 ? _a : (this._names = this._items.reduce((names, c) => {\n            if (c instanceof Name)\n                names[c.str] = (names[c.str] || 0) + 1;\n            return names;\n        }, {})));\n    }\n}\nexports._Code = _Code;\nexports.nil = new _Code(\"\");\nfunction _(strs, ...args) {\n    const code = [strs[0]];\n    let i = 0;\n    while (i < args.length) {\n        addCodeArg(code, args[i]);\n        code.push(strs[++i]);\n    }\n    return new _Code(code);\n}\nexports._ = _;\nconst plus = new _Code(\"+\");\nfunction str(strs, ...args) {\n    const expr = [safeStringify(strs[0])];\n    let i = 0;\n    while (i < args.length) {\n        expr.push(plus);\n        addCodeArg(expr, args[i]);\n        expr.push(plus, safeStringify(strs[++i]));\n    }\n    optimize(expr);\n    return new _Code(expr);\n}\nexports.str = str;\nfunction addCodeArg(code, arg) {\n    if (arg instanceof _Code)\n        code.push(...arg._items);\n    else if (arg instanceof Name)\n        code.push(arg);\n    else\n        code.push(interpolate(arg));\n}\nexports.addCodeArg = addCodeArg;\nfunction optimize(expr) {\n    let i = 1;\n    while (i < expr.length - 1) {\n        if (expr[i] === plus) {\n            const res = mergeExprItems(expr[i - 1], expr[i + 1]);\n            if (res !== undefined) {\n                expr.splice(i - 1, 3, res);\n                continue;\n            }\n            expr[i++] = \"+\";\n        }\n        i++;\n    }\n}\nfunction mergeExprItems(a, b) {\n    if (b === '\"\"')\n        return a;\n    if (a === '\"\"')\n        return b;\n    if (typeof a == \"string\") {\n        if (b instanceof Name || a[a.length - 1] !== '\"')\n            return;\n        if (typeof b != \"string\")\n            return `${a.slice(0, -1)}${b}\"`;\n        if (b[0] === '\"')\n            return a.slice(0, -1) + b.slice(1);\n        return;\n    }\n    if (typeof b == \"string\" && b[0] === '\"' && !(a instanceof Name))\n        return `\"${a}${b.slice(1)}`;\n    return;\n}\nfunction strConcat(c1, c2) {\n    return c2.emptyStr() ? c1 : c1.emptyStr() ? c2 : str `${c1}${c2}`;\n}\nexports.strConcat = strConcat;\n// TODO do not allow arrays here\nfunction interpolate(x) {\n    return typeof x == \"number\" || typeof x == \"boolean\" || x === null\n        ? x\n        : safeStringify(Array.isArray(x) ? x.join(\",\") : x);\n}\nfunction stringify(x) {\n    return new _Code(safeStringify(x));\n}\nexports.stringify = stringify;\nfunction safeStringify(x) {\n    return JSON.stringify(x)\n        .replace(/\\u2028/g, \"\\\\u2028\")\n        .replace(/\\u2029/g, \"\\\\u2029\");\n}\nexports.safeStringify = safeStringify;\nfunction getProperty(key) {\n    return typeof key == \"string\" && exports.IDENTIFIER.test(key) ? new _Code(`.${key}`) : _ `[${key}]`;\n}\nexports.getProperty = getProperty;\n//# sourceMappingURL=code.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MissingRefError = exports.ValidationError = void 0;\nconst resolve_1 = require(\"./resolve\");\nclass ValidationError extends Error {\n    constructor(errors) {\n        super(\"validation failed\");\n        this.errors = errors;\n        this.ajv = this.validation = true;\n    }\n}\nexports.ValidationError = ValidationError;\nclass MissingRefError extends Error {\n    constructor(baseId, ref, msg) {\n        super(msg || `can't resolve reference ${ref} from id ${baseId}`);\n        this.missingRef = resolve_1.resolveUrl(baseId, ref);\n        this.missingSchema = resolve_1.normalizeId(resolve_1.getFullPath(this.missingRef));\n    }\n}\nexports.MissingRefError = MissingRefError;\nmodule.exports = {\n    ValidationError,\n    MissingRefError,\n};\n//# sourceMappingURL=error_classes.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeGen = exports.Name = exports.nil = exports.stringify = exports.str = exports._ = exports.KeywordCxt = void 0;\nconst context_1 = require(\"./compile/context\");\nexports.KeywordCxt = context_1.default;\nvar codegen_1 = require(\"./compile/codegen\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return codegen_1._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return codegen_1.str; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return codegen_1.stringify; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return codegen_1.nil; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return codegen_1.Name; } });\nObject.defineProperty(exports, \"CodeGen\", { enumerable: true, get: function () { return codegen_1.CodeGen; } });\nconst core_1 = require(\"./core\");\nconst draft7_1 = require(\"./vocabularies/draft7\");\nconst draft7MetaSchema = require(\"./refs/json-schema-draft-07.json\");\nconst META_SUPPORT_DATA = [\"/properties\"];\nconst META_SCHEMA_ID = \"http://json-schema.org/draft-07/schema\";\nclass Ajv extends core_1.default {\n    _addVocabularies() {\n        super._addVocabularies();\n        draft7_1.default.forEach((v) => this.addVocabulary(v));\n    }\n    _addDefaultMetaSchema() {\n        super._addDefaultMetaSchema();\n        if (!this.opts.meta)\n            return;\n        const metaSchema = this.opts.$data\n            ? this.$dataMetaSchema(draft7MetaSchema, META_SUPPORT_DATA)\n            : draft7MetaSchema;\n        this.addMetaSchema(metaSchema, META_SCHEMA_ID, false);\n        this.refs[\"http://json-schema.org/schema\"] = META_SCHEMA_ID;\n    }\n    defaultMeta() {\n        return (this.opts.defaultMeta =\n            super.defaultMeta() || (this.getSchema(META_SCHEMA_ID) ? META_SCHEMA_ID : undefined));\n    }\n}\nexports.default = Ajv;\n//# sourceMappingURL=ajv.js.map","import { createApiRef, createRouteRef, createPlugin, createApiFactory, discoveryApiRef, githubAuthApiRef, identityApiRef, createRoutableExtension, Link, useApi, errorApiRef, CodeSnippet, MarkdownContent, configApiRef, InfoCard, Page, Header, Content, ContentHeader, SupportButton } from '@backstage/core';\nimport { scmIntegrationsApiRef } from '@backstage/integration-react';\nimport { catalogApiRef, formatEntityRefTitle, EntityRefLink } from '@backstage/plugin-catalog-react';\nimport { Base64 } from 'js-base64';\nimport { Octokit } from '@octokit/rest';\nimport parseGitUrl from 'git-url-parse';\nimport React, { useReducer, useState, useCallback, useMemo } from 'react';\nimport { Routes, Route } from 'react-router-dom';\nimport { Button, CircularProgress, List, ListItem, ListItemIcon, ListItemText, ListItemSecondaryAction, IconButton, Collapse, Typography, Grid, TextField, FormHelperText, Card, CardHeader, CardContent, Box, Checkbox, StepLabel, FormControlLabel, Stepper, Step, StepContent } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LocationOnIcon from '@material-ui/icons/LocationOn';\nimport ApartmentIcon from '@material-ui/icons/Apartment';\nimport CategoryIcon from '@material-ui/icons/Category';\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport ExtensionIcon from '@material-ui/icons/Extension';\nimport GroupIcon from '@material-ui/icons/Group';\nimport MemoryIcon from '@material-ui/icons/Memory';\nimport PersonIcon from '@material-ui/icons/Person';\nimport WorkIcon from '@material-ui/icons/Work';\nimport { useForm, Controller } from 'react-hook-form';\nimport { Autocomplete } from '@material-ui/lab';\nimport YAML from 'yaml';\nimport { useAsync } from 'react-use';\n\nconst catalogImportApiRef = createApiRef({\n  id: \"plugin.catalog-import.service\",\n  description: \"Used by the catalog import plugin to make requests\"\n});\n\nconst getGithubIntegrationConfig = (scmIntegrationsApi, location) => {\n  const integration = scmIntegrationsApi.github.byUrl(location);\n  if (!integration) {\n    return void 0;\n  }\n  const {name: repo, owner} = parseGitUrl(location);\n  return {\n    repo,\n    owner,\n    githubIntegrationConfig: integration.config\n  };\n};\n\nclass CatalogImportClient {\n  constructor(options) {\n    this.discoveryApi = options.discoveryApi;\n    this.githubAuthApi = options.githubAuthApi;\n    this.identityApi = options.identityApi;\n    this.scmIntegrationsApi = options.scmIntegrationsApi;\n    this.catalogApi = options.catalogApi;\n  }\n  async analyzeUrl(url) {\n    if (url.match(/\\.ya?ml$/)) {\n      const location = await this.catalogApi.addLocation({\n        type: \"url\",\n        target: url,\n        dryRun: true\n      });\n      return {\n        type: \"locations\",\n        locations: [\n          {\n            target: location.location.target,\n            entities: location.entities.map((e) => {\n              var _a;\n              return {\n                kind: e.kind,\n                namespace: (_a = e.metadata.namespace) != null ? _a : \"default\",\n                name: e.metadata.name\n              };\n            })\n          }\n        ]\n      };\n    }\n    const ghConfig = getGithubIntegrationConfig(this.scmIntegrationsApi, url);\n    if (!ghConfig) {\n      throw new Error(\"This URL was not recognized as a valid GitHub URL because there was no configured integration that matched the given host name. You could try to paste the full URL to a catalog-info.yaml file instead.\");\n    }\n    const locations = await this.checkGitHubForExistingCatalogInfo({\n      ...ghConfig,\n      url\n    });\n    if (locations.length > 0) {\n      return {\n        type: \"locations\",\n        locations\n      };\n    }\n    return {\n      type: \"repository\",\n      integrationType: \"github\",\n      url,\n      generatedEntities: await this.generateEntityDefinitions({\n        repo: url\n      })\n    };\n  }\n  async submitPullRequest({\n    repositoryUrl,\n    fileContent,\n    title,\n    body\n  }) {\n    const ghConfig = getGithubIntegrationConfig(this.scmIntegrationsApi, repositoryUrl);\n    if (ghConfig) {\n      return await this.submitGitHubPrToRepo({\n        ...ghConfig,\n        fileContent,\n        title,\n        body\n      });\n    }\n    throw new Error(\"unimplemented!\");\n  }\n  async generateEntityDefinitions({\n    repo\n  }) {\n    const idToken = await this.identityApi.getIdToken();\n    const response = await fetch(`${await this.discoveryApi.getBaseUrl(\"catalog\")}/analyze-location`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...idToken && {Authorization: `Bearer ${idToken}`}\n      },\n      method: \"POST\",\n      body: JSON.stringify({\n        location: {type: \"url\", target: repo}\n      })\n    }).catch((e) => {\n      throw new Error(`Failed to generate entity definitions, ${e.message}`);\n    });\n    if (!response.ok) {\n      throw new Error(`Failed to generate entity definitions. Received http response ${response.status}: ${response.statusText}`);\n    }\n    const payload = await response.json();\n    return payload.generateEntities.map((x) => x.entity);\n  }\n  async checkGitHubForExistingCatalogInfo({\n    url,\n    owner,\n    repo,\n    githubIntegrationConfig\n  }) {\n    const token = await this.githubAuthApi.getAccessToken([\"repo\"]);\n    const octo = new Octokit({\n      auth: token,\n      baseUrl: githubIntegrationConfig.apiBaseUrl\n    });\n    const catalogFileName = \"catalog-info.yaml\";\n    const query = `repo:${owner}/${repo}+filename:${catalogFileName}`;\n    const searchResult = await octo.search.code({q: query}).catch((e) => {\n      throw new Error(formatHttpErrorMessage(\"Couldn't search repository for metadata file.\", e));\n    });\n    const exists = searchResult.data.total_count > 0;\n    if (exists) {\n      const repoInformation = await octo.repos.get({owner, repo}).catch((e) => {\n        throw new Error(formatHttpErrorMessage(\"Couldn't fetch repo data\", e));\n      });\n      const defaultBranch = repoInformation.data.default_branch;\n      return await Promise.all(searchResult.data.items.map((i) => `${url.replace(/[\\/]*$/, \"\")}/blob/${defaultBranch}/${i.path}`).map(async (i) => ({\n        target: i,\n        entities: (await this.catalogApi.addLocation({\n          type: \"url\",\n          target: i,\n          dryRun: true\n        })).entities.map((e) => {\n          var _a;\n          return {\n            kind: e.kind,\n            namespace: (_a = e.metadata.namespace) != null ? _a : \"default\",\n            name: e.metadata.name\n          };\n        })\n      })));\n    }\n    return [];\n  }\n  async submitGitHubPrToRepo({\n    owner,\n    repo,\n    title,\n    body,\n    fileContent,\n    githubIntegrationConfig\n  }) {\n    const token = await this.githubAuthApi.getAccessToken([\"repo\"]);\n    const octo = new Octokit({\n      auth: token,\n      baseUrl: githubIntegrationConfig.apiBaseUrl\n    });\n    const branchName = \"backstage-integration\";\n    const fileName = \"catalog-info.yaml\";\n    const repoData = await octo.repos.get({\n      owner,\n      repo\n    }).catch((e) => {\n      throw new Error(formatHttpErrorMessage(\"Couldn't fetch repo data\", e));\n    });\n    const parentRef = await octo.git.getRef({\n      owner,\n      repo,\n      ref: `heads/${repoData.data.default_branch}`\n    }).catch((e) => {\n      throw new Error(formatHttpErrorMessage(\"Couldn't fetch default branch data\", e));\n    });\n    await octo.git.createRef({\n      owner,\n      repo,\n      ref: `refs/heads/${branchName}`,\n      sha: parentRef.data.object.sha\n    }).catch((e) => {\n      throw new Error(formatHttpErrorMessage(`Couldn't create a new branch with name '${branchName}'`, e));\n    });\n    await octo.repos.createOrUpdateFileContents({\n      owner,\n      repo,\n      path: fileName,\n      message: title,\n      content: Base64.encode(fileContent),\n      branch: branchName\n    }).catch((e) => {\n      throw new Error(formatHttpErrorMessage(`Couldn't create a commit with ${fileName} file added`, e));\n    });\n    const pullRequestResponse = await octo.pulls.create({\n      owner,\n      repo,\n      title,\n      head: branchName,\n      body,\n      base: repoData.data.default_branch\n    }).catch((e) => {\n      throw new Error(formatHttpErrorMessage(`Couldn't create a pull request for ${branchName} branch`, e));\n    });\n    return {\n      link: pullRequestResponse.data.html_url,\n      location: `https://${githubIntegrationConfig.host}/${owner}/${repo}/blob/${repoData.data.default_branch}/${fileName}`\n    };\n  }\n}\nfunction formatHttpErrorMessage(message, error) {\n  return `${message}, received http response status code ${error.status}: ${error.message}`;\n}\n\nconst rootRouteRef = createRouteRef({\n  path: \"\",\n  title: \"catalog-import\"\n});\nconst catalogImportPlugin = createPlugin({\n  id: \"catalog-import\",\n  apis: [\n    createApiFactory({\n      api: catalogImportApiRef,\n      deps: {\n        discoveryApi: discoveryApiRef,\n        githubAuthApi: githubAuthApiRef,\n        identityApi: identityApiRef,\n        scmIntegrationsApi: scmIntegrationsApiRef,\n        catalogApi: catalogApiRef\n      },\n      factory: ({\n        discoveryApi,\n        githubAuthApi,\n        identityApi,\n        scmIntegrationsApi,\n        catalogApi\n      }) => new CatalogImportClient({\n        discoveryApi,\n        githubAuthApi,\n        scmIntegrationsApi,\n        identityApi,\n        catalogApi\n      })\n    })\n  ],\n  routes: {\n    importPage: rootRouteRef\n  }\n});\nconst CatalogImportPage = catalogImportPlugin.provide(createRoutableExtension({\n  component: () => Promise.resolve().then(function () { return Router$1; }).then((m) => m.Router),\n  mountPoint: rootRouteRef\n}));\n\nfunction init(initialUrl) {\n  return {\n    activeFlow: \"unknown\",\n    activeState: \"analyze\",\n    analysisUrl: initialUrl,\n    previousStates: []\n  };\n}\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"onAnalysis\": {\n      if (state.activeState !== \"analyze\") {\n        return state;\n      }\n      const {activeState, previousStates} = state;\n      const [activeFlow, analysisUrl, analyzeResult, opts] = action.args;\n      return {\n        ...state,\n        analysisUrl,\n        activeFlow,\n        analyzeResult,\n        prepareResult: opts == null ? void 0 : opts.prepareResult,\n        activeState: (opts == null ? void 0 : opts.prepareResult) === void 0 ? \"prepare\" : \"review\",\n        previousStates: previousStates.concat(activeState)\n      };\n    }\n    case \"onPrepare\": {\n      if (state.activeState !== \"prepare\") {\n        return state;\n      }\n      const {activeState, previousStates} = state;\n      const [prepareResult, opts] = action.args;\n      return {\n        ...state,\n        prepareResult,\n        activeState: \"review\",\n        previousStates: (opts == null ? void 0 : opts.notRepeatable) ? [] : previousStates.concat(activeState)\n      };\n    }\n    case \"onReview\": {\n      if (state.activeState !== \"review\") {\n        return state;\n      }\n      const {activeState, previousStates} = state;\n      const [reviewResult] = action.args;\n      return {\n        ...state,\n        reviewResult,\n        activeState: \"finish\",\n        previousStates: previousStates.concat(activeState)\n      };\n    }\n    case \"onGoBack\": {\n      const {activeState, previousStates} = state;\n      return {\n        ...state,\n        activeState: previousStates.length > 0 ? previousStates[previousStates.length - 1] : activeState,\n        previousStates: previousStates.slice(0, previousStates.length - 1)\n      };\n    }\n    case \"onReset\":\n      return {\n        ...init(action.initialUrl),\n        reviewResult: state.reviewResult\n      };\n    default:\n      throw new Error();\n  }\n}\nconst useImportState = (options) => {\n  const [state, dispatch] = useReducer(reducer, options == null ? void 0 : options.initialUrl, init);\n  const {activeFlow, activeState, analysisUrl, previousStates} = state;\n  return {\n    activeFlow,\n    activeState,\n    activeStepNumber: [\"analyze\", \"prepare\", \"review\", \"finish\"].indexOf(activeState),\n    analysisUrl,\n    analyzeResult: state.analyzeResult,\n    prepareResult: state.prepareResult,\n    reviewResult: state.reviewResult,\n    onAnalysis: (flow, url, result, opts) => dispatch({\n      type: \"onAnalysis\",\n      args: [flow, url, result, opts]\n    }),\n    onPrepare: (result, opts) => dispatch({\n      type: \"onPrepare\",\n      args: [result, opts]\n    }),\n    onReview: (result) => dispatch({type: \"onReview\", args: [result]}),\n    onGoBack: previousStates.length > 0 ? () => dispatch({type: \"onGoBack\"}) : void 0,\n    onReset: () => dispatch({type: \"onReset\", initialUrl: options == null ? void 0 : options.initialUrl})\n  };\n};\n\nconst useStyles = makeStyles((theme) => ({\n  wrapper: {\n    marginTop: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    position: \"relative\"\n  },\n  buttonProgress: {\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12\n  },\n  button: {\n    marginTop: theme.spacing(1),\n    marginRight: theme.spacing(1)\n  }\n}));\nconst NextButton = (props) => {\n  const {loading, ...buttonProps} = props;\n  const classes = useStyles();\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.wrapper\n  }, /* @__PURE__ */ React.createElement(Button, {\n    color: \"primary\",\n    variant: \"contained\",\n    ...buttonProps,\n    disabled: props.disabled || props.loading\n  }), props.loading && /* @__PURE__ */ React.createElement(CircularProgress, {\n    size: \"1.5rem\",\n    className: classes.buttonProgress\n  }), props.loading);\n};\nconst BackButton = (props) => {\n  const classes = useStyles();\n  return /* @__PURE__ */ React.createElement(Button, {\n    variant: \"outlined\",\n    className: classes.button,\n    ...props\n  }, props.children || \"Back\");\n};\n\nconst useStyles$1 = makeStyles((theme) => ({\n  nested: {\n    paddingLeft: theme.spacing(4)\n  }\n}));\nfunction sortEntities(entities) {\n  return entities.sort((a, b) => formatEntityRefTitle(a).localeCompare(formatEntityRefTitle(b)));\n}\nfunction getEntityIcon(entity) {\n  switch (entity.kind.toLocaleLowerCase(\"en-US\")) {\n    case \"api\":\n      return /* @__PURE__ */ React.createElement(ExtensionIcon, null);\n    case \"component\":\n      return /* @__PURE__ */ React.createElement(MemoryIcon, null);\n    case \"domain\":\n      return /* @__PURE__ */ React.createElement(ApartmentIcon, null);\n    case \"group\":\n      return /* @__PURE__ */ React.createElement(GroupIcon, null);\n    case \"location\":\n      return /* @__PURE__ */ React.createElement(LocationOnIcon, null);\n    case \"system\":\n      return /* @__PURE__ */ React.createElement(CategoryIcon, null);\n    case \"user\":\n      return /* @__PURE__ */ React.createElement(PersonIcon, null);\n    default:\n      return /* @__PURE__ */ React.createElement(WorkIcon, null);\n  }\n}\nconst EntityListComponent = ({\n  locations,\n  collapsed = false,\n  locationListItemIcon,\n  onItemClick,\n  firstListItem,\n  withLinks = false\n}) => {\n  const classes = useStyles$1();\n  const [expandedUrls, setExpandedUrls] = useState([]);\n  const handleClick = (url) => {\n    setExpandedUrls((urls) => urls.includes(url) ? urls.filter((u) => u !== url) : urls.concat(url));\n  };\n  return /* @__PURE__ */ React.createElement(List, null, firstListItem, locations.map((r) => /* @__PURE__ */ React.createElement(React.Fragment, {\n    key: r.target\n  }, /* @__PURE__ */ React.createElement(ListItem, {\n    dense: true,\n    button: Boolean(onItemClick),\n    onClick: () => onItemClick == null ? void 0 : onItemClick.call(undefined, r.target)\n  }, /* @__PURE__ */ React.createElement(ListItemIcon, null, locationListItemIcon(r.target)), /* @__PURE__ */ React.createElement(ListItemText, {\n    primary: r.target,\n    secondary: `Entities: ${r.entities.length}`\n  }), collapsed && /* @__PURE__ */ React.createElement(ListItemSecondaryAction, null, /* @__PURE__ */ React.createElement(IconButton, {\n    edge: \"end\",\n    onClick: () => handleClick(r.target)\n  }, expandedUrls.includes(r.target) ? /* @__PURE__ */ React.createElement(ExpandLessIcon, null) : /* @__PURE__ */ React.createElement(ExpandMoreIcon, null)))), /* @__PURE__ */ React.createElement(Collapse, {\n    in: !collapsed || expandedUrls.includes(r.target),\n    timeout: \"auto\",\n    unmountOnExit: true\n  }, /* @__PURE__ */ React.createElement(List, {\n    component: \"div\",\n    disablePadding: true,\n    dense: true\n  }, sortEntities(r.entities).map((entity) => /* @__PURE__ */ React.createElement(ListItem, {\n    component: withLinks ? EntityRefLink : \"div\",\n    entityRef: withLinks ? entity : void 0,\n    button: withLinks,\n    key: formatEntityRefTitle(entity),\n    className: classes.nested\n  }, /* @__PURE__ */ React.createElement(ListItemIcon, null, getEntityIcon(entity)), /* @__PURE__ */ React.createElement(ListItemText, {\n    primary: formatEntityRefTitle(entity)\n  }))))))));\n};\n\nconst StepFinishImportLocation = ({reviewResult, onReset}) => /* @__PURE__ */ React.createElement(React.Fragment, null, reviewResult.type === \"repository\" && /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Typography, {\n  paragraph: true\n}, \"The following Pull Request has been opened:\", \" \", /* @__PURE__ */ React.createElement(Link, {\n  to: reviewResult.pullRequest.url,\n  target: \"_blank\",\n  rel: \"noreferrer\"\n}, reviewResult.pullRequest.url)), /* @__PURE__ */ React.createElement(Typography, {\n  paragraph: true\n}, \"Your entities will be imported as soon as the Pull Request is merged.\")), /* @__PURE__ */ React.createElement(Typography, null, \"The following entities have been added to the catalog:\"), /* @__PURE__ */ React.createElement(EntityListComponent, {\n  locations: reviewResult.locations,\n  locationListItemIcon: () => /* @__PURE__ */ React.createElement(LocationOnIcon, null),\n  withLinks: true\n}), /* @__PURE__ */ React.createElement(Grid, {\n  container: true,\n  spacing: 0\n}, /* @__PURE__ */ React.createElement(BackButton, {\n  onClick: onReset\n}, \"Register another\")));\n\nconst StepInitAnalyzeUrl = ({\n  onAnalysis,\n  analysisUrl = \"\",\n  disablePullRequest = false\n}) => {\n  const errorApi = useApi(errorApiRef);\n  const catalogImportApi = useApi(catalogImportApiRef);\n  const {register, handleSubmit, errors, watch} = useForm({\n    mode: \"onTouched\",\n    defaultValues: {\n      url: analysisUrl\n    }\n  });\n  const [submitted, setSubmitted] = useState(false);\n  const [error, setError] = useState(void 0);\n  const handleResult = useCallback(async ({url}) => {\n    var _a, _b, _c;\n    setSubmitted(true);\n    try {\n      const analysisResult = await catalogImportApi.analyzeUrl(url);\n      switch (analysisResult.type) {\n        case \"repository\":\n          if (!disablePullRequest && analysisResult.generatedEntities.length > 0) {\n            onAnalysis(\"no-location\", url, analysisResult);\n          } else {\n            setError(\"Couldn't generate entities for your repository\");\n            setSubmitted(false);\n          }\n          break;\n        case \"locations\": {\n          if (analysisResult.locations.length === 1) {\n            onAnalysis(\"single-location\", url, analysisResult, {\n              prepareResult: analysisResult\n            });\n          } else if (analysisResult.locations.length > 1) {\n            onAnalysis(\"multiple-locations\", url, analysisResult);\n          } else {\n            setError(\"There are no entities at this location\");\n            setSubmitted(false);\n          }\n          break;\n        }\n        default: {\n          const err = `Received unknown analysis result of type ${analysisResult.type}. Please contact the support team.`;\n          setError(err);\n          setSubmitted(false);\n          errorApi.post(new Error(err));\n          break;\n        }\n      }\n    } catch (e) {\n      setError((_c = (_b = (_a = e.data) == null ? void 0 : _a.error) == null ? void 0 : _b.message) != null ? _c : e.message);\n      setSubmitted(false);\n    }\n  }, [catalogImportApi, disablePullRequest, errorApi, onAnalysis]);\n  return /* @__PURE__ */ React.createElement(\"form\", {\n    onSubmit: handleSubmit(handleResult)\n  }, /* @__PURE__ */ React.createElement(TextField, {\n    fullWidth: true,\n    id: \"url\",\n    name: \"url\",\n    label: \"Repository URL\",\n    placeholder: \"https://github.com/backstage/backstage/blob/master/catalog-info.yaml\",\n    helperText: \"Enter the full path to your entity file to start tracking your component\",\n    margin: \"normal\",\n    variant: \"outlined\",\n    error: Boolean(errors.url),\n    inputRef: register({\n      required: true,\n      validate: {\n        httpsValidator: (value) => typeof value === \"string\" && value.match(/^http[s]?:\\/\\//) !== null || \"Must start with http:// or https://.\"\n      }\n    }),\n    required: true\n  }), errors.url && /* @__PURE__ */ React.createElement(FormHelperText, {\n    error: true\n  }, errors.url.message), error && /* @__PURE__ */ React.createElement(FormHelperText, {\n    error: true\n  }, error), /* @__PURE__ */ React.createElement(Grid, {\n    container: true,\n    spacing: 0\n  }, /* @__PURE__ */ React.createElement(NextButton, {\n    disabled: Boolean(errors.url) || !watch(\"url\"),\n    loading: submitted,\n    type: \"submit\"\n  }, \"Analyze\")));\n};\n\nconst AutocompleteTextField = ({\n  name,\n  options,\n  required,\n  control,\n  errors,\n  rules,\n  loading = false,\n  loadingText,\n  helperText,\n  errorHelperText,\n  textFieldProps = {}\n}) => {\n  return /* @__PURE__ */ React.createElement(Controller, {\n    name,\n    control,\n    rules,\n    render: ({value, onChange, onBlur}) => /* @__PURE__ */ React.createElement(Autocomplete, {\n      loading,\n      loadingText,\n      options: options || [],\n      onChange: (_, v) => onChange(v || \"\"),\n      onBlur,\n      value,\n      autoSelect: true,\n      freeSolo: true,\n      renderInput: (params) => /* @__PURE__ */ React.createElement(TextField, {\n        ...params,\n        helperText: (errors == null ? void 0 : errors[name]) && errorHelperText || helperText,\n        error: Boolean(errors == null ? void 0 : errors[name]),\n        margin: \"normal\",\n        variant: \"outlined\",\n        required,\n        InputProps: {\n          ...params.InputProps,\n          endAdornment: /* @__PURE__ */ React.createElement(React.Fragment, null, loading ? /* @__PURE__ */ React.createElement(CircularProgress, {\n            color: \"inherit\",\n            size: \"1em\"\n          }) : null, params.InputProps.endAdornment)\n        },\n        ...textFieldProps\n      })\n    })\n  });\n};\n\nconst PreparePullRequestForm = ({\n  defaultValues,\n  onSubmit,\n  render\n}) => {\n  const {\n    handleSubmit,\n    watch,\n    control,\n    register,\n    errors\n  } = useForm({mode: \"onTouched\", defaultValues});\n  return /* @__PURE__ */ React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit)\n  }, render({values: watch(), errors, register, control}));\n};\n\nconst PreviewCatalogInfoComponent = ({\n  repositoryUrl,\n  entities,\n  classes\n}) => {\n  return /* @__PURE__ */ React.createElement(Card, {\n    variant: \"outlined\",\n    className: classes == null ? void 0 : classes.card\n  }, /* @__PURE__ */ React.createElement(CardHeader, {\n    title: /* @__PURE__ */ React.createElement(\"code\", null, `${repositoryUrl.replace(/[\\/]*$/, \"\")}/catalog-info.yaml`)\n  }), /* @__PURE__ */ React.createElement(CardContent, {\n    className: classes == null ? void 0 : classes.cardContent\n  }, /* @__PURE__ */ React.createElement(CodeSnippet, {\n    text: entities.map((e) => YAML.stringify(e)).join(\"---\\n\").trim(),\n    language: \"yaml\"\n  })));\n};\n\nconst PreviewPullRequestComponent = ({\n  title,\n  description,\n  classes\n}) => {\n  return /* @__PURE__ */ React.createElement(Card, {\n    variant: \"outlined\",\n    className: classes == null ? void 0 : classes.card\n  }, /* @__PURE__ */ React.createElement(CardHeader, {\n    title,\n    subheader: \"Create a new Pull Request\"\n  }), /* @__PURE__ */ React.createElement(CardContent, {\n    className: classes == null ? void 0 : classes.cardContent\n  }, /* @__PURE__ */ React.createElement(MarkdownContent, {\n    content: description\n  })));\n};\n\nconst useStyles$2 = makeStyles((theme) => ({\n  previewCard: {\n    marginTop: theme.spacing(1)\n  },\n  previewCardContent: {\n    paddingTop: 0\n  }\n}));\nfunction generateEntities(entities, componentName, owner) {\n  return entities.map((e) => ({\n    ...e,\n    apiVersion: e.apiVersion,\n    kind: e.kind,\n    metadata: {\n      ...e.metadata,\n      name: componentName\n    },\n    spec: {\n      ...e.spec,\n      ...owner ? {owner} : {}\n    }\n  }));\n}\nconst StepPrepareCreatePullRequest = ({\n  analyzeResult,\n  onPrepare,\n  onGoBack,\n  renderFormFields,\n  defaultTitle,\n  defaultBody\n}) => {\n  var _a, _b, _c, _d;\n  const classes = useStyles$2();\n  const catalogApi = useApi(catalogApiRef);\n  const catalogInfoApi = useApi(catalogImportApiRef);\n  const [submitted, setSubmitted] = useState(false);\n  const [error, setError] = useState();\n  const {loading: groupsLoading, value: groups} = useAsync(async () => {\n    const groupEntities = await catalogApi.getEntities({\n      filter: {kind: \"group\"}\n    });\n    return groupEntities.items.map((e) => formatEntityRefTitle(e, {defaultKind: \"group\"})).sort();\n  });\n  const handleResult = useCallback(async (data) => {\n    setSubmitted(true);\n    try {\n      const pr = await catalogInfoApi.submitPullRequest({\n        repositoryUrl: analyzeResult.url,\n        title: data.title,\n        body: data.body,\n        fileContent: generateEntities(analyzeResult.generatedEntities, data.componentName, data.owner).map((e) => YAML.stringify(e)).join(\"---\\n\")\n      });\n      onPrepare({\n        type: \"repository\",\n        url: analyzeResult.url,\n        integrationType: analyzeResult.integrationType,\n        pullRequest: {\n          url: pr.link\n        },\n        locations: [\n          {\n            target: pr.location,\n            entities: generateEntities(analyzeResult.generatedEntities, data.componentName, data.owner).map((e) => ({\n              kind: e.kind,\n              namespace: e.metadata.namespace,\n              name: e.metadata.name\n            }))\n          }\n        ]\n      }, {notRepeatable: true});\n    } catch (e) {\n      setError(e.message);\n      setSubmitted(false);\n    }\n  }, [\n    analyzeResult.generatedEntities,\n    analyzeResult.integrationType,\n    analyzeResult.url,\n    catalogInfoApi,\n    onPrepare\n  ]);\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Typography, null, \"You entered a link to a \", analyzeResult.integrationType, \" repository but a\", \" \", /* @__PURE__ */ React.createElement(\"code\", null, \"catalog-info.yaml\"), \" could not be found. Use this form to open a Pull Request that creates one.\"), /* @__PURE__ */ React.createElement(PreparePullRequestForm, {\n    onSubmit: handleResult,\n    defaultValues: {\n      title: defaultTitle,\n      body: defaultBody,\n      owner: ((_b = (_a = analyzeResult.generatedEntities[0]) == null ? void 0 : _a.spec) == null ? void 0 : _b.owner) || \"\",\n      componentName: ((_d = (_c = analyzeResult.generatedEntities[0]) == null ? void 0 : _c.metadata) == null ? void 0 : _d.name) || \"\",\n      useCodeowners: false\n    },\n    render: ({values, errors, control, register}) => /* @__PURE__ */ React.createElement(React.Fragment, null, renderFormFields({\n      values,\n      errors,\n      register,\n      control,\n      groups: groups != null ? groups : [],\n      groupsLoading\n    }), /* @__PURE__ */ React.createElement(Box, {\n      marginTop: 2\n    }, /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"h6\"\n    }, \"Preview Pull Request\")), /* @__PURE__ */ React.createElement(PreviewPullRequestComponent, {\n      title: values.title,\n      description: values.body,\n      classes: {\n        card: classes.previewCard,\n        cardContent: classes.previewCardContent\n      }\n    }), /* @__PURE__ */ React.createElement(Box, {\n      marginTop: 2,\n      marginBottom: 1\n    }, /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"h6\"\n    }, \"Preview Entities\")), /* @__PURE__ */ React.createElement(PreviewCatalogInfoComponent, {\n      entities: generateEntities(analyzeResult.generatedEntities, values.componentName, values.owner),\n      repositoryUrl: analyzeResult.url,\n      classes: {\n        card: classes.previewCard,\n        cardContent: classes.previewCardContent\n      }\n    }), error && /* @__PURE__ */ React.createElement(FormHelperText, {\n      error: true\n    }, error), /* @__PURE__ */ React.createElement(Grid, {\n      container: true,\n      spacing: 0\n    }, onGoBack && /* @__PURE__ */ React.createElement(BackButton, {\n      onClick: onGoBack,\n      disabled: submitted\n    }), /* @__PURE__ */ React.createElement(NextButton, {\n      type: \"submit\",\n      disabled: Boolean(errors.title || errors.body || errors.owner),\n      loading: submitted\n    }, \"Create PR\")))\n  }));\n};\n\nconst StepPrepareSelectLocations = ({\n  analyzeResult,\n  prepareResult,\n  onPrepare,\n  onGoBack\n}) => {\n  const [selectedUrls, setSelectedUrls] = useState((prepareResult == null ? void 0 : prepareResult.locations.map((l) => l.target)) || []);\n  const handleResult = useCallback(async () => {\n    onPrepare({\n      type: \"locations\",\n      locations: analyzeResult.locations.filter((l) => selectedUrls.includes(l.target))\n    });\n  }, [analyzeResult.locations, onPrepare, selectedUrls]);\n  const onItemClick = (url) => {\n    setSelectedUrls((urls) => urls.includes(url) ? urls.filter((u) => u !== url) : urls.concat(url));\n  };\n  const onSelectAll = () => {\n    setSelectedUrls((urls) => urls.length < analyzeResult.locations.length ? analyzeResult.locations.map((l) => l.target) : []);\n  };\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Typography, null, \"Select one or more locations that are present in your git repository:\"), /* @__PURE__ */ React.createElement(EntityListComponent, {\n    firstListItem: /* @__PURE__ */ React.createElement(ListItem, {\n      dense: true,\n      button: true,\n      onClick: onSelectAll\n    }, /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(Checkbox, {\n      edge: \"start\",\n      checked: selectedUrls.length === analyzeResult.locations.length,\n      indeterminate: selectedUrls.length > 0 && selectedUrls.length < analyzeResult.locations.length,\n      tabIndex: -1,\n      disableRipple: true\n    })), /* @__PURE__ */ React.createElement(ListItemText, {\n      primary: \"Select All\"\n    })),\n    onItemClick,\n    locations: analyzeResult.locations,\n    locationListItemIcon: (target) => /* @__PURE__ */ React.createElement(Checkbox, {\n      edge: \"start\",\n      checked: selectedUrls.includes(target),\n      tabIndex: -1,\n      disableRipple: true\n    }),\n    collapsed: true\n  }), /* @__PURE__ */ React.createElement(Grid, {\n    container: true,\n    spacing: 0\n  }, onGoBack && /* @__PURE__ */ React.createElement(BackButton, {\n    onClick: onGoBack\n  }), /* @__PURE__ */ React.createElement(NextButton, {\n    disabled: selectedUrls.length === 0,\n    onClick: handleResult\n  }, \"Review\")));\n};\n\nconst StepReviewLocation = ({\n  prepareResult,\n  onReview,\n  onGoBack\n}) => {\n  const catalogApi = useApi(catalogApiRef);\n  const configApi = useApi(configApiRef);\n  const appTitle = configApi.getOptional(\"app.title\") || \"Backstage\";\n  const [submitted, setSubmitted] = useState(false);\n  const [error, setError] = useState();\n  const handleImport = useCallback(async () => {\n    setSubmitted(true);\n    try {\n      const result = await Promise.all(prepareResult.locations.map((l) => catalogApi.addLocation({\n        type: \"url\",\n        target: l.target,\n        presence: prepareResult.type === \"repository\" ? \"optional\" : \"required\"\n      })));\n      onReview({\n        ...prepareResult,\n        locations: result.map((r) => ({\n          target: r.location.target,\n          entities: r.entities\n        }))\n      });\n    } catch (e) {\n      if (prepareResult.type === \"repository\" && e.message.startsWith(\"Location was added but has no entities specified yet\")) {\n        onReview({\n          ...prepareResult,\n          locations: prepareResult.locations.map((l) => ({\n            target: l.target,\n            entities: []\n          }))\n        });\n      } else {\n        setError(e.message);\n        setSubmitted(false);\n      }\n    }\n  }, [prepareResult, onReview, catalogApi]);\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, prepareResult.type === \"repository\" && /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Typography, {\n    paragraph: true\n  }, \"The following Pull Request has been opened:\", \" \", /* @__PURE__ */ React.createElement(Link, {\n    to: prepareResult.pullRequest.url,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, prepareResult.pullRequest.url)), /* @__PURE__ */ React.createElement(Typography, {\n    paragraph: true\n  }, \"You can already import the location and \", appTitle, \" will fetch the entities as soon as the Pull Request is merged.\")), /* @__PURE__ */ React.createElement(Typography, null, \"The following entities will be added to the catalog:\"), /* @__PURE__ */ React.createElement(EntityListComponent, {\n    locations: prepareResult.locations,\n    locationListItemIcon: () => /* @__PURE__ */ React.createElement(LocationOnIcon, null)\n  }), error && /* @__PURE__ */ React.createElement(FormHelperText, {\n    error: true\n  }, error), /* @__PURE__ */ React.createElement(Grid, {\n    container: true,\n    spacing: 0\n  }, onGoBack && /* @__PURE__ */ React.createElement(BackButton, {\n    onClick: onGoBack,\n    disabled: submitted\n  }), /* @__PURE__ */ React.createElement(NextButton, {\n    disabled: submitted,\n    loading: submitted,\n    onClick: () => handleImport()\n  }, \"Import\")));\n};\n\nfunction defaultPreparePullRequest(apis, {title, body} = {}) {\n  var _a;\n  const appTitle = (_a = apis.configApi.getOptionalString(\"app.title\")) != null ? _a : \"Backstage\";\n  const appBaseUrl = apis.configApi.getString(\"app.baseUrl\");\n  return {\n    title: title != null ? title : \"Add catalog-info.yaml config file\",\n    body: body != null ? body : `This pull request adds a **Backstage entity metadata file** to this repository so that the component can be added to the [${appTitle} software catalog](${appBaseUrl}).\n\nAfter this pull request is merged, the component will become available.\n\nFor more information, read an [overview of the Backstage software catalog](https://backstage.io/docs/features/software-catalog/software-catalog-overview).`\n  };\n}\nfunction defaultGenerateStepper(flow, defaults) {\n  switch (flow) {\n    case \"single-location\":\n      return {\n        ...defaults,\n        prepare: () => ({\n          stepLabel: /* @__PURE__ */ React.createElement(StepLabel, {\n            optional: /* @__PURE__ */ React.createElement(Typography, {\n              variant: \"caption\"\n            }, \"Discovered Locations: 1\")\n          }, \"Select Locations\"),\n          content: /* @__PURE__ */ React.createElement(React.Fragment, null)\n        })\n      };\n    case \"multiple-locations\":\n      return {\n        ...defaults,\n        prepare: (state, opts) => {\n          if (state.analyzeResult.type !== \"locations\") {\n            return defaults.prepare(state, opts);\n          }\n          return {\n            stepLabel: /* @__PURE__ */ React.createElement(StepLabel, {\n              optional: /* @__PURE__ */ React.createElement(Typography, {\n                variant: \"caption\"\n              }, \"Discovered Locations: \", state.analyzeResult.locations.length)\n            }, \"Select Locations\"),\n            content: /* @__PURE__ */ React.createElement(StepPrepareSelectLocations, {\n              analyzeResult: state.analyzeResult,\n              prepareResult: state.prepareResult,\n              onPrepare: state.onPrepare,\n              onGoBack: state.onGoBack\n            })\n          };\n        }\n      };\n    case \"no-location\":\n      return {\n        ...defaults,\n        prepare: (state, opts) => {\n          var _a, _b;\n          if (state.analyzeResult.type !== \"repository\") {\n            return defaults.prepare(state, opts);\n          }\n          const preparePullRequest = (_b = (_a = opts == null ? void 0 : opts.opts) == null ? void 0 : _a.pullRequest) == null ? void 0 : _b.preparePullRequest;\n          const {title, body} = defaultPreparePullRequest(opts.apis, preparePullRequest ? preparePullRequest(opts.apis) : {});\n          return {\n            stepLabel: /* @__PURE__ */ React.createElement(StepLabel, null, \"Create Pull Request\"),\n            content: /* @__PURE__ */ React.createElement(StepPrepareCreatePullRequest, {\n              analyzeResult: state.analyzeResult,\n              onPrepare: state.onPrepare,\n              onGoBack: state.onGoBack,\n              defaultTitle: title,\n              defaultBody: body,\n              renderFormFields: ({\n                values,\n                control,\n                errors,\n                groupsLoading,\n                groups,\n                register\n              }) => /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Box, {\n                marginTop: 2\n              }, /* @__PURE__ */ React.createElement(Typography, {\n                variant: \"h6\"\n              }, \"Pull Request Details\")), /* @__PURE__ */ React.createElement(TextField, {\n                name: \"title\",\n                label: \"Pull Request Title\",\n                placeholder: \"Add Backstage catalog entity descriptor files\",\n                margin: \"normal\",\n                variant: \"outlined\",\n                fullWidth: true,\n                inputRef: register({required: true}),\n                error: Boolean(errors.title),\n                required: true\n              }), /* @__PURE__ */ React.createElement(TextField, {\n                name: \"body\",\n                label: \"Pull Request Body\",\n                placeholder: \"A describing text with Markdown support\",\n                margin: \"normal\",\n                variant: \"outlined\",\n                fullWidth: true,\n                inputRef: register({required: true}),\n                error: Boolean(errors.body),\n                multiline: true,\n                required: true\n              }), /* @__PURE__ */ React.createElement(Box, {\n                marginTop: 2\n              }, /* @__PURE__ */ React.createElement(Typography, {\n                variant: \"h6\"\n              }, \"Entity Configuration\")), /* @__PURE__ */ React.createElement(TextField, {\n                name: \"componentName\",\n                label: \"Name of the created component\",\n                placeholder: \"my-component\",\n                margin: \"normal\",\n                variant: \"outlined\",\n                fullWidth: true,\n                inputRef: register({required: true}),\n                error: Boolean(errors.componentName),\n                required: true\n              }), !values.useCodeowners && /* @__PURE__ */ React.createElement(AutocompleteTextField, {\n                name: \"owner\",\n                control,\n                errors,\n                options: groups || [],\n                loading: groupsLoading,\n                loadingText: \"Loading groups\\u2026\",\n                helperText: \"Select an owner from the list or enter a reference to a Group or a User\",\n                errorHelperText: \"required value\",\n                textFieldProps: {\n                  label: \"Entity Owner\",\n                  placeholder: \"my-group\"\n                },\n                rules: {required: true},\n                required: true\n              }), /* @__PURE__ */ React.createElement(FormControlLabel, {\n                control: /* @__PURE__ */ React.createElement(Checkbox, {\n                  name: \"useCodeowners\",\n                  inputRef: register,\n                  onChange: (_, value) => {\n                    if (value) {\n                      control.setValue(\"owner\", \"\");\n                    }\n                  }\n                }),\n                label: /* @__PURE__ */ React.createElement(React.Fragment, null, \"Use \", /* @__PURE__ */ React.createElement(\"em\", null, \"CODEOWNERS\"), \" file as Entity Owner\")\n              }), /* @__PURE__ */ React.createElement(FormHelperText, null, \"WARNING: This may fail if no CODEOWNERS file is found at the target location.\"))\n            })\n          };\n        }\n      };\n    default:\n      return defaults;\n  }\n}\nconst defaultStepper = {\n  analyze: (state, {opts}) => {\n    var _a;\n    return {\n      stepLabel: /* @__PURE__ */ React.createElement(StepLabel, null, \"Select URL\"),\n      content: /* @__PURE__ */ React.createElement(StepInitAnalyzeUrl, {\n        key: \"analyze\",\n        analysisUrl: state.analysisUrl,\n        onAnalysis: state.onAnalysis,\n        disablePullRequest: (_a = opts == null ? void 0 : opts.pullRequest) == null ? void 0 : _a.disable\n      })\n    };\n  },\n  prepare: (state) => ({\n    stepLabel: /* @__PURE__ */ React.createElement(StepLabel, {\n      optional: /* @__PURE__ */ React.createElement(Typography, {\n        variant: \"caption\"\n      }, \"Optional\")\n    }, \"Import Actions\"),\n    content: /* @__PURE__ */ React.createElement(BackButton, {\n      onClick: state.onGoBack\n    })\n  }),\n  review: (state) => ({\n    stepLabel: /* @__PURE__ */ React.createElement(StepLabel, null, \"Review\"),\n    content: /* @__PURE__ */ React.createElement(StepReviewLocation, {\n      prepareResult: state.prepareResult,\n      onReview: state.onReview,\n      onGoBack: state.onGoBack\n    })\n  }),\n  finish: (state) => ({\n    stepLabel: /* @__PURE__ */ React.createElement(StepLabel, null, \"Finish\"),\n    content: /* @__PURE__ */ React.createElement(StepFinishImportLocation, {\n      reviewResult: state.reviewResult,\n      onReset: state.onReset\n    })\n  })\n};\n\nconst useStyles$3 = makeStyles(() => ({\n  stepperRoot: {\n    padding: 0\n  }\n}));\nconst ImportStepper = ({\n  initialUrl,\n  generateStepper = defaultGenerateStepper,\n  variant,\n  opts\n}) => {\n  const configApi = useApi(configApiRef);\n  const classes = useStyles$3();\n  const state = useImportState({initialUrl});\n  const states = useMemo(() => generateStepper(state.activeFlow, defaultStepper), [generateStepper, state.activeFlow]);\n  const render = (step) => {\n    return /* @__PURE__ */ React.createElement(Step, null, step.stepLabel, /* @__PURE__ */ React.createElement(StepContent, null, step.content));\n  };\n  return /* @__PURE__ */ React.createElement(InfoCard, {\n    variant\n  }, /* @__PURE__ */ React.createElement(Stepper, {\n    classes: {root: classes.stepperRoot},\n    activeStep: state.activeStepNumber,\n    orientation: \"vertical\"\n  }, render(states.analyze(state, {apis: {configApi}, opts})), render(states.prepare(state, {apis: {configApi}, opts})), render(states.review(state, {apis: {configApi}, opts})), render(states.finish(state, {apis: {configApi}, opts}))));\n};\n\nfunction repositories(configApi) {\n  const integrations = configApi.getConfig(\"integrations\");\n  const repos = [];\n  if (integrations.has(\"github\")) {\n    repos.push(\"GitHub\");\n  }\n  if (integrations.has(\"bitbucket\")) {\n    repos.push(\"Bitbucket\");\n  }\n  if (integrations.has(\"gitlab\")) {\n    repos.push(\"GitLab\");\n  }\n  if (integrations.has(\"azure\")) {\n    repos.push(\"Azure\");\n  }\n  return repos;\n}\nconst ImportComponentPage = (opts) => {\n  var _a;\n  const configApi = useApi(configApiRef);\n  const appTitle = configApi.getOptional(\"app.title\") || \"Backstage\";\n  const repos = repositories(configApi);\n  const repositoryString = repos.join(\", \").replace(/, (\\w*)$/, \" or $1\");\n  return /* @__PURE__ */ React.createElement(Page, {\n    themeId: \"home\"\n  }, /* @__PURE__ */ React.createElement(Header, {\n    title: \"Register an existing component\"\n  }), /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(ContentHeader, {\n    title: `Start tracking your component in ${appTitle}`\n  }, /* @__PURE__ */ React.createElement(SupportButton, null, \"Start tracking your component in \", appTitle, \" by adding it to the software catalog.\")), /* @__PURE__ */ React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    direction: \"row-reverse\"\n  }, /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 4,\n    lg: 6,\n    xl: 8\n  }, /* @__PURE__ */ React.createElement(InfoCard, {\n    title: \"Register an existing component\",\n    deepLink: {\n      title: \"Learn more about the Software Catalog\",\n      link: \"https://backstage.io/docs/features/software-catalog/software-catalog-overview\"\n    }\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body2\",\n    paragraph: true\n  }, \"Enter the URL to your SCM repository to add it to \", appTitle, \".\"), /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"h6\"\n  }, \"Link to an existing entity file\"), /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"subtitle2\",\n    color: \"textSecondary\",\n    paragraph: true\n  }, \"Example:\", \" \", /* @__PURE__ */ React.createElement(\"code\", null, \"https://github.com/backstage/backstage/blob/master/catalog-info.yaml\")), /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body2\",\n    paragraph: true\n  }, \"The wizard analyzes the file, previews the entities, and adds them to the \", appTitle, \" catalog.\"), repos.length > 0 && /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"h6\"\n  }, \"Link to a \", repositoryString, \" repository\"), /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"subtitle2\",\n    color: \"textSecondary\",\n    paragraph: true\n  }, \"Example: \", /* @__PURE__ */ React.createElement(\"code\", null, \"https://github.com/backstage/backstage\")), /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body2\",\n    paragraph: true\n  }, \"The wizard discovers all \", /* @__PURE__ */ React.createElement(\"code\", null, \"catalog-info.yaml\"), \" \", \"files in the repository, previews the entities, and adds them to the \", appTitle, \" catalog.\"), !((_a = opts == null ? void 0 : opts.pullRequest) == null ? void 0 : _a.disable) && /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body2\",\n    paragraph: true\n  }, \"If no entities are found, the wizard will prepare a Pull Request that adds an example\", \" \", /* @__PURE__ */ React.createElement(\"code\", null, \"catalog-info.yaml\"), \" and prepares the \", appTitle, \" \", \"catalog to load all entities as soon as the Pull Request is merged.\")))), /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 8,\n    lg: 6,\n    xl: 4\n  }, /* @__PURE__ */ React.createElement(ImportStepper, {\n    opts\n  })))));\n};\n\nconst Router = (opts) => /* @__PURE__ */ React.createElement(Routes, null, /* @__PURE__ */ React.createElement(Route, {\n  element: /* @__PURE__ */ React.createElement(ImportComponentPage, {\n    ...opts\n  })\n}));\n\nvar Router$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  Router: Router\n});\n\nexport { AutocompleteTextField, CatalogImportClient, CatalogImportPage, EntityListComponent, ImportStepper, PreparePullRequestForm, PreviewCatalogInfoComponent, PreviewPullRequestComponent, Router, StepInitAnalyzeUrl, StepPrepareCreatePullRequest, catalogImportApiRef, catalogImportPlugin, defaultGenerateStepper, catalogImportPlugin as plugin };\n//# sourceMappingURL=index.esm.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRules = exports.isJSONType = void 0;\nconst _jsonTypes = [\"string\", \"number\", \"integer\", \"boolean\", \"null\", \"object\", \"array\"];\nconst jsonTypes = new Set(_jsonTypes);\nfunction isJSONType(x) {\n    return typeof x == \"string\" && jsonTypes.has(x);\n}\nexports.isJSONType = isJSONType;\nfunction getRules() {\n    const groups = {\n        number: { type: \"number\", rules: [] },\n        string: { type: \"string\", rules: [] },\n        array: { type: \"array\", rules: [] },\n        object: { type: \"object\", rules: [] },\n    };\n    return {\n        types: { ...groups, integer: true, boolean: true, null: true },\n        rules: [{ rules: [] }, groups.number, groups.string, groups.array, groups.object],\n        post: { rules: [] },\n        all: {},\n        keywords: {},\n    };\n}\nexports.getRules = getRules;\n//# sourceMappingURL=rules.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.shouldUseRule = exports.shouldUseGroup = exports.schemaHasRulesForType = void 0;\nfunction schemaHasRulesForType({ schema, self }, type) {\n    const group = self.RULES.types[type];\n    return group && group !== true && shouldUseGroup(schema, group);\n}\nexports.schemaHasRulesForType = schemaHasRulesForType;\nfunction shouldUseGroup(schema, group) {\n    return group.rules.some((rule) => shouldUseRule(schema, rule));\n}\nexports.shouldUseGroup = shouldUseGroup;\nfunction shouldUseRule(schema, rule) {\n    var _a;\n    return (schema[rule.keyword] !== undefined ||\n        ((_a = rule.definition.implements) === null || _a === void 0 ? void 0 : _a.some((kwd) => schema[kwd] !== undefined)));\n}\nexports.shouldUseRule = shouldUseRule;\n//# sourceMappingURL=applicability.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ValueScope = exports.ValueScopeName = exports.Scope = exports.varKinds = exports.UsedValueState = void 0;\nconst code_1 = require(\"./code\");\nclass ValueError extends Error {\n    constructor(name) {\n        super(`CodeGen: \"code\" for ${name} not defined`);\n        this.value = name.value;\n    }\n}\nvar UsedValueState;\n(function (UsedValueState) {\n    UsedValueState[UsedValueState[\"Started\"] = 0] = \"Started\";\n    UsedValueState[UsedValueState[\"Completed\"] = 1] = \"Completed\";\n})(UsedValueState = exports.UsedValueState || (exports.UsedValueState = {}));\nexports.varKinds = {\n    const: new code_1.Name(\"const\"),\n    let: new code_1.Name(\"let\"),\n    var: new code_1.Name(\"var\"),\n};\nclass Scope {\n    constructor({ prefixes, parent } = {}) {\n        this._names = {};\n        this._prefixes = prefixes;\n        this._parent = parent;\n    }\n    toName(nameOrPrefix) {\n        return nameOrPrefix instanceof code_1.Name ? nameOrPrefix : this.name(nameOrPrefix);\n    }\n    name(prefix) {\n        return new code_1.Name(this._newName(prefix));\n    }\n    _newName(prefix) {\n        const ng = this._names[prefix] || this._nameGroup(prefix);\n        return `${prefix}${ng.index++}`;\n    }\n    _nameGroup(prefix) {\n        var _a, _b;\n        if (((_b = (_a = this._parent) === null || _a === void 0 ? void 0 : _a._prefixes) === null || _b === void 0 ? void 0 : _b.has(prefix)) || (this._prefixes && !this._prefixes.has(prefix))) {\n            throw new Error(`CodeGen: prefix \"${prefix}\" is not allowed in this scope`);\n        }\n        return (this._names[prefix] = { prefix, index: 0 });\n    }\n}\nexports.Scope = Scope;\nclass ValueScopeName extends code_1.Name {\n    constructor(prefix, nameStr) {\n        super(nameStr);\n        this.prefix = prefix;\n    }\n    setValue(value, { property, itemIndex }) {\n        this.value = value;\n        this.scopePath = code_1._ `.${new code_1.Name(property)}[${itemIndex}]`;\n    }\n}\nexports.ValueScopeName = ValueScopeName;\nconst line = code_1._ `\\n`;\nclass ValueScope extends Scope {\n    constructor(opts) {\n        super(opts);\n        this._values = {};\n        this._scope = opts.scope;\n        this.opts = { ...opts, _n: opts.lines ? line : code_1.nil };\n    }\n    get() {\n        return this._scope;\n    }\n    name(prefix) {\n        return new ValueScopeName(prefix, this._newName(prefix));\n    }\n    value(nameOrPrefix, value) {\n        var _a;\n        if (value.ref === undefined)\n            throw new Error(\"CodeGen: ref must be passed in value\");\n        const name = this.toName(nameOrPrefix);\n        const { prefix } = name;\n        const valueKey = (_a = value.key) !== null && _a !== void 0 ? _a : value.ref;\n        let vs = this._values[prefix];\n        if (vs) {\n            const _name = vs.get(valueKey);\n            if (_name)\n                return _name;\n        }\n        else {\n            vs = this._values[prefix] = new Map();\n        }\n        vs.set(valueKey, name);\n        const s = this._scope[prefix] || (this._scope[prefix] = []);\n        const itemIndex = s.length;\n        s[itemIndex] = value.ref;\n        name.setValue(value, { property: prefix, itemIndex });\n        return name;\n    }\n    getValue(prefix, keyOrRef) {\n        const vs = this._values[prefix];\n        if (!vs)\n            return;\n        return vs.get(keyOrRef);\n    }\n    scopeRefs(scopeName, values = this._values) {\n        return this._reduceValues(values, (name) => {\n            if (name.scopePath === undefined)\n                throw new Error(`CodeGen: name \"${name}\" has no value`);\n            return code_1._ `${scopeName}${name.scopePath}`;\n        });\n    }\n    scopeCode(values = this._values, usedValues, getCode) {\n        return this._reduceValues(values, (name) => {\n            if (name.value === undefined)\n                throw new Error(`CodeGen: name \"${name}\" has no value`);\n            return name.value.code;\n        }, usedValues, getCode);\n    }\n    _reduceValues(values, valueCode, usedValues = {}, getCode) {\n        let code = code_1.nil;\n        for (const prefix in values) {\n            const vs = values[prefix];\n            if (!vs)\n                continue;\n            const nameSet = (usedValues[prefix] = usedValues[prefix] || new Map());\n            vs.forEach((name) => {\n                if (nameSet.has(name))\n                    return;\n                nameSet.set(name, UsedValueState.Started);\n                let c = valueCode(name);\n                if (c) {\n                    const def = this.opts.es5 ? exports.varKinds.var : exports.varKinds.const;\n                    code = code_1._ `${code}${def} ${name} = ${c};${this.opts._n}`;\n                }\n                else if ((c = getCode === null || getCode === void 0 ? void 0 : getCode(name))) {\n                    code = code_1._ `${code}${c}${this.opts._n}`;\n                }\n                else {\n                    throw new ValueError(name);\n                }\n                nameSet.set(name, UsedValueState.Completed);\n            });\n        }\n        return code;\n    }\n}\nexports.ValueScope = ValueScope;\n//# sourceMappingURL=scope.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveSchema = exports.getCompilingSchema = exports.resolveRef = exports.compileSchema = exports.SchemaEnv = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst error_classes_1 = require(\"./error_classes\");\nconst names_1 = require(\"./names\");\nconst resolve_1 = require(\"./resolve\");\nconst util_1 = require(\"./util\");\nconst validate_1 = require(\"./validate\");\nconst URI = require(\"uri-js\");\nclass SchemaEnv {\n    constructor(env) {\n        var _a;\n        this.refs = {};\n        this.dynamicAnchors = {};\n        let schema;\n        if (typeof env.schema == \"object\")\n            schema = env.schema;\n        this.schema = env.schema;\n        this.root = env.root || this;\n        this.baseId = (_a = env.baseId) !== null && _a !== void 0 ? _a : resolve_1.normalizeId(schema === null || schema === void 0 ? void 0 : schema.$id);\n        this.localRefs = env.localRefs;\n        this.meta = env.meta;\n        this.$async = schema === null || schema === void 0 ? void 0 : schema.$async;\n        this.refs = {};\n    }\n}\nexports.SchemaEnv = SchemaEnv;\n// let codeSize = 0\n// let nodeCount = 0\n// Compiles schema in SchemaEnv\nfunction compileSchema(sch) {\n    // TODO refactor - remove compilations\n    const _sch = getCompilingSchema.call(this, sch);\n    if (_sch)\n        return _sch;\n    const rootId = resolve_1.getFullPath(sch.root.baseId); // TODO if getFullPath removed 1 tests fails\n    const { es5, lines } = this.opts.code;\n    const { ownProperties } = this.opts;\n    const gen = new codegen_1.CodeGen(this.scope, { es5, lines, ownProperties });\n    let _ValidationError;\n    if (sch.$async) {\n        _ValidationError = gen.scopeValue(\"Error\", {\n            ref: error_classes_1.ValidationError,\n            code: codegen_1._ `require(\"ajv/dist/compile/error_classes\").ValidationError`,\n        });\n    }\n    const validateName = gen.scopeName(\"validate\");\n    sch.validateName = validateName;\n    const schemaCxt = {\n        gen,\n        allErrors: this.opts.allErrors,\n        data: names_1.default.data,\n        parentData: names_1.default.parentData,\n        parentDataProperty: names_1.default.parentDataProperty,\n        dataNames: [names_1.default.data],\n        dataPathArr: [codegen_1.nil],\n        dataLevel: 0,\n        dataTypes: [],\n        definedProperties: new Set(),\n        topSchemaRef: gen.scopeValue(\"schema\", this.opts.code.source === true\n            ? { ref: sch.schema, code: codegen_1.stringify(sch.schema) }\n            : { ref: sch.schema }),\n        validateName,\n        ValidationError: _ValidationError,\n        schema: sch.schema,\n        schemaEnv: sch,\n        rootId,\n        baseId: sch.baseId || rootId,\n        schemaPath: codegen_1.nil,\n        errSchemaPath: this.opts.jtd ? \"\" : \"#\",\n        errorPath: codegen_1._ `\"\"`,\n        opts: this.opts,\n        self: this,\n    };\n    let sourceCode;\n    try {\n        this._compilations.add(sch);\n        validate_1.validateFunctionCode(schemaCxt);\n        gen.optimize(this.opts.code.optimize);\n        // gen.optimize(1)\n        const validateCode = gen.toString();\n        sourceCode = `${gen.scopeRefs(names_1.default.scope)}return ${validateCode}`;\n        // console.log((codeSize += sourceCode.length), (nodeCount += gen.nodeCount))\n        if (this.opts.code.process)\n            sourceCode = this.opts.code.process(sourceCode, sch);\n        // console.log(\"\\n\\n\\n *** \\n\", sourceCode)\n        const makeValidate = new Function(`${names_1.default.self}`, `${names_1.default.scope}`, sourceCode);\n        const validate = makeValidate(this, this.scope.get());\n        this.scope.value(validateName, { ref: validate });\n        validate.errors = null;\n        validate.schema = sch.schema;\n        validate.schemaEnv = sch;\n        if (sch.$async)\n            validate.$async = true;\n        if (this.opts.code.source === true) {\n            validate.source = { validateName, validateCode, scopeValues: gen._values };\n        }\n        if (this.opts.unevaluated) {\n            const { props, items } = schemaCxt;\n            validate.evaluated = {\n                props: props instanceof codegen_1.Name ? undefined : props,\n                items: items instanceof codegen_1.Name ? undefined : items,\n                dynamicProps: props instanceof codegen_1.Name,\n                dynamicItems: items instanceof codegen_1.Name,\n            };\n            if (validate.source)\n                validate.source.evaluated = codegen_1.stringify(validate.evaluated);\n        }\n        sch.validate = validate;\n        return sch;\n    }\n    catch (e) {\n        delete sch.validate;\n        delete sch.validateName;\n        if (sourceCode)\n            this.logger.error(\"Error compiling schema, function code:\", sourceCode);\n        // console.log(\"\\n\\n\\n *** \\n\", sourceCode, this.opts)\n        throw e;\n    }\n    finally {\n        this._compilations.delete(sch);\n    }\n}\nexports.compileSchema = compileSchema;\nfunction resolveRef(root, baseId, ref) {\n    var _a;\n    ref = resolve_1.resolveUrl(baseId, ref);\n    const schOrFunc = root.refs[ref];\n    if (schOrFunc)\n        return schOrFunc;\n    let _sch = resolve.call(this, root, ref);\n    if (_sch === undefined) {\n        const schema = (_a = root.localRefs) === null || _a === void 0 ? void 0 : _a[ref]; // TODO maybe localRefs should hold SchemaEnv\n        if (schema)\n            _sch = new SchemaEnv({ schema, root, baseId });\n    }\n    if (_sch === undefined)\n        return;\n    return (root.refs[ref] = inlineOrCompile.call(this, _sch));\n}\nexports.resolveRef = resolveRef;\nfunction inlineOrCompile(sch) {\n    if (resolve_1.inlineRef(sch.schema, this.opts.inlineRefs))\n        return sch.schema;\n    return sch.validate ? sch : compileSchema.call(this, sch);\n}\n// Index of schema compilation in the currently compiled list\nfunction getCompilingSchema(schEnv) {\n    for (const sch of this._compilations) {\n        if (sameSchemaEnv(sch, schEnv))\n            return sch;\n    }\n}\nexports.getCompilingSchema = getCompilingSchema;\nfunction sameSchemaEnv(s1, s2) {\n    return s1.schema === s2.schema && s1.root === s2.root && s1.baseId === s2.baseId;\n}\n// resolve and compile the references ($ref)\n// TODO returns AnySchemaObject (if the schema can be inlined) or validation function\nfunction resolve(root, // information about the root schema for the current schema\nref // reference to resolve\n) {\n    let sch;\n    while (typeof (sch = this.refs[ref]) == \"string\")\n        ref = sch;\n    return sch || this.schemas[ref] || resolveSchema.call(this, root, ref);\n}\n// Resolve schema, its root and baseId\nfunction resolveSchema(root, // root object with properties schema, refs TODO below SchemaEnv is assigned to it\nref // reference to resolve\n) {\n    const p = URI.parse(ref);\n    const refPath = resolve_1._getFullPath(p);\n    let baseId = resolve_1.getFullPath(root.baseId);\n    // TODO `Object.keys(root.schema).length > 0` should not be needed - but removing breaks 2 tests\n    if (Object.keys(root.schema).length > 0 && refPath === baseId) {\n        return getJsonPointer.call(this, p, root);\n    }\n    const id = resolve_1.normalizeId(refPath);\n    const schOrRef = this.refs[id] || this.schemas[id];\n    if (typeof schOrRef == \"string\") {\n        const sch = resolveSchema.call(this, root, schOrRef);\n        if (typeof (sch === null || sch === void 0 ? void 0 : sch.schema) !== \"object\")\n            return;\n        return getJsonPointer.call(this, p, sch);\n    }\n    if (typeof (schOrRef === null || schOrRef === void 0 ? void 0 : schOrRef.schema) !== \"object\")\n        return;\n    if (!schOrRef.validate)\n        compileSchema.call(this, schOrRef);\n    if (id === resolve_1.normalizeId(ref)) {\n        const { schema } = schOrRef;\n        if (schema.$id)\n            baseId = resolve_1.resolveUrl(baseId, schema.$id);\n        return new SchemaEnv({ schema, root, baseId });\n    }\n    return getJsonPointer.call(this, p, schOrRef);\n}\nexports.resolveSchema = resolveSchema;\nconst PREVENT_SCOPE_CHANGE = new Set([\n    \"properties\",\n    \"patternProperties\",\n    \"enum\",\n    \"dependencies\",\n    \"definitions\",\n]);\nfunction getJsonPointer(parsedRef, { baseId, schema, root }) {\n    var _a;\n    if (((_a = parsedRef.fragment) === null || _a === void 0 ? void 0 : _a[0]) !== \"/\")\n        return;\n    for (const part of parsedRef.fragment.slice(1).split(\"/\")) {\n        if (typeof schema == \"boolean\")\n            return;\n        schema = schema[util_1.unescapeFragment(part)];\n        if (schema === undefined)\n            return;\n        // TODO PREVENT_SCOPE_CHANGE could be defined in keyword def?\n        if (!PREVENT_SCOPE_CHANGE.has(part) && typeof schema == \"object\" && schema.$id) {\n            baseId = resolve_1.resolveUrl(baseId, schema.$id);\n        }\n    }\n    let env;\n    if (typeof schema != \"boolean\" && schema.$ref && !util_1.schemaHasRulesButRef(schema, this.RULES)) {\n        const $ref = resolve_1.resolveUrl(baseId, schema.$ref);\n        env = resolveSchema.call(this, root, $ref);\n    }\n    // even though resolution failed we need to return SchemaEnv to throw exception\n    // so that compileAsync loads missing schema.\n    env = env || new SchemaEnv({ schema, root, baseId });\n    if (env.schema !== env.root.schema)\n        return env;\n    return undefined;\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst names_1 = require(\"../../compile/names\");\nconst subschema_1 = require(\"../../compile/subschema\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"should NOT have additional properties\",\n    params: ({ params }) => codegen_1._ `{additionalProperty: ${params.additionalProperty}}`,\n};\nconst def = {\n    keyword: \"additionalProperties\",\n    type: [\"object\"],\n    schemaType: [\"boolean\", \"object\"],\n    allowUndefined: true,\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, data, errsCount, it } = cxt;\n        /* istanbul ignore if */\n        if (!errsCount)\n            throw new Error(\"ajv implementation error\");\n        const { allErrors, opts } = it;\n        it.props = true;\n        if (opts.removeAdditional !== \"all\" && util_1.alwaysValidSchema(it, schema))\n            return;\n        const props = code_1.allSchemaProperties(parentSchema.properties);\n        const patProps = code_1.allSchemaProperties(parentSchema.patternProperties);\n        checkAdditionalProperties();\n        cxt.ok(codegen_1._ `${errsCount} === ${names_1.default.errors}`);\n        function checkAdditionalProperties() {\n            gen.forIn(\"key\", data, (key) => {\n                if (!props.length && !patProps.length)\n                    additionalPropertyCode(key);\n                else\n                    gen.if(isAdditional(key), () => additionalPropertyCode(key));\n            });\n        }\n        function isAdditional(key) {\n            let definedProp;\n            if (props.length > 8) {\n                // TODO maybe an option instead of hard-coded 8?\n                const propsSchema = util_1.schemaRefOrVal(it, parentSchema.properties, \"properties\");\n                definedProp = code_1.isOwnProperty(gen, propsSchema, key);\n            }\n            else if (props.length) {\n                definedProp = codegen_1.or(...props.map((p) => codegen_1._ `${key} === ${p}`));\n            }\n            else {\n                definedProp = codegen_1.nil;\n            }\n            if (patProps.length) {\n                definedProp = codegen_1.or(definedProp, ...patProps.map((p) => codegen_1._ `${code_1.usePattern(gen, p)}.test(${key})`));\n            }\n            return codegen_1.not(definedProp);\n        }\n        function deleteAdditional(key) {\n            gen.code(codegen_1._ `delete ${data}[${key}]`);\n        }\n        function additionalPropertyCode(key) {\n            if (opts.removeAdditional === \"all\" || (opts.removeAdditional && schema === false)) {\n                deleteAdditional(key);\n                return;\n            }\n            if (schema === false) {\n                cxt.setParams({ additionalProperty: key });\n                cxt.error();\n                if (!allErrors)\n                    gen.break();\n                return;\n            }\n            if (typeof schema == \"object\" && !util_1.alwaysValidSchema(it, schema)) {\n                const valid = gen.name(\"valid\");\n                if (opts.removeAdditional === \"failing\") {\n                    applyAdditionalSchema(key, valid, false);\n                    gen.if(codegen_1.not(valid), () => {\n                        cxt.reset();\n                        deleteAdditional(key);\n                    });\n                }\n                else {\n                    applyAdditionalSchema(key, valid);\n                    if (!allErrors)\n                        gen.if(codegen_1.not(valid), () => gen.break());\n                }\n            }\n        }\n        function applyAdditionalSchema(key, valid, errors) {\n            const subschema = {\n                keyword: \"additionalProperties\",\n                dataProp: key,\n                dataPropType: subschema_1.Type.Str,\n            };\n            if (errors === false) {\n                Object.assign(subschema, {\n                    compositeRule: true,\n                    createErrors: false,\n                    allErrors: false,\n                });\n            }\n            cxt.subschema(subschema, valid);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=additionalProperties.js.map"],"sourceRoot":""}